(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{88036:function(er,eo,ec){"use strict";ec.d(eo,{Lz:function(){return Kh},ET:function(){return pf},Ab:function(){return jf},vr:function(){return Qf},hJ:function(){return _h},oe:function(){return yf},JU:function(){return gh},QT:function(){return af},PL:function(){return df},zN:function(){return _f},ad:function(){return Ph},nP:function(){return zf},LV:function(){return Rh},b9:function(){return kl},cf:function(){return If},Xo:function(){return xl},IO:function(){return Rl},Bt:function(){return Gf},pl:function(){return mf},r7:function(){return gf},ar:function(){return bl},qs:function(){return Wf}});var eh,ep,ef,eg,em,ey,ev,e_=ec(25816),ew=ec(8463),ex=ec(53333),ek=ec(74444),eS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},eC={},eI=eI||{},eE=eS||self;function aa(er){var eo=typeof er;return"array"==(eo="object"!=eo?eo:er?Array.isArray(er)?"array":eo:"null")||"object"==eo&&"number"==typeof er.length}function p(er){var eo=typeof er;return"object"==eo&&null!=er||"function"==eo}function ea(er,eo,ec){return er.call.apply(er.bind,arguments)}function fa(er,eo,ec){if(!er)throw Error();if(2<arguments.length){var eh=Array.prototype.slice.call(arguments,2);return function(){var ec=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ec,eh),er.apply(eo,ec)}}return function(){return er.apply(eo,arguments)}}function q(er,eo,ec){return(q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ea:fa).apply(null,arguments)}function ha(er,eo){var ec=Array.prototype.slice.call(arguments,1);return function(){var eo=ec.slice();return eo.push.apply(eo,arguments),er.apply(this,eo)}}function r(er,eo){function c(){}c.prototype=eo.prototype,er.$=eo.prototype,er.prototype=new c,er.prototype.constructor=er,er.ac=function(er,ec,eh){for(var ep=Array(arguments.length-2),ef=2;ef<arguments.length;ef++)ep[ef-2]=arguments[ef];return eo.prototype[ec].apply(er,ep)}}function v(){this.s=this.s,this.o=this.o}v.prototype.s=!1,v.prototype.sa=function(){this.s||(this.s=!0,this.N())},v.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};let eT=Array.prototype.indexOf?function(er,eo){return Array.prototype.indexOf.call(er,eo,void 0)}:function(er,eo){if("string"==typeof er)return"string"!=typeof eo||1!=eo.length?-1:er.indexOf(eo,0);for(let ec=0;ec<er.length;ec++)if(ec in er&&er[ec]===eo)return ec;return -1};function ma(er){let eo=er.length;if(0<eo){let ec=Array(eo);for(let eh=0;eh<eo;eh++)ec[eh]=er[eh];return ec}return[]}function na(er,eo){for(let eo=1;eo<arguments.length;eo++){let ec=arguments[eo];if(aa(ec)){let eo=er.length||0,eh=ec.length||0;er.length=eo+eh;for(let ep=0;ep<eh;ep++)er[eo+ep]=ec[ep]}else er.push(ec)}}function w(er,eo){this.type=er,this.g=this.target=eo,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var eN=function(){if(!eE.addEventListener||!Object.defineProperty)return!1;var er=!1,eo=Object.defineProperty({},"passive",{get:function(){er=!0}});try{eE.addEventListener("test",()=>{},eo),eE.removeEventListener("test",()=>{},eo)}catch(er){}return er}();function x(er){return/^[\s\xa0]*$/.test(er)}function pa(){var er=eE.navigator;return er&&(er=er.userAgent)?er:""}function y(er){return -1!=pa().indexOf(er)}function qa(er){return qa[" "](er),er}qa[" "]=function(){};var eA=y("Opera"),eO=y("Trident")||y("MSIE"),eP=y("Edge"),eM=eP||eO,eR=y("Gecko")&&!(-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge"))&&!(y("Trident")||y("MSIE"))&&!y("Edge"),eD=-1!=pa().toLowerCase().indexOf("webkit")&&!y("Edge");function ya(){var er=eE.document;return er?er.documentMode:void 0}e:{var ej,eL="",eU=(ej=pa(),eR?/rv:([^\);]+)(\)|;)/.exec(ej):eP?/Edge\/([\d\.]+)/.exec(ej):eO?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ej):eD?/WebKit\/(\S+)/.exec(ej):eA?/(?:Version)[ \/]?(\S+)/.exec(ej):void 0);if(eU&&(eL=eU?eU[1]:""),eO){var eF=ya();if(null!=eF&&eF>parseFloat(eL)){ep=String(eF);break e}}ep=eL}var eV=eE.document&&eO&&(ya()||parseInt(ep,10))||void 0;function A(er,eo){if(w.call(this,er?er.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,er){var ec=this.type=er.type,eh=er.changedTouches&&er.changedTouches.length?er.changedTouches[0]:null;if(this.target=er.target||er.srcElement,this.g=eo,eo=er.relatedTarget){if(eR){e:{try{qa(eo.nodeName);var ep=!0;break e}catch(er){}ep=!1}ep||(eo=null)}}else"mouseover"==ec?eo=er.fromElement:"mouseout"==ec&&(eo=er.toElement);this.relatedTarget=eo,eh?(this.clientX=void 0!==eh.clientX?eh.clientX:eh.pageX,this.clientY=void 0!==eh.clientY?eh.clientY:eh.pageY,this.screenX=eh.screenX||0,this.screenY=eh.screenY||0):(this.clientX=void 0!==er.clientX?er.clientX:er.pageX,this.clientY=void 0!==er.clientY?er.clientY:er.pageY,this.screenX=er.screenX||0,this.screenY=er.screenY||0),this.button=er.button,this.key=er.key||"",this.ctrlKey=er.ctrlKey,this.altKey=er.altKey,this.shiftKey=er.shiftKey,this.metaKey=er.metaKey,this.pointerId=er.pointerId||0,this.pointerType="string"==typeof er.pointerType?er.pointerType:eH[er.pointerType]||"",this.state=er.state,this.i=er,er.defaultPrevented&&A.$.h.call(this)}}r(A,w);var eH={2:"touch",3:"pen",4:"mouse"};A.prototype.h=function(){A.$.h.call(this);var er=this.i;er.preventDefault?er.preventDefault():er.returnValue=!1};var eB="closure_listenable_"+(1e6*Math.random()|0),eq=0;function Ja(er,eo,ec,eh,ep){this.listener=er,this.proxy=null,this.src=eo,this.type=ec,this.capture=!!eh,this.la=ep,this.key=++eq,this.fa=this.ia=!1}function Ka(er){er.fa=!0,er.listener=null,er.proxy=null,er.src=null,er.la=null}function Na(er,eo,ec){for(let eh in er)eo.call(ec,er[eh],eh,er)}function Pa(er){let eo={};for(let ec in er)eo[ec]=er[ec];return eo}let ez="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(er,eo){let ec,eh;for(let eo=1;eo<arguments.length;eo++){for(ec in eh=arguments[eo])er[ec]=eh[ec];for(let eo=0;eo<ez.length;eo++)ec=ez[eo],Object.prototype.hasOwnProperty.call(eh,ec)&&(er[ec]=eh[ec])}}function Sa(er){this.src=er,this.g={},this.h=0}function Ua(er,eo){var ec=eo.type;if(ec in er.g){var eh,ep=er.g[ec],ef=eT(ep,eo);(eh=0<=ef)&&Array.prototype.splice.call(ep,ef,1),eh&&(Ka(eo),0==er.g[ec].length&&(delete er.g[ec],er.h--))}}function Ta(er,eo,ec,eh){for(var ep=0;ep<er.length;++ep){var ef=er[ep];if(!ef.fa&&ef.listener==eo&&!!ec==ef.capture&&ef.la==eh)return ep}return -1}Sa.prototype.add=function(er,eo,ec,eh,ep){var ef=er.toString();(er=this.g[ef])||(er=this.g[ef]=[],this.h++);var eg=Ta(er,eo,eh,ep);return -1<eg?(eo=er[eg],ec||(eo.ia=!1)):((eo=new Ja(eo,this.src,ef,!!eh,ep)).ia=ec,er.push(eo)),eo};var eW="closure_lm_"+(1e6*Math.random()|0),e$={};function ab(er,eo,ec,eh,ep,ef){if(!eo)throw Error("Invalid event type");var eg=p(ep)?!!ep.capture:!!ep,em=bb(er);if(em||(er[eW]=em=new Sa(er)),(ec=em.add(eo,ec,eh,eg,ef)).proxy)return ec;if(eh=function a(er){return eb.call(a.src,a.listener,er)},ec.proxy=eh,eh.src=er,eh.listener=ec,er.addEventListener)eN||(ep=eg),void 0===ep&&(ep=!1),er.addEventListener(eo.toString(),eh,ep);else if(er.attachEvent)er.attachEvent(db(eo.toString()),eh);else if(er.addListener&&er.removeListener)er.addListener(eh);else throw Error("addEventListener and attachEvent are unavailable.");return ec}function gb(er){if("number"!=typeof er&&er&&!er.fa){var eo=er.src;if(eo&&eo[eB])Ua(eo.i,er);else{var ec=er.type,eh=er.proxy;eo.removeEventListener?eo.removeEventListener(ec,eh,er.capture):eo.detachEvent?eo.detachEvent(db(ec),eh):eo.addListener&&eo.removeListener&&eo.removeListener(eh),(ec=bb(eo))?(Ua(ec,er),0==ec.h&&(ec.src=null,eo[eW]=null)):Ka(er)}}}function db(er){return er in e$?e$[er]:e$[er]="on"+er}function eb(er,eo){if(er.fa)er=!0;else{eo=new A(eo,this);var ec=er.listener,eh=er.la||er.src;er.ia&&gb(er),er=ec.call(eh,eo)}return er}function bb(er){return(er=er[eW])instanceof Sa?er:null}var eG="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(er){return"function"==typeof er?er:(er[eG]||(er[eG]=function(eo){return er.handleEvent(eo)}),er[eG])}function B(){v.call(this),this.i=new Sa(this),this.S=this,this.J=null}function C(er,eo){var ec,eh=er.J;if(eh)for(ec=[];eh;eh=eh.J)ec.push(eh);if(er=er.S,eh=eo.type||eo,"string"==typeof eo)eo=new w(eo,er);else if(eo instanceof w)eo.target=eo.target||er;else{var ep=eo;Ra(eo=new w(eh,er),ep)}if(ep=!0,ec)for(var ef=ec.length-1;0<=ef;ef--){var eg=eo.g=ec[ef];ep=ib(eg,eh,!0,eo)&&ep}if(ep=ib(eg=eo.g=er,eh,!0,eo)&&ep,ep=ib(eg,eh,!1,eo)&&ep,ec)for(ef=0;ef<ec.length;ef++)ep=ib(eg=eo.g=ec[ef],eh,!1,eo)&&ep}function ib(er,eo,ec,eh){if(!(eo=er.i.g[String(eo)]))return!0;eo=eo.concat();for(var ep=!0,ef=0;ef<eo.length;++ef){var eg=eo[ef];if(eg&&!eg.fa&&eg.capture==ec){var em=eg.listener,ey=eg.la||eg.src;eg.ia&&Ua(er.i,eg),ep=!1!==em.call(ey,eh)&&ep}}return ep&&!eh.defaultPrevented}r(B,v),B.prototype[eB]=!0,B.prototype.removeEventListener=function(er,eo,ec,eh){!function fb(er,eo,ec,eh,ep){if(Array.isArray(eo))for(var ef=0;ef<eo.length;ef++)fb(er,eo[ef],ec,eh,ep);else(eh=p(eh)?!!eh.capture:!!eh,ec=$a(ec),er&&er[eB])?(er=er.i,(eo=String(eo).toString())in er.g&&-1<(ec=Ta(ef=er.g[eo],ec,eh,ep))&&(Ka(ef[ec]),Array.prototype.splice.call(ef,ec,1),0==ef.length&&(delete er.g[eo],er.h--))):er&&(er=bb(er))&&(eo=er.g[eo.toString()],er=-1,eo&&(er=Ta(eo,ec,eh,ep)),(ec=-1<er?eo[er]:null)&&gb(ec))}(this,er,eo,ec,eh)},B.prototype.N=function(){if(B.$.N.call(this),this.i){var er,eo=this.i;for(er in eo.g){for(var ec=eo.g[er],eh=0;eh<ec.length;eh++)Ka(ec[eh]);delete eo.g[er],eo.h--}}this.J=null},B.prototype.O=function(er,eo,ec,eh){return this.i.add(String(er),eo,!1,ec,eh)},B.prototype.P=function(er,eo,ec,eh){return this.i.add(String(er),eo,!0,ec,eh)};var eK=eE.JSON.stringify,eZ=new class{constructor(er,eo){this.i=er,this.j=eo,this.h=0,this.g=null}get(){let er;return 0<this.h?(this.h--,er=this.g,this.g=er.next,er.next=null):er=this.i(),er}}(()=>new pb,er=>er.reset());let pb=class pb{constructor(){this.next=this.g=this.h=null}set(er,eo){this.h=er,this.g=eo,this.next=null}reset(){this.next=this.g=this.h=null}};let eJ,eQ=!1,eX=new class{constructor(){this.h=this.g=null}add(er,eo){let ec=eZ.get();ec.set(er,eo),this.h?this.h.next=ec:this.g=ec,this.h=ec}},vb=()=>{let er=eE.Promise.resolve(void 0);eJ=()=>{er.then(ub)}};var ub=()=>{let er;for(var eo;er=null,eX.g&&(er=eX.g,eX.g=eX.g.next,eX.g||(eX.h=null),er.next=null),eo=er;){try{eo.h.call(eo.g)}catch(er){!function(er){eE.setTimeout(()=>{throw er},0)}(er)}eZ.j(eo),100>eZ.h&&(eZ.h++,eo.next=eZ.g,eZ.g=eo)}eQ=!1};function wb(er,eo){B.call(this),this.h=er||1,this.g=eo||eE,this.j=q(this.qb,this),this.l=Date.now()}function xb(er){er.ga=!1,er.T&&(er.g.clearTimeout(er.T),er.T=null)}function yb(er,eo,ec){if("function"==typeof er)ec&&(er=q(er,ec));else if(er&&"function"==typeof er.handleEvent)er=q(er.handleEvent,er);else throw Error("Invalid listener argument");return 2147483647<Number(eo)?-1:eE.setTimeout(er,eo||0)}r(wb,B),(ev=wb.prototype).ga=!1,ev.T=null,ev.qb=function(){if(this.ga){var er=Date.now()-this.l;0<er&&er<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-er):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C(this,"tick"),this.ga&&(xb(this),this.start()))}},ev.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ev.N=function(){wb.$.N.call(this),xb(this),delete this.g};let Ab=class Ab extends v{constructor(er,eo){super(),this.m=er,this.j=eo,this.h=null,this.i=!1,this.g=null}l(er){this.h=arguments,this.g?this.i=!0:function zb(er){er.g=yb(()=>{er.g=null,er.i&&(er.i=!1,zb(er))},er.j);let eo=er.h;er.h=null,er.m.apply(null,eo)}(this)}N(){super.N(),this.g&&(eE.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Bb(er){v.call(this),this.h=er,this.g={}}r(Bb,v);var eY=[];function Db(er,eo,ec,eh){Array.isArray(ec)||(ec&&(eY[0]=ec.toString()),ec=eY);for(var ep=0;ep<ec.length;ep++){var ef=function Ya(er,eo,ec,eh,ep){if(eh&&eh.once)return function Za(er,eo,ec,eh,ep){if(Array.isArray(eo)){for(var ef=0;ef<eo.length;ef++)Za(er,eo[ef],ec,eh,ep);return null}return ec=$a(ec),er&&er[eB]?er.P(eo,ec,p(eh)?!!eh.capture:!!eh,ep):ab(er,eo,ec,!0,eh,ep)}(er,eo,ec,eh,ep);if(Array.isArray(eo)){for(var ef=0;ef<eo.length;ef++)Ya(er,eo[ef],ec,eh,ep);return null}return ec=$a(ec),er&&er[eB]?er.O(eo,ec,p(eh)?!!eh.capture:!!eh,ep):ab(er,eo,ec,!1,eh,ep)}(eo,ec[ep],eh||er.handleEvent,!1,er.h||er);if(!ef)break;er.g[ef.key]=ef}}function Fb(er){Na(er.g,function(er,eo){this.g.hasOwnProperty(eo)&&gb(er)},er),er.g={}}function Gb(){this.g=!0}function D(er,eo,ec,eh){er.info(function(){return"XMLHTTP TEXT ("+eo+"): "+function(er,eo){if(!er.g)return eo;if(!eo)return null;try{var ec=JSON.parse(eo);if(ec){for(er=0;er<ec.length;er++)if(Array.isArray(ec[er])){var eh=ec[er];if(!(2>eh.length)){var ep=eh[1];if(Array.isArray(ep)&&!(1>ep.length)){var ef=ep[0];if("noop"!=ef&&"stop"!=ef&&"close"!=ef)for(var eg=1;eg<ep.length;eg++)ep[eg]=""}}}}return eK(ec)}catch(er){return eo}}(er,ec)+(eh?" "+eh:"")})}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)},Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gb.prototype.Ea=function(){this.g=!1},Gb.prototype.info=function(){};var e0={},e1=null;function Mb(){return e1=e1||new B}function Nb(er){w.call(this,e0.Ta,er)}function Ob(er){let eo=Mb();C(eo,new Nb(eo))}function Pb(er,eo){w.call(this,e0.STAT_EVENT,er),this.stat=eo}function F(er){let eo=Mb();C(eo,new Pb(eo,er))}function Qb(er,eo){w.call(this,e0.Ua,er),this.size=eo}function Rb(er,eo){if("function"!=typeof er)throw Error("Fn must not be null and must be a function");return eE.setTimeout(function(){er()},eo)}e0.Ta="serverreachability",r(Nb,w),e0.STAT_EVENT="statevent",r(Pb,w),e0.Ua="timingevent",r(Qb,w);var e2={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},e3={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}function Vb(er){return er.h||(er.h=er.i())}function Wb(){}Ub.prototype.h=null;var e6={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w.call(this,"d")}function Zb(){w.call(this,"c")}function ac(){}function bc(er,eo,ec,eh){this.l=er,this.j=eo,this.m=ec,this.W=eh||1,this.U=new Bb(this),this.P=e4,er=eM?125:void 0,this.V=new wb(er),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}r(Yb,w),r(Zb,w),r(ac,Ub),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},eg=new ac;var e4=45e3,e5={},e9={};function gc(er,eo,ec){er.L=1,er.v=hc(G(eo)),er.s=ec,er.S=!0,ic(er,null)}function ic(er,eo){er.G=Date.now(),jc(er),er.A=G(er.v);var ec=er.A,eh=er.W;Array.isArray(eh)||(eh=[String(eh)]),kc(ec.i,"t",eh),er.C=0,ec=er.l.J,er.h=new dc,er.g=lc(er.l,ec?eo:null,!er.s),0<er.O&&(er.M=new Ab(q(er.Pa,er,er.g),er.O)),Db(er.U,er.g,"readystatechange",er.nb),eo=er.I?Pa(er.I):{},er.s?(er.u||(er.u="POST"),eo["Content-Type"]="application/x-www-form-urlencoded",er.g.ha(er.A,er.u,er.s,eo)):(er.u="GET",er.g.ha(er.A,er.u,null,eo)),Ob(),function(er,eo,ec,eh,ep,ef){er.info(function(){if(er.g){if(ef)for(var eg="",em=ef.split("&"),ey=0;ey<em.length;ey++){var ev=em[ey].split("=");if(1<ev.length){var e_=ev[0];ev=ev[1];var ew=e_.split("_");eg=2<=ew.length&&"type"==ew[1]?eg+(e_+"=")+ev+"&":eg+(e_+"=redacted&")}}else eg=null}else eg=ef;return"XMLHTTP REQ ("+eh+") [attempt "+ep+"]: "+eo+"\n"+ec+"\n"+eg})}(er.j,er.u,er.A,er.m,er.W,er.s)}function oc(er){return!!er.g&&"GET"==er.u&&2!=er.L&&er.l.Ha}function rc(er,eo,ec){let eh=!0,ep;for(;!er.J&&er.C<ec.length;)if((ep=function(er,eo){var ec=er.C,eh=eo.indexOf("\n",ec);return -1==eh?e9:isNaN(ec=Number(eo.substring(ec,eh)))?e5:(eh+=1)+ec>eo.length?e9:(eo=eo.slice(eh,eh+ec),er.C=eh+ec,eo)}(er,ec))==e9){4==eo&&(er.o=4,F(14),eh=!1),D(er.j,er.m,null,"[Incomplete Response]");break}else if(ep==e5){er.o=4,F(15),D(er.j,er.m,ec,"[Invalid Chunk]"),eh=!1;break}else D(er.j,er.m,ep,null),qc(er,ep);oc(er)&&ep!=e9&&ep!=e5&&(er.h.g="",er.C=0),4!=eo||0!=ec.length||er.h.h||(er.o=1,F(16),eh=!1),er.i=er.i&&eh,eh?0<ec.length&&!er.ba&&(er.ba=!0,(eo=er.l).g==er&&eo.ca&&!eo.M&&(eo.l.info("Great, no buffering proxy detected. Bytes received: "+ec.length),vc(eo),eo.M=!0,F(11))):(D(er.j,er.m,ec,"[Invalid Chunked Response]"),I(er),pc(er))}function jc(er){er.Y=Date.now()+er.P,wc(er,er.P)}function wc(er,eo){if(null!=er.B)throw Error("WatchDog timer not null");er.B=Rb(q(er.lb,er),eo)}function nc(er){er.B&&(eE.clearTimeout(er.B),er.B=null)}function pc(er){0==er.l.H||er.J||sc(er.l,er)}function I(er){nc(er);var eo=er.M;eo&&"function"==typeof eo.sa&&eo.sa(),er.M=null,xb(er.V),Fb(er.U),er.g&&(eo=er.g,er.g=null,eo.abort(),eo.sa())}function qc(er,eo){try{var ec=er.l;if(0!=ec.H&&(ec.g==er||xc(ec.i,er))){if(!er.K&&xc(ec.i,er)&&3==ec.H){try{var eh=ec.Ja.g.parse(eo)}catch(er){eh=null}if(Array.isArray(eh)&&3==eh.length){var ep=eh;if(0==ep[0]){e:if(!ec.u){if(ec.g){if(ec.g.G+3e3<er.G)yc(ec),zc(ec);else break e}Ac(ec),F(18)}}else ec.Fa=ep[1],0<ec.Fa-ec.V&&37500>ep[2]&&ec.G&&0==ec.A&&!ec.v&&(ec.v=Rb(q(ec.ib,ec),6e3));if(1>=Bc(ec.i)&&ec.oa){try{ec.oa()}catch(er){}ec.oa=void 0}}else J(ec,11)}else if((er.K||ec.g==er)&&yc(ec),!x(eo))for(ep=ec.Ja.g.parse(eo),eo=0;eo<ep.length;eo++){let em=ep[eo];if(ec.V=em[0],em=em[1],2==ec.H){if("c"==em[0]){ec.K=em[1],ec.pa=em[2];let eo=em[3];null!=eo&&(ec.ra=eo,ec.l.info("VER="+ec.ra));let ep=em[4];null!=ep&&(ec.Ga=ep,ec.l.info("SVER="+ec.Ga));let ey=em[5];null!=ey&&"number"==typeof ey&&0<ey&&(eh=1.5*ey,ec.L=eh,ec.l.info("backChannelRequestTimeoutMs_="+eh)),eh=ec;let ev=er.g;if(ev){let er=ev.g?ev.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(er){var ef=eh.i;ef.g||-1==er.indexOf("spdy")&&-1==er.indexOf("quic")&&-1==er.indexOf("h2")||(ef.j=ef.l,ef.g=new Set,ef.h&&(Cc(ef,ef.h),ef.h=null))}if(eh.F){let er=ev.g?ev.g.getResponseHeader("X-HTTP-Session-Id"):null;er&&(eh.Da=er,K(eh.I,eh.F,er))}}if(ec.H=3,ec.h&&ec.h.Ba(),ec.ca&&(ec.S=Date.now()-er.G,ec.l.info("Handshake RTT: "+ec.S+"ms")),(eh=ec).wa=Dc(eh,eh.J?eh.pa:null,eh.Y),er.K){Ec(eh.i,er);var eg=eh.L;eg&&er.setTimeout(eg),er.B&&(nc(er),jc(er)),eh.g=er}else Fc(eh);0<ec.j.length&&Gc(ec)}else"stop"!=em[0]&&"close"!=em[0]||J(ec,7)}else 3==ec.H&&("stop"==em[0]||"close"==em[0]?"stop"==em[0]?J(ec,7):Hc(ec):"noop"!=em[0]&&ec.h&&ec.h.Aa(em),ec.A=0)}}Ob(4)}catch(er){}}function Kc(er,eo){if(er.forEach&&"function"==typeof er.forEach)er.forEach(eo,void 0);else if(aa(er)||"string"==typeof er)Array.prototype.forEach.call(er,eo,void 0);else for(var ec=function(er){if(er.ta&&"function"==typeof er.ta)return er.ta();if(!er.Z||"function"!=typeof er.Z){if("undefined"!=typeof Map&&er instanceof Map)return Array.from(er.keys());if(!("undefined"!=typeof Set&&er instanceof Set)){if(aa(er)||"string"==typeof er){var eo=[];er=er.length;for(var ec=0;ec<er;ec++)eo.push(ec);return eo}for(let eh in eo=[],ec=0,er)eo[ec++]=eh;return eo}}}(er),eh=function(er){if(er.Z&&"function"==typeof er.Z)return er.Z();if("undefined"!=typeof Map&&er instanceof Map||"undefined"!=typeof Set&&er instanceof Set)return Array.from(er.values());if("string"==typeof er)return er.split("");if(aa(er)){for(var eo=[],ec=er.length,eh=0;eh<ec;eh++)eo.push(er[eh]);return eo}for(eh in eo=[],ec=0,er)eo[ec++]=er[eh];return eo}(er),ep=eh.length,ef=0;ef<ep;ef++)eo.call(void 0,eh[ef],ec&&ec[ef],er)}(ev=bc.prototype).setTimeout=function(er){this.P=er},ev.nb=function(er){er=er.target;let eo=this.M;eo&&3==H(er)?eo.l():this.Pa(er)},ev.Pa=function(er){try{if(er==this.g)e:{let e_=H(this.g);var eo=this.g.Ia();let ew=this.g.da();if(!(3>e_)&&(3!=e_||eM||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||4!=e_||7==eo||(8==eo||0>=ew?Ob(3):Ob(2)),nc(this);var ec=this.g.da();this.ca=ec;t:if(oc(this)){var eh=mc(this.g);er="";var ep=eh.length,ef=4==H(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){I(this),pc(this);var eg="";break t}this.h.i=new eE.TextDecoder}for(eo=0;eo<ep;eo++)this.h.h=!0,er+=this.h.i.decode(eh[eo],{stream:ef&&eo==ep-1});eh.splice(0,ep),this.h.g+=er,this.C=0,eg=this.h.g}else eg=this.g.ja();if(this.i=200==ec,function(er,eo,ec,eh,ep,ef,eg){er.info(function(){return"XMLHTTP RESP ("+eh+") [ attempt "+ep+"]: "+eo+"\n"+ec+"\n"+ef+" "+eg})}(this.j,this.u,this.A,this.m,this.W,e_,ec),this.i){if(this.aa&&!this.K){t:{if(this.g){var em,ey=this.g;if((em=ey.g?ey.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(em)){var ev=em;break t}}ev=null}if(ec=ev)D(this.j,this.m,ec,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,ec);else{this.i=!1,this.o=3,F(12),I(this),pc(this);break e}}this.S?(rc(this,e_,eg),eM&&this.i&&3==e_&&(Db(this.U,this.V,"tick",this.mb),this.V.start())):(D(this.j,this.m,eg,null),qc(this,eg)),4==e_&&I(this),this.i&&!this.J&&(4==e_?sc(this.l,this):(this.i=!1,jc(this)))}else(function(er){let eo={};er=(er.g&&2<=H(er)&&er.g.getAllResponseHeaders()||"").split("\r\n");for(let eh=0;eh<er.length;eh++){if(x(er[eh]))continue;var ec=function(er){var eo=1;er=er.split(":");let ec=[];for(;0<eo&&er.length;)ec.push(er.shift()),eo--;return er.length&&ec.push(er.join(":")),ec}(er[eh]);let ep=ec[0];if("string"!=typeof(ec=ec[1]))continue;ec=ec.trim();let ef=eo[ep]||[];eo[ep]=ef,ef.push(ec)}!function(er,eo){for(let ec in er)eo.call(void 0,er[ec],ec,er)}(eo,function(er){return er.join(", ")})})(this.g),400==ec&&0<eg.indexOf("Unknown SID")?(this.o=3,F(12)):(this.o=0,F(13)),I(this),pc(this)}}}catch(er){}finally{}},ev.mb=function(){if(this.g){var er=H(this.g),eo=this.g.ja();this.C<eo.length&&(nc(this),rc(this,er,eo),this.i&&4!=er&&jc(this))}},ev.cancel=function(){this.J=!0,I(this)},ev.lb=function(){this.B=null;let er=Date.now();0<=er-this.Y?(function(er,eo){er.info(function(){return"TIMEOUT: "+eo})}(this.j,this.A),2!=this.L&&(Ob(),F(17)),I(this),this.o=2,pc(this)):wc(this,this.Y-er)};var e7=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M(er){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,er instanceof M){this.h=er.h,Nc(this,er.j),this.s=er.s,this.g=er.g,Oc(this,er.m),this.l=er.l;var eo=er.i,ec=new Pc;ec.i=eo.i,eo.g&&(ec.g=new Map(eo.g),ec.h=eo.h),Qc(this,ec),this.o=er.o}else er&&(eo=String(er).match(e7))?(this.h=!1,Nc(this,eo[1]||"",!0),this.s=Rc(eo[2]||""),this.g=Rc(eo[3]||"",!0),Oc(this,eo[4]),this.l=Rc(eo[5]||"",!0),Qc(this,eo[6]||"",!0),this.o=Rc(eo[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}function G(er){return new M(er)}function Nc(er,eo,ec){er.j=ec?Rc(eo,!0):eo,er.j&&(er.j=er.j.replace(/:$/,""))}function Oc(er,eo){if(eo){if(isNaN(eo=Number(eo))||0>eo)throw Error("Bad port number "+eo);er.m=eo}else er.m=null}function Qc(er,eo,ec){var eh,ep;eo instanceof Pc?(er.i=eo,eh=er.i,(ep=er.h)&&!eh.j&&(N(eh),eh.i=null,eh.g.forEach(function(er,eo){var ec=eo.toLowerCase();eo!=ec&&($c(this,eo),kc(this,ec,er))},eh)),eh.j=ep):(ec||(eo=Sc(eo,ta)),er.i=new Pc(eo,er.h))}function K(er,eo,ec){er.i.set(eo,ec)}function hc(er){return K(er,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),er}function Rc(er,eo){return er?eo?decodeURI(er.replace(/%25/g,"%2525")):decodeURIComponent(er):""}function Sc(er,eo,ec){return"string"==typeof er?(er=encodeURI(er).replace(eo,Zc),ec&&(er=er.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),er):null}function Zc(er){return"%"+((er=er.charCodeAt(0))>>4&15).toString(16)+(15&er).toString(16)}M.prototype.toString=function(){var er=[],eo=this.j;eo&&er.push(Sc(eo,e8,!0),":");var ec=this.g;return(ec||"file"==eo)&&(er.push("//"),(eo=this.s)&&er.push(Sc(eo,e8,!0),"@"),er.push(encodeURIComponent(String(ec)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(ec=this.m)&&er.push(":",String(ec))),(ec=this.l)&&(this.g&&"/"!=ec.charAt(0)&&er.push("/"),er.push(Sc(ec,"/"==ec.charAt(0)?to:tr,!0))),(ec=this.i.toString())&&er.push("?",ec),(ec=this.o)&&er.push("#",Sc(ec,tc)),er.join("")};var e8=/[#\/\?@]/g,tr=/[#\?:]/g,to=/[#\?]/g,ta=/[#\?@]/g,tc=/#/g;function Pc(er,eo){this.h=this.g=null,this.i=er||null,this.j=!!eo}function N(er){er.g||(er.g=new Map,er.h=0,er.i&&function(er,eo){if(er){er=er.split("&");for(var ec=0;ec<er.length;ec++){var eh=er[ec].indexOf("="),ep=null;if(0<=eh){var ef=er[ec].substring(0,eh);ep=er[ec].substring(eh+1)}else ef=er[ec];eo(ef,ep?decodeURIComponent(ep.replace(/\+/g," ")):"")}}}(er.i,function(eo,ec){er.add(decodeURIComponent(eo.replace(/\+/g," ")),ec)}))}function $c(er,eo){N(er),eo=O(er,eo),er.g.has(eo)&&(er.i=null,er.h-=er.g.get(eo).length,er.g.delete(eo))}function ad(er,eo){return N(er),eo=O(er,eo),er.g.has(eo)}function kc(er,eo,ec){$c(er,eo),0<ec.length&&(er.i=null,er.g.set(O(er,eo),ma(ec)),er.h+=ec.length)}function O(er,eo){return eo=String(eo),er.j&&(eo=eo.toLowerCase()),eo}(ev=Pc.prototype).add=function(er,eo){N(this),this.i=null,er=O(this,er);var ec=this.g.get(er);return ec||this.g.set(er,ec=[]),ec.push(eo),this.h+=1,this},ev.forEach=function(er,eo){N(this),this.g.forEach(function(ec,eh){ec.forEach(function(ec){er.call(eo,ec,eh,this)},this)},this)},ev.ta=function(){N(this);let er=Array.from(this.g.values()),eo=Array.from(this.g.keys()),ec=[];for(let eh=0;eh<eo.length;eh++){let ep=er[eh];for(let er=0;er<ep.length;er++)ec.push(eo[eh])}return ec},ev.Z=function(er){N(this);let eo=[];if("string"==typeof er)ad(this,er)&&(eo=eo.concat(this.g.get(O(this,er))));else{er=Array.from(this.g.values());for(let ec=0;ec<er.length;ec++)eo=eo.concat(er[ec])}return eo},ev.set=function(er,eo){return N(this),this.i=null,ad(this,er=O(this,er))&&(this.h-=this.g.get(er).length),this.g.set(er,[eo]),this.h+=1,this},ev.get=function(er,eo){return er&&0<(er=this.Z(er)).length?String(er[0]):eo},ev.toString=function(){if(this.i)return this.i;if(!this.g)return"";let er=[],eo=Array.from(this.g.keys());for(var ec=0;ec<eo.length;ec++){var eh=eo[ec];let ef=encodeURIComponent(String(eh)),eg=this.Z(eh);for(eh=0;eh<eg.length;eh++){var ep=ef;""!==eg[eh]&&(ep+="="+encodeURIComponent(String(eg[eh]))),er.push(ep)}}return this.i=er.join("&")};var td=class{constructor(er,eo){this.g=er,this.map=eo}};function cd(er){this.l=er||tp,er=eE.PerformanceNavigationTiming?0<(er=eE.performance.getEntriesByType("navigation")).length&&("hq"==er[0].nextHopProtocol||"h2"==er[0].nextHopProtocol):!!(eE.g&&eE.g.Ka&&eE.g.Ka()&&eE.g.Ka().ec),this.j=er?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tp=10;function ed(er){return!!er.h||!!er.g&&er.g.size>=er.j}function Bc(er){return er.h?1:er.g?er.g.size:0}function xc(er,eo){return er.h?er.h==eo:!!er.g&&er.g.has(eo)}function Cc(er,eo){er.g?er.g.add(eo):er.h=eo}function Ec(er,eo){er.h&&er.h==eo?er.h=null:er.g&&er.g.has(eo)&&er.g.delete(eo)}function fd(er){if(null!=er.h)return er.i.concat(er.h.F);if(null!=er.g&&0!==er.g.size){let eo=er.i;for(let ec of er.g.values())eo=eo.concat(ec.F);return eo}return ma(er.i)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let er of this.g.values())er.cancel();this.g.clear()}};var tf=class{stringify(er){return eE.JSON.stringify(er,void 0)}parse(er){return eE.JSON.parse(er,void 0)}};function hd(){this.g=new tf}function kd(er,eo,ec,eh,ep){try{eo.onload=null,eo.onerror=null,eo.onabort=null,eo.ontimeout=null,ep(eh)}catch(er){}}function ld(er){this.l=er.fc||null,this.j=er.ob||!1}function md(er,eo){B.call(this),this.F=er,this.u=eo,this.m=void 0,this.readyState=tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r(ld,Ub),ld.prototype.g=function(){return new md(this.l,this.j)},ld.prototype.i=(eh={},function(){return eh}),r(md,B);var tg=0;function qd(er){er.j.read().then(er.Xa.bind(er)).catch(er.ka.bind(er))}function pd(er){er.readyState=4,er.l=null,er.j=null,er.A=null,od(er)}function od(er){er.onreadystatechange&&er.onreadystatechange.call(er)}(ev=md.prototype).open=function(er,eo){if(this.readyState!=tg)throw this.abort(),Error("Error reopening a connection");this.C=er,this.B=eo,this.readyState=1,od(this)},ev.send=function(er){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let eo={headers:this.v,method:this.C,credentials:this.m,cache:void 0};er&&(eo.body=er),(this.F||eE).fetch(new Request(this.B,eo)).then(this.$a.bind(this),this.ka.bind(this))},ev.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pd(this)),this.readyState=tg},ev.$a=function(er){if(this.g&&(this.l=er,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=er.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g))){if("arraybuffer"===this.responseType)er.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==eE.ReadableStream&&"body"in er){if(this.j=er.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else er.text().then(this.Za.bind(this),this.ka.bind(this))}},ev.Xa=function(er){if(this.g){if(this.u&&er.value)this.response.push(er.value);else if(!this.u){var eo=er.value?er.value:new Uint8Array(0);(eo=this.A.decode(eo,{stream:!er.done}))&&(this.response=this.responseText+=eo)}er.done?pd(this):od(this),3==this.readyState&&qd(this)}},ev.Za=function(er){this.g&&(this.response=this.responseText=er,pd(this))},ev.Ya=function(er){this.g&&(this.response=er,pd(this))},ev.ka=function(){this.g&&pd(this)},ev.setRequestHeader=function(er,eo){this.v.append(er,eo)},ev.getResponseHeader=function(er){return this.h&&this.h.get(er.toLowerCase())||""},ev.getAllResponseHeaders=function(){if(!this.h)return"";let er=[],eo=this.h.entries();for(var ec=eo.next();!ec.done;)er.push((ec=ec.value)[0]+": "+ec[1]),ec=eo.next();return er.join("\r\n")},Object.defineProperty(md.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(er){this.m=er?"include":"same-origin"}});var tm=eE.JSON.parse;function P(er){B.call(this),this.headers=new Map,this.u=er||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ty,this.L=this.M=!1}r(P,B);var ty="",tv=/^https?$/i,t_=["POST","PUT"];function vd(er,eo){er.h=!1,er.g&&(er.l=!0,er.g.abort(),er.l=!1),er.j=eo,er.m=5,yd(er),zd(er)}function yd(er){er.F||(er.F=!0,C(er,"complete"),C(er,"error"))}function Ad(er){if(er.h&&void 0!==eI&&(!er.C[1]||4!=H(er)||2!=er.da())){if(er.v&&4==H(er))yb(er.La,0,er);else if(C(er,"readystatechange"),4==H(er)){er.h=!1;try{let eg=er.da();switch(eg){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var eo,ec,eh=!0;break;default:eh=!1}if(!(eo=eh)){if(ec=0===eg){var ep=String(er.I).match(e7)[1]||null;!ep&&eE.self&&eE.self.location&&(ep=eE.self.location.protocol.slice(0,-1)),ec=!tv.test(ep?ep.toLowerCase():"")}eo=ec}if(eo)C(er,"complete"),C(er,"success");else{er.m=6;try{var ef=2<H(er)?er.g.statusText:""}catch(er){ef=""}er.j=ef+" ["+er.da()+"]",yd(er)}}finally{zd(er)}}}}function zd(er,eo){if(er.g){wd(er);let ec=er.g,eh=er.C[0]?()=>{}:null;er.g=null,er.C=null,eo||C(er,"ready");try{ec.onreadystatechange=eh}catch(er){}}}function wd(er){er.g&&er.L&&(er.g.ontimeout=null),er.A&&(eE.clearTimeout(er.A),er.A=null)}function H(er){return er.g?er.g.readyState:0}function mc(er){try{if(!er.g)return null;if("response"in er.g)return er.g.response;switch(er.K){case ty:case"text":return er.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in er.g)return er.g.mozResponseArrayBuffer}return null}catch(er){return null}}function Bd(er){let eo="";return Na(er,function(er,ec){eo+=ec+":"+er+"\r\n"}),eo}function Cd(er,eo,ec){e:{for(eh in ec){var eh=!1;break e}eh=!0}eh||(ec=Bd(ec),"string"==typeof er?null!=ec&&encodeURIComponent(String(ec)):K(er,eo,ec))}function Dd(er,eo,ec){return ec&&ec.internalChannelParams&&ec.internalChannelParams[er]||eo}function Ed(er){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,er),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,er),this.hb=Dd("retryDelaySeedMs",1e4,er),this.eb=Dd("forwardChannelMaxRetries",2,er),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,er),this.va=er&&er.xmlHttpFactory||void 0,this.Ha=er&&er.dc||!1,this.L=void 0,this.J=er&&er.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(er&&er.concurrentRequestLimit),this.Ja=new hd,this.P=er&&er.fastHandshake||!1,this.O=er&&er.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=er&&er.bc||!1,er&&er.Ea&&this.l.Ea(),er&&er.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&er&&er.detectBufferingProxy||!1,this.qa=void 0,er&&er.longPollingTimeout&&0<er.longPollingTimeout&&(this.qa=er.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hc(er){if(Fd(er),3==er.H){var eo=er.W++,ec=G(er.I);if(K(ec,"SID",er.K),K(ec,"RID",eo),K(ec,"TYPE","terminate"),Gd(er,ec),(eo=new bc(er,er.l,eo)).L=2,eo.v=hc(G(ec)),ec=!1,eE.navigator&&eE.navigator.sendBeacon)try{ec=eE.navigator.sendBeacon(eo.v.toString(),"")}catch(er){}!ec&&eE.Image&&((new Image).src=eo.v,ec=!0),ec||(eo.g=lc(eo.l,null),eo.g.ha(eo.v)),eo.G=Date.now(),jc(eo)}Hd(er)}function zc(er){er.g&&(vc(er),er.g.cancel(),er.g=null)}function Fd(er){zc(er),er.u&&(eE.clearTimeout(er.u),er.u=null),yc(er),er.i.cancel(),er.m&&("number"==typeof er.m&&eE.clearTimeout(er.m),er.m=null)}function Gc(er){if(!ed(er.i)&&!er.m){er.m=!0;var eo=er.Na;eJ||vb(),eQ||(eJ(),eQ=!0),eX.add(eo,er),er.C=0}}function Ld(er,eo){var ec;ec=eo?eo.m:er.W++;let eh=G(er.I);K(eh,"SID",er.K),K(eh,"RID",ec),K(eh,"AID",er.V),Gd(er,eh),er.o&&er.s&&Cd(eh,er.o,er.s),ec=new bc(er,er.l,ec,er.C+1),null===er.o&&(ec.I=er.s),eo&&(er.j=eo.F.concat(er.j)),eo=Kd(er,ec,1e3),ec.setTimeout(Math.round(.5*er.xa)+Math.round(.5*er.xa*Math.random())),Cc(er.i,ec),gc(ec,eh,eo)}function Gd(er,eo){er.na&&Na(er.na,function(er,ec){K(eo,ec,er)}),er.h&&Kc({},function(er,ec){K(eo,ec,er)})}function Kd(er,eo,ec){ec=Math.min(er.j.length,ec);var eh=er.h?q(er.h.Va,er.h,er):null;e:{var ep=er.j;let eo=-1;for(;;){let er=["count="+ec];-1==eo?0<ec?(eo=ep[0].g,er.push("ofs="+eo)):eo=0:er.push("ofs="+eo);let ef=!0;for(let eg=0;eg<ec;eg++){let ec=ep[eg].g,em=ep[eg].map;if(0>(ec-=eo))eo=Math.max(0,ep[eg].g-100),ef=!1;else try{!function(er,eo,ec){let eh=ec||"";try{Kc(er,function(er,ec){let ep=er;p(er)&&(ep=eK(er)),eo.push(eh+ec+"="+encodeURIComponent(ep))})}catch(er){throw eo.push(eh+"type="+encodeURIComponent("_badmap")),er}}(em,er,"req"+ec+"_")}catch(er){eh&&eh(em)}}if(ef){eh=er.join("&");break e}}}return er=er.j.splice(0,ec),eo.F=er,eh}function Fc(er){if(!er.g&&!er.u){er.ba=1;var eo=er.Ma;eJ||vb(),eQ||(eJ(),eQ=!0),eX.add(eo,er),er.A=0}}function Ac(er){return!er.g&&!er.u&&!(3<=er.A)&&(er.ba++,er.u=Rb(q(er.Ma,er),Jd(er,er.A)),er.A++,!0)}function vc(er){null!=er.B&&(eE.clearTimeout(er.B),er.B=null)}function Md(er){er.g=new bc(er,er.l,"rpc",er.ba),null===er.o&&(er.g.I=er.s),er.g.O=0;var eo=G(er.wa);K(eo,"RID","rpc"),K(eo,"SID",er.K),K(eo,"AID",er.V),K(eo,"CI",er.G?"0":"1"),!er.G&&er.qa&&K(eo,"TO",er.qa),K(eo,"TYPE","xmlhttp"),Gd(er,eo),er.o&&er.s&&Cd(eo,er.o,er.s),er.L&&er.g.setTimeout(er.L);var ec=er.g;er=er.pa,ec.L=1,ec.v=hc(G(eo)),ec.s=null,ec.S=!0,ic(ec,er)}function yc(er){null!=er.v&&(eE.clearTimeout(er.v),er.v=null)}function sc(er,eo){var ec=null;if(er.g==eo){yc(er),vc(er),er.g=null;var eh=2}else{if(!xc(er.i,eo))return;ec=eo.F,Ec(er.i,eo),eh=1}if(0!=er.H){if(eo.i){if(1==eh){ec=eo.s?eo.s.length:0,eo=Date.now()-eo.G;var ep,ef=er.C;C(eh=Mb(),new Qb(eh,ec)),Gc(er)}else Fc(er)}else if(3==(ef=eo.o)||0==ef&&0<eo.ca||!(1==eh&&(ep=eo,!(Bc(er.i)>=er.i.j-(er.m?1:0))&&(er.m?(er.j=ep.F.concat(er.j),!0):1!=er.H&&2!=er.H&&!(er.C>=(er.cb?0:er.eb))&&(er.m=Rb(q(er.Na,er,ep),Jd(er,er.C)),er.C++,!0)))||2==eh&&Ac(er)))switch(ec&&0<ec.length&&((eo=er.i).i=eo.i.concat(ec)),ef){case 1:J(er,5);break;case 4:J(er,10);break;case 3:J(er,6);break;default:J(er,2)}}}function Jd(er,eo){let ec=er.ab+Math.floor(Math.random()*er.hb);return er.isActive()||(ec*=2),ec*eo}function J(er,eo){if(er.l.info("Error code "+eo),2==eo){var ec=null;er.h&&(ec=null);var eh=q(er.pb,er);ec||(ec=new M("//www.google.com/images/cleardot.gif"),eE.location&&"http"==eE.location.protocol||Nc(ec,"https"),hc(ec)),function(er,eo){let ec=new Gb;if(eE.Image){let eh=new Image;eh.onload=ha(kd,ec,eh,"TestLoadImage: loaded",!0,eo),eh.onerror=ha(kd,ec,eh,"TestLoadImage: error",!1,eo),eh.onabort=ha(kd,ec,eh,"TestLoadImage: abort",!1,eo),eh.ontimeout=ha(kd,ec,eh,"TestLoadImage: timeout",!1,eo),eE.setTimeout(function(){eh.ontimeout&&eh.ontimeout()},1e4),eh.src=er}else eo(!1)}(ec.toString(),eh)}else F(2);er.H=0,er.h&&er.h.za(eo),Hd(er),Fd(er)}function Hd(er){if(er.H=0,er.ma=[],er.h){let eo=fd(er.i);(0!=eo.length||0!=er.j.length)&&(na(er.ma,eo),na(er.ma,er.j),er.i.i.length=0,ma(er.j),er.j.length=0),er.h.ya()}}function Dc(er,eo,ec){var eh=ec instanceof M?G(ec):new M(ec);if(""!=eh.g)eo&&(eh.g=eo+"."+eh.g),Oc(eh,eh.m);else{var ep=eE.location;eh=ep.protocol,eo=eo?eo+"."+ep.hostname:ep.hostname,ep=+ep.port;var ef=new M(null);eh&&Nc(ef,eh),eo&&(ef.g=eo),ep&&Oc(ef,ep),ec&&(ef.l=ec),eh=ef}return ec=er.F,eo=er.Da,ec&&eo&&K(eh,ec,eo),K(eh,"VER",er.ra),Gd(er,eh),eh}function lc(er,eo,ec){if(eo&&!er.J)throw Error("Can't create secondary domain capable XhrIo object.");return(eo=new P(ec&&er.Ha&&!er.va?new ld({ob:!0}):er.va)).Oa(er.J),eo}function Nd(){}function Od(){if(eO&&!(10<=Number(eV)))throw Error("Environmental error: no available transport.")}function Q(er,eo){B.call(this),this.g=new Ed(eo),this.l=er,this.h=eo&&eo.messageUrlParams||null,er=eo&&eo.messageHeaders||null,eo&&eo.clientProtocolHeaderRequired&&(er?er["X-Client-Protocol"]="webchannel":er={"X-Client-Protocol":"webchannel"}),this.g.s=er,er=eo&&eo.initMessageHeaders||null,eo&&eo.messageContentType&&(er?er["X-WebChannel-Content-Type"]=eo.messageContentType:er={"X-WebChannel-Content-Type":eo.messageContentType}),eo&&eo.Ca&&(er?er["X-WebChannel-Client-Profile"]=eo.Ca:er={"X-WebChannel-Client-Profile":eo.Ca}),this.g.U=er,(er=eo&&eo.cc)&&!x(er)&&(this.g.o=er),this.A=eo&&eo.supportsCrossDomainXhr||!1,this.v=eo&&eo.sendRawJson||!1,(eo=eo&&eo.httpSessionIdParam)&&!x(eo)&&(this.g.F=eo,null!==(er=this.h)&&eo in er&&eo in(er=this.h)&&delete er[eo]),this.j=new R(this)}function Pd(er){Yb.call(this),er.__headers__&&(this.headers=er.__headers__,this.statusCode=er.__status__,delete er.__headers__,delete er.__status__);var eo=er.__sm__;if(eo){e:{for(let ec in eo){er=ec;break e}er=void 0}(this.i=er)&&(er=this.i,eo=null!==eo&&er in eo?eo[er]:void 0),this.data=eo}else this.data=er}function Qd(){Zb.call(this),this.status=1}function R(er){this.g=er}function S(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Sd(er,eo,ec){ec||(ec=0);var eh=Array(16);if("string"==typeof eo)for(var ep=0;16>ep;++ep)eh[ep]=eo.charCodeAt(ec++)|eo.charCodeAt(ec++)<<8|eo.charCodeAt(ec++)<<16|eo.charCodeAt(ec++)<<24;else for(ep=0;16>ep;++ep)eh[ep]=eo[ec++]|eo[ec++]<<8|eo[ec++]<<16|eo[ec++]<<24;eo=er.g[0],ec=er.g[1],ep=er.g[2];var ef=er.g[3],eg=eo+(ef^ec&(ep^ef))+eh[0]+3614090360&4294967295;eg=ef+(ep^(eo=ec+(eg<<7&4294967295|eg>>>25))&(ec^ep))+eh[1]+3905402710&4294967295,eg=ep+(ec^(ef=eo+(eg<<12&4294967295|eg>>>20))&(eo^ec))+eh[2]+606105819&4294967295,eg=ec+(eo^(ep=ef+(eg<<17&4294967295|eg>>>15))&(ef^eo))+eh[3]+3250441966&4294967295,eg=eo+(ef^(ec=ep+(eg<<22&4294967295|eg>>>10))&(ep^ef))+eh[4]+4118548399&4294967295,eg=ef+(ep^(eo=ec+(eg<<7&4294967295|eg>>>25))&(ec^ep))+eh[5]+1200080426&4294967295,eg=ep+(ec^(ef=eo+(eg<<12&4294967295|eg>>>20))&(eo^ec))+eh[6]+2821735955&4294967295,eg=ec+(eo^(ep=ef+(eg<<17&4294967295|eg>>>15))&(ef^eo))+eh[7]+4249261313&4294967295,eg=eo+(ef^(ec=ep+(eg<<22&4294967295|eg>>>10))&(ep^ef))+eh[8]+1770035416&4294967295,eg=ef+(ep^(eo=ec+(eg<<7&4294967295|eg>>>25))&(ec^ep))+eh[9]+2336552879&4294967295,eg=ep+(ec^(ef=eo+(eg<<12&4294967295|eg>>>20))&(eo^ec))+eh[10]+4294925233&4294967295,eg=ec+(eo^(ep=ef+(eg<<17&4294967295|eg>>>15))&(ef^eo))+eh[11]+2304563134&4294967295,eg=eo+(ef^(ec=ep+(eg<<22&4294967295|eg>>>10))&(ep^ef))+eh[12]+1804603682&4294967295,eg=ef+(ep^(eo=ec+(eg<<7&4294967295|eg>>>25))&(ec^ep))+eh[13]+4254626195&4294967295,eg=ep+(ec^(ef=eo+(eg<<12&4294967295|eg>>>20))&(eo^ec))+eh[14]+2792965006&4294967295,eg=ec+(eo^(ep=ef+(eg<<17&4294967295|eg>>>15))&(ef^eo))+eh[15]+1236535329&4294967295,ec=ep+(eg<<22&4294967295|eg>>>10),eg=eo+(ep^ef&(ec^ep))+eh[1]+4129170786&4294967295,eo=ec+(eg<<5&4294967295|eg>>>27),eg=ef+(ec^ep&(eo^ec))+eh[6]+3225465664&4294967295,ef=eo+(eg<<9&4294967295|eg>>>23),eg=ep+(eo^ec&(ef^eo))+eh[11]+643717713&4294967295,ep=ef+(eg<<14&4294967295|eg>>>18),eg=ec+(ef^eo&(ep^ef))+eh[0]+3921069994&4294967295,ec=ep+(eg<<20&4294967295|eg>>>12),eg=eo+(ep^ef&(ec^ep))+eh[5]+3593408605&4294967295,eo=ec+(eg<<5&4294967295|eg>>>27),eg=ef+(ec^ep&(eo^ec))+eh[10]+38016083&4294967295,ef=eo+(eg<<9&4294967295|eg>>>23),eg=ep+(eo^ec&(ef^eo))+eh[15]+3634488961&4294967295,ep=ef+(eg<<14&4294967295|eg>>>18),eg=ec+(ef^eo&(ep^ef))+eh[4]+3889429448&4294967295,ec=ep+(eg<<20&4294967295|eg>>>12),eg=eo+(ep^ef&(ec^ep))+eh[9]+568446438&4294967295,eo=ec+(eg<<5&4294967295|eg>>>27),eg=ef+(ec^ep&(eo^ec))+eh[14]+3275163606&4294967295,ef=eo+(eg<<9&4294967295|eg>>>23),eg=ep+(eo^ec&(ef^eo))+eh[3]+4107603335&4294967295,ep=ef+(eg<<14&4294967295|eg>>>18),eg=ec+(ef^eo&(ep^ef))+eh[8]+1163531501&4294967295,ec=ep+(eg<<20&4294967295|eg>>>12),eg=eo+(ep^ef&(ec^ep))+eh[13]+2850285829&4294967295,eo=ec+(eg<<5&4294967295|eg>>>27),eg=ef+(ec^ep&(eo^ec))+eh[2]+4243563512&4294967295,ef=eo+(eg<<9&4294967295|eg>>>23),eg=ep+(eo^ec&(ef^eo))+eh[7]+1735328473&4294967295,ep=ef+(eg<<14&4294967295|eg>>>18),eg=ec+(ef^eo&(ep^ef))+eh[12]+2368359562&4294967295,eg=eo+((ec=ep+(eg<<20&4294967295|eg>>>12))^ep^ef)+eh[5]+4294588738&4294967295,eg=ef+((eo=ec+(eg<<4&4294967295|eg>>>28))^ec^ep)+eh[8]+2272392833&4294967295,eg=ep+((ef=eo+(eg<<11&4294967295|eg>>>21))^eo^ec)+eh[11]+1839030562&4294967295,eg=ec+((ep=ef+(eg<<16&4294967295|eg>>>16))^ef^eo)+eh[14]+4259657740&4294967295,eg=eo+((ec=ep+(eg<<23&4294967295|eg>>>9))^ep^ef)+eh[1]+2763975236&4294967295,eg=ef+((eo=ec+(eg<<4&4294967295|eg>>>28))^ec^ep)+eh[4]+1272893353&4294967295,eg=ep+((ef=eo+(eg<<11&4294967295|eg>>>21))^eo^ec)+eh[7]+4139469664&4294967295,eg=ec+((ep=ef+(eg<<16&4294967295|eg>>>16))^ef^eo)+eh[10]+3200236656&4294967295,eg=eo+((ec=ep+(eg<<23&4294967295|eg>>>9))^ep^ef)+eh[13]+681279174&4294967295,eg=ef+((eo=ec+(eg<<4&4294967295|eg>>>28))^ec^ep)+eh[0]+3936430074&4294967295,eg=ep+((ef=eo+(eg<<11&4294967295|eg>>>21))^eo^ec)+eh[3]+3572445317&4294967295,eg=ec+((ep=ef+(eg<<16&4294967295|eg>>>16))^ef^eo)+eh[6]+76029189&4294967295,eg=eo+((ec=ep+(eg<<23&4294967295|eg>>>9))^ep^ef)+eh[9]+3654602809&4294967295,eg=ef+((eo=ec+(eg<<4&4294967295|eg>>>28))^ec^ep)+eh[12]+3873151461&4294967295,eg=ep+((ef=eo+(eg<<11&4294967295|eg>>>21))^eo^ec)+eh[15]+530742520&4294967295,eg=ec+((ep=ef+(eg<<16&4294967295|eg>>>16))^ef^eo)+eh[2]+3299628645&4294967295,ec=ep+(eg<<23&4294967295|eg>>>9),eg=eo+(ep^(ec|~ef))+eh[0]+4096336452&4294967295,eo=ec+(eg<<6&4294967295|eg>>>26),eg=ef+(ec^(eo|~ep))+eh[7]+1126891415&4294967295,ef=eo+(eg<<10&4294967295|eg>>>22),eg=ep+(eo^(ef|~ec))+eh[14]+2878612391&4294967295,ep=ef+(eg<<15&4294967295|eg>>>17),eg=ec+(ef^(ep|~eo))+eh[5]+4237533241&4294967295,ec=ep+(eg<<21&4294967295|eg>>>11),eg=eo+(ep^(ec|~ef))+eh[12]+1700485571&4294967295,eo=ec+(eg<<6&4294967295|eg>>>26),eg=ef+(ec^(eo|~ep))+eh[3]+2399980690&4294967295,ef=eo+(eg<<10&4294967295|eg>>>22),eg=ep+(eo^(ef|~ec))+eh[10]+4293915773&4294967295,ep=ef+(eg<<15&4294967295|eg>>>17),eg=ec+(ef^(ep|~eo))+eh[1]+2240044497&4294967295,ec=ep+(eg<<21&4294967295|eg>>>11),eg=eo+(ep^(ec|~ef))+eh[8]+1873313359&4294967295,eo=ec+(eg<<6&4294967295|eg>>>26),eg=ef+(ec^(eo|~ep))+eh[15]+4264355552&4294967295,ef=eo+(eg<<10&4294967295|eg>>>22),eg=ep+(eo^(ef|~ec))+eh[6]+2734768916&4294967295,ep=ef+(eg<<15&4294967295|eg>>>17),eg=ec+(ef^(ep|~eo))+eh[13]+1309151649&4294967295,ec=ep+(eg<<21&4294967295|eg>>>11),eg=eo+(ep^(ec|~ef))+eh[4]+4149444226&4294967295,eo=ec+(eg<<6&4294967295|eg>>>26),eg=ef+(ec^(eo|~ep))+eh[11]+3174756917&4294967295,ef=eo+(eg<<10&4294967295|eg>>>22),eg=ep+(eo^(ef|~ec))+eh[2]+718787259&4294967295,ep=ef+(eg<<15&4294967295|eg>>>17),eg=ec+(ef^(ep|~eo))+eh[9]+3951481745&4294967295,er.g[0]=er.g[0]+eo&4294967295,er.g[1]=er.g[1]+(ep+(eg<<21&4294967295|eg>>>11))&4294967295,er.g[2]=er.g[2]+ep&4294967295,er.g[3]=er.g[3]+ef&4294967295}function T(er,eo){this.h=eo;for(var ec=[],eh=!0,ep=er.length-1;0<=ep;ep--){var ef=0|er[ep];eh&&ef==eo||(ec[ep]=ef,eh=!1)}this.g=ec}(ev=P.prototype).Oa=function(er){this.M=er},ev.ha=function(er,eo,ec,eh){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+er);eo=eo?eo.toUpperCase():"GET",this.I=er,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():eg.g(),this.C=this.u?Vb(this.u):Vb(eg),this.g.onreadystatechange=q(this.La,this);try{this.G=!0,this.g.open(eo,String(er),!0),this.G=!1}catch(er){vd(this,er);return}if(er=ec||"",ec=new Map(this.headers),eh){if(Object.getPrototypeOf(eh)===Object.prototype)for(var ep in eh)ec.set(ep,eh[ep]);else if("function"==typeof eh.keys&&"function"==typeof eh.get)for(let er of eh.keys())ec.set(er,eh.get(er));else throw Error("Unknown input type for opt_headers: "+String(eh))}for(let[ef,eg]of(eh=Array.from(ec.keys()).find(er=>"content-type"==er.toLowerCase()),ep=eE.FormData&&er instanceof eE.FormData,!(0<=eT(t_,eo))||eh||ep||ec.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),ec))this.g.setRequestHeader(ef,eg);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var ef;wd(this),0<this.B&&((this.L=(ef=this.g,eO&&"number"==typeof ef.timeout&&void 0!==ef.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=q(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(er),this.v=!1}catch(er){vd(this,er)}},ev.ua=function(){void 0!==eI&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C(this,"timeout"),this.abort(8))},ev.abort=function(er){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=er||7,C(this,"complete"),C(this,"abort"),zd(this))},ev.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)},ev.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())},ev.kb=function(){Ad(this)},ev.isActive=function(){return!!this.g},ev.da=function(){try{return 2<H(this)?this.g.status:-1}catch(er){return -1}},ev.ja=function(){try{return this.g?this.g.responseText:""}catch(er){return""}},ev.Wa=function(er){if(this.g){var eo=this.g.responseText;return er&&0==eo.indexOf(er)&&(eo=eo.substring(er.length)),tm(eo)}},ev.Ia=function(){return this.m},ev.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ev=Ed.prototype).ra=8,ev.H=1,ev.Na=function(er){if(this.m){if(this.m=null,1==this.H){if(!er){this.W=Math.floor(1e5*Math.random()),er=this.W++;let ep=new bc(this,this.l,er),ef=this.s;if(this.U&&(ef?Ra(ef=Pa(ef),this.U):ef=this.U),null!==this.o||this.O||(ep.I=ef,ef=null),this.P)e:{for(var eo=0,ec=0;ec<this.j.length;ec++){t:{var eh=this.j[ec];if("__data__"in eh.map&&"string"==typeof(eh=eh.map.__data__)){eh=eh.length;break t}eh=void 0}if(void 0===eh)break;if(4096<(eo+=eh)){eo=ec;break e}if(4096===eo||ec===this.j.length-1){eo=ec+1;break e}}eo=1e3}else eo=1e3;eo=Kd(this,ep,eo),K(ec=G(this.I),"RID",er),K(ec,"CVER",22),this.F&&K(ec,"X-HTTP-Session-Id",this.F),Gd(this,ec),ef&&(this.O?eo="headers="+encodeURIComponent(String(Bd(ef)))+"&"+eo:this.o&&Cd(ec,this.o,ef)),Cc(this.i,ep),this.bb&&K(ec,"TYPE","init"),this.P?(K(ec,"$req",eo),K(ec,"SID","null"),ep.aa=!0,gc(ep,ec,null)):gc(ep,ec,eo),this.H=2}}else 3==this.H&&(er?Ld(this,er):0==this.j.length||ed(this.i)||Ld(this))}},ev.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var er=2*this.S;this.l.info("BP detection timer enabled: "+er),this.B=Rb(q(this.jb,this),er)}},ev.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F(10),zc(this),Md(this))},ev.ib=function(){null!=this.v&&(this.v=null,zc(this),Ac(this),F(19))},ev.pb=function(er){er?(this.l.info("Successfully pinged google.com"),F(2)):(this.l.info("Failed to ping google.com"),F(1))},ev.isActive=function(){return!!this.h&&this.h.isActive(this)},(ev=Nd.prototype).Ba=function(){},ev.Aa=function(){},ev.za=function(){},ev.ya=function(){},ev.isActive=function(){return!0},ev.Va=function(){},Od.prototype.g=function(er,eo){return new Q(er,eo)},r(Q,B),Q.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var er=this.g,eo=this.l,ec=this.h||void 0;F(0),er.Y=eo,er.na=ec||{},er.G=er.aa,er.I=Dc(er,null,er.Y),Gc(er)},Q.prototype.close=function(){Hc(this.g)},Q.prototype.u=function(er){var eo=this.g;if("string"==typeof er){var ec={};ec.__data__=er,er=ec}else this.v&&((ec={}).__data__=eK(er),er=ec);eo.j.push(new td(eo.fb++,er)),3==eo.H&&Gc(eo)},Q.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q.$.N.call(this)},r(Pd,Yb),r(Qd,Zb),r(R,Nd),R.prototype.Ba=function(){C(this.g,"a")},R.prototype.Aa=function(er){C(this.g,new Pd(er))},R.prototype.za=function(er){C(this.g,new Qd)},R.prototype.ya=function(){C(this.g,"b")},r(S,function(){this.blockSize=-1}),S.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},S.prototype.j=function(er,eo){void 0===eo&&(eo=er.length);for(var ec=eo-this.blockSize,eh=this.m,ep=this.h,ef=0;ef<eo;){if(0==ep)for(;ef<=ec;)Sd(this,er,ef),ef+=this.blockSize;if("string"==typeof er){for(;ef<eo;)if(eh[ep++]=er.charCodeAt(ef++),ep==this.blockSize){Sd(this,eh),ep=0;break}}else for(;ef<eo;)if(eh[ep++]=er[ef++],ep==this.blockSize){Sd(this,eh),ep=0;break}}this.h=ep,this.i+=eo},S.prototype.l=function(){var er=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);er[0]=128;for(var eo=1;eo<er.length-8;++eo)er[eo]=0;var ec=8*this.i;for(eo=er.length-8;eo<er.length;++eo)er[eo]=255&ec,ec/=256;for(this.j(er),er=Array(16),eo=ec=0;4>eo;++eo)for(var eh=0;32>eh;eh+=8)er[ec++]=this.g[eo]>>>eh&255;return er};var tb={};function Td(er){return -128<=er&&128>er?Object.prototype.hasOwnProperty.call(tb,er)?tb[er]:tb[er]=new T([0|er],0>er?-1:0):new T([0|er],0>er?-1:0)}function U(er){if(isNaN(er)||!isFinite(er))return tx;if(0>er)return W(U(-er));for(var eo=[],ec=1,eh=0;er>=ec;eh++)eo[eh]=er/ec|0,ec*=tw;return new T(eo,0)}var tw=4294967296,tx=Td(0),tk=Td(1),tS=Td(16777216);function Y(er){if(0!=er.h)return!1;for(var eo=0;eo<er.g.length;eo++)if(0!=er.g[eo])return!1;return!0}function X(er){return -1==er.h}function W(er){for(var eo=er.g.length,ec=[],eh=0;eh<eo;eh++)ec[eh]=~er.g[eh];return new T(ec,~er.h).add(tk)}function Zd(er,eo){return er.add(W(eo))}function $d(er,eo){for(;(65535&er[eo])!=er[eo];)er[eo+1]+=er[eo]>>>16,er[eo]&=65535,eo++}function ae(er,eo){this.g=er,this.h=eo}function Yd(er,eo){if(Y(eo))throw Error("division by zero");if(Y(er))return new ae(tx,tx);if(X(er))return eo=Yd(W(er),eo),new ae(W(eo.g),W(eo.h));if(X(eo))return eo=Yd(er,W(eo)),new ae(W(eo.g),eo.h);if(30<er.g.length){if(X(er)||X(eo))throw Error("slowDivide_ only works with positive integers.");for(var ec=tk,eh=eo;0>=eh.X(er);)ec=be(ec),eh=be(eh);var ep=Z(ec,1),ef=Z(eh,1);for(eh=Z(eh,2),ec=Z(ec,2);!Y(eh);){var eg=ef.add(eh);0>=eg.X(er)&&(ep=ep.add(ec),ef=eg),eh=Z(eh,1),ec=Z(ec,1)}return eo=Zd(er,ep.R(eo)),new ae(ep,eo)}for(ep=tx;0<=er.X(eo);){for(eh=48>=(eh=Math.ceil(Math.log(ec=Math.max(1,Math.floor(er.ea()/eo.ea())))/Math.LN2))?1:Math.pow(2,eh-48),eg=(ef=U(ec)).R(eo);X(eg)||0<eg.X(er);)ec-=eh,eg=(ef=U(ec)).R(eo);Y(ef)&&(ef=tk),ep=ep.add(ef),er=Zd(er,eg)}return new ae(ep,er)}function be(er){for(var eo=er.g.length+1,ec=[],eh=0;eh<eo;eh++)ec[eh]=er.D(eh)<<1|er.D(eh-1)>>>31;return new T(ec,er.h)}function Z(er,eo){var ec=eo>>5;eo%=32;for(var eh=er.g.length-ec,ep=[],ef=0;ef<eh;ef++)ep[ef]=0<eo?er.D(ef+ec)>>>eo|er.D(ef+ec+1)<<32-eo:er.D(ef+ec);return new T(ep,er.h)}(ev=T.prototype).ea=function(){if(X(this))return-W(this).ea();for(var er=0,eo=1,ec=0;ec<this.g.length;ec++){var eh=this.D(ec);er+=(0<=eh?eh:tw+eh)*eo,eo*=tw}return er},ev.toString=function(er){if(2>(er=er||10)||36<er)throw Error("radix out of range: "+er);if(Y(this))return"0";if(X(this))return"-"+W(this).toString(er);for(var eo=U(Math.pow(er,6)),ec=this,eh="";;){var ep=Yd(ec,eo).g,ef=((0<(ec=Zd(ec,ep.R(eo))).g.length?ec.g[0]:ec.h)>>>0).toString(er);if(Y(ec=ep))return ef+eh;for(;6>ef.length;)ef="0"+ef;eh=ef+eh}},ev.D=function(er){return 0>er?0:er<this.g.length?this.g[er]:this.h},ev.X=function(er){return X(er=Zd(this,er))?-1:Y(er)?0:1},ev.abs=function(){return X(this)?W(this):this},ev.add=function(er){for(var eo=Math.max(this.g.length,er.g.length),ec=[],eh=0,ep=0;ep<=eo;ep++){var ef=eh+(65535&this.D(ep))+(65535&er.D(ep)),eg=(ef>>>16)+(this.D(ep)>>>16)+(er.D(ep)>>>16);eh=eg>>>16,ef&=65535,eg&=65535,ec[ep]=eg<<16|ef}return new T(ec,-2147483648&ec[ec.length-1]?-1:0)},ev.R=function(er){if(Y(this)||Y(er))return tx;if(X(this))return X(er)?W(this).R(W(er)):W(W(this).R(er));if(X(er))return W(this.R(W(er)));if(0>this.X(tS)&&0>er.X(tS))return U(this.ea()*er.ea());for(var eo=this.g.length+er.g.length,ec=[],eh=0;eh<2*eo;eh++)ec[eh]=0;for(eh=0;eh<this.g.length;eh++)for(var ep=0;ep<er.g.length;ep++){var ef=this.D(eh)>>>16,eg=65535&this.D(eh),em=er.D(ep)>>>16,ey=65535&er.D(ep);ec[2*eh+2*ep]+=eg*ey,$d(ec,2*eh+2*ep),ec[2*eh+2*ep+1]+=ef*ey,$d(ec,2*eh+2*ep+1),ec[2*eh+2*ep+1]+=eg*em,$d(ec,2*eh+2*ep+1),ec[2*eh+2*ep+2]+=ef*em,$d(ec,2*eh+2*ep+2)}for(eh=0;eh<eo;eh++)ec[eh]=ec[2*eh+1]<<16|ec[2*eh];for(eh=eo;eh<2*eo;eh++)ec[eh]=0;return new T(ec,0)},ev.gb=function(er){return Yd(this,er).h},ev.and=function(er){for(var eo=Math.max(this.g.length,er.g.length),ec=[],eh=0;eh<eo;eh++)ec[eh]=this.D(eh)&er.D(eh);return new T(ec,this.h&er.h)},ev.or=function(er){for(var eo=Math.max(this.g.length,er.g.length),ec=[],eh=0;eh<eo;eh++)ec[eh]=this.D(eh)|er.D(eh);return new T(ec,this.h|er.h)},ev.xor=function(er){for(var eo=Math.max(this.g.length,er.g.length),ec=[],eh=0;eh<eo;eh++)ec[eh]=this.D(eh)^er.D(eh);return new T(ec,this.h^er.h)},Od.prototype.createWebChannel=Od.prototype.g,Q.prototype.send=Q.prototype.u,Q.prototype.open=Q.prototype.m,Q.prototype.close=Q.prototype.close,e2.NO_ERROR=0,e2.TIMEOUT=8,e2.HTTP_ERROR=6,e3.COMPLETE="complete",Wb.EventType=e6,e6.OPEN="a",e6.CLOSE="b",e6.ERROR="c",e6.MESSAGE="d",B.prototype.listen=B.prototype.O,P.prototype.listenOnce=P.prototype.P,P.prototype.getLastError=P.prototype.Sa,P.prototype.getLastErrorCode=P.prototype.Ia,P.prototype.getStatus=P.prototype.da,P.prototype.getResponseJson=P.prototype.Wa,P.prototype.getResponseText=P.prototype.ja,P.prototype.send=P.prototype.ha,P.prototype.setWithCredentials=P.prototype.Oa,S.prototype.digest=S.prototype.l,S.prototype.reset=S.prototype.reset,S.prototype.update=S.prototype.j,T.prototype.add=T.prototype.add,T.prototype.multiply=T.prototype.R,T.prototype.modulo=T.prototype.gb,T.prototype.compare=T.prototype.X,T.prototype.toNumber=T.prototype.ea,T.prototype.toString=T.prototype.toString,T.prototype.getBits=T.prototype.D,T.fromNumber=U,T.fromString=function Vd(er,eo){if(0==er.length)throw Error("number format error: empty string");if(2>(eo=eo||10)||36<eo)throw Error("radix out of range: "+eo);if("-"==er.charAt(0))return W(Vd(er.substring(1),eo));if(0<=er.indexOf("-"))throw Error('number format error: interior "-" character');for(var ec=U(Math.pow(eo,8)),eh=tx,ep=0;ep<er.length;ep+=8){var ef=Math.min(8,er.length-ep),eg=parseInt(er.substring(ep,ep+ef),eo);8>ef?(ef=U(Math.pow(eo,ef)),eh=eh.R(ef).add(U(eg))):eh=(eh=eh.R(ec)).add(U(eg))}return eh};var tC=eC.createWebChannelTransport=function(){return new Od},tI=eC.getStatEventTarget=function(){return Mb()},tE=eC.ErrorCode=e2,tT=eC.EventType=e3,tN=eC.Event=e0,tA=eC.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tO=eC.FetchXmlHttpFactory=ld,tP=eC.WebChannel=Wb,tM=eC.XhrIo=P,tR=eC.Md5=S,tD=eC.Integer=T;ec(83454);let tj="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_V=class index_esm2017_V{constructor(er){this.uid=er}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(er){return er.uid===this.uid}};index_esm2017_V.UNAUTHENTICATED=new index_esm2017_V(null),index_esm2017_V.GOOGLE_CREDENTIALS=new index_esm2017_V("google-credentials-uid"),index_esm2017_V.FIRST_PARTY=new index_esm2017_V("first-party-uid"),index_esm2017_V.MOCK_USER=new index_esm2017_V("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tL="9.23.0",tU=new ex.Yd("@firebase/firestore");function index_esm2017_C(){return tU.logLevel}function index_esm2017_N(er,...eo){if(tU.logLevel<=ex.in.DEBUG){let ec=eo.map($);tU.debug(`Firestore (${tL}): ${er}`,...ec)}}function index_esm2017_k(er,...eo){if(tU.logLevel<=ex.in.ERROR){let ec=eo.map($);tU.error(`Firestore (${tL}): ${er}`,...ec)}}function index_esm2017_M(er,...eo){if(tU.logLevel<=ex.in.WARN){let ec=eo.map($);tU.warn(`Firestore (${tL}): ${er}`,...ec)}}function $(er){if("string"==typeof er)return er;try{return JSON.stringify(er)}catch(eo){return er}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_esm2017_O(er="Unexpected state"){let eo=`FIRESTORE (${tL}) INTERNAL ASSERTION FAILED: `+er;throw index_esm2017_k(eo),Error(eo)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tF={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let index_esm2017_U=class index_esm2017_U extends ek.ZR{constructor(er,eo){super(er,eo),this.code=er,this.message=eo,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_K=class index_esm2017_K{constructor(){this.promise=new Promise((er,eo)=>{this.resolve=er,this.reject=eo})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_G=class index_esm2017_G{constructor(er,eo){this.user=eo,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${er}`)}};let index_esm2017_Q=class index_esm2017_Q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(er,eo){er.enqueueRetryable(()=>eo(index_esm2017_V.UNAUTHENTICATED))}shutdown(){}};let j=class j{constructor(er){this.token=er,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(er,eo){this.changeListener=eo,er.enqueueRetryable(()=>eo(this.token.user))}shutdown(){this.changeListener=null}};let index_esm2017_z=class index_esm2017_z{constructor(er){this.t=er,this.currentUser=index_esm2017_V.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(er,eo){let ec=this.i,s=er=>this.i!==ec?(ec=this.i,eo(er)):Promise.resolve(),eh=new index_esm2017_K;this.o=()=>{this.i++,this.currentUser=this.u(),eh.resolve(),eh=new index_esm2017_K,er.enqueueRetryable(()=>s(this.currentUser))};let r=()=>{let eo=eh;er.enqueueRetryable(async()=>{await eo.promise,await s(this.currentUser)})},o=er=>{index_esm2017_N("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=er,this.auth.addAuthTokenListener(this.o),r()};this.t.onInit(er=>o(er)),setTimeout(()=>{if(!this.auth){let er=this.t.getImmediate({optional:!0});er?o(er):(index_esm2017_N("FirebaseAuthCredentialsProvider","Auth not yet detected"),eh.resolve(),eh=new index_esm2017_K)}},0),r()}getToken(){let er=this.i,eo=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(eo).then(eo=>this.i!==er?(index_esm2017_N("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):eo?("string"==typeof eo.accessToken||index_esm2017_O(),new index_esm2017_G(eo.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let er=this.auth&&this.auth.getUid();return null===er||"string"==typeof er||index_esm2017_O(),new index_esm2017_V(er)}};let index_esm2017_W=class index_esm2017_W{constructor(er,eo,ec){this.h=er,this.l=eo,this.m=ec,this.type="FirstParty",this.user=index_esm2017_V.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);let er=this.p();return er&&this.g.set("Authorization",er),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}};let index_esm2017_H=class index_esm2017_H{constructor(er,eo,ec){this.h=er,this.l=eo,this.m=ec}getToken(){return Promise.resolve(new index_esm2017_W(this.h,this.l,this.m))}start(er,eo){er.enqueueRetryable(()=>eo(index_esm2017_V.FIRST_PARTY))}shutdown(){}invalidateToken(){}};let index_esm2017_J=class index_esm2017_J{constructor(er){this.value=er,this.type="AppCheck",this.headers=new Map,er&&er.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};let index_esm2017_Y=class index_esm2017_Y{constructor(er){this.I=er,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(er,eo){let n=er=>{null!=er.error&&index_esm2017_N("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${er.error.message}`);let ec=er.token!==this.T;return this.T=er.token,index_esm2017_N("FirebaseAppCheckTokenProvider",`Received ${ec?"new":"existing"} token.`),ec?eo(er.token):Promise.resolve()};this.o=eo=>{er.enqueueRetryable(()=>n(eo))};let s=er=>{index_esm2017_N("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=er,this.appCheck.addTokenListener(this.o)};this.I.onInit(er=>s(er)),setTimeout(()=>{if(!this.appCheck){let er=this.I.getImmediate({optional:!0});er?s(er):index_esm2017_N("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let er=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(er).then(er=>er?("string"==typeof er.token||index_esm2017_O(),this.T=er.token,new index_esm2017_J(er.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tt=class tt{static A(){let er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",eo=Math.floor(256/er.length)*er.length,ec="";for(;ec.length<20;){let eh=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){let eo="undefined"!=typeof self&&(self.crypto||self.msCrypto),ec=new Uint8Array(er);if(eo&&"function"==typeof eo.getRandomValues)eo.getRandomValues(ec);else for(let eo=0;eo<er;eo++)ec[eo]=Math.floor(256*Math.random());return ec}(40);for(let ep=0;ep<eh.length;++ep)ec.length<20&&eh[ep]<eo&&(ec+=er.charAt(eh[ep]%er.length))}return ec}};function et(er,eo){return er<eo?-1:er>eo?1:0}function nt(er,eo,ec){return er.length===eo.length&&er.every((er,eh)=>ec(er,eo[eh]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=class it{constructor(er,eo){if(this.seconds=er,this.nanoseconds=eo,eo<0||eo>=1e9)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+eo);if(er<-62135596800||er>=253402300800)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Timestamp seconds out of range: "+er)}static now(){return it.fromMillis(Date.now())}static fromDate(er){return it.fromMillis(er.getTime())}static fromMillis(er){let eo=Math.floor(er/1e3),ec=Math.floor(1e6*(er-1e3*eo));return new it(eo,ec)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(er){return this.seconds===er.seconds?et(this.nanoseconds,er.nanoseconds):et(this.seconds,er.seconds)}isEqual(er){return er.seconds===this.seconds&&er.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let er=this.seconds- -62135596800;return String(er).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rt=class rt{constructor(er){this.timestamp=er}static fromTimestamp(er){return new rt(er)}static min(){return new rt(new it(0,0))}static max(){return new rt(new it(253402300799,999999999))}compareTo(er){return this.timestamp._compareTo(er.timestamp)}isEqual(er){return this.timestamp.isEqual(er.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ot=class ot{constructor(er,eo,ec){void 0===eo?eo=0:eo>er.length&&index_esm2017_O(),void 0===ec?ec=er.length-eo:ec>er.length-eo&&index_esm2017_O(),this.segments=er,this.offset=eo,this.len=ec}get length(){return this.len}isEqual(er){return 0===ot.comparator(this,er)}child(er){let eo=this.segments.slice(this.offset,this.limit());return er instanceof ot?er.forEach(er=>{eo.push(er)}):eo.push(er),this.construct(eo)}limit(){return this.offset+this.length}popFirst(er){return er=void 0===er?1:er,this.construct(this.segments,this.offset+er,this.length-er)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(er){return this.segments[this.offset+er]}isEmpty(){return 0===this.length}isPrefixOf(er){if(er.length<this.length)return!1;for(let eo=0;eo<this.length;eo++)if(this.get(eo)!==er.get(eo))return!1;return!0}isImmediateParentOf(er){if(this.length+1!==er.length)return!1;for(let eo=0;eo<this.length;eo++)if(this.get(eo)!==er.get(eo))return!1;return!0}forEach(er){for(let eo=this.offset,ec=this.limit();eo<ec;eo++)er(this.segments[eo])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(er,eo){let ec=Math.min(er.length,eo.length);for(let eh=0;eh<ec;eh++){let ec=er.get(eh),ep=eo.get(eh);if(ec<ep)return -1;if(ec>ep)return 1}return er.length<eo.length?-1:er.length>eo.length?1:0}};let ut=class ut extends ot{construct(er,eo,ec){return new ut(er,eo,ec)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...er){let eo=[];for(let ec of er){if(ec.indexOf("//")>=0)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid segment (${ec}). Paths must not contain // in them.`);eo.push(...ec.split("/").filter(er=>er.length>0))}return new ut(eo)}static emptyPath(){return new ut([])}};let tV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let at=class at extends ot{construct(er,eo,ec){return new at(er,eo,ec)}static isValidIdentifier(er){return tV.test(er)}canonicalString(){return this.toArray().map(er=>(er=er.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),at.isValidIdentifier(er)||(er="`"+er+"`"),er)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new at(["__name__"])}static fromServerFormat(er){let eo=[],ec="",eh=0,i=()=>{if(0===ec.length)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid field path (${er}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);eo.push(ec),ec=""},ep=!1;for(;eh<er.length;){let eo=er[eh];if("\\"===eo){if(eh+1===er.length)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Path has trailing escape character: "+er);let eo=er[eh+1];if("\\"!==eo&&"."!==eo&&"`"!==eo)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Path has invalid escape sequence: "+er);ec+=eo,eh+=2}else"`"===eo?ep=!ep:"."!==eo||ep?ec+=eo:i(),eh++}if(i(),ep)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Unterminated ` in path: "+er);return new at(eo)}static emptyPath(){return new at([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ht=class ht{constructor(er){this.path=er}static fromPath(er){return new ht(ut.fromString(er))}static fromName(er){return new ht(ut.fromString(er).popFirst(5))}static empty(){return new ht(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(er){return this.path.length>=2&&this.path.get(this.path.length-2)===er}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(er){return null!==er&&0===ut.comparator(this.path,er.path)}toString(){return this.path.toString()}static comparator(er,eo){return ut.comparator(er.path,eo.path)}static isDocumentKey(er){return er.length%2==0}static fromSegments(er){return new ht(new ut(er.slice()))}};let It=class It{constructor(er,eo,ec){this.readTime=er,this.documentKey=eo,this.largestBatchId=ec}static min(){return new It(rt.min(),ht.empty(),-1)}static max(){return new It(rt.max(),ht.empty(),-1)}};let At=class At{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(er){this.onCommittedListeners.push(er)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(er=>er())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vt(er){if(er.code!==tF.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==er.message)throw er;index_esm2017_N("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rt=class Rt{constructor(er){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,er(er=>{this.isDone=!0,this.result=er,this.nextCallback&&this.nextCallback(er)},er=>{this.isDone=!0,this.error=er,this.catchCallback&&this.catchCallback(er)})}catch(er){return this.next(void 0,er)}next(er,eo){return this.callbackAttached&&index_esm2017_O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(eo,this.error):this.wrapSuccess(er,this.result):new Rt((ec,eh)=>{this.nextCallback=eo=>{this.wrapSuccess(er,eo).next(ec,eh)},this.catchCallback=er=>{this.wrapFailure(eo,er).next(ec,eh)}})}toPromise(){return new Promise((er,eo)=>{this.next(er,eo)})}wrapUserFunction(er){try{let eo=er();return eo instanceof Rt?eo:Rt.resolve(eo)}catch(er){return Rt.reject(er)}}wrapSuccess(er,eo){return er?this.wrapUserFunction(()=>er(eo)):Rt.resolve(eo)}wrapFailure(er,eo){return er?this.wrapUserFunction(()=>er(eo)):Rt.reject(eo)}static resolve(er){return new Rt((eo,ec)=>{eo(er)})}static reject(er){return new Rt((eo,ec)=>{ec(er)})}static waitFor(er){return new Rt((eo,ec)=>{let eh=0,ep=0,ef=!1;er.forEach(er=>{++eh,er.next(()=>{++ep,ef&&ep===eh&&eo()},er=>ec(er))}),ef=!0,ep===eh&&eo()})}static or(er){let eo=Rt.resolve(!1);for(let ec of er)eo=eo.next(er=>er?Rt.resolve(er):ec());return eo}static forEach(er,eo){let ec=[];return er.forEach((er,eh)=>{ec.push(eo.call(this,er,eh))}),this.waitFor(ec)}static mapArray(er,eo){return new Rt((ec,eh)=>{let ep=er.length,ef=Array(ep),eg=0;for(let em=0;em<ep;em++){let ey=em;eo(er[ey]).next(er=>{ef[ey]=er,++eg===ep&&ec(ef)},er=>eh(er))}})}static doWhile(er,eo){return new Rt((ec,eh)=>{let i=()=>{!0===er()?eo().next(()=>{i()},eh):ec()};i()})}};function Dt(er){return"IndexedDbTransactionError"===er.name}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ot=class Ot{constructor(er,eo){this.previousValue=er,eo&&(eo.sequenceNumberHandler=er=>this.ot(er),this.ut=er=>eo.writeSequenceNumber(er))}ot(er){return this.previousValue=Math.max(er,this.previousValue),this.previousValue}next(){let er=++this.previousValue;return this.ut&&this.ut(er),er}};function Bt(er){return 0===er&&1/er==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(er){let eo=0;for(let ec in er)Object.prototype.hasOwnProperty.call(er,ec)&&eo++;return eo}function ge(er,eo){for(let ec in er)Object.prototype.hasOwnProperty.call(er,ec)&&eo(ec,er[ec])}function ye(er){for(let eo in er)if(Object.prototype.hasOwnProperty.call(er,eo))return!1;return!0}Ot.ct=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pe=class pe{constructor(er,eo){this.comparator=er,this.root=eo||Te.EMPTY}insert(er,eo){return new pe(this.comparator,this.root.insert(er,eo,this.comparator).copy(null,null,Te.BLACK,null,null))}remove(er){return new pe(this.comparator,this.root.remove(er,this.comparator).copy(null,null,Te.BLACK,null,null))}get(er){let eo=this.root;for(;!eo.isEmpty();){let ec=this.comparator(er,eo.key);if(0===ec)return eo.value;ec<0?eo=eo.left:ec>0&&(eo=eo.right)}return null}indexOf(er){let eo=0,ec=this.root;for(;!ec.isEmpty();){let eh=this.comparator(er,ec.key);if(0===eh)return eo+ec.left.size;eh<0?ec=ec.left:(eo+=ec.left.size+1,ec=ec.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(er){return this.root.inorderTraversal(er)}forEach(er){this.inorderTraversal((eo,ec)=>(er(eo,ec),!1))}toString(){let er=[];return this.inorderTraversal((eo,ec)=>(er.push(`${eo}:${ec}`),!1)),`{${er.join(", ")}}`}reverseTraversal(er){return this.root.reverseTraversal(er)}getIterator(){return new Ie(this.root,null,this.comparator,!1)}getIteratorFrom(er){return new Ie(this.root,er,this.comparator,!1)}getReverseIterator(){return new Ie(this.root,null,this.comparator,!0)}getReverseIteratorFrom(er){return new Ie(this.root,er,this.comparator,!0)}};let Ie=class Ie{constructor(er,eo,ec,eh){this.isReverse=eh,this.nodeStack=[];let ep=1;for(;!er.isEmpty();)if(ep=eo?ec(er.key,eo):1,eo&&eh&&(ep*=-1),ep<0)er=this.isReverse?er.left:er.right;else{if(0===ep){this.nodeStack.push(er);break}this.nodeStack.push(er),er=this.isReverse?er.right:er.left}}getNext(){let er=this.nodeStack.pop(),eo={key:er.key,value:er.value};if(this.isReverse)for(er=er.left;!er.isEmpty();)this.nodeStack.push(er),er=er.right;else for(er=er.right;!er.isEmpty();)this.nodeStack.push(er),er=er.left;return eo}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let er=this.nodeStack[this.nodeStack.length-1];return{key:er.key,value:er.value}}};let Te=class Te{constructor(er,eo,ec,eh,ep){this.key=er,this.value=eo,this.color=null!=ec?ec:Te.RED,this.left=null!=eh?eh:Te.EMPTY,this.right=null!=ep?ep:Te.EMPTY,this.size=this.left.size+1+this.right.size}copy(er,eo,ec,eh,ep){return new Te(null!=er?er:this.key,null!=eo?eo:this.value,null!=ec?ec:this.color,null!=eh?eh:this.left,null!=ep?ep:this.right)}isEmpty(){return!1}inorderTraversal(er){return this.left.inorderTraversal(er)||er(this.key,this.value)||this.right.inorderTraversal(er)}reverseTraversal(er){return this.right.reverseTraversal(er)||er(this.key,this.value)||this.left.reverseTraversal(er)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(er,eo,ec){let eh=this,ep=ec(er,eh.key);return(eh=ep<0?eh.copy(null,null,null,eh.left.insert(er,eo,ec),null):0===ep?eh.copy(null,eo,null,null,null):eh.copy(null,null,null,null,eh.right.insert(er,eo,ec))).fixUp()}removeMin(){if(this.left.isEmpty())return Te.EMPTY;let er=this;return er.left.isRed()||er.left.left.isRed()||(er=er.moveRedLeft()),(er=er.copy(null,null,null,er.left.removeMin(),null)).fixUp()}remove(er,eo){let ec,eh=this;if(0>eo(er,eh.key))eh.left.isEmpty()||eh.left.isRed()||eh.left.left.isRed()||(eh=eh.moveRedLeft()),eh=eh.copy(null,null,null,eh.left.remove(er,eo),null);else{if(eh.left.isRed()&&(eh=eh.rotateRight()),eh.right.isEmpty()||eh.right.isRed()||eh.right.left.isRed()||(eh=eh.moveRedRight()),0===eo(er,eh.key)){if(eh.right.isEmpty())return Te.EMPTY;ec=eh.right.min(),eh=eh.copy(ec.key,ec.value,null,null,eh.right.removeMin())}eh=eh.copy(null,null,null,null,eh.right.remove(er,eo))}return eh.fixUp()}isRed(){return this.color}fixUp(){let er=this;return er.right.isRed()&&!er.left.isRed()&&(er=er.rotateLeft()),er.left.isRed()&&er.left.left.isRed()&&(er=er.rotateRight()),er.left.isRed()&&er.right.isRed()&&(er=er.colorFlip()),er}moveRedLeft(){let er=this.colorFlip();return er.right.left.isRed()&&(er=(er=(er=er.copy(null,null,null,null,er.right.rotateRight())).rotateLeft()).colorFlip()),er}moveRedRight(){let er=this.colorFlip();return er.left.left.isRed()&&(er=(er=er.rotateRight()).colorFlip()),er}rotateLeft(){let er=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,er,null)}rotateRight(){let er=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,er)}colorFlip(){let er=this.left.copy(null,null,!this.left.color,null,null),eo=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,er,eo)}checkMaxDepth(){let er=this.check();return Math.pow(2,er)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw index_esm2017_O();let er=this.left.check();if(er!==this.right.check())throw index_esm2017_O();return er+(this.isRed()?0:1)}};Te.EMPTY=null,Te.RED=!0,Te.BLACK=!1,Te.EMPTY=new class{constructor(){this.size=0}get key(){throw index_esm2017_O()}get value(){throw index_esm2017_O()}get color(){throw index_esm2017_O()}get left(){throw index_esm2017_O()}get right(){throw index_esm2017_O()}copy(er,eo,ec,eh,ep){return this}insert(er,eo,ec){return new Te(er,eo)}remove(er,eo){return this}isEmpty(){return!0}inorderTraversal(er){return!1}reverseTraversal(er){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ee=class Ee{constructor(er){this.comparator=er,this.data=new pe(this.comparator)}has(er){return null!==this.data.get(er)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(er){return this.data.indexOf(er)}forEach(er){this.data.inorderTraversal((eo,ec)=>(er(eo),!1))}forEachInRange(er,eo){let ec=this.data.getIteratorFrom(er[0]);for(;ec.hasNext();){let eh=ec.getNext();if(this.comparator(eh.key,er[1])>=0)return;eo(eh.key)}}forEachWhile(er,eo){let ec;for(ec=void 0!==eo?this.data.getIteratorFrom(eo):this.data.getIterator();ec.hasNext();)if(!er(ec.getNext().key))return}firstAfterOrEqual(er){let eo=this.data.getIteratorFrom(er);return eo.hasNext()?eo.getNext().key:null}getIterator(){return new Ae(this.data.getIterator())}getIteratorFrom(er){return new Ae(this.data.getIteratorFrom(er))}add(er){return this.copy(this.data.remove(er).insert(er,!0))}delete(er){return this.has(er)?this.copy(this.data.remove(er)):this}isEmpty(){return this.data.isEmpty()}unionWith(er){let eo=this;return eo.size<er.size&&(eo=er,er=this),er.forEach(er=>{eo=eo.add(er)}),eo}isEqual(er){if(!(er instanceof Ee)||this.size!==er.size)return!1;let eo=this.data.getIterator(),ec=er.data.getIterator();for(;eo.hasNext();){let er=eo.getNext().key,eh=ec.getNext().key;if(0!==this.comparator(er,eh))return!1}return!0}toArray(){let er=[];return this.forEach(eo=>{er.push(eo)}),er}toString(){let er=[];return this.forEach(eo=>er.push(eo)),"SortedSet("+er.toString()+")"}copy(er){let eo=new Ee(this.comparator);return eo.data=er,eo}};let Ae=class Ae{constructor(er){this.iter=er}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Re=class Re{constructor(er){this.fields=er,er.sort(at.comparator)}static empty(){return new Re([])}unionWith(er){let eo=new Ee(at.comparator);for(let er of this.fields)eo=eo.add(er);for(let ec of er)eo=eo.add(ec);return new Re(eo.toArray())}covers(er){for(let eo of this.fields)if(eo.isPrefixOf(er))return!0;return!1}isEqual(er){return nt(this.fields,er.fields,(er,eo)=>er.isEqual(eo))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pe=class Pe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ve=class Ve{constructor(er){this.binaryString=er}static fromBase64String(er){let eo=function(er){try{return atob(er)}catch(er){throw"undefined"!=typeof DOMException&&er instanceof DOMException?new Pe("Invalid base64 string: "+er):er}}(er);return new Ve(eo)}static fromUint8Array(er){let eo=function(er){let eo="";for(let ec=0;ec<er.length;++ec)eo+=String.fromCharCode(er[ec]);return eo}(er);return new Ve(eo)}[Symbol.iterator](){let er=0;return{next:()=>er<this.binaryString.length?{value:this.binaryString.charCodeAt(er++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(er){let eo=new Uint8Array(er.length);for(let ec=0;ec<er.length;ec++)eo[ec]=er.charCodeAt(ec);return eo}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(er){return et(this.binaryString,er.binaryString)}isEqual(er){return this.binaryString===er.binaryString}};Ve.EMPTY_BYTE_STRING=new Ve("");let tH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function De(er){if(er||index_esm2017_O(),"string"==typeof er){let eo=0,ec=tH.exec(er);if(ec||index_esm2017_O(),ec[1]){let er=ec[1];eo=Number(er=(er+"000000000").substr(0,9))}let eh=new Date(er);return{seconds:Math.floor(eh.getTime()/1e3),nanos:eo}}return{seconds:Ce(er.seconds),nanos:Ce(er.nanos)}}function Ce(er){return"number"==typeof er?er:"string"==typeof er?Number(er):0}function xe(er){return"string"==typeof er?Ve.fromBase64String(er):Ve.fromUint8Array(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(er){var eo,ec;return"server_timestamp"===(null===(ec=((null===(eo=null==er?void 0:er.mapValue)||void 0===eo?void 0:eo.fields)||{}).__type__)||void 0===ec?void 0:ec.stringValue)}function ke(er){let eo=er.mapValue.fields.__previous_value__;return Ne(eo)?ke(eo):eo}function Me(er){let eo=De(er.mapValue.fields.__local_write_time__.timestampValue);return new it(eo.seconds,eo.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $e=class $e{constructor(er,eo,ec,eh,ep,ef,eg,em,ey){this.databaseId=er,this.appId=eo,this.persistenceKey=ec,this.host=eh,this.ssl=ep,this.forceLongPolling=ef,this.autoDetectLongPolling=eg,this.longPollingOptions=em,this.useFetchStreams=ey}};let Oe=class Oe{constructor(er,eo){this.projectId=er,this.database=eo||"(default)"}static empty(){return new Oe("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(er){return er instanceof Oe&&er.projectId===this.projectId&&er.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tB={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Le(er){return"nullValue"in er?0:"booleanValue"in er?1:"integerValue"in er||"doubleValue"in er?2:"timestampValue"in er?3:"stringValue"in er?5:"bytesValue"in er?6:"referenceValue"in er?7:"geoPointValue"in er?8:"arrayValue"in er?9:"mapValue"in er?Ne(er)?4:en(er)?9007199254740991:10:index_esm2017_O()}function qe(er,eo){if(er===eo)return!0;let ec=Le(er);if(ec!==Le(eo))return!1;switch(ec){case 0:case 9007199254740991:return!0;case 1:return er.booleanValue===eo.booleanValue;case 4:return Me(er).isEqual(Me(eo));case 3:return function(er,eo){if("string"==typeof er.timestampValue&&"string"==typeof eo.timestampValue&&er.timestampValue.length===eo.timestampValue.length)return er.timestampValue===eo.timestampValue;let ec=De(er.timestampValue),eh=De(eo.timestampValue);return ec.seconds===eh.seconds&&ec.nanos===eh.nanos}(er,eo);case 5:return er.stringValue===eo.stringValue;case 6:return xe(er.bytesValue).isEqual(xe(eo.bytesValue));case 7:return er.referenceValue===eo.referenceValue;case 8:return Ce(er.geoPointValue.latitude)===Ce(eo.geoPointValue.latitude)&&Ce(er.geoPointValue.longitude)===Ce(eo.geoPointValue.longitude);case 2:return function(er,eo){if("integerValue"in er&&"integerValue"in eo)return Ce(er.integerValue)===Ce(eo.integerValue);if("doubleValue"in er&&"doubleValue"in eo){let ec=Ce(er.doubleValue),eh=Ce(eo.doubleValue);return ec===eh?Bt(ec)===Bt(eh):isNaN(ec)&&isNaN(eh)}return!1}(er,eo);case 9:return nt(er.arrayValue.values||[],eo.arrayValue.values||[],qe);case 10:return function(er,eo){let ec=er.mapValue.fields||{},eh=eo.mapValue.fields||{};if(me(ec)!==me(eh))return!1;for(let er in ec)if(ec.hasOwnProperty(er)&&(void 0===eh[er]||!qe(ec[er],eh[er])))return!1;return!0}(er,eo);default:return index_esm2017_O()}}function Ue(er,eo){return void 0!==(er.values||[]).find(er=>qe(er,eo))}function Ke(er,eo){if(er===eo)return 0;let ec=Le(er),eh=Le(eo);if(ec!==eh)return et(ec,eh);switch(ec){case 0:case 9007199254740991:return 0;case 1:return et(er.booleanValue,eo.booleanValue);case 2:return function(er,eo){let ec=Ce(er.integerValue||er.doubleValue),eh=Ce(eo.integerValue||eo.doubleValue);return ec<eh?-1:ec>eh?1:ec===eh?0:isNaN(ec)?isNaN(eh)?0:-1:1}(er,eo);case 3:return Ge(er.timestampValue,eo.timestampValue);case 4:return Ge(Me(er),Me(eo));case 5:return et(er.stringValue,eo.stringValue);case 6:return function(er,eo){let ec=xe(er),eh=xe(eo);return ec.compareTo(eh)}(er.bytesValue,eo.bytesValue);case 7:return function(er,eo){let ec=er.split("/"),eh=eo.split("/");for(let er=0;er<ec.length&&er<eh.length;er++){let eo=et(ec[er],eh[er]);if(0!==eo)return eo}return et(ec.length,eh.length)}(er.referenceValue,eo.referenceValue);case 8:return function(er,eo){let ec=et(Ce(er.latitude),Ce(eo.latitude));return 0!==ec?ec:et(Ce(er.longitude),Ce(eo.longitude))}(er.geoPointValue,eo.geoPointValue);case 9:return function(er,eo){let ec=er.values||[],eh=eo.values||[];for(let er=0;er<ec.length&&er<eh.length;++er){let eo=Ke(ec[er],eh[er]);if(eo)return eo}return et(ec.length,eh.length)}(er.arrayValue,eo.arrayValue);case 10:return function(er,eo){if(er===tB.mapValue&&eo===tB.mapValue)return 0;if(er===tB.mapValue)return 1;if(eo===tB.mapValue)return -1;let ec=er.fields||{},eh=Object.keys(ec),ep=eo.fields||{},ef=Object.keys(ep);eh.sort(),ef.sort();for(let er=0;er<eh.length&&er<ef.length;++er){let eo=et(eh[er],ef[er]);if(0!==eo)return eo;let eg=Ke(ec[eh[er]],ep[ef[er]]);if(0!==eg)return eg}return et(eh.length,ef.length)}(er.mapValue,eo.mapValue);default:throw index_esm2017_O()}}function Ge(er,eo){if("string"==typeof er&&"string"==typeof eo&&er.length===eo.length)return et(er,eo);let ec=De(er),eh=De(eo),ep=et(ec.seconds,eh.seconds);return 0!==ep?ep:et(ec.nanos,eh.nanos)}function je(er){var eo,ec;return"nullValue"in er?"null":"booleanValue"in er?""+er.booleanValue:"integerValue"in er?""+er.integerValue:"doubleValue"in er?""+er.doubleValue:"timestampValue"in er?function(er){let eo=De(er);return`time(${eo.seconds},${eo.nanos})`}(er.timestampValue):"stringValue"in er?er.stringValue:"bytesValue"in er?xe(er.bytesValue).toBase64():"referenceValue"in er?(ec=er.referenceValue,ht.fromName(ec).toString()):"geoPointValue"in er?`geo(${(eo=er.geoPointValue).latitude},${eo.longitude})`:"arrayValue"in er?function(er){let eo="[",ec=!0;for(let eh of er.values||[])ec?ec=!1:eo+=",",eo+=je(eh);return eo+"]"}(er.arrayValue):"mapValue"in er?function(er){let eo=Object.keys(er.fields||{}).sort(),ec="{",eh=!0;for(let ep of eo)eh?eh=!1:ec+=",",ec+=`${ep}:${je(er.fields[ep])}`;return ec+"}"}(er.mapValue):index_esm2017_O()}function We(er,eo){return{referenceValue:`projects/${er.projectId}/databases/${er.database}/documents/${eo.path.canonicalString()}`}}function He(er){return!!er&&"integerValue"in er}function Je(er){return!!er&&"arrayValue"in er}function Ye(er){return!!er&&"nullValue"in er}function Xe(er){return!!er&&"doubleValue"in er&&isNaN(Number(er.doubleValue))}function Ze(er){return!!er&&"mapValue"in er}function tn(er){if(er.geoPointValue)return{geoPointValue:Object.assign({},er.geoPointValue)};if(er.timestampValue&&"object"==typeof er.timestampValue)return{timestampValue:Object.assign({},er.timestampValue)};if(er.mapValue){let eo={mapValue:{fields:{}}};return ge(er.mapValue.fields,(er,ec)=>eo.mapValue.fields[er]=tn(ec)),eo}if(er.arrayValue){let eo={arrayValue:{values:[]}};for(let ec=0;ec<(er.arrayValue.values||[]).length;++ec)eo.arrayValue.values[ec]=tn(er.arrayValue.values[ec]);return eo}return Object.assign({},er)}function en(er){return"__max__"===(((er.mapValue||{}).fields||{}).__type__||{}).stringValue}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class un{constructor(er){this.value=er}static empty(){return new un({mapValue:{}})}field(er){if(er.isEmpty())return this.value;{let eo=this.value;for(let ec=0;ec<er.length-1;++ec)if(!Ze(eo=(eo.mapValue.fields||{})[er.get(ec)]))return null;return(eo=(eo.mapValue.fields||{})[er.lastSegment()])||null}}set(er,eo){this.getFieldsMap(er.popLast())[er.lastSegment()]=tn(eo)}setAll(er){let eo=at.emptyPath(),ec={},eh=[];er.forEach((er,ep)=>{if(!eo.isImmediateParentOf(ep)){let er=this.getFieldsMap(eo);this.applyChanges(er,ec,eh),ec={},eh=[],eo=ep.popLast()}er?ec[ep.lastSegment()]=tn(er):eh.push(ep.lastSegment())});let ep=this.getFieldsMap(eo);this.applyChanges(ep,ec,eh)}delete(er){let eo=this.field(er.popLast());Ze(eo)&&eo.mapValue.fields&&delete eo.mapValue.fields[er.lastSegment()]}isEqual(er){return qe(this.value,er.value)}getFieldsMap(er){let eo=this.value;eo.mapValue.fields||(eo.mapValue={fields:{}});for(let ec=0;ec<er.length;++ec){let eh=eo.mapValue.fields[er.get(ec)];Ze(eh)&&eh.mapValue.fields||(eh={mapValue:{fields:{}}},eo.mapValue.fields[er.get(ec)]=eh),eo=eh}return eo.mapValue.fields}applyChanges(er,eo,ec){for(let eh of(ge(eo,(eo,ec)=>er[eo]=ec),ec))delete er[eh]}clone(){return new un(tn(this.value))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let an=class an{constructor(er,eo,ec,eh,ep,ef,eg){this.key=er,this.documentType=eo,this.version=ec,this.readTime=eh,this.createTime=ep,this.data=ef,this.documentState=eg}static newInvalidDocument(er){return new an(er,0,rt.min(),rt.min(),rt.min(),un.empty(),0)}static newFoundDocument(er,eo,ec,eh){return new an(er,1,eo,rt.min(),ec,eh,0)}static newNoDocument(er,eo){return new an(er,2,eo,rt.min(),rt.min(),un.empty(),0)}static newUnknownDocument(er,eo){return new an(er,3,eo,rt.min(),rt.min(),un.empty(),2)}convertToFoundDocument(er,eo){return this.createTime.isEqual(rt.min())&&(2===this.documentType||0===this.documentType)&&(this.createTime=er),this.version=er,this.documentType=1,this.data=eo,this.documentState=0,this}convertToNoDocument(er){return this.version=er,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(er){return this.version=er,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(er){return this.readTime=er,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(er){return er instanceof an&&this.key.isEqual(er.key)&&this.version.isEqual(er.version)&&this.documentType===er.documentType&&this.documentState===er.documentState&&this.data.isEqual(er.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class hn{constructor(er,eo){this.position=er,this.inclusive=eo}};function ln(er,eo,ec){let eh=0;for(let ep=0;ep<er.position.length;ep++){let ef=eo[ep],eg=er.position[ep];if(eh=ef.field.isKeyField()?ht.comparator(ht.fromName(eg.referenceValue),ec.key):Ke(eg,ec.data.field(ef.field)),"desc"===ef.dir&&(eh*=-1),0!==eh)break}return eh}function fn(er,eo){if(null===er)return null===eo;if(null===eo||er.inclusive!==eo.inclusive||er.position.length!==eo.position.length)return!1;for(let ec=0;ec<er.position.length;ec++)if(!qe(er.position[ec],eo.position[ec]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dn=class dn{constructor(er,eo="asc"){this.field=er,this.dir=eo}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _n=class _n{};let mn=class mn extends _n{constructor(er,eo,ec){super(),this.field=er,this.op=eo,this.value=ec}static create(er,eo,ec){return er.isKeyField()?"in"===eo||"not-in"===eo?this.createKeyFieldInFilter(er,eo,ec):new Pn(er,eo,ec):"array-contains"===eo?new Dn(er,ec):"in"===eo?new Cn(er,ec):"not-in"===eo?new xn(er,ec):"array-contains-any"===eo?new Nn(er,ec):new mn(er,eo,ec)}static createKeyFieldInFilter(er,eo,ec){return"in"===eo?new bn(er,ec):new Vn(er,ec)}matches(er){let eo=er.data.field(this.field);return"!="===this.op?null!==eo&&this.matchesComparison(Ke(eo,this.value)):null!==eo&&Le(this.value)===Le(eo)&&this.matchesComparison(Ke(eo,this.value))}matchesComparison(er){switch(this.op){case"<":return er<0;case"<=":return er<=0;case"==":return 0===er;case"!=":return 0!==er;case">":return er>0;case">=":return er>=0;default:return index_esm2017_O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}};let gn=class gn extends _n{constructor(er,eo){super(),this.filters=er,this.op=eo,this.lt=null}static create(er,eo){return new gn(er,eo)}matches(er){return yn(this)?void 0===this.filters.find(eo=>!eo.matches(er)):void 0!==this.filters.find(eo=>eo.matches(er))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((er,eo)=>er.concat(eo.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let er=this.ft(er=>er.isInequality());return null!==er?er.field:null}ft(er){for(let eo of this.getFlattenedFilters())if(er(eo))return eo;return null}};function yn(er){return"and"===er.op}function Tn(er){for(let eo of er.filters)if(eo instanceof gn)return!1;return!0}let Pn=class Pn extends mn{constructor(er,eo,ec){super(er,eo,ec),this.key=ht.fromName(ec.referenceValue)}matches(er){let eo=ht.comparator(er.key,this.key);return this.matchesComparison(eo)}};let bn=class bn extends mn{constructor(er,eo){super(er,"in",eo),this.keys=Sn("in",eo)}matches(er){return this.keys.some(eo=>eo.isEqual(er.key))}};let Vn=class Vn extends mn{constructor(er,eo){super(er,"not-in",eo),this.keys=Sn("not-in",eo)}matches(er){return!this.keys.some(eo=>eo.isEqual(er.key))}};function Sn(er,eo){var ec;return((null===(ec=eo.arrayValue)||void 0===ec?void 0:ec.values)||[]).map(er=>ht.fromName(er.referenceValue))}let Dn=class Dn extends mn{constructor(er,eo){super(er,"array-contains",eo)}matches(er){let eo=er.data.field(this.field);return Je(eo)&&Ue(eo.arrayValue,this.value)}};let Cn=class Cn extends mn{constructor(er,eo){super(er,"in",eo)}matches(er){let eo=er.data.field(this.field);return null!==eo&&Ue(this.value.arrayValue,eo)}};let xn=class xn extends mn{constructor(er,eo){super(er,"not-in",eo)}matches(er){if(Ue(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let eo=er.data.field(this.field);return null!==eo&&!Ue(this.value.arrayValue,eo)}};let Nn=class Nn extends mn{constructor(er,eo){super(er,"array-contains-any",eo)}matches(er){let eo=er.data.field(this.field);return!(!Je(eo)||!eo.arrayValue.values)&&eo.arrayValue.values.some(er=>Ue(this.value.arrayValue,er))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kn=class kn{constructor(er,eo=null,ec=[],eh=[],ep=null,ef=null,eg=null){this.path=er,this.collectionGroup=eo,this.orderBy=ec,this.filters=eh,this.limit=ep,this.startAt=ef,this.endAt=eg,this.dt=null}};function Mn(er,eo=null,ec=[],eh=[],ep=null,ef=null,eg=null){return new kn(er,eo,ec,eh,ep,ef,eg)}function $n(er){if(null===er.dt){let eo=er.path.canonicalString();null!==er.collectionGroup&&(eo+="|cg:"+er.collectionGroup),eo+="|f:"+er.filters.map(er=>(function En(er){if(er instanceof mn)return er.field.canonicalString()+er.op.toString()+je(er.value);if(Tn(er)&&yn(er))return er.filters.map(er=>En(er)).join(",");{let eo=er.filters.map(er=>En(er)).join(",");return`${er.op}(${eo})`}})(er)).join(",")+"|ob:"+er.orderBy.map(er=>er.field.canonicalString()+er.dir).join(","),null==er.limit||(eo+="|l:"+er.limit),er.startAt&&(eo+="|lb:"+(er.startAt.inclusive?"b:":"a:")+er.startAt.position.map(er=>je(er)).join(",")),er.endAt&&(eo+="|ub:"+(er.endAt.inclusive?"a:":"b:")+er.endAt.position.map(er=>je(er)).join(",")),er.dt=eo}return er.dt}function On(er,eo){if(er.limit!==eo.limit||er.orderBy.length!==eo.orderBy.length)return!1;for(let ep=0;ep<er.orderBy.length;ep++){var ec,eh;if(ec=er.orderBy[ep],eh=eo.orderBy[ep],!(ec.dir===eh.dir&&ec.field.isEqual(eh.field)))return!1}if(er.filters.length!==eo.filters.length)return!1;for(let ec=0;ec<er.filters.length;ec++)if(!function An(er,eo){return er instanceof mn?eo instanceof mn&&er.op===eo.op&&er.field.isEqual(eo.field)&&qe(er.value,eo.value):er instanceof gn?eo instanceof gn&&er.op===eo.op&&er.filters.length===eo.filters.length&&er.filters.reduce((er,ec,eh)=>er&&An(ec,eo.filters[eh]),!0):void index_esm2017_O()}(er.filters[ec],eo.filters[ec]))return!1;return er.collectionGroup===eo.collectionGroup&&!!er.path.isEqual(eo.path)&&!!fn(er.startAt,eo.startAt)&&fn(er.endAt,eo.endAt)}function Fn(er){return ht.isDocumentKey(er.path)&&null===er.collectionGroup&&0===er.filters.length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Un=class Un{constructor(er,eo=null,ec=[],eh=[],ep=null,ef="F",eg=null,em=null){this.path=er,this.collectionGroup=eo,this.explicitOrderBy=ec,this.filters=eh,this.limit=ep,this.limitType=ef,this.startAt=eg,this.endAt=em,this.wt=null,this._t=null,this.startAt,this.endAt}};function Gn(er){return new Un(er)}function Qn(er){return 0===er.filters.length&&null===er.limit&&null==er.startAt&&null==er.endAt&&(0===er.explicitOrderBy.length||1===er.explicitOrderBy.length&&er.explicitOrderBy[0].field.isKeyField())}function jn(er){return er.explicitOrderBy.length>0?er.explicitOrderBy[0].field:null}function zn(er){for(let eo of er.filters){let er=eo.getFirstInequalityField();if(null!==er)return er}return null}function Wn(er){return null!==er.collectionGroup}function Hn(er){if(null===er.wt){er.wt=[];let eo=zn(er),ec=jn(er);if(null!==eo&&null===ec)eo.isKeyField()||er.wt.push(new dn(eo)),er.wt.push(new dn(at.keyField(),"asc"));else{let eo=!1;for(let ec of er.explicitOrderBy)er.wt.push(ec),ec.field.isKeyField()&&(eo=!0);if(!eo){let eo=er.explicitOrderBy.length>0?er.explicitOrderBy[er.explicitOrderBy.length-1].dir:"asc";er.wt.push(new dn(at.keyField(),eo))}}}return er.wt}function Jn(er){if(!er._t){if("F"===er.limitType)er._t=Mn(er.path,er.collectionGroup,Hn(er),er.filters,er.limit,er.startAt,er.endAt);else{let eo=[];for(let ec of Hn(er)){let er="desc"===ec.dir?"asc":"desc";eo.push(new dn(ec.field,er))}let ec=er.endAt?new hn(er.endAt.position,er.endAt.inclusive):null,eh=er.startAt?new hn(er.startAt.position,er.startAt.inclusive):null;er._t=Mn(er.path,er.collectionGroup,eo,er.filters,er.limit,ec,eh)}}return er._t}function Yn(er,eo){eo.getFirstInequalityField(),zn(er);let ec=er.filters.concat([eo]);return new Un(er.path,er.collectionGroup,er.explicitOrderBy.slice(),ec,er.limit,er.limitType,er.startAt,er.endAt)}function Xn(er,eo,ec){return new Un(er.path,er.collectionGroup,er.explicitOrderBy.slice(),er.filters.slice(),eo,ec,er.startAt,er.endAt)}function Zn(er,eo){return On(Jn(er),Jn(eo))&&er.limitType===eo.limitType}function ts(er){return`${$n(Jn(er))}|lt:${er.limitType}`}function es(er){var eo;let ec;return`Query(target=${ec=(eo=Jn(er)).path.canonicalString(),null!==eo.collectionGroup&&(ec+=" collectionGroup="+eo.collectionGroup),eo.filters.length>0&&(ec+=`, filters: [${eo.filters.map(er=>(function Rn(er){return er instanceof mn?`${er.field.canonicalString()} ${er.op} ${je(er.value)}`:er instanceof gn?er.op.toString()+" {"+er.getFilters().map(Rn).join(" ,")+"}":"Filter"})(er)).join(", ")}]`),null==eo.limit||(ec+=", limit: "+eo.limit),eo.orderBy.length>0&&(ec+=`, orderBy: [${eo.orderBy.map(er=>`${er.field.canonicalString()} (${er.dir})`).join(", ")}]`),eo.startAt&&(ec+=", startAt: "+(eo.startAt.inclusive?"b:":"a:")+eo.startAt.position.map(er=>je(er)).join(",")),eo.endAt&&(ec+=", endAt: "+(eo.endAt.inclusive?"a:":"b:")+eo.endAt.position.map(er=>je(er)).join(",")),`Target(${ec})`}; limitType=${er.limitType})`}function ns(er,eo){return eo.isFoundDocument()&&function(er,eo){let ec=eo.key.path;return null!==er.collectionGroup?eo.key.hasCollectionId(er.collectionGroup)&&er.path.isPrefixOf(ec):ht.isDocumentKey(er.path)?er.path.isEqual(ec):er.path.isImmediateParentOf(ec)}(er,eo)&&function(er,eo){for(let ec of Hn(er))if(!ec.field.isKeyField()&&null===eo.data.field(ec.field))return!1;return!0}(er,eo)&&function(er,eo){for(let ec of er.filters)if(!ec.matches(eo))return!1;return!0}(er,eo)&&(!er.startAt||!!function(er,eo,ec){let eh=ln(er,eo,ec);return er.inclusive?eh<=0:eh<0}(er.startAt,Hn(er),eo))&&(!er.endAt||!!function(er,eo,ec){let eh=ln(er,eo,ec);return er.inclusive?eh>=0:eh>0}(er.endAt,Hn(er),eo))}function is(er){return(eo,ec)=>{let eh=!1;for(let ep of Hn(er)){let er=function(er,eo,ec){let eh=er.field.isKeyField()?ht.comparator(eo.key,ec.key):function(er,eo,ec){let eh=eo.data.field(er),ep=ec.data.field(er);return null!==eh&&null!==ep?Ke(eh,ep):index_esm2017_O()}(er.field,eo,ec);switch(er.dir){case"asc":return eh;case"desc":return -1*eh;default:return index_esm2017_O()}}(ep,eo,ec);if(0!==er)return er;eh=eh||ep.field.isKeyField()}return 0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let os=class os{constructor(er,eo){this.mapKeyFn=er,this.equalsFn=eo,this.inner={},this.innerSize=0}get(er){let eo=this.mapKeyFn(er),ec=this.inner[eo];if(void 0!==ec){for(let[eo,eh]of ec)if(this.equalsFn(eo,er))return eh}}has(er){return void 0!==this.get(er)}set(er,eo){let ec=this.mapKeyFn(er),eh=this.inner[ec];if(void 0===eh)return this.inner[ec]=[[er,eo]],void this.innerSize++;for(let ec=0;ec<eh.length;ec++)if(this.equalsFn(eh[ec][0],er))return void(eh[ec]=[er,eo]);eh.push([er,eo]),this.innerSize++}delete(er){let eo=this.mapKeyFn(er),ec=this.inner[eo];if(void 0===ec)return!1;for(let eh=0;eh<ec.length;eh++)if(this.equalsFn(ec[eh][0],er))return 1===ec.length?delete this.inner[eo]:ec.splice(eh,1),this.innerSize--,!0;return!1}forEach(er){ge(this.inner,(eo,ec)=>{for(let[eo,eh]of ec)er(eo,eh)})}isEmpty(){return ye(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tq=new pe(ht.comparator),tz=new pe(ht.comparator);function hs(...er){let eo=tz;for(let ec of er)eo=eo.insert(ec.key,ec);return eo}function ls(er){let eo=tz;return er.forEach((er,ec)=>eo=eo.insert(er,ec.overlayedDocument)),eo}function ws(){return new os(er=>er.toString(),(er,eo)=>er.isEqual(eo))}let tW=new pe(ht.comparator),t$=new Ee(ht.comparator);function gs(...er){let eo=t$;for(let ec of er)eo=eo.add(ec);return eo}let tG=new Ee(et);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(er,eo){if(er.useProto3Json){if(isNaN(eo))return{doubleValue:"NaN"};if(eo===1/0)return{doubleValue:"Infinity"};if(eo===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bt(eo)?"-0":eo}}function Ts(er){return{integerValue:""+er}}function Es(er,eo){return"number"==typeof eo&&Number.isInteger(eo)&&!Bt(eo)&&eo<=Number.MAX_SAFE_INTEGER&&eo>=Number.MIN_SAFE_INTEGER?Ts(eo):Is(er,eo)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As=class As{constructor(){this._=void 0}};function Ps(er,eo){return er instanceof xs?He(eo)||eo&&"doubleValue"in eo?eo:{integerValue:0}:null}let bs=class bs extends As{};let Vs=class Vs extends As{constructor(er){super(),this.elements=er}};function Ss(er,eo){let ec=ks(eo);for(let eo of er.elements)ec.some(er=>qe(er,eo))||ec.push(eo);return{arrayValue:{values:ec}}}let Ds=class Ds extends As{constructor(er){super(),this.elements=er}};function Cs(er,eo){let ec=ks(eo);for(let eo of er.elements)ec=ec.filter(er=>!qe(er,eo));return{arrayValue:{values:ec}}}let xs=class xs extends As{constructor(er,eo){super(),this.serializer=er,this.gt=eo}};function Ns(er){return Ce(er.integerValue||er.doubleValue)}function ks(er){return Je(er)&&er.arrayValue.values?er.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms=class Ms{constructor(er,eo){this.field=er,this.transform=eo}};let Os=class Os{constructor(er,eo){this.version=er,this.transformResults=eo}};let Fs=class Fs{constructor(er,eo){this.updateTime=er,this.exists=eo}static none(){return new Fs}static exists(er){return new Fs(void 0,er)}static updateTime(er){return new Fs(er)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(er){return this.exists===er.exists&&(this.updateTime?!!er.updateTime&&this.updateTime.isEqual(er.updateTime):!er.updateTime)}};function Bs(er,eo){return void 0!==er.updateTime?eo.isFoundDocument()&&eo.version.isEqual(er.updateTime):void 0===er.exists||er.exists===eo.isFoundDocument()}let Ls=class Ls{};function qs(er,eo){if(!er.hasLocalMutations||eo&&0===eo.fields.length)return null;if(null===eo)return er.isNoDocument()?new Ys(er.key,Fs.none()):new js(er.key,er.data,Fs.none());{let ec=er.data,eh=un.empty(),ep=new Ee(at.comparator);for(let er of eo.fields)if(!ep.has(er)){let eo=ec.field(er);null===eo&&er.length>1&&(er=er.popLast(),eo=ec.field(er)),null===eo?eh.delete(er):eh.set(er,eo),ep=ep.add(er)}return new zs(er.key,eh,new Re(ep.toArray()),Fs.none())}}function Ks(er,eo,ec,eh){return er instanceof js?function(er,eo,ec,eh){if(!Bs(er.precondition,eo))return ec;let ep=er.value.clone(),ef=Js(er.fieldTransforms,eh,eo);return ep.setAll(ef),eo.convertToFoundDocument(eo.version,ep).setHasLocalMutations(),null}(er,eo,ec,eh):er instanceof zs?function(er,eo,ec,eh){if(!Bs(er.precondition,eo))return ec;let ep=Js(er.fieldTransforms,eh,eo),ef=eo.data;return(ef.setAll(Ws(er)),ef.setAll(ep),eo.convertToFoundDocument(eo.version,ef).setHasLocalMutations(),null===ec)?null:ec.unionWith(er.fieldMask.fields).unionWith(er.fieldTransforms.map(er=>er.field))}(er,eo,ec,eh):Bs(er.precondition,eo)?(eo.convertToNoDocument(eo.version).setHasLocalMutations(),null):ec}function Qs(er,eo){var ec,eh;return er.type===eo.type&&!!er.key.isEqual(eo.key)&&!!er.precondition.isEqual(eo.precondition)&&(ec=er.fieldTransforms,eh=eo.fieldTransforms,!!(void 0===ec&&void 0===eh||!(!ec||!eh)&&nt(ec,eh,(er,eo)=>{var ec,eh;return er.field.isEqual(eo.field)&&(ec=er.transform,eh=eo.transform,ec instanceof Vs&&eh instanceof Vs||ec instanceof Ds&&eh instanceof Ds?nt(ec.elements,eh.elements,qe):ec instanceof xs&&eh instanceof xs?qe(ec.gt,eh.gt):ec instanceof bs&&eh instanceof bs)})))&&(0===er.type?er.value.isEqual(eo.value):1!==er.type||er.data.isEqual(eo.data)&&er.fieldMask.isEqual(eo.fieldMask))}let js=class js extends Ls{constructor(er,eo,ec,eh=[]){super(),this.key=er,this.value=eo,this.precondition=ec,this.fieldTransforms=eh,this.type=0}getFieldMask(){return null}};let zs=class zs extends Ls{constructor(er,eo,ec,eh,ep=[]){super(),this.key=er,this.data=eo,this.fieldMask=ec,this.precondition=eh,this.fieldTransforms=ep,this.type=1}getFieldMask(){return this.fieldMask}};function Ws(er){let eo=new Map;return er.fieldMask.fields.forEach(ec=>{if(!ec.isEmpty()){let eh=er.data.field(ec);eo.set(ec,eh)}}),eo}function Hs(er,eo,ec){var eh;let ep=new Map;er.length===ec.length||index_esm2017_O();for(let ef=0;ef<ec.length;ef++){let eg=er[ef],em=eg.transform,ey=eo.data.field(eg.field);ep.set(eg.field,(eh=ec[ef],em instanceof Vs?Ss(em,ey):em instanceof Ds?Cs(em,ey):eh))}return ep}function Js(er,eo,ec){let eh=new Map;for(let ep of er){let er=ep.transform,ef=ec.data.field(ep.field);eh.set(ep.field,er instanceof bs?function(er,eo){let ec={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:er.seconds,nanos:er.nanoseconds}}}};return eo&&Ne(eo)&&(eo=ke(eo)),eo&&(ec.fields.__previous_value__=eo),{mapValue:ec}}(eo,ef):er instanceof Vs?Ss(er,ef):er instanceof Ds?Cs(er,ef):function(er,eo){let ec=Ps(er,eo),eh=Ns(ec)+Ns(er.gt);return He(ec)&&He(er.gt)?Ts(eh):Is(er.serializer,eh)}(er,ef))}return eh}let Ys=class Ys extends Ls{constructor(er,eo){super(),this.key=er,this.precondition=eo,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};let Xs=class Xs extends Ls{constructor(er,eo){super(),this.key=er,this.precondition=eo,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zs=class Zs{constructor(er,eo,ec,eh){this.batchId=er,this.localWriteTime=eo,this.baseMutations=ec,this.mutations=eh}applyToRemoteDocument(er,eo){let ec=eo.mutationResults;for(let eo=0;eo<this.mutations.length;eo++){let ep=this.mutations[eo];if(ep.key.isEqual(er.key)){var eh;eh=ec[eo],ep instanceof js?function(er,eo,ec){let eh=er.value.clone(),ep=Hs(er.fieldTransforms,eo,ec.transformResults);eh.setAll(ep),eo.convertToFoundDocument(ec.version,eh).setHasCommittedMutations()}(ep,er,eh):ep instanceof zs?function(er,eo,ec){if(!Bs(er.precondition,eo))return void eo.convertToUnknownDocument(ec.version);let eh=Hs(er.fieldTransforms,eo,ec.transformResults),ep=eo.data;ep.setAll(Ws(er)),ep.setAll(eh),eo.convertToFoundDocument(ec.version,ep).setHasCommittedMutations()}(ep,er,eh):function(er,eo,ec){eo.convertToNoDocument(ec.version).setHasCommittedMutations()}(0,er,eh)}}}applyToLocalView(er,eo){for(let ec of this.baseMutations)ec.key.isEqual(er.key)&&(eo=Ks(ec,er,eo,this.localWriteTime));for(let ec of this.mutations)ec.key.isEqual(er.key)&&(eo=Ks(ec,er,eo,this.localWriteTime));return eo}applyToLocalDocumentSet(er,eo){let ec=ws();return this.mutations.forEach(eh=>{let ep=er.get(eh.key),ef=ep.overlayedDocument,eg=this.applyToLocalView(ef,ep.mutatedFields);eg=eo.has(eh.key)?null:eg;let em=qs(ef,eg);null!==em&&ec.set(eh.key,em),ef.isValidDocument()||ef.convertToNoDocument(rt.min())}),ec}keys(){return this.mutations.reduce((er,eo)=>er.add(eo.key),gs())}isEqual(er){return this.batchId===er.batchId&&nt(this.mutations,er.mutations,(er,eo)=>Qs(er,eo))&&nt(this.baseMutations,er.baseMutations,(er,eo)=>Qs(er,eo))}};let ti=class ti{constructor(er,eo,ec,eh){this.batch=er,this.commitVersion=eo,this.mutationResults=ec,this.docVersions=eh}static from(er,eo,ec){er.mutations.length===ec.length||index_esm2017_O();let eh=tW,ep=er.mutations;for(let er=0;er<ep.length;er++)eh=eh.insert(ep[er].key,ec[er].version);return new ti(er,eo,ec,eh)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ei=class ei{constructor(er,eo){this.largestBatchId=er,this.mutation=eo}getKey(){return this.mutation.key}isEqual(er){return null!==er&&this.mutation===er.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let si=class si{constructor(er,eo){this.count=er,this.unchangedNames=eo}};function ui(er){if(void 0===er)return index_esm2017_k("GRPC error has no .code"),tF.UNKNOWN;switch(er){case em.OK:return tF.OK;case em.CANCELLED:return tF.CANCELLED;case em.UNKNOWN:return tF.UNKNOWN;case em.DEADLINE_EXCEEDED:return tF.DEADLINE_EXCEEDED;case em.RESOURCE_EXHAUSTED:return tF.RESOURCE_EXHAUSTED;case em.INTERNAL:return tF.INTERNAL;case em.UNAVAILABLE:return tF.UNAVAILABLE;case em.UNAUTHENTICATED:return tF.UNAUTHENTICATED;case em.INVALID_ARGUMENT:return tF.INVALID_ARGUMENT;case em.NOT_FOUND:return tF.NOT_FOUND;case em.ALREADY_EXISTS:return tF.ALREADY_EXISTS;case em.PERMISSION_DENIED:return tF.PERMISSION_DENIED;case em.FAILED_PRECONDITION:return tF.FAILED_PRECONDITION;case em.ABORTED:return tF.ABORTED;case em.OUT_OF_RANGE:return tF.OUT_OF_RANGE;case em.UNIMPLEMENTED:return tF.UNIMPLEMENTED;case em.DATA_LOSS:return tF.DATA_LOSS;default:return index_esm2017_O()}}(ey=em||(em={}))[ey.OK=0]="OK",ey[ey.CANCELLED=1]="CANCELLED",ey[ey.UNKNOWN=2]="UNKNOWN",ey[ey.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ey[ey.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ey[ey.NOT_FOUND=5]="NOT_FOUND",ey[ey.ALREADY_EXISTS=6]="ALREADY_EXISTS",ey[ey.PERMISSION_DENIED=7]="PERMISSION_DENIED",ey[ey.UNAUTHENTICATED=16]="UNAUTHENTICATED",ey[ey.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ey[ey.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ey[ey.ABORTED=10]="ABORTED",ey[ey.OUT_OF_RANGE=11]="OUT_OF_RANGE",ey[ey.UNIMPLEMENTED=12]="UNIMPLEMENTED",ey[ey.INTERNAL=13]="INTERNAL",ey[ey.UNAVAILABLE=14]="UNAVAILABLE",ey[ey.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ci=class ci{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return tK}static getOrCreateInstance(){return null===tK&&(tK=new ci),tK}onExistenceFilterMismatch(er){let eo=Symbol();return this.onExistenceFilterMismatchCallbacks.set(eo,er),()=>this.onExistenceFilterMismatchCallbacks.delete(eo)}notifyOnExistenceFilterMismatch(er){this.onExistenceFilterMismatchCallbacks.forEach(eo=>eo(er))}};let tK=null,tZ=new tD([4294967295,4294967295],0);function fi(er){let eo=(new TextEncoder).encode(er),ec=new tR;return ec.update(eo),new Uint8Array(ec.digest())}function di(er){let eo=new DataView(er.buffer),ec=eo.getUint32(0,!0),eh=eo.getUint32(4,!0),ep=eo.getUint32(8,!0),ef=eo.getUint32(12,!0);return[new tD([ec,eh],0),new tD([ep,ef],0)]}let wi=class wi{constructor(er,eo,ec){if(this.bitmap=er,this.padding=eo,this.hashCount=ec,eo<0||eo>=8)throw new _i(`Invalid padding: ${eo}`);if(ec<0||er.length>0&&0===this.hashCount)throw new _i(`Invalid hash count: ${ec}`);if(0===er.length&&0!==eo)throw new _i(`Invalid padding when bitmap length is 0: ${eo}`);this.It=8*er.length-eo,this.Tt=tD.fromNumber(this.It)}Et(er,eo,ec){let eh=er.add(eo.multiply(tD.fromNumber(ec)));return 1===eh.compare(tZ)&&(eh=new tD([eh.getBits(0),eh.getBits(1)],0)),eh.modulo(this.Tt).toNumber()}At(er){return 0!=(this.bitmap[Math.floor(er/8)]&1<<er%8)}vt(er){if(0===this.It)return!1;let eo=fi(er),[ec,eh]=di(eo);for(let er=0;er<this.hashCount;er++){let eo=this.Et(ec,eh,er);if(!this.At(eo))return!1}return!0}static create(er,eo,ec){let eh=new Uint8Array(Math.ceil(er/8)),ep=new wi(eh,er%8==0?0:8-er%8,eo);return ec.forEach(er=>ep.insert(er)),ep}insert(er){if(0===this.It)return;let eo=fi(er),[ec,eh]=di(eo);for(let er=0;er<this.hashCount;er++){let eo=this.Et(ec,eh,er);this.Rt(eo)}}Rt(er){let eo=Math.floor(er/8);this.bitmap[eo]|=1<<er%8}};let _i=class _i extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mi=class mi{constructor(er,eo,ec,eh,ep){this.snapshotVersion=er,this.targetChanges=eo,this.targetMismatches=ec,this.documentUpdates=eh,this.resolvedLimboDocuments=ep}static createSynthesizedRemoteEventForCurrentChange(er,eo,ec){let eh=new Map;return eh.set(er,gi.createSynthesizedTargetChangeForCurrentChange(er,eo,ec)),new mi(rt.min(),eh,new pe(et),tq,gs())}};let gi=class gi{constructor(er,eo,ec,eh,ep){this.resumeToken=er,this.current=eo,this.addedDocuments=ec,this.modifiedDocuments=eh,this.removedDocuments=ep}static createSynthesizedTargetChangeForCurrentChange(er,eo,ec){return new gi(ec,eo,gs(),gs(),gs())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yi=class yi{constructor(er,eo,ec,eh){this.Pt=er,this.removedTargetIds=eo,this.key=ec,this.bt=eh}};let pi=class pi{constructor(er,eo){this.targetId=er,this.Vt=eo}};let Ii=class Ii{constructor(er,eo,ec=Ve.EMPTY_BYTE_STRING,eh=null){this.state=er,this.targetIds=eo,this.resumeToken=ec,this.cause=eh}};let Ti=class Ti{constructor(){this.St=0,this.Dt=vi(),this.Ct=Ve.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(er){er.approximateByteSize()>0&&(this.Nt=!0,this.Ct=er)}Ot(){let er=gs(),eo=gs(),ec=gs();return this.Dt.forEach((eh,ep)=>{switch(ep){case 0:er=er.add(eh);break;case 2:eo=eo.add(eh);break;case 1:ec=ec.add(eh);break;default:index_esm2017_O()}}),new gi(this.Ct,this.xt,er,eo,ec)}Ft(){this.Nt=!1,this.Dt=vi()}Bt(er,eo){this.Nt=!0,this.Dt=this.Dt.insert(er,eo)}Lt(er){this.Nt=!0,this.Dt=this.Dt.remove(er)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}};let Ei=class Ei{constructor(er){this.Gt=er,this.Qt=new Map,this.jt=tq,this.zt=Ai(),this.Wt=new pe(et)}Ht(er){for(let eo of er.Pt)er.bt&&er.bt.isFoundDocument()?this.Jt(eo,er.bt):this.Yt(eo,er.key,er.bt);for(let eo of er.removedTargetIds)this.Yt(eo,er.key,er.bt)}Xt(er){this.forEachTarget(er,eo=>{let ec=this.Zt(eo);switch(er.state){case 0:this.te(eo)&&ec.$t(er.resumeToken);break;case 1:ec.Ut(),ec.kt||ec.Ft(),ec.$t(er.resumeToken);break;case 2:ec.Ut(),ec.kt||this.removeTarget(eo);break;case 3:this.te(eo)&&(ec.Kt(),ec.$t(er.resumeToken));break;case 4:this.te(eo)&&(this.ee(eo),ec.$t(er.resumeToken));break;default:index_esm2017_O()}})}forEachTarget(er,eo){er.targetIds.length>0?er.targetIds.forEach(eo):this.Qt.forEach((er,ec)=>{this.te(ec)&&eo(ec)})}ne(er){var eo;let ec=er.targetId,eh=er.Vt.count,ep=this.se(ec);if(ep){let ef=ep.target;if(Fn(ef)){if(0===eh){let er=new ht(ef.path);this.Yt(ec,er,an.newNoDocument(er,rt.min()))}else 1===eh||index_esm2017_O()}else{let ep=this.ie(ec);if(ep!==eh){let eh=this.re(er,ep);if(0!==eh){this.ee(ec);let er=2===eh?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(ec,er)}null===(eo=ci.instance)||void 0===eo||eo.notifyOnExistenceFilterMismatch(function(er,eo,ec){var eh,ep,ef,eg,em,ey;let ev={localCacheCount:eo,existenceFilterCount:ec.count},e_=ec.unchangedNames;return e_&&(ev.bloomFilter={applied:0===er,hashCount:null!==(eh=null==e_?void 0:e_.hashCount)&&void 0!==eh?eh:0,bitmapLength:null!==(eg=null===(ef=null===(ep=null==e_?void 0:e_.bits)||void 0===ep?void 0:ep.bitmap)||void 0===ef?void 0:ef.length)&&void 0!==eg?eg:0,padding:null!==(ey=null===(em=null==e_?void 0:e_.bits)||void 0===em?void 0:em.padding)&&void 0!==ey?ey:0}),ev}(eh,ep,er.Vt))}}}}re(er,eo){let ec,eh;let{unchangedNames:ep,count:ef}=er.Vt;if(!ep||!ep.bits)return 1;let{bits:{bitmap:eg="",padding:em=0},hashCount:ey=0}=ep;try{ec=xe(eg).toUint8Array()}catch(er){if(er instanceof Pe)return index_esm2017_M("Decoding the base64 bloom filter in existence filter failed ("+er.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw er}try{eh=new wi(ec,em,ey)}catch(er){return index_esm2017_M(er instanceof _i?"BloomFilter error: ":"Applying bloom filter failed: ",er),1}return 0===eh.It?1:ef!==eo-this.oe(er.targetId,eh)?2:0}oe(er,eo){let ec=this.Gt.getRemoteKeysForTarget(er),eh=0;return ec.forEach(ec=>{let ep=this.Gt.ue(),ef=`projects/${ep.projectId}/databases/${ep.database}/documents/${ec.path.canonicalString()}`;eo.vt(ef)||(this.Yt(er,ec,null),eh++)}),eh}ce(er){let eo=new Map;this.Qt.forEach((ec,eh)=>{let ep=this.se(eh);if(ep){if(ec.current&&Fn(ep.target)){let eo=new ht(ep.target.path);null!==this.jt.get(eo)||this.ae(eh,eo)||this.Yt(eh,eo,an.newNoDocument(eo,er))}ec.Mt&&(eo.set(eh,ec.Ot()),ec.Ft())}});let ec=gs();this.zt.forEach((er,eo)=>{let eh=!0;eo.forEachWhile(er=>{let eo=this.se(er);return!eo||"TargetPurposeLimboResolution"===eo.purpose||(eh=!1,!1)}),eh&&(ec=ec.add(er))}),this.jt.forEach((eo,ec)=>ec.setReadTime(er));let eh=new mi(er,eo,this.Wt,this.jt,ec);return this.jt=tq,this.zt=Ai(),this.Wt=new pe(et),eh}Jt(er,eo){if(!this.te(er))return;let ec=this.ae(er,eo.key)?2:0;this.Zt(er).Bt(eo.key,ec),this.jt=this.jt.insert(eo.key,eo),this.zt=this.zt.insert(eo.key,this.he(eo.key).add(er))}Yt(er,eo,ec){if(!this.te(er))return;let eh=this.Zt(er);this.ae(er,eo)?eh.Bt(eo,1):eh.Lt(eo),this.zt=this.zt.insert(eo,this.he(eo).delete(er)),ec&&(this.jt=this.jt.insert(eo,ec))}removeTarget(er){this.Qt.delete(er)}ie(er){let eo=this.Zt(er).Ot();return this.Gt.getRemoteKeysForTarget(er).size+eo.addedDocuments.size-eo.removedDocuments.size}qt(er){this.Zt(er).qt()}Zt(er){let eo=this.Qt.get(er);return eo||(eo=new Ti,this.Qt.set(er,eo)),eo}he(er){let eo=this.zt.get(er);return eo||(eo=new Ee(et),this.zt=this.zt.insert(er,eo)),eo}te(er){let eo=null!==this.se(er);return eo||index_esm2017_N("WatchChangeAggregator","Detected inactive target",er),eo}se(er){let eo=this.Qt.get(er);return eo&&eo.kt?null:this.Gt.le(er)}ee(er){this.Qt.set(er,new Ti),this.Gt.getRemoteKeysForTarget(er).forEach(eo=>{this.Yt(er,eo,null)})}ae(er,eo){return this.Gt.getRemoteKeysForTarget(er).has(eo)}};function Ai(){return new pe(ht.comparator)}function vi(){return new pe(ht.comparator)}let tJ={asc:"ASCENDING",desc:"DESCENDING"},tQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tX={and:"AND",or:"OR"};let Vi=class Vi{constructor(er,eo){this.databaseId=er,this.useProto3Json=eo}};function Si(er,eo){return er.useProto3Json||null==eo?eo:{value:eo}}function Di(er,eo){return er.useProto3Json?`${new Date(1e3*eo.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+eo.nanoseconds).slice(-9)}Z`:{seconds:""+eo.seconds,nanos:eo.nanoseconds}}function Ci(er,eo){return er.useProto3Json?eo.toBase64():eo.toUint8Array()}function Ni(er){return er||index_esm2017_O(),rt.fromTimestamp(function(er){let eo=De(er);return new it(eo.seconds,eo.nanos)}(er))}function ki(er,eo){return new ut(["projects",er.projectId,"databases",er.database]).child("documents").child(eo).canonicalString()}function Mi(er){let eo=ut.fromString(er);return ur(eo)||index_esm2017_O(),eo}function $i(er,eo){return ki(er.databaseId,eo.path)}function Oi(er,eo){let ec=Mi(eo);if(ec.get(1)!==er.databaseId.projectId)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+ec.get(1)+" vs "+er.databaseId.projectId);if(ec.get(3)!==er.databaseId.database)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+ec.get(3)+" vs "+er.databaseId.database);return new ht(qi(ec))}function Fi(er,eo){return ki(er.databaseId,eo)}function Li(er){return new ut(["projects",er.databaseId.projectId,"databases",er.databaseId.database]).canonicalString()}function qi(er){return er.length>4&&"documents"===er.get(4)||index_esm2017_O(),er.popFirst(5)}function Ui(er,eo,ec){return{name:$i(er,eo),fields:ec.value.mapValue.fields}}function sr(er){return{fieldPath:er.canonicalString()}}function ir(er){return at.fromServerFormat(er.fieldPath)}function ur(er){return er.length>=4&&"projects"===er.get(0)&&"databases"===er.get(2)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class cr{constructor(er,eo,ec,eh,ep=rt.min(),ef=rt.min(),eg=Ve.EMPTY_BYTE_STRING,em=null){this.target=er,this.targetId=eo,this.purpose=ec,this.sequenceNumber=eh,this.snapshotVersion=ep,this.lastLimboFreeSnapshotVersion=ef,this.resumeToken=eg,this.expectedCount=em}withSequenceNumber(er){return new cr(this.target,this.targetId,this.purpose,er,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(er,eo){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,eo,this.lastLimboFreeSnapshotVersion,er,null)}withExpectedCount(er){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,er)}withLastLimboFreeSnapshotVersion(er){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,er,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ar=class ar{constructor(er){this.fe=er}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let br=class br{constructor(){}_e(er,eo){this.me(er,eo),eo.ge()}me(er,eo){if("nullValue"in er)this.ye(eo,5);else if("booleanValue"in er)this.ye(eo,10),eo.pe(er.booleanValue?1:0);else if("integerValue"in er)this.ye(eo,15),eo.pe(Ce(er.integerValue));else if("doubleValue"in er){let ec=Ce(er.doubleValue);isNaN(ec)?this.ye(eo,13):(this.ye(eo,15),Bt(ec)?eo.pe(0):eo.pe(ec))}else if("timestampValue"in er){let ec=er.timestampValue;this.ye(eo,20),"string"==typeof ec?eo.Ie(ec):(eo.Ie(`${ec.seconds||""}`),eo.pe(ec.nanos||0))}else if("stringValue"in er)this.Te(er.stringValue,eo),this.Ee(eo);else if("bytesValue"in er)this.ye(eo,30),eo.Ae(xe(er.bytesValue)),this.Ee(eo);else if("referenceValue"in er)this.ve(er.referenceValue,eo);else if("geoPointValue"in er){let ec=er.geoPointValue;this.ye(eo,45),eo.pe(ec.latitude||0),eo.pe(ec.longitude||0)}else"mapValue"in er?en(er)?this.ye(eo,Number.MAX_SAFE_INTEGER):(this.Re(er.mapValue,eo),this.Ee(eo)):"arrayValue"in er?(this.Pe(er.arrayValue,eo),this.Ee(eo)):index_esm2017_O()}Te(er,eo){this.ye(eo,25),this.be(er,eo)}be(er,eo){eo.Ie(er)}Re(er,eo){let ec=er.fields||{};for(let er of(this.ye(eo,55),Object.keys(ec)))this.Te(er,eo),this.me(ec[er],eo)}Pe(er,eo){let ec=er.values||[];for(let er of(this.ye(eo,50),ec))this.me(er,eo)}ve(er,eo){this.ye(eo,37),ht.fromName(er).path.forEach(er=>{this.ye(eo,60),this.be(er,eo)})}ye(er,eo){er.pe(eo)}Ee(er){er.pe(2)}};br.Ve=new br;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zr=class zr{constructor(){this.rn=new Wr}addToCollectionParentIndex(er,eo){return this.rn.add(eo),Rt.resolve()}getCollectionParents(er,eo){return Rt.resolve(this.rn.getEntries(eo))}addFieldIndex(er,eo){return Rt.resolve()}deleteFieldIndex(er,eo){return Rt.resolve()}getDocumentsMatchingTarget(er,eo){return Rt.resolve(null)}getIndexType(er,eo){return Rt.resolve(0)}getFieldIndexes(er,eo){return Rt.resolve([])}getNextCollectionGroupToUpdate(er){return Rt.resolve(null)}getMinOffset(er,eo){return Rt.resolve(It.min())}getMinOffsetFromCollectionGroup(er,eo){return Rt.resolve(It.min())}updateCollectionGroup(er,eo,ec){return Rt.resolve()}updateIndexEntries(er,eo){return Rt.resolve()}};let Wr=class Wr{constructor(){this.index={}}add(er){let eo=er.lastSegment(),ec=er.popLast(),eh=this.index[eo]||new Ee(ut.comparator),ep=!eh.has(ec);return this.index[eo]=eh.add(ec),ep}has(er){let eo=er.lastSegment(),ec=er.popLast(),eh=this.index[eo];return eh&&eh.has(ec)}getEntries(er){return(this.index[er]||new Ee(ut.comparator)).toArray()}};new Uint8Array(0);let so=class so{constructor(er,eo,ec){this.cacheSizeCollectionThreshold=er,this.percentileToCollect=eo,this.maximumSequenceNumbersToCollect=ec}static withCacheSize(er){return new so(er,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */so.DEFAULT_COLLECTION_PERCENTILE=10,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,so.DEFAULT=new so(41943040,so.DEFAULT_COLLECTION_PERCENTILE,so.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),so.DISABLED=new so(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lo=class lo{constructor(er){this.Nn=er}next(){return this.Nn+=2,this.Nn}static kn(){return new lo(0)}static Mn(){return new lo(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo=class vo{constructor(){this.changes=new os(er=>er.toString(),(er,eo)=>er.isEqual(eo)),this.changesApplied=!1}addEntry(er){this.assertNotApplied(),this.changes.set(er.key,er)}removeEntry(er,eo){this.assertNotApplied(),this.changes.set(er,an.newInvalidDocument(er).setReadTime(eo))}getEntry(er,eo){this.assertNotApplied();let ec=this.changes.get(eo);return void 0!==ec?Rt.resolve(ec):this.getFromCache(er,eo)}getEntries(er,eo){return this.getAllFromCache(er,eo)}apply(er){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(er)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No=class No{constructor(er,eo){this.overlayedDocument=er,this.mutatedFields=eo}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko=class ko{constructor(er,eo,ec,eh){this.remoteDocumentCache=er,this.mutationQueue=eo,this.documentOverlayCache=ec,this.indexManager=eh}getDocument(er,eo){let ec=null;return this.documentOverlayCache.getOverlay(er,eo).next(eh=>(ec=eh,this.remoteDocumentCache.getEntry(er,eo))).next(er=>(null!==ec&&Ks(ec.mutation,er,Re.empty(),it.now()),er))}getDocuments(er,eo){return this.remoteDocumentCache.getEntries(er,eo).next(eo=>this.getLocalViewOfDocuments(er,eo,gs()).next(()=>eo))}getLocalViewOfDocuments(er,eo,ec=gs()){let eh=ws();return this.populateOverlays(er,eh,eo).next(()=>this.computeViews(er,eo,eh,ec).next(er=>{let eo=hs();return er.forEach((er,ec)=>{eo=eo.insert(er,ec.overlayedDocument)}),eo}))}getOverlayedDocuments(er,eo){let ec=ws();return this.populateOverlays(er,ec,eo).next(()=>this.computeViews(er,eo,ec,gs()))}populateOverlays(er,eo,ec){let eh=[];return ec.forEach(er=>{eo.has(er)||eh.push(er)}),this.documentOverlayCache.getOverlays(er,eh).next(er=>{er.forEach((er,ec)=>{eo.set(er,ec)})})}computeViews(er,eo,ec,eh){let ep=tq,ef=ws(),eg=ws();return eo.forEach((er,eo)=>{let eg=ec.get(eo.key);eh.has(eo.key)&&(void 0===eg||eg.mutation instanceof zs)?ep=ep.insert(eo.key,eo):void 0!==eg?(ef.set(eo.key,eg.mutation.getFieldMask()),Ks(eg.mutation,eo,eg.mutation.getFieldMask(),it.now())):ef.set(eo.key,Re.empty())}),this.recalculateAndSaveOverlays(er,ep).next(er=>(er.forEach((er,eo)=>ef.set(er,eo)),eo.forEach((er,eo)=>{var ec;return eg.set(er,new No(eo,null!==(ec=ef.get(er))&&void 0!==ec?ec:null))}),eg))}recalculateAndSaveOverlays(er,eo){let ec=ws(),eh=new pe((er,eo)=>er-eo),ep=gs();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(er,eo).next(er=>{for(let ep of er)ep.keys().forEach(er=>{let ef=eo.get(er);if(null===ef)return;let eg=ec.get(er)||Re.empty();eg=ep.applyToLocalView(ef,eg),ec.set(er,eg);let em=(eh.get(ep.batchId)||gs()).add(er);eh=eh.insert(ep.batchId,em)})}).next(()=>{let ef=[],eg=eh.getReverseIterator();for(;eg.hasNext();){let eh=eg.getNext(),em=eh.key,ey=eh.value,ev=ws();ey.forEach(er=>{if(!ep.has(er)){let eh=qs(eo.get(er),ec.get(er));null!==eh&&ev.set(er,eh),ep=ep.add(er)}}),ef.push(this.documentOverlayCache.saveOverlays(er,em,ev))}return Rt.waitFor(ef)}).next(()=>ec)}recalculateAndSaveOverlaysForDocumentKeys(er,eo){return this.remoteDocumentCache.getEntries(er,eo).next(eo=>this.recalculateAndSaveOverlays(er,eo))}getDocumentsMatchingQuery(er,eo,ec){return ht.isDocumentKey(eo.path)&&null===eo.collectionGroup&&0===eo.filters.length?this.getDocumentsMatchingDocumentQuery(er,eo.path):Wn(eo)?this.getDocumentsMatchingCollectionGroupQuery(er,eo,ec):this.getDocumentsMatchingCollectionQuery(er,eo,ec)}getNextDocuments(er,eo,ec,eh){return this.remoteDocumentCache.getAllFromCollectionGroup(er,eo,ec,eh).next(ep=>{let ef=eh-ep.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(er,eo,ec.largestBatchId,eh-ep.size):Rt.resolve(ws()),eg=-1,em=ep;return ef.next(eo=>Rt.forEach(eo,(eo,ec)=>(eg<ec.largestBatchId&&(eg=ec.largestBatchId),ep.get(eo)?Rt.resolve():this.remoteDocumentCache.getEntry(er,eo).next(er=>{em=em.insert(eo,er)}))).next(()=>this.populateOverlays(er,eo,ep)).next(()=>this.computeViews(er,em,eo,gs())).next(er=>({batchId:eg,changes:ls(er)})))})}getDocumentsMatchingDocumentQuery(er,eo){return this.getDocument(er,new ht(eo)).next(er=>{let eo=hs();return er.isFoundDocument()&&(eo=eo.insert(er.key,er)),eo})}getDocumentsMatchingCollectionGroupQuery(er,eo,ec){let eh=eo.collectionGroup,ep=hs();return this.indexManager.getCollectionParents(er,eh).next(ef=>Rt.forEach(ef,ef=>{var eg;let em=(eg=ef.child(eh),new Un(eg,null,eo.explicitOrderBy.slice(),eo.filters.slice(),eo.limit,eo.limitType,eo.startAt,eo.endAt));return this.getDocumentsMatchingCollectionQuery(er,em,ec).next(er=>{er.forEach((er,eo)=>{ep=ep.insert(er,eo)})})}).next(()=>ep))}getDocumentsMatchingCollectionQuery(er,eo,ec){let eh;return this.documentOverlayCache.getOverlaysForCollection(er,eo.path,ec.largestBatchId).next(ep=>(eh=ep,this.remoteDocumentCache.getDocumentsMatchingQuery(er,eo,ec,eh))).next(er=>{eh.forEach((eo,ec)=>{let eh=ec.getKey();null===er.get(eh)&&(er=er.insert(eh,an.newInvalidDocument(eh)))});let ec=hs();return er.forEach((er,ep)=>{let ef=eh.get(er);void 0!==ef&&Ks(ef.mutation,ep,Re.empty(),it.now()),ns(eo,ep)&&(ec=ec.insert(er,ep))}),ec})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo=class Mo{constructor(er){this.serializer=er,this.cs=new Map,this.hs=new Map}getBundleMetadata(er,eo){return Rt.resolve(this.cs.get(eo))}saveBundleMetadata(er,eo){return this.cs.set(eo.id,{id:eo.id,version:eo.version,createTime:Ni(eo.createTime)}),Rt.resolve()}getNamedQuery(er,eo){return Rt.resolve(this.hs.get(eo))}saveNamedQuery(er,eo){return this.hs.set(eo.name,{name:eo.name,query:function(er){let eo=function(er){var eo,ec,eh,ep,ef,eg,em,ey;let ev,e_=function(er){let eo=Mi(er);return 4===eo.length?ut.emptyPath():qi(eo)}(er.parent),ew=er.structuredQuery,ex=ew.from?ew.from.length:0,ek=null;if(ex>0){1===ex||index_esm2017_O();let er=ew.from[0];er.allDescendants?ek=er.collectionId:e_=e_.child(er.collectionId)}let eS=[];ew.where&&(eS=function(er){var eo;let ec=function Zi(er){return void 0!==er.unaryFilter?function(er){switch(er.unaryFilter.op){case"IS_NAN":let eo=ir(er.unaryFilter.field);return mn.create(eo,"==",{doubleValue:NaN});case"IS_NULL":let ec=ir(er.unaryFilter.field);return mn.create(ec,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let eh=ir(er.unaryFilter.field);return mn.create(eh,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let ep=ir(er.unaryFilter.field);return mn.create(ep,"!=",{nullValue:"NULL_VALUE"});default:return index_esm2017_O()}}(er):void 0!==er.fieldFilter?mn.create(ir(er.fieldFilter.field),function(er){switch(er){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return index_esm2017_O()}}(er.fieldFilter.op),er.fieldFilter.value):void 0!==er.compositeFilter?gn.create(er.compositeFilter.filters.map(er=>Zi(er)),function(er){switch(er){case"AND":return"and";case"OR":return"or";default:return index_esm2017_O()}}(er.compositeFilter.op)):index_esm2017_O()}(er);return ec instanceof gn&&Tn(eo=ec)&&yn(eo)?ec.getFilters():[ec]}(ew.where));let eC=[];ew.orderBy&&(eC=ew.orderBy.map(er=>new dn(ir(er.field),function(er){switch(er){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(er.direction))));let eI=null;ew.limit&&(eI=null==(ev="object"==typeof(eo=ew.limit)?eo.value:eo)?null:ev);let eE=null;ew.startAt&&(eE=function(er){let eo=!!er.before,ec=er.values||[];return new hn(ec,eo)}(ew.startAt));let eT=null;return ew.endAt&&(eT=function(er){let eo=!er.before,ec=er.values||[];return new hn(ec,eo)}(ew.endAt)),ec=e_,eh=ek,ep=eC,ef=eS,eg=eI,em=eE,ey=eT,new Un(ec,eh,ep,ef,eg,"F",em,ey)}({parent:er.parent,structuredQuery:er.structuredQuery});return"LAST"===er.limitType?Xn(eo,eo.limit,"L"):eo}(eo.bundledQuery),readTime:Ni(eo.readTime)}),Rt.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o=class $o{constructor(){this.overlays=new pe(ht.comparator),this.ls=new Map}getOverlay(er,eo){return Rt.resolve(this.overlays.get(eo))}getOverlays(er,eo){let ec=ws();return Rt.forEach(eo,eo=>this.getOverlay(er,eo).next(er=>{null!==er&&ec.set(eo,er)})).next(()=>ec)}saveOverlays(er,eo,ec){return ec.forEach((ec,eh)=>{this.we(er,eo,eh)}),Rt.resolve()}removeOverlaysForBatchId(er,eo,ec){let eh=this.ls.get(ec);return void 0!==eh&&(eh.forEach(er=>this.overlays=this.overlays.remove(er)),this.ls.delete(ec)),Rt.resolve()}getOverlaysForCollection(er,eo,ec){let eh=ws(),ep=eo.length+1,ef=new ht(eo.child("")),eg=this.overlays.getIteratorFrom(ef);for(;eg.hasNext();){let er=eg.getNext().value,ef=er.getKey();if(!eo.isPrefixOf(ef.path))break;ef.path.length===ep&&er.largestBatchId>ec&&eh.set(er.getKey(),er)}return Rt.resolve(eh)}getOverlaysForCollectionGroup(er,eo,ec,eh){let ep=new pe((er,eo)=>er-eo),ef=this.overlays.getIterator();for(;ef.hasNext();){let er=ef.getNext().value;if(er.getKey().getCollectionGroup()===eo&&er.largestBatchId>ec){let eo=ep.get(er.largestBatchId);null===eo&&(eo=ws(),ep=ep.insert(er.largestBatchId,eo)),eo.set(er.getKey(),er)}}let eg=ws(),em=ep.getIterator();for(;em.hasNext()&&(em.getNext().value.forEach((er,eo)=>eg.set(er,eo)),!(eg.size()>=eh)););return Rt.resolve(eg)}we(er,eo,ec){let eh=this.overlays.get(ec.key);if(null!==eh){let er=this.ls.get(eh.largestBatchId).delete(ec.key);this.ls.set(eh.largestBatchId,er)}this.overlays=this.overlays.insert(ec.key,new ei(eo,ec));let ep=this.ls.get(eo);void 0===ep&&(ep=gs(),this.ls.set(eo,ep)),this.ls.set(eo,ep.add(ec.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo=class Oo{constructor(){this.fs=new Ee(Fo.ds),this.ws=new Ee(Fo._s)}isEmpty(){return this.fs.isEmpty()}addReference(er,eo){let ec=new Fo(er,eo);this.fs=this.fs.add(ec),this.ws=this.ws.add(ec)}gs(er,eo){er.forEach(er=>this.addReference(er,eo))}removeReference(er,eo){this.ys(new Fo(er,eo))}ps(er,eo){er.forEach(er=>this.removeReference(er,eo))}Is(er){let eo=new ht(new ut([])),ec=new Fo(eo,er),eh=new Fo(eo,er+1),ep=[];return this.ws.forEachInRange([ec,eh],er=>{this.ys(er),ep.push(er.key)}),ep}Ts(){this.fs.forEach(er=>this.ys(er))}ys(er){this.fs=this.fs.delete(er),this.ws=this.ws.delete(er)}Es(er){let eo=new ht(new ut([])),ec=new Fo(eo,er),eh=new Fo(eo,er+1),ep=gs();return this.ws.forEachInRange([ec,eh],er=>{ep=ep.add(er.key)}),ep}containsKey(er){let eo=new Fo(er,0),ec=this.fs.firstAfterOrEqual(eo);return null!==ec&&er.isEqual(ec.key)}};let Fo=class Fo{constructor(er,eo){this.key=er,this.As=eo}static ds(er,eo){return ht.comparator(er.key,eo.key)||et(er.As,eo.As)}static _s(er,eo){return et(er.As,eo.As)||ht.comparator(er.key,eo.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo=class Bo{constructor(er,eo){this.indexManager=er,this.referenceDelegate=eo,this.mutationQueue=[],this.vs=1,this.Rs=new Ee(Fo.ds)}checkEmpty(er){return Rt.resolve(0===this.mutationQueue.length)}addMutationBatch(er,eo,ec,eh){let ep=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let ef=new Zs(ep,eo,ec,eh);for(let eo of(this.mutationQueue.push(ef),eh))this.Rs=this.Rs.add(new Fo(eo.key,ep)),this.indexManager.addToCollectionParentIndex(er,eo.key.path.popLast());return Rt.resolve(ef)}lookupMutationBatch(er,eo){return Rt.resolve(this.Ps(eo))}getNextMutationBatchAfterBatchId(er,eo){let ec=this.bs(eo+1),eh=ec<0?0:ec;return Rt.resolve(this.mutationQueue.length>eh?this.mutationQueue[eh]:null)}getHighestUnacknowledgedBatchId(){return Rt.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(er){return Rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(er,eo){let ec=new Fo(eo,0),eh=new Fo(eo,Number.POSITIVE_INFINITY),ep=[];return this.Rs.forEachInRange([ec,eh],er=>{let eo=this.Ps(er.As);ep.push(eo)}),Rt.resolve(ep)}getAllMutationBatchesAffectingDocumentKeys(er,eo){let ec=new Ee(et);return eo.forEach(er=>{let eo=new Fo(er,0),eh=new Fo(er,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([eo,eh],er=>{ec=ec.add(er.As)})}),Rt.resolve(this.Vs(ec))}getAllMutationBatchesAffectingQuery(er,eo){let ec=eo.path,eh=ec.length+1,ep=ec;ht.isDocumentKey(ep)||(ep=ep.child(""));let ef=new Fo(new ht(ep),0),eg=new Ee(et);return this.Rs.forEachWhile(er=>{let eo=er.key.path;return!!ec.isPrefixOf(eo)&&(eo.length===eh&&(eg=eg.add(er.As)),!0)},ef),Rt.resolve(this.Vs(eg))}Vs(er){let eo=[];return er.forEach(er=>{let ec=this.Ps(er);null!==ec&&eo.push(ec)}),eo}removeMutationBatch(er,eo){0===this.Ss(eo.batchId,"removed")||index_esm2017_O(),this.mutationQueue.shift();let ec=this.Rs;return Rt.forEach(eo.mutations,eh=>{let ep=new Fo(eh.key,eo.batchId);return ec=ec.delete(ep),this.referenceDelegate.markPotentiallyOrphaned(er,eh.key)}).next(()=>{this.Rs=ec})}Cn(er){}containsKey(er,eo){let ec=new Fo(eo,0),eh=this.Rs.firstAfterOrEqual(ec);return Rt.resolve(eo.isEqual(eh&&eh.key))}performConsistencyCheck(er){return this.mutationQueue.length,Rt.resolve()}Ss(er,eo){return this.bs(er)}bs(er){return 0===this.mutationQueue.length?0:er-this.mutationQueue[0].batchId}Ps(er){let eo=this.bs(er);return eo<0||eo>=this.mutationQueue.length?null:this.mutationQueue[eo]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo=class Lo{constructor(er){this.Ds=er,this.docs=new pe(ht.comparator),this.size=0}setIndexManager(er){this.indexManager=er}addEntry(er,eo){let ec=eo.key,eh=this.docs.get(ec),ep=eh?eh.size:0,ef=this.Ds(eo);return this.docs=this.docs.insert(ec,{document:eo.mutableCopy(),size:ef}),this.size+=ef-ep,this.indexManager.addToCollectionParentIndex(er,ec.path.popLast())}removeEntry(er){let eo=this.docs.get(er);eo&&(this.docs=this.docs.remove(er),this.size-=eo.size)}getEntry(er,eo){let ec=this.docs.get(eo);return Rt.resolve(ec?ec.document.mutableCopy():an.newInvalidDocument(eo))}getEntries(er,eo){let ec=tq;return eo.forEach(er=>{let eo=this.docs.get(er);ec=ec.insert(er,eo?eo.document.mutableCopy():an.newInvalidDocument(er))}),Rt.resolve(ec)}getDocumentsMatchingQuery(er,eo,ec,eh){let ep=tq,ef=eo.path,eg=new ht(ef.child("")),em=this.docs.getIteratorFrom(eg);for(;em.hasNext();){let{key:er,value:{document:eg}}=em.getNext();if(!ef.isPrefixOf(er.path))break;er.path.length>ef.length+1||0>=function(er,eo){let ec=er.readTime.compareTo(eo.readTime);return 0!==ec?ec:0!==(ec=ht.comparator(er.documentKey,eo.documentKey))?ec:et(er.largestBatchId,eo.largestBatchId)}(new It(eg.readTime,eg.key,-1),ec)||(eh.has(eg.key)||ns(eo,eg))&&(ep=ep.insert(eg.key,eg.mutableCopy()))}return Rt.resolve(ep)}getAllFromCollectionGroup(er,eo,ec,eh){index_esm2017_O()}Cs(er,eo){return Rt.forEach(this.docs,er=>eo(er))}newChangeBuffer(er){return new qo(this)}getSize(er){return Rt.resolve(this.size)}};let qo=class qo extends vo{constructor(er){super(),this.os=er}applyChanges(er){let eo=[];return this.changes.forEach((ec,eh)=>{eh.isValidDocument()?eo.push(this.os.addEntry(er,eh)):this.os.removeEntry(ec)}),Rt.waitFor(eo)}getFromCache(er,eo){return this.os.getEntry(er,eo)}getAllFromCache(er,eo){return this.os.getEntries(er,eo)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uo=class Uo{constructor(er){this.persistence=er,this.xs=new os(er=>$n(er),On),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Oo,this.targetCount=0,this.Ms=lo.kn()}forEachTarget(er,eo){return this.xs.forEach((er,ec)=>eo(ec)),Rt.resolve()}getLastRemoteSnapshotVersion(er){return Rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(er){return Rt.resolve(this.Ns)}allocateTargetId(er){return this.highestTargetId=this.Ms.next(),Rt.resolve(this.highestTargetId)}setTargetsMetadata(er,eo,ec){return ec&&(this.lastRemoteSnapshotVersion=ec),eo>this.Ns&&(this.Ns=eo),Rt.resolve()}Fn(er){this.xs.set(er.target,er);let eo=er.targetId;eo>this.highestTargetId&&(this.Ms=new lo(eo),this.highestTargetId=eo),er.sequenceNumber>this.Ns&&(this.Ns=er.sequenceNumber)}addTargetData(er,eo){return this.Fn(eo),this.targetCount+=1,Rt.resolve()}updateTargetData(er,eo){return this.Fn(eo),Rt.resolve()}removeTargetData(er,eo){return this.xs.delete(eo.target),this.ks.Is(eo.targetId),this.targetCount-=1,Rt.resolve()}removeTargets(er,eo,ec){let eh=0,ep=[];return this.xs.forEach((ef,eg)=>{eg.sequenceNumber<=eo&&null===ec.get(eg.targetId)&&(this.xs.delete(ef),ep.push(this.removeMatchingKeysForTargetId(er,eg.targetId)),eh++)}),Rt.waitFor(ep).next(()=>eh)}getTargetCount(er){return Rt.resolve(this.targetCount)}getTargetData(er,eo){let ec=this.xs.get(eo)||null;return Rt.resolve(ec)}addMatchingKeys(er,eo,ec){return this.ks.gs(eo,ec),Rt.resolve()}removeMatchingKeys(er,eo,ec){this.ks.ps(eo,ec);let eh=this.persistence.referenceDelegate,ep=[];return eh&&eo.forEach(eo=>{ep.push(eh.markPotentiallyOrphaned(er,eo))}),Rt.waitFor(ep)}removeMatchingKeysForTargetId(er,eo){return this.ks.Is(eo),Rt.resolve()}getMatchingKeysForTargetId(er,eo){let ec=this.ks.Es(eo);return Rt.resolve(ec)}containsKey(er,eo){return Rt.resolve(this.ks.containsKey(eo))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko=class Ko{constructor(er,eo){this.$s={},this.overlays={},this.Os=new Ot(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=er(this),this.Bs=new Uo(this),this.indexManager=new zr,this.remoteDocumentCache=new Lo(er=>this.referenceDelegate.Ls(er)),this.serializer=new ar(eo),this.qs=new Mo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(er){return this.indexManager}getDocumentOverlayCache(er){let eo=this.overlays[er.toKey()];return eo||(eo=new $o,this.overlays[er.toKey()]=eo),eo}getMutationQueue(er,eo){let ec=this.$s[er.toKey()];return ec||(ec=new Bo(eo,this.referenceDelegate),this.$s[er.toKey()]=ec),ec}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(er,eo,ec){index_esm2017_N("MemoryPersistence","Starting transaction:",er);let eh=new Go(this.Os.next());return this.referenceDelegate.Us(),ec(eh).next(er=>this.referenceDelegate.Ks(eh).next(()=>er)).toPromise().then(er=>(eh.raiseOnCommittedEvent(),er))}Gs(er,eo){return Rt.or(Object.values(this.$s).map(ec=>()=>ec.containsKey(er,eo)))}};let Go=class Go extends At{constructor(er){super(),this.currentSequenceNumber=er}};let Qo=class Qo{constructor(er){this.persistence=er,this.Qs=new Oo,this.js=null}static zs(er){return new Qo(er)}get Ws(){if(this.js)return this.js;throw index_esm2017_O()}addReference(er,eo,ec){return this.Qs.addReference(ec,eo),this.Ws.delete(ec.toString()),Rt.resolve()}removeReference(er,eo,ec){return this.Qs.removeReference(ec,eo),this.Ws.add(ec.toString()),Rt.resolve()}markPotentiallyOrphaned(er,eo){return this.Ws.add(eo.toString()),Rt.resolve()}removeTarget(er,eo){this.Qs.Is(eo.targetId).forEach(er=>this.Ws.add(er.toString()));let ec=this.persistence.getTargetCache();return ec.getMatchingKeysForTargetId(er,eo.targetId).next(er=>{er.forEach(er=>this.Ws.add(er.toString()))}).next(()=>ec.removeTargetData(er,eo))}Us(){this.js=new Set}Ks(er){let eo=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rt.forEach(this.Ws,ec=>{let eh=ht.fromPath(ec);return this.Hs(er,eh).next(er=>{er||eo.removeEntry(eh,rt.min())})}).next(()=>(this.js=null,eo.apply(er)))}updateLimboDocument(er,eo){return this.Hs(er,eo).next(er=>{er?this.Ws.delete(eo.toString()):this.Ws.add(eo.toString())})}Ls(er){return 0}Hs(er,eo){return Rt.or([()=>Rt.resolve(this.Qs.containsKey(eo)),()=>this.persistence.getTargetCache().containsKey(er,eo),()=>this.persistence.Gs(er,eo)])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tu=class tu{constructor(er,eo,ec,eh){this.targetId=er,this.fromCache=eo,this.Fi=ec,this.Bi=eh}static Li(er,eo){let ec=gs(),eh=gs();for(let er of eo.docChanges)switch(er.type){case 0:ec=ec.add(er.doc.key);break;case 1:eh=eh.add(er.doc.key)}return new tu(er,eo.fromCache,ec,eh)}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eu=class eu{constructor(){this.qi=!1}initialize(er,eo){this.Ui=er,this.indexManager=eo,this.qi=!0}getDocumentsMatchingQuery(er,eo,ec,eh){return this.Ki(er,eo).next(ep=>ep||this.Gi(er,eo,eh,ec)).next(ec=>ec||this.Qi(er,eo))}Ki(er,eo){if(Qn(eo))return Rt.resolve(null);let ec=Jn(eo);return this.indexManager.getIndexType(er,ec).next(eh=>0===eh?null:(null!==eo.limit&&1===eh&&(ec=Jn(eo=Xn(eo,null,"F"))),this.indexManager.getDocumentsMatchingTarget(er,ec).next(eh=>{let ep=gs(...eh);return this.Ui.getDocuments(er,ep).next(eh=>this.indexManager.getMinOffset(er,ec).next(ec=>{let ef=this.ji(eo,eh);return this.zi(eo,ef,ep,ec.readTime)?this.Ki(er,Xn(eo,null,"F")):this.Wi(er,ef,eo,ec)}))})))}Gi(er,eo,ec,eh){return Qn(eo)||eh.isEqual(rt.min())?this.Qi(er,eo):this.Ui.getDocuments(er,ec).next(ep=>{let ef=this.ji(eo,ep);return this.zi(eo,ef,ec,eh)?this.Qi(er,eo):(index_esm2017_C()<=ex.in.DEBUG&&index_esm2017_N("QueryEngine","Re-using previous result from %s to execute query: %s",eh.toString(),es(eo)),this.Wi(er,ef,eo,function(er,eo){let ec=er.toTimestamp().seconds,eh=er.toTimestamp().nanoseconds+1,ep=rt.fromTimestamp(1e9===eh?new it(ec+1,0):new it(ec,eh));return new It(ep,ht.empty(),-1)}(eh,0)))})}ji(er,eo){let ec=new Ee(is(er));return eo.forEach((eo,eh)=>{ns(er,eh)&&(ec=ec.add(eh))}),ec}zi(er,eo,ec,eh){if(null===er.limit)return!1;if(ec.size!==eo.size)return!0;let ep="F"===er.limitType?eo.last():eo.first();return!!ep&&(ep.hasPendingWrites||ep.version.compareTo(eh)>0)}Qi(er,eo){return index_esm2017_C()<=ex.in.DEBUG&&index_esm2017_N("QueryEngine","Using full collection scan to execute query:",es(eo)),this.Ui.getDocumentsMatchingQuery(er,eo,It.min())}Wi(er,eo,ec,eh){return this.Ui.getDocumentsMatchingQuery(er,ec,eh).next(er=>(eo.forEach(eo=>{er=er.insert(eo.key,eo)}),er))}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nu=class nu{constructor(er,eo,ec,eh){this.persistence=er,this.Hi=eo,this.serializer=eh,this.Ji=new pe(et),this.Yi=new os(er=>$n(er),On),this.Xi=new Map,this.Zi=er.getRemoteDocumentCache(),this.Bs=er.getTargetCache(),this.qs=er.getBundleCache(),this.tr(ec)}tr(er){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(er),this.indexManager=this.persistence.getIndexManager(er),this.mutationQueue=this.persistence.getMutationQueue(er,this.indexManager),this.localDocuments=new ko(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(er){return this.persistence.runTransaction("Collect garbage","readwrite-primary",eo=>er.collect(eo,this.Ji))}};async function iu(er,eo){return await er.persistence.runTransaction("Handle user change","readonly",ec=>{let eh;return er.mutationQueue.getAllMutationBatches(ec).next(ep=>(eh=ep,er.tr(eo),er.mutationQueue.getAllMutationBatches(ec))).next(eo=>{let ep=[],ef=[],eg=gs();for(let er of eh)for(let eo of(ep.push(er.batchId),er.mutations))eg=eg.add(eo.key);for(let er of eo)for(let eo of(ef.push(er.batchId),er.mutations))eg=eg.add(eo.key);return er.localDocuments.getDocuments(ec,eg).next(er=>({er:er,removedBatchIds:ep,addedBatchIds:ef}))})})}function ou(er){return er.persistence.runTransaction("Get last remote snapshot version","readonly",eo=>er.Bs.getLastRemoteSnapshotVersion(eo))}async function lu(er,eo,ec){let eh=er.Ji.get(eo);try{ec||await er.persistence.runTransaction("Release target",ec?"readwrite":"readwrite-primary",eo=>er.persistence.referenceDelegate.removeTarget(eo,eh))}catch(er){if(!Dt(er))throw er;index_esm2017_N("LocalStore",`Failed to update sequence numbers for target ${eo}: ${er}`)}er.Ji=er.Ji.remove(eo),er.Yi.delete(eh.target)}function fu(er,eo,ec){let eh=rt.min(),ep=gs();return er.persistence.runTransaction("Execute query","readonly",ef=>(function(er,eo,ec){let eh=er.Yi.get(ec);return void 0!==eh?Rt.resolve(er.Ji.get(eh)):er.Bs.getTargetData(eo,ec)})(er,ef,Jn(eo)).next(eo=>{if(eo)return eh=eo.lastLimboFreeSnapshotVersion,er.Bs.getMatchingKeysForTargetId(ef,eo.targetId).next(er=>{ep=er})}).next(()=>er.Hi.getDocumentsMatchingQuery(ef,eo,ec?eh:rt.min(),ec?ep:gs())).next(ec=>{var eh;let ef;return eh=eo.collectionGroup||(eo.path.length%2==1?eo.path.lastSegment():eo.path.get(eo.path.length-2)),ef=er.Xi.get(eh)||rt.min(),ec.forEach((er,eo)=>{eo.readTime.compareTo(ef)>0&&(ef=eo.readTime)}),er.Xi.set(eh,ef),{documents:ec,ir:ep}}))}let Ru=class Ru{constructor(){this.activeTargetIds=tG}lr(er){this.activeTargetIds=this.activeTargetIds.add(er)}dr(er){this.activeTargetIds=this.activeTargetIds.delete(er)}hr(){let er={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(er)}};let bu=class bu{constructor(){this.Hr=new Ru,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(er){}updateMutationState(er,eo,ec){}addLocalQueryTarget(er){return this.Hr.lr(er),this.Jr[er]||"not-current"}updateQueryState(er,eo,ec){this.Jr[er]=eo}removeLocalQueryTarget(er){this.Hr.dr(er)}isLocalQueryTarget(er){return this.Hr.activeTargetIds.has(er)}clearQueryState(er){delete this.Jr[er]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(er){return this.Hr.activeTargetIds.has(er)}start(){return this.Hr=new Ru,Promise.resolve()}handleUserChange(er,eo,ec){}setOnlineState(er){}shutdown(){}writeSequenceNumber(er){}notifyBundleLoaded(er){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vu=class Vu{Yr(er){}shutdown(){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=class Su{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(er){this.so.push(er)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){for(let er of(index_esm2017_N("ConnectivityMonitor","Network connectivity changed: AVAILABLE"),this.so))er(0)}no(){for(let er of(index_esm2017_N("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE"),this.so))er(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tY=null;function Cu(){return null===tY?tY=268435456+Math.round(2147483648*Math.random()):tY++,"0x"+tY.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nu=class Nu{constructor(er){this.ro=er.ro,this.oo=er.oo}uo(er){this.co=er}ao(er){this.ho=er}onMessage(er){this.lo=er}close(){this.oo()}send(er){this.ro(er)}fo(){this.co()}wo(er){this.ho(er)}_o(er){this.lo(er)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t1="WebChannelConnection";let Mu=class Mu extends class{constructor(er){this.databaseInfo=er,this.databaseId=er.databaseId;let eo=er.ssl?"https":"http";this.mo=eo+"://"+er.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(er,eo,ec,eh,ep){let ef=Cu(),eg=this.To(er,eo);index_esm2017_N("RestConnection",`Sending RPC '${er}' ${ef}:`,eg,ec);let em={};return this.Eo(em,eh,ep),this.Ao(er,eg,em,ec).then(eo=>(index_esm2017_N("RestConnection",`Received RPC '${er}' ${ef}: `,eo),eo),eo=>{throw index_esm2017_M("RestConnection",`RPC '${er}' ${ef} failed with error: `,eo,"url: ",eg,"request:",ec),eo})}vo(er,eo,ec,eh,ep,ef){return this.Io(er,eo,ec,eh,ep)}Eo(er,eo,ec){er["X-Goog-Api-Client"]="gl-js/ fire/"+tL,er["Content-Type"]="text/plain",this.databaseInfo.appId&&(er["X-Firebase-GMPID"]=this.databaseInfo.appId),eo&&eo.headers.forEach((eo,ec)=>er[ec]=eo),ec&&ec.headers.forEach((eo,ec)=>er[ec]=eo)}To(er,eo){let ec=t0[er];return`${this.mo}/v1/${eo}:${ec}`}}{constructor(er){super(er),this.forceLongPolling=er.forceLongPolling,this.autoDetectLongPolling=er.autoDetectLongPolling,this.useFetchStreams=er.useFetchStreams,this.longPollingOptions=er.longPollingOptions}Ao(er,eo,ec,eh){let ep=Cu();return new Promise((ef,eg)=>{let em=new tM;em.setWithCredentials(!0),em.listenOnce(tT.COMPLETE,()=>{try{switch(em.getLastErrorCode()){case tE.NO_ERROR:let eo=em.getResponseJson();index_esm2017_N(t1,`XHR for RPC '${er}' ${ep} received:`,JSON.stringify(eo)),ef(eo);break;case tE.TIMEOUT:index_esm2017_N(t1,`RPC '${er}' ${ep} timed out`),eg(new index_esm2017_U(tF.DEADLINE_EXCEEDED,"Request time out"));break;case tE.HTTP_ERROR:let ec=em.getStatus();if(index_esm2017_N(t1,`RPC '${er}' ${ep} failed with status:`,ec,"response text:",em.getResponseText()),ec>0){let er=em.getResponseJson();Array.isArray(er)&&(er=er[0]);let eo=null==er?void 0:er.error;if(eo&&eo.status&&eo.message){let er=function(er){let eo=er.toLowerCase().replace(/_/g,"-");return Object.values(tF).indexOf(eo)>=0?eo:tF.UNKNOWN}(eo.status);eg(new index_esm2017_U(er,eo.message))}else eg(new index_esm2017_U(tF.UNKNOWN,"Server responded with status "+em.getStatus()))}else eg(new index_esm2017_U(tF.UNAVAILABLE,"Connection failed."));break;default:index_esm2017_O()}}finally{index_esm2017_N(t1,`RPC '${er}' ${ep} completed.`)}});let ey=JSON.stringify(eh);index_esm2017_N(t1,`RPC '${er}' ${ep} sending request:`,eh),em.send(eo,"POST",ey,ec,15)})}Ro(er,eo,ec){let eh=Cu(),ep=[this.mo,"/","google.firestore.v1.Firestore","/",er,"/channel"],ef=tC(),eg=tI(),ey={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ev=this.longPollingOptions.timeoutSeconds;void 0!==ev&&(ey.longPollingTimeout=Math.round(1e3*ev)),this.useFetchStreams&&(ey.xmlHttpFactory=new tO({})),this.Eo(ey.initMessageHeaders,eo,ec),ey.encodeInitMessageHeaders=!0;let e_=ep.join("");index_esm2017_N(t1,`Creating RPC '${er}' stream ${eh}: ${e_}`,ey);let ew=ef.createWebChannel(e_,ey),ex=!1,ek=!1,eS=new Nu({ro:eo=>{ek?index_esm2017_N(t1,`Not sending because RPC '${er}' stream ${eh} is closed:`,eo):(ex||(index_esm2017_N(t1,`Opening RPC '${er}' stream ${eh} transport.`),ew.open(),ex=!0),index_esm2017_N(t1,`RPC '${er}' stream ${eh} sending:`,eo),ew.send(eo))},oo:()=>ew.close()}),w=(er,eo,ec)=>{er.listen(eo,er=>{try{ec(er)}catch(er){setTimeout(()=>{throw er},0)}})};return w(ew,tP.EventType.OPEN,()=>{ek||index_esm2017_N(t1,`RPC '${er}' stream ${eh} transport opened.`)}),w(ew,tP.EventType.CLOSE,()=>{ek||(ek=!0,index_esm2017_N(t1,`RPC '${er}' stream ${eh} transport closed`),eS.wo())}),w(ew,tP.EventType.ERROR,eo=>{ek||(ek=!0,index_esm2017_M(t1,`RPC '${er}' stream ${eh} transport errored:`,eo),eS.wo(new index_esm2017_U(tF.UNAVAILABLE,"The operation could not be completed")))}),w(ew,tP.EventType.MESSAGE,eo=>{var ec;if(!ek){let ep=eo.data[0];ep||index_esm2017_O();let ef=ep.error||(null===(ec=ep[0])||void 0===ec?void 0:ec.error);if(ef){index_esm2017_N(t1,`RPC '${er}' stream ${eh} received error:`,ef);let eo=ef.status,ec=function(er){let eo=em[er];if(void 0!==eo)return ui(eo)}(eo),ep=ef.message;void 0===ec&&(ec=tF.INTERNAL,ep="Unknown error status: "+eo+" with message "+ef.message),ek=!0,eS.wo(new index_esm2017_U(ec,ep)),ew.close()}else index_esm2017_N(t1,`RPC '${er}' stream ${eh} received:`,ep),eS._o(ep)}}),w(eg,tN.STAT_EVENT,eo=>{eo.stat===tA.PROXY?index_esm2017_N(t1,`RPC '${er}' stream ${eh} detected buffering proxy`):eo.stat===tA.NOPROXY&&index_esm2017_N(t1,`RPC '${er}' stream ${eh} detected no buffering proxy`)}),setTimeout(()=>{eS.fo()},0),eS}};function Ou(){return"undefined"!=typeof document?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fu(er){return new Vi(er,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=class Bu{constructor(er,eo,ec=1e3,eh=1.5,ep=6e4){this.ii=er,this.timerId=eo,this.Po=ec,this.bo=eh,this.Vo=ep,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(er){this.cancel();let eo=Math.floor(this.So+this.ko()),ec=Math.max(0,Date.now()-this.Co),eh=Math.max(0,eo-ec);eh>0&&index_esm2017_N("ExponentialBackoff",`Backing off for ${eh} ms (base delay: ${this.So} ms, delay with jitter: ${eo} ms, last attempt: ${ec} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,eh,()=>(this.Co=Date.now(),er())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lu=class Lu{constructor(er,eo,ec,eh,ep,ef,eg,em){this.ii=er,this.$o=ec,this.Oo=eh,this.connection=ep,this.authCredentialsProvider=ef,this.appCheckCredentialsProvider=eg,this.listener=em,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Bu(er,eo)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(er){this.Ho(),this.stream.send(er)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(er,eo){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==er?this.qo.reset():eo&&eo.code===tF.RESOURCE_EXHAUSTED?(index_esm2017_k(eo.toString()),index_esm2017_k("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):eo&&eo.code===tF.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=er,await this.listener.ao(eo)}Yo(){}auth(){this.state=1;let er=this.Xo(this.Fo),eo=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([er,ec])=>{this.Fo===eo&&this.Zo(er,ec)},eo=>{er(()=>{let er=new index_esm2017_U(tF.UNKNOWN,"Fetching auth token failed: "+eo.message);return this.tu(er)})})}Zo(er,eo){let ec=this.Xo(this.Fo);this.stream=this.eu(er,eo),this.stream.uo(()=>{ec(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(er=>{ec(()=>this.tu(er))}),this.stream.onMessage(er=>{ec(()=>this.onMessage(er))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(er){return index_esm2017_N("PersistentStream",`close with error: ${er}`),this.stream=null,this.close(4,er)}Xo(er){return eo=>{this.ii.enqueueAndForget(()=>this.Fo===er?eo():(index_esm2017_N("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};let qu=class qu extends Lu{constructor(er,eo,ec,eh,ep,ef){super(er,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",eo,ec,eh,ef),this.serializer=ep}eu(er,eo){return this.connection.Ro("Listen",er,eo)}onMessage(er){this.qo.reset();let eo=function(er,eo){let ec;if("targetChange"in eo){var eh,ep;eo.targetChange;let ef="NO_CHANGE"===(eh=eo.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===eh?1:"REMOVE"===eh?2:"CURRENT"===eh?3:"RESET"===eh?4:index_esm2017_O(),eg=eo.targetChange.targetIds||[],em=(ep=eo.targetChange.resumeToken,er.useProto3Json?(void 0===ep||"string"==typeof ep||index_esm2017_O(),Ve.fromBase64String(ep||"")):(void 0===ep||ep instanceof Uint8Array||index_esm2017_O(),Ve.fromUint8Array(ep||new Uint8Array))),ey=eo.targetChange.cause,ev=ey&&function(er){let eo=void 0===er.code?tF.UNKNOWN:ui(er.code);return new index_esm2017_U(eo,er.message||"")}(ey);ec=new Ii(ef,eg,em,ev||null)}else if("documentChange"in eo){eo.documentChange;let eh=eo.documentChange;eh.document,eh.document.name,eh.document.updateTime;let ep=Oi(er,eh.document.name),ef=Ni(eh.document.updateTime),eg=eh.document.createTime?Ni(eh.document.createTime):rt.min(),em=new un({mapValue:{fields:eh.document.fields}}),ey=an.newFoundDocument(ep,ef,eg,em),ev=eh.targetIds||[],e_=eh.removedTargetIds||[];ec=new yi(ev,e_,ey.key,ey)}else if("documentDelete"in eo){eo.documentDelete;let eh=eo.documentDelete;eh.document;let ep=Oi(er,eh.document),ef=eh.readTime?Ni(eh.readTime):rt.min(),eg=an.newNoDocument(ep,ef),em=eh.removedTargetIds||[];ec=new yi([],em,eg.key,eg)}else if("documentRemove"in eo){eo.documentRemove;let eh=eo.documentRemove;eh.document;let ep=Oi(er,eh.document),ef=eh.removedTargetIds||[];ec=new yi([],ef,ep,null)}else{if(!("filter"in eo))return index_esm2017_O();{eo.filter;let er=eo.filter;er.targetId;let{count:eh=0,unchangedNames:ep}=er,ef=new si(eh,ep),eg=er.targetId;ec=new pi(eg,ef)}}return ec}(this.serializer,er),ec=function(er){if(!("targetChange"in er))return rt.min();let eo=er.targetChange;return eo.targetIds&&eo.targetIds.length?rt.min():eo.readTime?Ni(eo.readTime):rt.min()}(er);return this.listener.nu(eo,ec)}su(er){let eo={};eo.database=Li(this.serializer),eo.addTarget=function(er,eo){let ec;let eh=eo.target;if((ec=Fn(eh)?{documents:{documents:[Fi(er,eh.path)]}}:{query:function(er,eo){var ec,eh;let ep={structuredQuery:{}},ef=eo.path;null!==eo.collectionGroup?(ep.parent=Fi(er,ef),ep.structuredQuery.from=[{collectionId:eo.collectionGroup,allDescendants:!0}]):(ep.parent=Fi(er,ef.popLast()),ep.structuredQuery.from=[{collectionId:ef.lastSegment()}]);let eg=function(er){if(0!==er.length)return function rr(er){return er instanceof mn?function(er){if("=="===er.op){if(Xe(er.value))return{unaryFilter:{field:sr(er.field),op:"IS_NAN"}};if(Ye(er.value))return{unaryFilter:{field:sr(er.field),op:"IS_NULL"}}}else if("!="===er.op){if(Xe(er.value))return{unaryFilter:{field:sr(er.field),op:"IS_NOT_NAN"}};if(Ye(er.value))return{unaryFilter:{field:sr(er.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sr(er.field),op:tQ[er.op],value:er.value}}}(er):er instanceof gn?function(er){let eo=er.getFilters().map(er=>rr(er));return 1===eo.length?eo[0]:{compositeFilter:{op:tX[er.op],filters:eo}}}(er):index_esm2017_O()}(gn.create(er,"and"))}(eo.filters);eg&&(ep.structuredQuery.where=eg);let em=function(er){if(0!==er.length)return er.map(er=>({field:sr(er.field),direction:tJ[er.dir]}))}(eo.orderBy);em&&(ep.structuredQuery.orderBy=em);let ey=Si(er,eo.limit);return null!==ey&&(ep.structuredQuery.limit=ey),eo.startAt&&(ep.structuredQuery.startAt={before:(ec=eo.startAt).inclusive,values:ec.position}),eo.endAt&&(ep.structuredQuery.endAt={before:!(eh=eo.endAt).inclusive,values:eh.position}),ep}(er,eh)}).targetId=eo.targetId,eo.resumeToken.approximateByteSize()>0){ec.resumeToken=Ci(er,eo.resumeToken);let eh=Si(er,eo.expectedCount);null!==eh&&(ec.expectedCount=eh)}else if(eo.snapshotVersion.compareTo(rt.min())>0){ec.readTime=Di(er,eo.snapshotVersion.toTimestamp());let eh=Si(er,eo.expectedCount);null!==eh&&(ec.expectedCount=eh)}return ec}(this.serializer,er);let ec=function(er,eo){let ec=function(er){switch(er){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return index_esm2017_O()}}(eo.purpose);return null==ec?null:{"goog-listen-tags":ec}}(this.serializer,er);ec&&(eo.labels=ec),this.Wo(eo)}iu(er){let eo={};eo.database=Li(this.serializer),eo.removeTarget=er,this.Wo(eo)}};let Uu=class Uu extends Lu{constructor(er,eo,ec,eh,ep,ef){super(er,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",eo,ec,eh,ef),this.serializer=ep,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(er,eo){return this.connection.Ro("Write",er,eo)}onMessage(er){var eo,ec;if(er.streamToken||index_esm2017_O(),this.lastStreamToken=er.streamToken,this.ru){this.qo.reset();let eh=(eo=er.writeResults,ec=er.commitTime,eo&&eo.length>0?(void 0!==ec||index_esm2017_O(),eo.map(er=>{let eo;return(eo=er.updateTime?Ni(er.updateTime):Ni(ec)).isEqual(rt.min())&&(eo=Ni(ec)),new Os(eo,er.transformResults||[])})):[]),ep=Ni(er.commitTime);return this.listener.cu(ep,eh)}return er.writeResults&&0!==er.writeResults.length&&index_esm2017_O(),this.ru=!0,this.listener.au()}hu(){let er={};er.database=Li(this.serializer),this.Wo(er)}uu(er){let eo={streamToken:this.lastStreamToken,writes:er.map(er=>(function(er,eo){var ec;let eh;if(eo instanceof js)eh={update:Ui(er,eo.key,eo.value)};else if(eo instanceof Ys)eh={delete:$i(er,eo.key)};else if(eo instanceof zs)eh={update:Ui(er,eo.key,eo.data),updateMask:function(er){let eo=[];return er.fields.forEach(er=>eo.push(er.canonicalString())),{fieldPaths:eo}}(eo.fieldMask)};else{if(!(eo instanceof Xs))return index_esm2017_O();eh={verify:$i(er,eo.key)}}return eo.fieldTransforms.length>0&&(eh.updateTransforms=eo.fieldTransforms.map(er=>(function(er,eo){let ec=eo.transform;if(ec instanceof bs)return{fieldPath:eo.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(ec instanceof Vs)return{fieldPath:eo.field.canonicalString(),appendMissingElements:{values:ec.elements}};if(ec instanceof Ds)return{fieldPath:eo.field.canonicalString(),removeAllFromArray:{values:ec.elements}};if(ec instanceof xs)return{fieldPath:eo.field.canonicalString(),increment:ec.gt};throw index_esm2017_O()})(0,er))),eo.precondition.isNone||(eh.currentDocument=void 0!==(ec=eo.precondition).updateTime?{updateTime:Di(er,ec.updateTime.toTimestamp())}:void 0!==ec.exists?{exists:ec.exists}:index_esm2017_O()),eh})(this.serializer,er))};this.Wo(eo)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=class Ku extends class{}{constructor(er,eo,ec,eh){super(),this.authCredentials=er,this.appCheckCredentials=eo,this.connection=ec,this.serializer=eh,this.lu=!1}fu(){if(this.lu)throw new index_esm2017_U(tF.FAILED_PRECONDITION,"The client has already been terminated.")}Io(er,eo,ec){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([eh,ep])=>this.connection.Io(er,eo,ec,eh,ep)).catch(er=>{throw"FirebaseError"===er.name?(er.code===tF.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),er):new index_esm2017_U(tF.UNKNOWN,er.toString())})}vo(er,eo,ec,eh){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([ep,ef])=>this.connection.vo(er,eo,ec,ep,ef,eh)).catch(er=>{throw"FirebaseError"===er.name?(er.code===tF.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),er):new index_esm2017_U(tF.UNKNOWN,er.toString())})}terminate(){this.lu=!0}};let Qu=class Qu{constructor(er,eo){this.asyncQueue=er,this.onlineStateHandler=eo,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(er){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${er.toString()}`),this.yu("Offline")))}set(er){this.Tu(),this.wu=0,"Online"===er&&(this.mu=!1),this.yu(er)}yu(er){er!==this.state&&(this.state=er,this.onlineStateHandler(er))}pu(er){let eo=`Could not reach Cloud Firestore backend. ${er}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(index_esm2017_k(eo),this.mu=!1):index_esm2017_N("OnlineStateTracker",eo)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=class ju{constructor(er,eo,ec,eh,ep){this.localStore=er,this.datastore=eo,this.asyncQueue=ec,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=ep,this.Pu.Yr(er=>{ec.enqueueAndForget(async()=>{index_esm2017_ec(this)&&(index_esm2017_N("RemoteStore","Restarting streams for network reachability change."),await async function(er){er.vu.add(4),await Wu(er),er.bu.set("Unknown"),er.vu.delete(4),await zu(er)}(this))})}),this.bu=new Qu(ec,eh)}};async function zu(er){if(index_esm2017_ec(er))for(let eo of er.Ru)await eo(!0)}async function Wu(er){for(let eo of er.Ru)await eo(!1)}function Hu(er,eo){er.Au.has(eo.targetId)||(er.Au.set(eo.targetId,eo),index_esm2017_tc(er)?Zu(er):index_esm2017_pc(er).Ko()&&Yu(er,eo))}function Ju(er,eo){let ec=index_esm2017_pc(er);er.Au.delete(eo),ec.Ko()&&Xu(er,eo),0===er.Au.size&&(ec.Ko()?ec.jo():index_esm2017_ec(er)&&er.bu.set("Unknown"))}function Yu(er,eo){if(er.Vu.qt(eo.targetId),eo.resumeToken.approximateByteSize()>0||eo.snapshotVersion.compareTo(rt.min())>0){let ec=er.remoteSyncer.getRemoteKeysForTarget(eo.targetId).size;eo=eo.withExpectedCount(ec)}index_esm2017_pc(er).su(eo)}function Xu(er,eo){er.Vu.qt(eo),index_esm2017_pc(er).iu(eo)}function Zu(er){er.Vu=new Ei({getRemoteKeysForTarget:eo=>er.remoteSyncer.getRemoteKeysForTarget(eo),le:eo=>er.Au.get(eo)||null,ue:()=>er.datastore.serializer.databaseId}),index_esm2017_pc(er).start(),er.bu.gu()}function index_esm2017_tc(er){return index_esm2017_ec(er)&&!index_esm2017_pc(er).Uo()&&er.Au.size>0}function index_esm2017_ec(er){return 0===er.vu.size}async function index_esm2017_sc(er){er.Au.forEach((eo,ec)=>{Yu(er,eo)})}async function index_esm2017_ic(er,eo){er.Vu=void 0,index_esm2017_tc(er)?(er.bu.Iu(eo),Zu(er)):er.bu.set("Unknown")}async function index_esm2017_rc(er,eo,ec){if(er.bu.set("Online"),eo instanceof Ii&&2===eo.state&&eo.cause)try{await async function(er,eo){let ec=eo.cause;for(let eh of eo.targetIds)er.Au.has(eh)&&(await er.remoteSyncer.rejectListen(eh,ec),er.Au.delete(eh),er.Vu.removeTarget(eh))}(er,eo)}catch(ec){index_esm2017_N("RemoteStore","Failed to remove targets %s: %s ",eo.targetIds.join(","),ec),await index_esm2017_oc(er,ec)}else if(eo instanceof yi?er.Vu.Ht(eo):eo instanceof pi?er.Vu.ne(eo):er.Vu.Xt(eo),!ec.isEqual(rt.min()))try{let eo=await ou(er.localStore);ec.compareTo(eo)>=0&&await function(er,eo){let ec=er.Vu.ce(eo);return ec.targetChanges.forEach((ec,eh)=>{if(ec.resumeToken.approximateByteSize()>0){let ep=er.Au.get(eh);ep&&er.Au.set(eh,ep.withResumeToken(ec.resumeToken,eo))}}),ec.targetMismatches.forEach((eo,ec)=>{let eh=er.Au.get(eo);if(!eh)return;er.Au.set(eo,eh.withResumeToken(Ve.EMPTY_BYTE_STRING,eh.snapshotVersion)),Xu(er,eo);let ep=new cr(eh.target,eo,ec,eh.sequenceNumber);Yu(er,ep)}),er.remoteSyncer.applyRemoteEvent(ec)}(er,ec)}catch(eo){index_esm2017_N("RemoteStore","Failed to raise snapshot:",eo),await index_esm2017_oc(er,eo)}}async function index_esm2017_oc(er,eo,ec){if(!Dt(eo))throw eo;er.vu.add(1),await Wu(er),er.bu.set("Offline"),ec||(ec=()=>ou(er.localStore)),er.asyncQueue.enqueueRetryable(async()=>{index_esm2017_N("RemoteStore","Retrying IndexedDB access"),await ec(),er.vu.delete(1),await zu(er)})}function index_esm2017_uc(er,eo){return eo().catch(ec=>index_esm2017_oc(er,ec,eo))}async function index_esm2017_cc(er){let eo=index_esm2017_Ic(er),ec=er.Eu.length>0?er.Eu[er.Eu.length-1].batchId:-1;for(;index_esm2017_ec(er)&&er.Eu.length<10;)try{let eh=await function(er,eo){return er.persistence.runTransaction("Get next mutation batch","readonly",ec=>(void 0===eo&&(eo=-1),er.mutationQueue.getNextMutationBatchAfterBatchId(ec,eo)))}(er.localStore,ec);if(null===eh){0===er.Eu.length&&eo.jo();break}ec=eh.batchId,function(er,eo){er.Eu.push(eo);let ec=index_esm2017_Ic(er);ec.Ko()&&ec.ou&&ec.uu(eo.mutations)}(er,eh)}catch(eo){await index_esm2017_oc(er,eo)}index_esm2017_lc(er)&&index_esm2017_fc(er)}function index_esm2017_lc(er){return index_esm2017_ec(er)&&!index_esm2017_Ic(er).Uo()&&er.Eu.length>0}function index_esm2017_fc(er){index_esm2017_Ic(er).start()}async function index_esm2017_dc(er){index_esm2017_Ic(er).hu()}async function index_esm2017_wc(er){let eo=index_esm2017_Ic(er);for(let ec of er.Eu)eo.uu(ec.mutations)}async function _c(er,eo,ec){let eh=er.Eu.shift(),ep=ti.from(eh,eo,ec);await index_esm2017_uc(er,()=>er.remoteSyncer.applySuccessfulWrite(ep)),await index_esm2017_cc(er)}async function index_esm2017_mc(er,eo){eo&&index_esm2017_Ic(er).ou&&await async function(er,eo){var ec;if(function(er){switch(er){default:return index_esm2017_O();case tF.CANCELLED:case tF.UNKNOWN:case tF.DEADLINE_EXCEEDED:case tF.RESOURCE_EXHAUSTED:case tF.INTERNAL:case tF.UNAVAILABLE:case tF.UNAUTHENTICATED:return!1;case tF.INVALID_ARGUMENT:case tF.NOT_FOUND:case tF.ALREADY_EXISTS:case tF.PERMISSION_DENIED:case tF.FAILED_PRECONDITION:case tF.ABORTED:case tF.OUT_OF_RANGE:case tF.UNIMPLEMENTED:case tF.DATA_LOSS:return!0}}(ec=eo.code)&&ec!==tF.ABORTED){let ec=er.Eu.shift();index_esm2017_Ic(er).Qo(),await index_esm2017_uc(er,()=>er.remoteSyncer.rejectFailedWrite(ec.batchId,eo)),await index_esm2017_cc(er)}}(er,eo),index_esm2017_lc(er)&&index_esm2017_fc(er)}async function index_esm2017_gc(er,eo){er.asyncQueue.verifyOperationInProgress(),index_esm2017_N("RemoteStore","RemoteStore received new credentials");let ec=index_esm2017_ec(er);er.vu.add(3),await Wu(er),ec&&er.bu.set("Unknown"),await er.remoteSyncer.handleCredentialChange(eo),er.vu.delete(3),await zu(er)}async function index_esm2017_yc(er,eo){eo?(er.vu.delete(2),await zu(er)):eo||(er.vu.add(2),await Wu(er),er.bu.set("Unknown"))}function index_esm2017_pc(er){var eo,ec,eh;return er.Su||(er.Su=(eo=er.datastore,ec=er.asyncQueue,eh={uo:index_esm2017_sc.bind(null,er),ao:index_esm2017_ic.bind(null,er),nu:index_esm2017_rc.bind(null,er)},eo.fu(),new qu(ec,eo.connection,eo.authCredentials,eo.appCheckCredentials,eo.serializer,eh)),er.Ru.push(async eo=>{eo?(er.Su.Qo(),index_esm2017_tc(er)?Zu(er):er.bu.set("Unknown")):(await er.Su.stop(),er.Vu=void 0)})),er.Su}function index_esm2017_Ic(er){var eo,ec,eh;return er.Du||(er.Du=(eo=er.datastore,ec=er.asyncQueue,eh={uo:index_esm2017_dc.bind(null,er),ao:index_esm2017_mc.bind(null,er),au:index_esm2017_wc.bind(null,er),cu:_c.bind(null,er)},eo.fu(),new Uu(ec,eo.connection,eo.authCredentials,eo.appCheckCredentials,eo.serializer,eh)),er.Ru.push(async eo=>{eo?(er.Du.Qo(),await index_esm2017_cc(er)):(await er.Du.stop(),er.Eu.length>0&&(index_esm2017_N("RemoteStore",`Stopping write stream with ${er.Eu.length} pending writes`),er.Eu=[]))})),er.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_Tc=class index_esm2017_Tc{constructor(er,eo,ec,eh,ep){this.asyncQueue=er,this.timerId=eo,this.targetTimeMs=ec,this.op=eh,this.removalCallback=ep,this.deferred=new index_esm2017_K,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(er=>{})}static createAndSchedule(er,eo,ec,eh,ep){let ef=Date.now()+ec,eg=new index_esm2017_Tc(er,eo,ef,eh,ep);return eg.start(ec),eg}start(er){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),er)}skipDelay(){return this.handleDelayElapsed()}cancel(er){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new index_esm2017_U(tF.CANCELLED,"Operation cancelled"+(er?": "+er:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(er=>this.deferred.resolve(er))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function index_esm2017_Ec(er,eo){if(index_esm2017_k("AsyncQueue",`${eo}: ${er}`),Dt(er))return new index_esm2017_U(tF.UNAVAILABLE,`${eo}: ${er}`);throw er}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_Ac=class index_esm2017_Ac{constructor(er){this.comparator=er?(eo,ec)=>er(eo,ec)||ht.comparator(eo.key,ec.key):(er,eo)=>ht.comparator(er.key,eo.key),this.keyedMap=hs(),this.sortedSet=new pe(this.comparator)}static emptySet(er){return new index_esm2017_Ac(er.comparator)}has(er){return null!=this.keyedMap.get(er)}get(er){return this.keyedMap.get(er)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(er){let eo=this.keyedMap.get(er);return eo?this.sortedSet.indexOf(eo):-1}get size(){return this.sortedSet.size}forEach(er){this.sortedSet.inorderTraversal((eo,ec)=>(er(eo),!1))}add(er){let eo=this.delete(er.key);return eo.copy(eo.keyedMap.insert(er.key,er),eo.sortedSet.insert(er,null))}delete(er){let eo=this.get(er);return eo?this.copy(this.keyedMap.remove(er),this.sortedSet.remove(eo)):this}isEqual(er){if(!(er instanceof index_esm2017_Ac)||this.size!==er.size)return!1;let eo=this.sortedSet.getIterator(),ec=er.sortedSet.getIterator();for(;eo.hasNext();){let er=eo.getNext().key,eh=ec.getNext().key;if(!er.isEqual(eh))return!1}return!0}toString(){let er=[];return this.forEach(eo=>{er.push(eo.toString())}),0===er.length?"DocumentSet ()":"DocumentSet (\n  "+er.join("  \n")+"\n)"}copy(er,eo){let ec=new index_esm2017_Ac;return ec.comparator=this.comparator,ec.keyedMap=er,ec.sortedSet=eo,ec}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_vc=class index_esm2017_vc{constructor(){this.Cu=new pe(ht.comparator)}track(er){let eo=er.doc.key,ec=this.Cu.get(eo);ec?0!==er.type&&3===ec.type?this.Cu=this.Cu.insert(eo,er):3===er.type&&1!==ec.type?this.Cu=this.Cu.insert(eo,{type:ec.type,doc:er.doc}):2===er.type&&2===ec.type?this.Cu=this.Cu.insert(eo,{type:2,doc:er.doc}):2===er.type&&0===ec.type?this.Cu=this.Cu.insert(eo,{type:0,doc:er.doc}):1===er.type&&0===ec.type?this.Cu=this.Cu.remove(eo):1===er.type&&2===ec.type?this.Cu=this.Cu.insert(eo,{type:1,doc:ec.doc}):0===er.type&&1===ec.type?this.Cu=this.Cu.insert(eo,{type:2,doc:er.doc}):index_esm2017_O():this.Cu=this.Cu.insert(eo,er)}xu(){let er=[];return this.Cu.inorderTraversal((eo,ec)=>{er.push(ec)}),er}};let index_esm2017_Rc=class index_esm2017_Rc{constructor(er,eo,ec,eh,ep,ef,eg,em,ey){this.query=er,this.docs=eo,this.oldDocs=ec,this.docChanges=eh,this.mutatedKeys=ep,this.fromCache=ef,this.syncStateChanged=eg,this.excludesMetadataChanges=em,this.hasCachedResults=ey}static fromInitialDocuments(er,eo,ec,eh,ep){let ef=[];return eo.forEach(er=>{ef.push({type:0,doc:er})}),new index_esm2017_Rc(er,eo,index_esm2017_Ac.emptySet(eo),ef,ec,eh,!0,!1,ep)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(er){if(!(this.fromCache===er.fromCache&&this.hasCachedResults===er.hasCachedResults&&this.syncStateChanged===er.syncStateChanged&&this.mutatedKeys.isEqual(er.mutatedKeys)&&Zn(this.query,er.query)&&this.docs.isEqual(er.docs)&&this.oldDocs.isEqual(er.oldDocs)))return!1;let eo=this.docChanges,ec=er.docChanges;if(eo.length!==ec.length)return!1;for(let er=0;er<eo.length;er++)if(eo[er].type!==ec[er].type||!eo[er].doc.isEqual(ec[er].doc))return!1;return!0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_Pc=class index_esm2017_Pc{constructor(){this.Nu=void 0,this.listeners=[]}};let index_esm2017_bc=class index_esm2017_bc{constructor(){this.queries=new os(er=>ts(er),Zn),this.onlineState="Unknown",this.ku=new Set}};async function index_esm2017_Vc(er,eo){let ec=eo.query,eh=!1,ep=er.queries.get(ec);if(ep||(eh=!0,ep=new index_esm2017_Pc),eh)try{ep.Nu=await er.onListen(ec)}catch(ec){let er=index_esm2017_Ec(ec,`Initialization of query '${es(eo.query)}' failed`);return void eo.onError(er)}er.queries.set(ec,ep),ep.listeners.push(eo),eo.Mu(er.onlineState),ep.Nu&&eo.$u(ep.Nu)&&index_esm2017_xc(er)}async function index_esm2017_Sc(er,eo){let ec=eo.query,eh=!1,ep=er.queries.get(ec);if(ep){let er=ep.listeners.indexOf(eo);er>=0&&(ep.listeners.splice(er,1),eh=0===ep.listeners.length)}if(eh)return er.queries.delete(ec),er.onUnlisten(ec)}function index_esm2017_Dc(er,eo){let ec=!1;for(let eh of eo){let eo=eh.query,ep=er.queries.get(eo);if(ep){for(let er of ep.listeners)er.$u(eh)&&(ec=!0);ep.Nu=eh}}ec&&index_esm2017_xc(er)}function index_esm2017_Cc(er,eo,ec){let eh=er.queries.get(eo);if(eh)for(let er of eh.listeners)er.onError(ec);er.queries.delete(eo)}function index_esm2017_xc(er){er.ku.forEach(er=>{er.next()})}let index_esm2017_Nc=class index_esm2017_Nc{constructor(er,eo,ec){this.query=er,this.Ou=eo,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=ec||{}}$u(er){if(!this.options.includeMetadataChanges){let eo=[];for(let ec of er.docChanges)3!==ec.type&&eo.push(ec);er=new index_esm2017_Rc(er.query,er.docs,er.oldDocs,eo,er.mutatedKeys,er.fromCache,er.syncStateChanged,!0,er.hasCachedResults)}let eo=!1;return this.Fu?this.Lu(er)&&(this.Ou.next(er),eo=!0):this.qu(er,this.onlineState)&&(this.Uu(er),eo=!0),this.Bu=er,eo}onError(er){this.Ou.error(er)}Mu(er){this.onlineState=er;let eo=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,er)&&(this.Uu(this.Bu),eo=!0),eo}qu(er,eo){return!er.fromCache||(!this.options.Ku||!("Offline"!==eo))&&(!er.docs.isEmpty()||er.hasCachedResults||"Offline"===eo)}Lu(er){if(er.docChanges.length>0)return!0;let eo=this.Bu&&this.Bu.hasPendingWrites!==er.hasPendingWrites;return!(!er.syncStateChanged&&!eo)&&!0===this.options.includeMetadataChanges}Uu(er){er=index_esm2017_Rc.fromInitialDocuments(er.query,er.docs,er.mutatedKeys,er.fromCache,er.hasCachedResults),this.Fu=!0,this.Ou.next(er)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_Fc=class index_esm2017_Fc{constructor(er){this.key=er}};let index_esm2017_Bc=class index_esm2017_Bc{constructor(er){this.key=er}};let index_esm2017_Lc=class index_esm2017_Lc{constructor(er,eo){this.query=er,this.Yu=eo,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=gs(),this.mutatedKeys=gs(),this.tc=is(er),this.ec=new index_esm2017_Ac(this.tc)}get nc(){return this.Yu}sc(er,eo){let ec=eo?eo.ic:new index_esm2017_vc,eh=eo?eo.ec:this.ec,ep=eo?eo.mutatedKeys:this.mutatedKeys,ef=eh,eg=!1,em="F"===this.query.limitType&&eh.size===this.query.limit?eh.last():null,ey="L"===this.query.limitType&&eh.size===this.query.limit?eh.first():null;if(er.inorderTraversal((er,eo)=>{let ev=eh.get(er),e_=ns(this.query,eo)?eo:null,ew=!!ev&&this.mutatedKeys.has(ev.key),ex=!!e_&&(e_.hasLocalMutations||this.mutatedKeys.has(e_.key)&&e_.hasCommittedMutations),ek=!1;ev&&e_?ev.data.isEqual(e_.data)?ew!==ex&&(ec.track({type:3,doc:e_}),ek=!0):this.rc(ev,e_)||(ec.track({type:2,doc:e_}),ek=!0,(em&&this.tc(e_,em)>0||ey&&0>this.tc(e_,ey))&&(eg=!0)):!ev&&e_?(ec.track({type:0,doc:e_}),ek=!0):ev&&!e_&&(ec.track({type:1,doc:ev}),ek=!0,(em||ey)&&(eg=!0)),ek&&(e_?(ef=ef.add(e_),ep=ex?ep.add(er):ep.delete(er)):(ef=ef.delete(er),ep=ep.delete(er)))}),null!==this.query.limit)for(;ef.size>this.query.limit;){let er="F"===this.query.limitType?ef.last():ef.first();ef=ef.delete(er.key),ep=ep.delete(er.key),ec.track({type:1,doc:er})}return{ec:ef,ic:ec,zi:eg,mutatedKeys:ep}}rc(er,eo){return er.hasLocalMutations&&eo.hasCommittedMutations&&!eo.hasLocalMutations}applyChanges(er,eo,ec){let eh=this.ec;this.ec=er.ec,this.mutatedKeys=er.mutatedKeys;let ep=er.ic.xu();ep.sort((er,eo)=>(function(er,eo){let n=er=>{switch(er){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return index_esm2017_O()}};return n(er)-n(eo)})(er.type,eo.type)||this.tc(er.doc,eo.doc)),this.oc(ec);let ef=eo?this.uc():[],eg=0===this.Zu.size&&this.current?1:0,em=eg!==this.Xu;return(this.Xu=eg,0!==ep.length||em)?{snapshot:new index_esm2017_Rc(this.query,er.ec,eh,ep,er.mutatedKeys,0===eg,em,!1,!!ec&&ec.resumeToken.approximateByteSize()>0),cc:ef}:{cc:ef}}Mu(er){return this.current&&"Offline"===er?(this.current=!1,this.applyChanges({ec:this.ec,ic:new index_esm2017_vc,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(er){return!this.Yu.has(er)&&!!this.ec.has(er)&&!this.ec.get(er).hasLocalMutations}oc(er){er&&(er.addedDocuments.forEach(er=>this.Yu=this.Yu.add(er)),er.modifiedDocuments.forEach(er=>{}),er.removedDocuments.forEach(er=>this.Yu=this.Yu.delete(er)),this.current=er.current)}uc(){if(!this.current)return[];let er=this.Zu;this.Zu=gs(),this.ec.forEach(er=>{this.ac(er.key)&&(this.Zu=this.Zu.add(er.key))});let eo=[];return er.forEach(er=>{this.Zu.has(er)||eo.push(new index_esm2017_Bc(er))}),this.Zu.forEach(ec=>{er.has(ec)||eo.push(new index_esm2017_Fc(ec))}),eo}hc(er){this.Yu=er.ir,this.Zu=gs();let eo=this.sc(er.documents);return this.applyChanges(eo,!0)}lc(){return index_esm2017_Rc.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}};let index_esm2017_qc=class index_esm2017_qc{constructor(er,eo,ec){this.query=er,this.targetId=eo,this.view=ec}};let index_esm2017_Uc=class index_esm2017_Uc{constructor(er){this.key=er,this.fc=!1}};let index_esm2017_Kc=class index_esm2017_Kc{constructor(er,eo,ec,eh,ep,ef){this.localStore=er,this.remoteStore=eo,this.eventManager=ec,this.sharedClientState=eh,this.currentUser=ep,this.maxConcurrentLimboResolutions=ef,this.dc={},this.wc=new os(er=>ts(er),Zn),this._c=new Map,this.mc=new Set,this.gc=new pe(ht.comparator),this.yc=new Map,this.Ic=new Oo,this.Tc={},this.Ec=new Map,this.Ac=lo.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}};async function index_esm2017_Gc(er,eo){var ec,eh;let ep,ef;let eg=(er.remoteStore.remoteSyncer.applyRemoteEvent=index_esm2017_Wc.bind(null,er),er.remoteStore.remoteSyncer.getRemoteKeysForTarget=index_esm2017_aa.bind(null,er),er.remoteStore.remoteSyncer.rejectListen=index_esm2017_Jc.bind(null,er),er.dc.nu=index_esm2017_Dc.bind(null,er.eventManager),er.dc.Pc=index_esm2017_Cc.bind(null,er.eventManager),er),em=eg.wc.get(eo);if(em)ep=em.targetId,eg.sharedClientState.addLocalQueryTarget(ep),ef=em.view.lc();else{let er=await (ec=eg.localStore,eh=Jn(eo),ec.persistence.runTransaction("Allocate target","readwrite",er=>{let eo;return ec.Bs.getTargetData(er,eh).next(ep=>ep?(eo=ep,Rt.resolve(eo)):ec.Bs.allocateTargetId(er).next(ep=>(eo=new cr(eh,ep,"TargetPurposeListen",er.currentSequenceNumber),ec.Bs.addTargetData(er,eo).next(()=>eo))))}).then(er=>{let eo=ec.Ji.get(er.targetId);return(null===eo||er.snapshotVersion.compareTo(eo.snapshotVersion)>0)&&(ec.Ji=ec.Ji.insert(er.targetId,er),ec.Yi.set(eh,er.targetId)),er})),em=eg.sharedClientState.addLocalQueryTarget(er.targetId);ep=er.targetId,ef=await index_esm2017_Qc(eg,eo,ep,"current"===em,er.resumeToken),eg.isPrimaryClient&&Hu(eg.remoteStore,er)}return ef}async function index_esm2017_Qc(er,eo,ec,eh,ep){er.Rc=(eo,ec,eh)=>(async function(er,eo,ec,eh){let ep=eo.view.sc(ec);ep.zi&&(ep=await fu(er.localStore,eo.query,!1).then(({documents:er})=>eo.view.sc(er,ep)));let ef=eh&&eh.targetChanges.get(eo.targetId),eg=eo.view.applyChanges(ep,er.isPrimaryClient,ef);return index_esm2017_ia(er,eo.targetId,eg.cc),eg.snapshot})(er,eo,ec,eh);let ef=await fu(er.localStore,eo,!0),eg=new index_esm2017_Lc(eo,ef.ir),em=eg.sc(ef.documents),ey=gi.createSynthesizedTargetChangeForCurrentChange(ec,eh&&"Offline"!==er.onlineState,ep),ev=eg.applyChanges(em,er.isPrimaryClient,ey);index_esm2017_ia(er,ec,ev.cc);let e_=new index_esm2017_qc(eo,ec,eg);return er.wc.set(eo,e_),er._c.has(ec)?er._c.get(ec).push(eo):er._c.set(ec,[eo]),ev.snapshot}async function index_esm2017_jc(er,eo){let ec=er.wc.get(eo),eh=er._c.get(ec.targetId);if(eh.length>1)return er._c.set(ec.targetId,eh.filter(er=>!Zn(er,eo))),void er.wc.delete(eo);er.isPrimaryClient?(er.sharedClientState.removeLocalQueryTarget(ec.targetId),er.sharedClientState.isActiveQueryTarget(ec.targetId)||await lu(er.localStore,ec.targetId,!1).then(()=>{er.sharedClientState.clearQueryState(ec.targetId),Ju(er.remoteStore,ec.targetId),index_esm2017_na(er,ec.targetId)}).catch(vt)):(index_esm2017_na(er,ec.targetId),await lu(er.localStore,ec.targetId,!0))}async function index_esm2017_zc(er,eo,ec){var eh;let ep=(er.remoteStore.remoteSyncer.applySuccessfulWrite=index_esm2017_Yc.bind(null,er),er.remoteStore.remoteSyncer.rejectFailedWrite=index_esm2017_Xc.bind(null,er),er);try{let er;let ef=await function(er,eo){let ec,eh;let ep=it.now(),ef=eo.reduce((er,eo)=>er.add(eo.key),gs());return er.persistence.runTransaction("Locally write mutations","readwrite",eg=>{let em=tq,ey=gs();return er.Zi.getEntries(eg,ef).next(er=>{(em=er).forEach((er,eo)=>{eo.isValidDocument()||(ey=ey.add(er))})}).next(()=>er.localDocuments.getOverlayedDocuments(eg,em)).next(eh=>{ec=eh;let ef=[];for(let er of eo){let eo=function(er,eo){let ec=null;for(let eh of er.fieldTransforms){let er=eo.data.field(eh.field),ep=Ps(eh.transform,er||null);null!=ep&&(null===ec&&(ec=un.empty()),ec.set(eh.field,ep))}return ec||null}(er,ec.get(er.key).overlayedDocument);null!=eo&&ef.push(new zs(er.key,eo,function cn(er){let eo=[];return ge(er.fields,(er,ec)=>{let eh=new at([er]);if(Ze(ec)){let er=cn(ec.mapValue).fields;if(0===er.length)eo.push(eh);else for(let ec of er)eo.push(eh.child(ec))}else eo.push(eh)}),new Re(eo)}(eo.value.mapValue),Fs.exists(!0)))}return er.mutationQueue.addMutationBatch(eg,ep,ef,eo)}).next(eo=>{eh=eo;let ep=eo.applyToLocalDocumentSet(ec,ey);return er.documentOverlayCache.saveOverlays(eg,eo.batchId,ep)})}).then(()=>({batchId:eh.batchId,changes:ls(ec)}))}(ep.localStore,eo);ep.sharedClientState.addPendingMutation(ef.batchId),eh=ef.batchId,(er=ep.Tc[ep.currentUser.toKey()])||(er=new pe(et)),er=er.insert(eh,ec),ep.Tc[ep.currentUser.toKey()]=er,await index_esm2017_ua(ep,ef.changes),await index_esm2017_cc(ep.remoteStore)}catch(eo){let er=index_esm2017_Ec(eo,"Failed to persist write");ec.reject(er)}}async function index_esm2017_Wc(er,eo){try{let ec=await function(er,eo){let ec=eo.snapshotVersion,eh=er.Ji;return er.persistence.runTransaction("Apply remote event","readwrite-primary",ep=>{var ef;let eg,em;let ey=er.Zi.newChangeBuffer({trackRemovals:!0});eh=er.Ji;let ev=[];eo.targetChanges.forEach((ef,eg)=>{var em;let ey=eh.get(eg);if(!ey)return;ev.push(er.Bs.removeMatchingKeys(ep,ef.removedDocuments,eg).next(()=>er.Bs.addMatchingKeys(ep,ef.addedDocuments,eg)));let e_=ey.withSequenceNumber(ep.currentSequenceNumber);null!==eo.targetMismatches.get(eg)?e_=e_.withResumeToken(Ve.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):ef.resumeToken.approximateByteSize()>0&&(e_=e_.withResumeToken(ef.resumeToken,ec)),eh=eh.insert(eg,e_),em=e_,(0===ey.resumeToken.approximateByteSize()||em.snapshotVersion.toMicroseconds()-ey.snapshotVersion.toMicroseconds()>=3e8||ef.addedDocuments.size+ef.modifiedDocuments.size+ef.removedDocuments.size>0)&&ev.push(er.Bs.updateTargetData(ep,e_))});let e_=tq,ew=gs();if(eo.documentUpdates.forEach(ec=>{eo.resolvedLimboDocuments.has(ec)&&ev.push(er.persistence.referenceDelegate.updateLimboDocument(ep,ec))}),ev.push((ef=eo.documentUpdates,eg=gs(),em=gs(),ef.forEach(er=>eg=eg.add(er)),ey.getEntries(ep,eg).next(er=>{let eo=tq;return ef.forEach((ec,eh)=>{let ep=er.get(ec);eh.isFoundDocument()!==ep.isFoundDocument()&&(em=em.add(ec)),eh.isNoDocument()&&eh.version.isEqual(rt.min())?(ey.removeEntry(ec,eh.readTime),eo=eo.insert(ec,eh)):!ep.isValidDocument()||eh.version.compareTo(ep.version)>0||0===eh.version.compareTo(ep.version)&&ep.hasPendingWrites?(ey.addEntry(eh),eo=eo.insert(ec,eh)):index_esm2017_N("LocalStore","Ignoring outdated watch update for ",ec,". Current version:",ep.version," Watch version:",eh.version)}),{nr:eo,sr:em}})).next(er=>{e_=er.nr,ew=er.sr})),!ec.isEqual(rt.min())){let eo=er.Bs.getLastRemoteSnapshotVersion(ep).next(eo=>er.Bs.setTargetsMetadata(ep,ep.currentSequenceNumber,ec));ev.push(eo)}return Rt.waitFor(ev).next(()=>ey.apply(ep)).next(()=>er.localDocuments.getLocalViewOfDocuments(ep,e_,ew)).next(()=>e_)}).then(eo=>(er.Ji=eh,eo))}(er.localStore,eo);eo.targetChanges.forEach((eo,ec)=>{let eh=er.yc.get(ec);eh&&(eo.addedDocuments.size+eo.modifiedDocuments.size+eo.removedDocuments.size<=1||index_esm2017_O(),eo.addedDocuments.size>0?eh.fc=!0:eo.modifiedDocuments.size>0?eh.fc||index_esm2017_O():eo.removedDocuments.size>0&&(eh.fc||index_esm2017_O(),eh.fc=!1))}),await index_esm2017_ua(er,ec,eo)}catch(er){await vt(er)}}function index_esm2017_Hc(er,eo,ec){var eh;if(er.isPrimaryClient&&0===ec||!er.isPrimaryClient&&1===ec){let ec;let ep=[];er.wc.forEach((er,ec)=>{let eh=ec.view.Mu(eo);eh.snapshot&&ep.push(eh.snapshot)}),(eh=er.eventManager).onlineState=eo,ec=!1,eh.queries.forEach((er,eh)=>{for(let er of eh.listeners)er.Mu(eo)&&(ec=!0)}),ec&&index_esm2017_xc(eh),ep.length&&er.dc.nu(ep),er.onlineState=eo,er.isPrimaryClient&&er.sharedClientState.setOnlineState(eo)}}async function index_esm2017_Jc(er,eo,ec){er.sharedClientState.updateQueryState(eo,"rejected",ec);let eh=er.yc.get(eo),ep=eh&&eh.key;if(ep){let ec=new pe(ht.comparator);ec=ec.insert(ep,an.newNoDocument(ep,rt.min()));let eh=gs().add(ep),ef=new mi(rt.min(),new Map,new pe(et),ec,eh);await index_esm2017_Wc(er,ef),er.gc=er.gc.remove(ep),er.yc.delete(eo),index_esm2017_oa(er)}else await lu(er.localStore,eo,!1).then(()=>index_esm2017_na(er,eo,ec)).catch(vt)}async function index_esm2017_Yc(er,eo){var ec;let eh=eo.batch.batchId;try{let ep=await (ec=er.localStore).persistence.runTransaction("Acknowledge batch","readwrite-primary",er=>{let eh=eo.batch.keys(),ep=ec.Zi.newChangeBuffer({trackRemovals:!0});return(function(er,eo,ec,eh){let ep=ec.batch,ef=ep.keys(),eg=Rt.resolve();return ef.forEach(er=>{eg=eg.next(()=>eh.getEntry(eo,er)).next(eo=>{let ef=ec.docVersions.get(er);null!==ef||index_esm2017_O(),0>eo.version.compareTo(ef)&&(ep.applyToRemoteDocument(eo,ec),eo.isValidDocument()&&(eo.setReadTime(ec.commitVersion),eh.addEntry(eo)))})}),eg.next(()=>er.mutationQueue.removeMutationBatch(eo,ep))})(ec,er,eo,ep).next(()=>ep.apply(er)).next(()=>ec.mutationQueue.performConsistencyCheck(er)).next(()=>ec.documentOverlayCache.removeOverlaysForBatchId(er,eh,eo.batch.batchId)).next(()=>ec.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(er,function(er){let eo=gs();for(let ec=0;ec<er.mutationResults.length;++ec)er.mutationResults[ec].transformResults.length>0&&(eo=eo.add(er.batch.mutations[ec].key));return eo}(eo))).next(()=>ec.localDocuments.getDocuments(er,eh))});index_esm2017_ea(er,eh,null),index_esm2017_ta(er,eh),er.sharedClientState.updateMutationState(eh,"acknowledged"),await index_esm2017_ua(er,ep)}catch(er){await vt(er)}}async function index_esm2017_Xc(er,eo,ec){var eh;try{let ep=await (eh=er.localStore).persistence.runTransaction("Reject batch","readwrite-primary",er=>{let ec;return eh.mutationQueue.lookupMutationBatch(er,eo).next(eo=>(null!==eo||index_esm2017_O(),ec=eo.keys(),eh.mutationQueue.removeMutationBatch(er,eo))).next(()=>eh.mutationQueue.performConsistencyCheck(er)).next(()=>eh.documentOverlayCache.removeOverlaysForBatchId(er,ec,eo)).next(()=>eh.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(er,ec)).next(()=>eh.localDocuments.getDocuments(er,ec))});index_esm2017_ea(er,eo,ec),index_esm2017_ta(er,eo),er.sharedClientState.updateMutationState(eo,"rejected",ec),await index_esm2017_ua(er,ep)}catch(er){await vt(er)}}function index_esm2017_ta(er,eo){(er.Ec.get(eo)||[]).forEach(er=>{er.resolve()}),er.Ec.delete(eo)}function index_esm2017_ea(er,eo,ec){let eh=er.Tc[er.currentUser.toKey()];if(eh){let ep=eh.get(eo);ep&&(ec?ep.reject(ec):ep.resolve(),eh=eh.remove(eo)),er.Tc[er.currentUser.toKey()]=eh}}function index_esm2017_na(er,eo,ec=null){for(let eh of(er.sharedClientState.removeLocalQueryTarget(eo),er._c.get(eo)))er.wc.delete(eh),ec&&er.dc.Pc(eh,ec);er._c.delete(eo),er.isPrimaryClient&&er.Ic.Is(eo).forEach(eo=>{er.Ic.containsKey(eo)||index_esm2017_sa(er,eo)})}function index_esm2017_sa(er,eo){er.mc.delete(eo.path.canonicalString());let ec=er.gc.get(eo);null!==ec&&(Ju(er.remoteStore,ec),er.gc=er.gc.remove(eo),er.yc.delete(ec),index_esm2017_oa(er))}function index_esm2017_ia(er,eo,ec){for(let eh of ec)eh instanceof index_esm2017_Fc?(er.Ic.addReference(eh.key,eo),function(er,eo){let ec=eo.key,eh=ec.path.canonicalString();er.gc.get(ec)||er.mc.has(eh)||(index_esm2017_N("SyncEngine","New document in limbo: "+ec),er.mc.add(eh),index_esm2017_oa(er))}(er,eh)):eh instanceof index_esm2017_Bc?(index_esm2017_N("SyncEngine","Document no longer in limbo: "+eh.key),er.Ic.removeReference(eh.key,eo),er.Ic.containsKey(eh.key)||index_esm2017_sa(er,eh.key)):index_esm2017_O()}function index_esm2017_oa(er){for(;er.mc.size>0&&er.gc.size<er.maxConcurrentLimboResolutions;){let eo=er.mc.values().next().value;er.mc.delete(eo);let ec=new ht(ut.fromString(eo)),eh=er.Ac.next();er.yc.set(eh,new index_esm2017_Uc(ec)),er.gc=er.gc.insert(ec,eh),Hu(er.remoteStore,new cr(Jn(Gn(ec.path)),eh,"TargetPurposeLimboResolution",Ot.ct))}}async function index_esm2017_ua(er,eo,ec){let eh=[],ep=[],ef=[];er.wc.isEmpty()||(er.wc.forEach((eg,em)=>{ef.push(er.Rc(em,eo,ec).then(eo=>{if((eo||ec)&&er.isPrimaryClient&&er.sharedClientState.updateQueryState(em.targetId,(null==eo?void 0:eo.fromCache)?"not-current":"current"),eo){eh.push(eo);let er=tu.Li(em.targetId,eo);ep.push(er)}}))}),await Promise.all(ef),er.dc.nu(eh),await async function(er,eo){try{await er.persistence.runTransaction("notifyLocalViewChanges","readwrite",ec=>Rt.forEach(eo,eo=>Rt.forEach(eo.Fi,eh=>er.persistence.referenceDelegate.addReference(ec,eo.targetId,eh)).next(()=>Rt.forEach(eo.Bi,eh=>er.persistence.referenceDelegate.removeReference(ec,eo.targetId,eh)))))}catch(er){if(!Dt(er))throw er;index_esm2017_N("LocalStore","Failed to update sequence numbers: "+er)}for(let ec of eo){let eo=ec.targetId;if(!ec.fromCache){let ec=er.Ji.get(eo),eh=ec.snapshotVersion,ep=ec.withLastLimboFreeSnapshotVersion(eh);er.Ji=er.Ji.insert(eo,ep)}}}(er.localStore,ep))}async function index_esm2017_ca(er,eo){if(!er.currentUser.isEqual(eo)){index_esm2017_N("SyncEngine","User change. New user:",eo.toKey());let ec=await iu(er.localStore,eo);er.currentUser=eo,er.Ec.forEach(er=>{er.forEach(er=>{er.reject(new index_esm2017_U(tF.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),er.Ec.clear(),er.sharedClientState.handleUserChange(eo,ec.removedBatchIds,ec.addedBatchIds),await index_esm2017_ua(er,ec.er)}}function index_esm2017_aa(er,eo){let ec=er.yc.get(eo);if(ec&&ec.fc)return gs().add(ec.key);{let ec=gs(),eh=er._c.get(eo);if(!eh)return ec;for(let eo of eh){let eh=er.wc.get(eo);ec=ec.unionWith(eh.view.nc)}return ec}}let index_esm2017_Ea=class index_esm2017_Ea{constructor(){this.synchronizeTabs=!1}async initialize(er){this.serializer=Fu(er.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(er),this.persistence=this.createPersistence(er),await this.persistence.start(),this.localStore=this.createLocalStore(er),this.gcScheduler=this.createGarbageCollectionScheduler(er,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(er,this.localStore)}createGarbageCollectionScheduler(er,eo){return null}createIndexBackfillerScheduler(er,eo){return null}createLocalStore(er){var eo,ec,eh,ep;return eo=this.persistence,ec=new eu,eh=er.initialUser,ep=this.serializer,new nu(eo,ec,eh,ep)}createPersistence(er){return new Ko(Qo.zs,this.serializer)}createSharedClientState(er){return new bu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}};let index_esm2017_Pa=class index_esm2017_Pa{async initialize(er,eo){this.localStore||(this.localStore=er.localStore,this.sharedClientState=er.sharedClientState,this.datastore=this.createDatastore(eo),this.remoteStore=this.createRemoteStore(eo),this.eventManager=this.createEventManager(eo),this.syncEngine=this.createSyncEngine(eo,!er.synchronizeTabs),this.sharedClientState.onlineStateHandler=er=>index_esm2017_Hc(this.syncEngine,er,1),this.remoteStore.remoteSyncer.handleCredentialChange=index_esm2017_ca.bind(null,this.syncEngine),await index_esm2017_yc(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(er){return new index_esm2017_bc}createDatastore(er){var eo,ec,eh;let ep=Fu(er.databaseInfo.databaseId),ef=(eo=er.databaseInfo,new Mu(eo));return ec=er.authCredentials,eh=er.appCheckCredentials,new Ku(ec,eh,ef,ep)}createRemoteStore(er){var eo,ec,eh,ep;return eo=this.localStore,ec=this.datastore,eh=er.asyncQueue,ep=Su.D()?new Su:new Vu,new ju(eo,ec,eh,er=>index_esm2017_Hc(this.syncEngine,er,0),ep)}createSyncEngine(er,eo){return function(er,eo,ec,eh,ep,ef,eg){let em=new index_esm2017_Kc(er,eo,ec,eh,ep,ef);return eg&&(em.vc=!0),em}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,er.initialUser,er.maxConcurrentLimboResolutions,eo)}terminate(){return async function(er){index_esm2017_N("RemoteStore","RemoteStore shutting down."),er.vu.add(5),await Wu(er),er.Pu.shutdown(),er.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_Va=class index_esm2017_Va{constructor(er){this.observer=er,this.muted=!1}next(er){this.observer.next&&this.Sc(this.observer.next,er)}error(er){this.observer.error?this.Sc(this.observer.error,er):index_esm2017_k("Uncaught Error in snapshot listener:",er.toString())}Dc(){this.muted=!0}Sc(er,eo){this.muted||setTimeout(()=>{this.muted||er(eo)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let index_esm2017_xa=class index_esm2017_xa{constructor(er,eo,ec,eh){this.authCredentials=er,this.appCheckCredentials=eo,this.asyncQueue=ec,this.databaseInfo=eh,this.user=index_esm2017_V.UNAUTHENTICATED,this.clientId=tt.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(ec,async er=>{index_esm2017_N("FirestoreClient","Received user=",er.uid),await this.authCredentialListener(er),this.user=er}),this.appCheckCredentials.start(ec,er=>(index_esm2017_N("FirestoreClient","Received new app check token=",er),this.appCheckCredentialListener(er,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(er){this.authCredentialListener=er}setAppCheckTokenChangeListener(er){this.appCheckCredentialListener=er}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new index_esm2017_U(tF.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let er=new index_esm2017_K;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),er.resolve()}catch(ec){let eo=index_esm2017_Ec(ec,"Failed to shutdown persistence");er.reject(eo)}}),er.promise}};async function index_esm2017_Na(er,eo){er.asyncQueue.verifyOperationInProgress(),index_esm2017_N("FirestoreClient","Initializing OfflineComponentProvider");let ec=await er.getConfiguration();await eo.initialize(ec);let eh=ec.initialUser;er.setCredentialChangeListener(async er=>{eh.isEqual(er)||(await iu(eo.localStore,er),eh=er)}),eo.persistence.setDatabaseDeletedListener(()=>er.terminate()),er._offlineComponents=eo}async function index_esm2017_ka(er,eo){er.asyncQueue.verifyOperationInProgress();let ec=await index_esm2017_$a(er);index_esm2017_N("FirestoreClient","Initializing OnlineComponentProvider");let eh=await er.getConfiguration();await eo.initialize(ec,eh),er.setCredentialChangeListener(er=>index_esm2017_gc(eo.remoteStore,er)),er.setAppCheckTokenChangeListener((er,ec)=>index_esm2017_gc(eo.remoteStore,ec)),er._onlineComponents=eo}async function index_esm2017_$a(er){if(!er._offlineComponents){if(er._uninitializedComponentsProvider){index_esm2017_N("FirestoreClient","Using user provided OfflineComponentProvider");try{await index_esm2017_Na(er,er._uninitializedComponentsProvider._offline)}catch(eo){if(!("FirebaseError"===eo.name?eo.code===tF.FAILED_PRECONDITION||eo.code===tF.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&eo instanceof DOMException)||22===eo.code||20===eo.code||11===eo.code))throw eo;index_esm2017_M("Error using user provided cache. Falling back to memory cache: "+eo),await index_esm2017_Na(er,new index_esm2017_Ea)}}else index_esm2017_N("FirestoreClient","Using default OfflineComponentProvider"),await index_esm2017_Na(er,new index_esm2017_Ea)}return er._offlineComponents}async function index_esm2017_Oa(er){return er._onlineComponents||(er._uninitializedComponentsProvider?(index_esm2017_N("FirestoreClient","Using user provided OnlineComponentProvider"),await index_esm2017_ka(er,er._uninitializedComponentsProvider._online)):(index_esm2017_N("FirestoreClient","Using default OnlineComponentProvider"),await index_esm2017_ka(er,new index_esm2017_Pa))),er._onlineComponents}async function index_esm2017_Ka(er){let eo=await index_esm2017_Oa(er),ec=eo.eventManager;return ec.onListen=index_esm2017_Gc.bind(null,eo.syncEngine),ec.onUnlisten=index_esm2017_jc.bind(null,eo.syncEngine),ec}function index_esm2017_Ha(er,eo,ec={}){let eh=new index_esm2017_K;return er.asyncQueue.enqueueAndForget(async()=>(function(er,eo,ec,eh,ep){let ef=new index_esm2017_Va({next:ec=>{eo.enqueueAndForget(()=>index_esm2017_Sc(er,eg)),ec.fromCache&&"server"===eh.source?ep.reject(new index_esm2017_U(tF.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ep.resolve(ec)},error:er=>ep.reject(er)}),eg=new index_esm2017_Nc(ec,ef,{includeMetadataChanges:!0,Ku:!0});return index_esm2017_Vc(er,eg)})(await index_esm2017_Ka(er),er.asyncQueue,eo,ec,eh)),eh.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(er){let eo={};return void 0!==er.timeoutSeconds&&(eo.timeoutSeconds=er.timeoutSeconds),eo}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(er,eo,ec){if(!ec)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Function ${er}() cannot be called with an empty ${eo}.`)}function ih(er){if(!ht.isDocumentKey(er))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${er} has ${er.length}.`)}function rh(er){if(ht.isDocumentKey(er))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${er} has ${er.length}.`)}function oh(er){if(void 0===er)return"undefined";if(null===er)return"null";if("string"==typeof er)return er.length>20&&(er=`${er.substring(0,20)}...`),JSON.stringify(er);if("number"==typeof er||"boolean"==typeof er)return""+er;if("object"==typeof er){if(er instanceof Array)return"an array";{var eo;let ec=(eo=er).constructor?eo.constructor.name:null;return ec?`a custom ${ec} object`:"an object"}}return"function"==typeof er?"a function":index_esm2017_O()}function uh(er,eo){if("_delegate"in er&&(er=er._delegate),!(er instanceof eo)){if(eo.name===er.constructor.name)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let ec=oh(er);throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Expected type '${eo.name}', but it was: ${ec}`)}}return er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ah=class ah{constructor(er){var eo,ec;if(void 0===er.host){if(void 0!==er.ssl)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=er.host,this.ssl=null===(eo=er.ssl)||void 0===eo||eo;if(this.credentials=er.credentials,this.ignoreUndefinedProperties=!!er.ignoreUndefinedProperties,this.cache=er.localCache,void 0===er.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==er.cacheSizeBytes&&er.cacheSizeBytes<1048576)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=er.cacheSizeBytes}(function(er,eo,ec,eh){if(!0===eo&&!0===eh)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`${er} and ${ec} cannot be used together.`)})("experimentalForceLongPolling",er.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",er.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!er.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===er.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!er.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=th(null!==(ec=er.experimentalLongPollingOptions)&&void 0!==ec?ec:{}),function(er){if(void 0!==er.timeoutSeconds){if(isNaN(er.timeoutSeconds))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`invalid long polling timeout: ${er.timeoutSeconds} (must not be NaN)`);if(er.timeoutSeconds<5)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`invalid long polling timeout: ${er.timeoutSeconds} (minimum allowed value is 5)`);if(er.timeoutSeconds>30)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`invalid long polling timeout: ${er.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!er.useFetchStreams}isEqual(er){var eo,ec;return this.host===er.host&&this.ssl===er.ssl&&this.credentials===er.credentials&&this.cacheSizeBytes===er.cacheSizeBytes&&this.experimentalForceLongPolling===er.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===er.experimentalAutoDetectLongPolling&&(eo=this.experimentalLongPollingOptions,ec=er.experimentalLongPollingOptions,eo.timeoutSeconds===ec.timeoutSeconds)&&this.ignoreUndefinedProperties===er.ignoreUndefinedProperties&&this.useFetchStreams===er.useFetchStreams}};let hh=class hh{constructor(er,eo,ec,eh){this._authCredentials=er,this._appCheckCredentials=eo,this._databaseId=ec,this._app=eh,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ah({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new index_esm2017_U(tF.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(er){if(this._settingsFrozen)throw new index_esm2017_U(tF.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ah(er),void 0!==er.credentials&&(this._authCredentials=function(er){if(!er)return new index_esm2017_Q;switch(er.type){case"firstParty":return new index_esm2017_H(er.sessionIndex||"0",er.iamToken||null,er.authTokenFactory||null);case"provider":return er.client;default:throw new index_esm2017_U(tF.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(er.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(er){let eo=t2.get(er);eo&&(index_esm2017_N("ComponentProvider","Removing Datastore"),t2.delete(er),eo.terminate())}(this),Promise.resolve()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fh=class fh{constructor(er,eo,ec){this.converter=eo,this._key=ec,this.type="document",this.firestore=er}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wh(this.firestore,this.converter,this._key.path.popLast())}withConverter(er){return new fh(this.firestore,er,this._key)}};let dh=class dh{constructor(er,eo,ec){this.converter=eo,this._query=ec,this.type="query",this.firestore=er}withConverter(er){return new dh(this.firestore,er,this._query)}};let wh=class wh extends dh{constructor(er,eo,ec){super(er,eo,Gn(ec)),this._path=ec,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let er=this._path.popLast();return er.isEmpty()?null:new fh(this.firestore,null,new ht(er))}withConverter(er){return new wh(this.firestore,er,this._path)}};function _h(er,eo,...ec){if(er=(0,ek.m9)(er),nh("collection","path",eo),er instanceof hh){let eh=ut.fromString(eo,...ec);return rh(eh),new wh(er,null,eh)}{if(!(er instanceof fh||er instanceof wh))throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let eh=er._path.child(ut.fromString(eo,...ec));return rh(eh),new wh(er.firestore,null,eh)}}function gh(er,eo,...ec){if(er=(0,ek.m9)(er),1==arguments.length&&(eo=tt.A()),nh("doc","path",eo),er instanceof hh){let eh=ut.fromString(eo,...ec);return ih(eh),new fh(er,null,new ht(eh))}{if(!(er instanceof fh||er instanceof wh))throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let eh=er._path.child(ut.fromString(eo,...ec));return ih(eh),new fh(er.firestore,er instanceof wh?er.converter:null,new ht(eh))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ih=class Ih{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Bu(this,"async_queue_retry"),this.Xc=()=>{let er=Ou();er&&index_esm2017_N("AsyncQueue","Visibility state changed to "+er.visibilityState),this.qo.Mo()};let er=Ou();er&&"function"==typeof er.addEventListener&&er.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(er){this.enqueue(er)}enqueueAndForgetEvenWhileRestricted(er){this.Zc(),this.ta(er)}enterRestrictedMode(er){if(!this.jc){this.jc=!0,this.Jc=er||!1;let eo=Ou();eo&&"function"==typeof eo.removeEventListener&&eo.removeEventListener("visibilitychange",this.Xc)}}enqueue(er){if(this.Zc(),this.jc)return new Promise(()=>{});let eo=new index_esm2017_K;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(er().then(eo.resolve,eo.reject),eo.promise)).then(()=>eo.promise)}enqueueRetryable(er){this.enqueueAndForget(()=>(this.Qc.push(er),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(er){if(!Dt(er))throw er;index_esm2017_N("AsyncQueue","Operation failed with retryable error: "+er)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(er){let eo=this.Gc.then(()=>(this.Hc=!0,er().catch(er=>{let eo;this.Wc=er,this.Hc=!1;let ec=(eo=er.message||"",er.stack&&(eo=er.stack.includes(er.message)?er.stack:er.message+"\n"+er.stack),eo);throw index_esm2017_k("INTERNAL UNHANDLED ERROR: ",ec),er}).then(er=>(this.Hc=!1,er))));return this.Gc=eo,eo}enqueueAfterDelay(er,eo,ec){this.Zc(),this.Yc.indexOf(er)>-1&&(eo=0);let eh=index_esm2017_Tc.createAndSchedule(this,er,eo,ec,er=>this.na(er));return this.zc.push(eh),eh}Zc(){this.Wc&&index_esm2017_O()}verifyOperationInProgress(){}async sa(){let er;do er=this.Gc,await er;while(er!==this.Gc)}ia(er){for(let eo of this.zc)if(eo.timerId===er)return!0;return!1}ra(er){return this.sa().then(()=>{for(let eo of(this.zc.sort((er,eo)=>er.targetTimeMs-eo.targetTimeMs),this.zc))if(eo.skipDelay(),"all"!==er&&eo.timerId===er)break;return this.sa()})}oa(er){this.Yc.push(er)}na(er){let eo=this.zc.indexOf(er);this.zc.splice(eo,1)}};function Th(er){return function(er,eo){if("object"!=typeof er||null===er)return!1;for(let ec of eo)if(ec in er&&"function"==typeof er[ec])return!0;return!1}(er,["next","error","complete"])}let vh=class vh extends hh{constructor(er,eo,ec,eh){super(er,eo,ec,eh),this.type="firestore",this._queue=new Ih,this._persistenceKey=(null==eh?void 0:eh.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vh(this),this._firestoreClient.terminate()}};function Rh(er,eo,ec){ec||(ec="(default)");let eh=(0,e_.qX)(er,"firestore");if(eh.isInitialized(ec)){let er=eh.getImmediate({identifier:ec}),ep=eh.getOptions(ec);if((0,ek.vZ)(ep,eo))return er;throw new index_esm2017_U(tF.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==eo.cacheSizeBytes&&void 0!==eo.localCache)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==eo.cacheSizeBytes&&-1!==eo.cacheSizeBytes&&eo.cacheSizeBytes<1048576)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return eh.initialize({options:eo,instanceIdentifier:ec})}function Ph(er,eo){let ec="object"==typeof er?er:(0,e_.Mq)(),eh=(0,e_.qX)(ec,"firestore").getImmediate({identifier:"string"==typeof er?er:eo||"(default)"});if(!eh._initialized){let er=(0,ek.P0)("firestore");er&&function(er,eo,ec,eh={}){var ep;let ef=(er=uh(er,hh))._getSettings(),eg=`${eo}:${ec}`;if("firestore.googleapis.com"!==ef.host&&ef.host!==eg&&index_esm2017_M("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),er._setSettings(Object.assign(Object.assign({},ef),{host:eg,ssl:!1})),eh.mockUserToken){let eo,ec;if("string"==typeof eh.mockUserToken)eo=eh.mockUserToken,ec=index_esm2017_V.MOCK_USER;else{eo=(0,ek.Sg)(eh.mockUserToken,null===(ep=er._app)||void 0===ep?void 0:ep.options.projectId);let ef=eh.mockUserToken.sub||eh.mockUserToken.user_id;if(!ef)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");ec=new index_esm2017_V(ef)}er._authCredentials=new j(new index_esm2017_G(eo,ec))}}(eh,...er)}return eh}function bh(er){return er._firestoreClient||Vh(er),er._firestoreClient.verifyNotTerminated(),er._firestoreClient}function Vh(er){var eo,ec,eh,ep,ef,eg;let em=er._freezeSettings(),ey=(ep=er._databaseId,ef=(null===(eo=er._app)||void 0===eo?void 0:eo.options.appId)||"",eg=er._persistenceKey,new $e(ep,ef,eg,em.host,em.ssl,em.experimentalForceLongPolling,em.experimentalAutoDetectLongPolling,th(em.experimentalLongPollingOptions),em.useFetchStreams));er._firestoreClient=new index_esm2017_xa(er._authCredentials,er._appCheckCredentials,er._queue,ey),(null===(ec=em.cache)||void 0===ec?void 0:ec._offlineComponentProvider)&&(null===(eh=em.cache)||void 0===eh?void 0:eh._onlineComponentProvider)&&(er._firestoreClient._uninitializedComponentsProvider={_offlineKind:em.cache.kind,_offline:em.cache._offlineComponentProvider,_online:em.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh=class Uh{constructor(er){this._byteString=er}static fromBase64String(er){try{return new Uh(Ve.fromBase64String(er))}catch(er){throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+er)}}static fromUint8Array(er){return new Uh(Ve.fromUint8Array(er))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(er){return this._byteString.isEqual(er._byteString)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=class Kh{constructor(...er){for(let eo=0;eo<er.length;++eo)if(0===er[eo].length)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new at(er)}isEqual(er){return this._internalPath.isEqual(er._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh=class Qh{constructor(er){this._methodName=er}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh=class jh{constructor(er,eo){if(!isFinite(er)||er<-90||er>90)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+er);if(!isFinite(eo)||eo<-180||eo>180)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+eo);this._lat=er,this._long=eo}get latitude(){return this._lat}get longitude(){return this._long}isEqual(er){return this._lat===er._lat&&this._long===er._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(er){return et(this._lat,er._lat)||et(this._long,er._long)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t3=/^__.*__$/;let Wh=class Wh{constructor(er,eo,ec){this.data=er,this.fieldMask=eo,this.fieldTransforms=ec}toMutation(er,eo){return null!==this.fieldMask?new zs(er,this.data,this.fieldMask,eo,this.fieldTransforms):new js(er,this.data,eo,this.fieldTransforms)}};let Hh=class Hh{constructor(er,eo,ec){this.data=er,this.fieldMask=eo,this.fieldTransforms=ec}toMutation(er,eo){return new zs(er,this.data,this.fieldMask,eo,this.fieldTransforms)}};function Jh(er){switch(er){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw index_esm2017_O()}}let Yh=class Yh{constructor(er,eo,ec,eh,ep,ef){this.settings=er,this.databaseId=eo,this.serializer=ec,this.ignoreUndefinedProperties=eh,void 0===ep&&this.ua(),this.fieldTransforms=ep||[],this.fieldMask=ef||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(er){return new Yh(Object.assign(Object.assign({},this.settings),er),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(er){var eo;let ec=null===(eo=this.path)||void 0===eo?void 0:eo.child(er),eh=this.aa({path:ec,la:!1});return eh.fa(er),eh}da(er){var eo;let ec=null===(eo=this.path)||void 0===eo?void 0:eo.child(er),eh=this.aa({path:ec,la:!1});return eh.ua(),eh}wa(er){return this.aa({path:void 0,la:!0})}_a(er){return gl(er,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(er){return void 0!==this.fieldMask.find(eo=>er.isPrefixOf(eo))||void 0!==this.fieldTransforms.find(eo=>er.isPrefixOf(eo.field))}ua(){if(this.path)for(let er=0;er<this.path.length;er++)this.fa(this.path.get(er))}fa(er){if(0===er.length)throw this._a("Document fields must not be empty");if(Jh(this.ca)&&t3.test(er))throw this._a('Document fields cannot begin and end with "__"')}};let Xh=class Xh{constructor(er,eo,ec){this.databaseId=er,this.ignoreUndefinedProperties=eo,this.serializer=ec||Fu(er)}ya(er,eo,ec,eh=!1){return new Yh({ca:er,methodName:eo,ga:ec,path:at.emptyPath(),la:!1,ma:eh},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zh(er){let eo=er._freezeSettings(),ec=Fu(er._databaseId);return new Xh(er._databaseId,!!eo.ignoreUndefinedProperties,ec)}function tl(er,eo,ec,eh,ep,ef={}){let eg,em;let ey=er.ya(ef.merge||ef.mergeFields?2:0,eo,ec,ep);dl("Data must be an object, but it was:",ey,eh);let ev=ll(eh,ey);if(ef.merge)eg=new Re(ey.fieldMask),em=ey.fieldTransforms;else if(ef.mergeFields){let er=[];for(let eh of ef.mergeFields){let ep=wl(eo,eh,ec);if(!ey.contains(ep))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Field '${ep}' is specified in your field mask but missing from your input data.`);yl(er,ep)||er.push(ep)}eg=new Re(er),em=ey.fieldTransforms.filter(er=>eg.covers(er.field))}else eg=null,em=ey.fieldTransforms;return new Wh(new un(ev),eg,em)}let el=class el extends Qh{_toFieldTransform(er){if(2!==er.ca)throw 1===er.ca?er._a(`${this._methodName}() can only appear at the top level of your update data`):er._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return er.fieldMask.push(er.path),null}isEqual(er){return er instanceof el}};function nl(er,eo,ec){return new Yh({ca:3,ga:eo.settings.ga,methodName:er._methodName,la:ec},eo.databaseId,eo.serializer,eo.ignoreUndefinedProperties)}let sl=class sl extends Qh{_toFieldTransform(er){return new Ms(er.path,new bs)}isEqual(er){return er instanceof sl}};let il=class il extends Qh{constructor(er,eo){super(er),this.pa=eo}_toFieldTransform(er){let eo=nl(this,er,!0),ec=this.pa.map(er=>hl(er,eo)),eh=new Vs(ec);return new Ms(er.path,eh)}isEqual(er){return this===er}};let rl=class rl extends Qh{constructor(er,eo){super(er),this.pa=eo}_toFieldTransform(er){let eo=nl(this,er,!0),ec=this.pa.map(er=>hl(er,eo)),eh=new Ds(ec);return new Ms(er.path,eh)}isEqual(er){return this===er}};let ol=class ol extends Qh{constructor(er,eo){super(er),this.Ia=eo}_toFieldTransform(er){let eo=new xs(er.serializer,Es(er.serializer,this.Ia));return new Ms(er.path,eo)}isEqual(er){return this===er}};function ul(er,eo,ec,eh){let ep=er.ya(1,eo,ec);dl("Data must be an object, but it was:",ep,eh);let ef=[],eg=un.empty();ge(eh,(er,eh)=>{let em=ml(eo,er,ec);eh=(0,ek.m9)(eh);let ey=ep.da(em);if(eh instanceof el)ef.push(em);else{let er=hl(eh,ey);null!=er&&(ef.push(em),eg.set(em,er))}});let em=new Re(ef);return new Hh(eg,em,ep.fieldTransforms)}function cl(er,eo,ec,eh,ep,ef){let eg=er.ya(1,eo,ec),em=[wl(eo,eh,ec)],ey=[ep];if(ef.length%2!=0)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Function ${eo}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let er=0;er<ef.length;er+=2)em.push(wl(eo,ef[er])),ey.push(ef[er+1]);let ev=[],e_=un.empty();for(let er=em.length-1;er>=0;--er)if(!yl(ev,em[er])){let eo=em[er],ec=ey[er];ec=(0,ek.m9)(ec);let eh=eg.da(eo);if(ec instanceof el)ev.push(eo);else{let er=hl(ec,eh);null!=er&&(ev.push(eo),e_.set(eo,er))}}let ew=new Re(ev);return new Hh(e_,ew,eg.fieldTransforms)}function hl(er,eo){if(fl(er=(0,ek.m9)(er)))return dl("Unsupported field value:",eo,er),ll(er,eo);if(er instanceof Qh)return function(er,eo){if(!Jh(eo.ca))throw eo._a(`${er._methodName}() can only be used with update() and set()`);if(!eo.path)throw eo._a(`${er._methodName}() is not currently supported inside arrays`);let ec=er._toFieldTransform(eo);ec&&eo.fieldTransforms.push(ec)}(er,eo),null;if(void 0===er&&eo.ignoreUndefinedProperties)return null;if(eo.path&&eo.fieldMask.push(eo.path),er instanceof Array){if(eo.settings.la&&4!==eo.ca)throw eo._a("Nested arrays are not supported");return function(er,eo){let ec=[],eh=0;for(let ep of er){let er=hl(ep,eo.wa(eh));null==er&&(er={nullValue:"NULL_VALUE"}),ec.push(er),eh++}return{arrayValue:{values:ec}}}(er,eo)}return function(er,eo){if(null===(er=(0,ek.m9)(er)))return{nullValue:"NULL_VALUE"};if("number"==typeof er)return Es(eo.serializer,er);if("boolean"==typeof er)return{booleanValue:er};if("string"==typeof er)return{stringValue:er};if(er instanceof Date){let ec=it.fromDate(er);return{timestampValue:Di(eo.serializer,ec)}}if(er instanceof it){let ec=new it(er.seconds,1e3*Math.floor(er.nanoseconds/1e3));return{timestampValue:Di(eo.serializer,ec)}}if(er instanceof jh)return{geoPointValue:{latitude:er.latitude,longitude:er.longitude}};if(er instanceof Uh)return{bytesValue:Ci(eo.serializer,er._byteString)};if(er instanceof fh){let ec=eo.databaseId,eh=er.firestore._databaseId;if(!eh.isEqual(ec))throw eo._a(`Document reference is for database ${eh.projectId}/${eh.database} but should be for database ${ec.projectId}/${ec.database}`);return{referenceValue:ki(er.firestore._databaseId||eo.databaseId,er._key.path)}}throw eo._a(`Unsupported field value: ${oh(er)}`)}(er,eo)}function ll(er,eo){let ec={};return ye(er)?eo.path&&eo.path.length>0&&eo.fieldMask.push(eo.path):ge(er,(er,eh)=>{let ep=hl(eh,eo.ha(er));null!=ep&&(ec[er]=ep)}),{mapValue:{fields:ec}}}function fl(er){return!("object"!=typeof er||null===er||er instanceof Array||er instanceof Date||er instanceof it||er instanceof jh||er instanceof Uh||er instanceof fh||er instanceof Qh)}function dl(er,eo,ec){if(!fl(ec)||!("object"==typeof ec&&null!==ec&&(Object.getPrototypeOf(ec)===Object.prototype||null===Object.getPrototypeOf(ec)))){let eh=oh(ec);throw"an object"===eh?eo._a(er+" a custom object"):eo._a(er+" "+eh)}}function wl(er,eo,ec){if((eo=(0,ek.m9)(eo))instanceof Kh)return eo._internalPath;if("string"==typeof eo)return ml(er,eo);throw gl("Field path arguments must be of type string or ",er,!1,void 0,ec)}let t6=RegExp("[~\\*/\\[\\]]");function ml(er,eo,ec){if(eo.search(t6)>=0)throw gl(`Invalid field path (${eo}). Paths must not contain '~', '*', '/', '[', or ']'`,er,!1,void 0,ec);try{return new Kh(...eo.split("."))._internalPath}catch(eh){throw gl(`Invalid field path (${eo}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,er,!1,void 0,ec)}}function gl(er,eo,ec,eh,ep){let ef=eh&&!eh.isEmpty(),eg=void 0!==ep,em=`Function ${eo}() called with invalid data`;ec&&(em+=" (via `toFirestore()`)"),em+=". ";let ey="";return(ef||eg)&&(ey+=" (found",ef&&(ey+=` in field ${eh}`),eg&&(ey+=` in document ${ep}`),ey+=")"),new index_esm2017_U(tF.INVALID_ARGUMENT,em+er+ey)}function yl(er,eo){return er.some(er=>er.isEqual(eo))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pl=class pl{constructor(er,eo,ec,eh,ep){this._firestore=er,this._userDataWriter=eo,this._key=ec,this._document=eh,this._converter=ep}get id(){return this._key.path.lastSegment()}get ref(){return new fh(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){let er=new Il(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(er)}return this._userDataWriter.convertValue(this._document.data.value)}}get(er){if(this._document){let eo=this._document.data.field(Tl("DocumentSnapshot.get",er));if(null!==eo)return this._userDataWriter.convertValue(eo)}}};let Il=class Il extends pl{data(){return super.data()}};function Tl(er,eo){return"string"==typeof eo?ml(er,eo):eo instanceof Kh?eo._internalPath:eo._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(er){if("L"===er.limitType&&0===er.explicitOrderBy.length)throw new index_esm2017_U(tF.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let Al=class Al{};let vl=class vl extends Al{};function Rl(er,eo,...ec){let eh=[];for(let ep of(eo instanceof Al&&eh.push(eo),function(er){let eo=er.filter(er=>er instanceof Vl).length,ec=er.filter(er=>er instanceof Pl).length;if(eo>1||eo>0&&ec>0)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(eh=eh.concat(ec)),eh))er=ep._apply(er);return er}let Pl=class Pl extends vl{constructor(er,eo,ec){super(),this._field=er,this._op=eo,this._value=ec,this.type="where"}static _create(er,eo,ec){return new Pl(er,eo,ec)}_apply(er){let eo=this._parse(er);return Ql(er._query,eo),new dh(er.firestore,er.converter,Yn(er._query,eo))}_parse(er){let eo=Zh(er.firestore),ec=function(er,eo,ec,eh,ep,ef,eg){let em;if(ep.isKeyField()){if("array-contains"===ef||"array-contains-any"===ef)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ef}' queries on documentId().`);if("in"===ef||"not-in"===ef){Gl(eg,ef);let eo=[];for(let ec of eg)eo.push(Kl(eh,er,ec));em={arrayValue:{values:eo}}}else em=Kl(eh,er,eg)}else"in"!==ef&&"not-in"!==ef&&"array-contains-any"!==ef||Gl(eg,ef),em=function(er,eo,ec,eh=!1){return hl(ec,er.ya(eh?4:3,eo))}(ec,eo,eg,"in"===ef||"not-in"===ef);return mn.create(ep,ef,em)}(er._query,"where",eo,er.firestore._databaseId,this._field,this._op,this._value);return ec}};function bl(er,eo,ec){let eh=Tl("where",er);return Pl._create(eh,eo,ec)}let Vl=class Vl extends Al{constructor(er,eo){super(),this.type=er,this._queryConstraints=eo}static _create(er,eo){return new Vl(er,eo)}_parse(er){let eo=this._queryConstraints.map(eo=>eo._parse(er)).filter(er=>er.getFilters().length>0);return 1===eo.length?eo[0]:gn.create(eo,this._getOperator())}_apply(er){let eo=this._parse(er);return 0===eo.getFilters().length?er:(function(er,eo){let ec=er,eh=eo.getFlattenedFilters();for(let er of eh)Ql(ec,er),ec=Yn(ec,er)}(er._query,eo),new dh(er.firestore,er.converter,Yn(er._query,eo)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}};let Cl=class Cl extends vl{constructor(er,eo){super(),this._field=er,this._direction=eo,this.type="orderBy"}static _create(er,eo){return new Cl(er,eo)}_apply(er){let eo=function(er,eo,ec){if(null!==er.startAt)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==er.endAt)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let eh=new dn(eo,ec);return function(er,eo){if(null===jn(er)){let ec=zn(er);null!==ec&&jl(er,ec,eo.field)}}(er,eh),eh}(er._query,this._field,this._direction);return new dh(er.firestore,er.converter,function(er,eo){let ec=er.explicitOrderBy.concat([eo]);return new Un(er.path,er.collectionGroup,ec,er.filters.slice(),er.limit,er.limitType,er.startAt,er.endAt)}(er._query,eo))}};function xl(er,eo="asc"){let ec=Tl("orderBy",er);return Cl._create(ec,eo)}let Nl=class Nl extends vl{constructor(er,eo,ec){super(),this.type=er,this._limit=eo,this._limitType=ec}static _create(er,eo,ec){return new Nl(er,eo,ec)}_apply(er){return new dh(er.firestore,er.converter,Xn(er._query,this._limit,this._limitType))}};function kl(er){return function(er,eo){if(eo<=0)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Function ${er}() requires a positive number, but it was: ${eo}.`)}("limit",er),Nl._create("limit",er,"F")}function Kl(er,eo,ec){if("string"==typeof(ec=(0,ek.m9)(ec))){if(""===ec)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wn(eo)&&-1!==ec.indexOf("/"))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${ec}' contains a '/' character.`);let eh=eo.path.child(ut.fromString(ec));if(!ht.isDocumentKey(eh))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${eh}' is not because it has an odd number of segments (${eh.length}).`);return We(er,new ht(eh))}if(ec instanceof fh)return We(er,ec._key);throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oh(ec)}.`)}function Gl(er,eo){if(!Array.isArray(er)||0===er.length)throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${eo.toString()}' filters.`)}function Ql(er,eo){if(eo.isInequality()){let ec=zn(er),eh=eo.field;if(null!==ec&&!ec.isEqual(eh))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ec.toString()}' and '${eh.toString()}'`);let ep=jn(er);null!==ep&&jl(er,eh,ep)}let ec=function(er,eo){for(let ec of er)for(let er of ec.getFlattenedFilters())if(eo.indexOf(er.op)>=0)return er.op;return null}(er.filters,function(er){switch(er){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(eo.op));if(null!==ec)throw ec===eo.op?new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${eo.op.toString()}' filter.`):new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. You cannot use '${eo.op.toString()}' filters with '${ec.toString()}' filters.`)}function jl(er,eo,ec){if(!ec.isEqual(eo))throw new index_esm2017_U(tF.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${eo.toString()}' and so you must also use '${eo.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${ec.toString()}' instead.`)}let Wl=class Wl{convertValue(er,eo="none"){switch(Le(er)){case 0:return null;case 1:return er.booleanValue;case 2:return Ce(er.integerValue||er.doubleValue);case 3:return this.convertTimestamp(er.timestampValue);case 4:return this.convertServerTimestamp(er,eo);case 5:return er.stringValue;case 6:return this.convertBytes(xe(er.bytesValue));case 7:return this.convertReference(er.referenceValue);case 8:return this.convertGeoPoint(er.geoPointValue);case 9:return this.convertArray(er.arrayValue,eo);case 10:return this.convertObject(er.mapValue,eo);default:throw index_esm2017_O()}}convertObject(er,eo){return this.convertObjectMap(er.fields,eo)}convertObjectMap(er,eo="none"){let ec={};return ge(er,(er,eh)=>{ec[er]=this.convertValue(eh,eo)}),ec}convertGeoPoint(er){return new jh(Ce(er.latitude),Ce(er.longitude))}convertArray(er,eo){return(er.values||[]).map(er=>this.convertValue(er,eo))}convertServerTimestamp(er,eo){switch(eo){case"previous":let ec=ke(er);return null==ec?null:this.convertValue(ec,eo);case"estimate":return this.convertTimestamp(Me(er));default:return null}}convertTimestamp(er){let eo=De(er);return new it(eo.seconds,eo.nanos)}convertDocumentKey(er,eo){let ec=ut.fromString(er);ur(ec)||index_esm2017_O();let eh=new Oe(ec.get(1),ec.get(3)),ep=new ht(ec.popFirst(5));return eh.isEqual(eo)||index_esm2017_k(`Document ${ep} contains a document reference within a different database (${eh.projectId}/${eh.database}) which is not supported. It will be treated as a reference in the current database (${eo.projectId}/${eo.database}) instead.`),ep}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(er,eo,ec){return er?ec&&(ec.merge||ec.mergeFields)?er.toFirestore(eo,ec):er.toFirestore(eo):eo}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf=class nf{constructor(er,eo){this.hasPendingWrites=er,this.fromCache=eo}isEqual(er){return this.hasPendingWrites===er.hasPendingWrites&&this.fromCache===er.fromCache}};let sf=class sf extends pl{constructor(er,eo,ec,eh,ep,ef){super(er,eo,ec,eh,ef),this._firestore=er,this._firestoreImpl=er,this.metadata=ep}exists(){return super.exists()}data(er={}){if(this._document){if(this._converter){let eo=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(eo,er)}return this._userDataWriter.convertValue(this._document.data.value,er.serverTimestamps)}}get(er,eo={}){if(this._document){let ec=this._document.data.field(Tl("DocumentSnapshot.get",er));if(null!==ec)return this._userDataWriter.convertValue(ec,eo.serverTimestamps)}}};let rf=class rf extends sf{data(er={}){return super.data(er)}};let of=class of{constructor(er,eo,ec,eh){this._firestore=er,this._userDataWriter=eo,this._snapshot=eh,this.metadata=new nf(eh.hasPendingWrites,eh.fromCache),this.query=ec}get docs(){let er=[];return this.forEach(eo=>er.push(eo)),er}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(er,eo){this._snapshot.docs.forEach(ec=>{er.call(eo,new rf(this._firestore,this._userDataWriter,ec.key,ec,new nf(this._snapshot.mutatedKeys.has(ec.key),this._snapshot.fromCache),this.query.converter))})}docChanges(er={}){let eo=!!er.includeMetadataChanges;if(eo&&this._snapshot.excludesMetadataChanges)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===eo||(this._cachedChanges=function(er,eo){if(er._snapshot.oldDocs.isEmpty()){let eo=0;return er._snapshot.docChanges.map(ec=>{let eh=new rf(er._firestore,er._userDataWriter,ec.doc.key,ec.doc,new nf(er._snapshot.mutatedKeys.has(ec.doc.key),er._snapshot.fromCache),er.query.converter);return ec.doc,{type:"added",doc:eh,oldIndex:-1,newIndex:eo++}})}{let ec=er._snapshot.oldDocs;return er._snapshot.docChanges.filter(er=>eo||3!==er.type).map(eo=>{let eh=new rf(er._firestore,er._userDataWriter,eo.doc.key,eo.doc,new nf(er._snapshot.mutatedKeys.has(eo.doc.key),er._snapshot.fromCache),er.query.converter),ep=-1,ef=-1;return 0!==eo.type&&(ep=ec.indexOf(eo.doc.key),ec=ec.delete(eo.doc.key)),1!==eo.type&&(ef=(ec=ec.add(eo.doc)).indexOf(eo.doc.key)),{type:function(er){switch(er){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return index_esm2017_O()}}(eo.type),doc:eh,oldIndex:ep,newIndex:ef}})}}(this,eo),this._cachedChangesIncludeMetadataChanges=eo),this._cachedChanges}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(er){er=uh(er,fh);let eo=uh(er.firestore,vh);return(function(er,eo,ec={}){let eh=new index_esm2017_K;return er.asyncQueue.enqueueAndForget(async()=>(function(er,eo,ec,eh,ep){let ef=new index_esm2017_Va({next:ef=>{eo.enqueueAndForget(()=>index_esm2017_Sc(er,eg));let em=ef.docs.has(ec);!em&&ef.fromCache?ep.reject(new index_esm2017_U(tF.UNAVAILABLE,"Failed to get document because the client is offline.")):em&&ef.fromCache&&eh&&"server"===eh.source?ep.reject(new index_esm2017_U(tF.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ep.resolve(ef)},error:er=>ep.reject(er)}),eg=new index_esm2017_Nc(Gn(ec.path),ef,{includeMetadataChanges:!0,Ku:!0});return index_esm2017_Vc(er,eg)})(await index_esm2017_Ka(er),er.asyncQueue,eo,ec,eh)),eh.promise})(bh(eo),er._key).then(ec=>Af(eo,er,ec))}let hf=class hf extends Wl{constructor(er){super(),this.firestore=er}convertBytes(er){return new Uh(er)}convertReference(er){let eo=this.convertDocumentKey(er,this.firestore._databaseId);return new fh(this.firestore,null,eo)}};function df(er){er=uh(er,dh);let eo=uh(er.firestore,vh),ec=bh(eo),eh=new hf(eo);return El(er._query),index_esm2017_Ha(ec,er._query).then(ec=>new of(eo,eh,er,ec))}function _f(er){er=uh(er,dh);let eo=uh(er.firestore,vh),ec=bh(eo),eh=new hf(eo);return index_esm2017_Ha(ec,er._query,{source:"server"}).then(ec=>new of(eo,eh,er,ec))}function mf(er,eo,ec){er=uh(er,fh);let eh=uh(er.firestore,vh),ep=Hl(er.converter,eo,ec);return Ef(eh,[tl(Zh(eh),"setDoc",er._key,ep,null!==er.converter,ec).toMutation(er._key,Fs.none())])}function gf(er,eo,ec,...eh){er=uh(er,fh);let ep=uh(er.firestore,vh),ef=Zh(ep);return Ef(ep,[("string"==typeof(eo=(0,ek.m9)(eo))||eo instanceof Kh?cl(ef,"updateDoc",er._key,eo,ec,eh):ul(ef,"updateDoc",er._key,eo)).toMutation(er._key,Fs.exists(!0))])}function yf(er){return Ef(uh(er.firestore,vh),[new Ys(er._key,Fs.none())])}function pf(er,eo){let ec=uh(er.firestore,vh),eh=gh(er),ep=Hl(er.converter,eo);return Ef(ec,[tl(Zh(er.firestore),"addDoc",eh._key,ep,null!==er.converter,{}).toMutation(eh._key,Fs.exists(!1))]).then(()=>eh)}function If(er,...eo){var ec,eh,ep;let ef,eg,em;er=(0,ek.m9)(er);let ey={includeMetadataChanges:!1},ev=0;"object"!=typeof eo[0]||Th(eo[ev])||(ey=eo[ev],ev++);let e_={includeMetadataChanges:ey.includeMetadataChanges};if(Th(eo[ev])){let er=eo[ev];eo[ev]=null===(ec=er.next)||void 0===ec?void 0:ec.bind(er),eo[ev+1]=null===(eh=er.error)||void 0===eh?void 0:eh.bind(er),eo[ev+2]=null===(ep=er.complete)||void 0===ep?void 0:ep.bind(er)}if(er instanceof fh)eg=uh(er.firestore,vh),em=Gn(er._key.path),ef={next:ec=>{eo[ev]&&eo[ev](Af(eg,er,ec))},error:eo[ev+1],complete:eo[ev+2]};else{let ec=uh(er,dh);eg=uh(ec.firestore,vh),em=ec._query;let eh=new hf(eg);ef={next:er=>{eo[ev]&&eo[ev](new of(eg,eh,ec,er))},error:eo[ev+1],complete:eo[ev+2]},El(er._query)}return function(er,eo,ec,eh){let ep=new index_esm2017_Va(eh),ef=new index_esm2017_Nc(eo,ep,ec);return er.asyncQueue.enqueueAndForget(async()=>index_esm2017_Vc(await index_esm2017_Ka(er),ef)),()=>{ep.Dc(),er.asyncQueue.enqueueAndForget(async()=>index_esm2017_Sc(await index_esm2017_Ka(er),ef))}}(bh(eg),em,e_,ef)}function Ef(er,eo){return function(er,eo){let ec=new index_esm2017_K;return er.asyncQueue.enqueueAndForget(async()=>index_esm2017_zc(await index_esm2017_Oa(er).then(er=>er.syncEngine),eo,ec)),ec.promise}(bh(er),eo)}function Af(er,eo,ec){let eh=ec.docs.get(eo._key),ep=new hf(er);return new sf(er,ep,eo._key,eh,new nf(ec.hasPendingWrites,ec.fromCache),eo.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf=class Bf{constructor(er,eo){this._firestore=er,this._commitHandler=eo,this._mutations=[],this._committed=!1,this._dataReader=Zh(er)}set(er,eo,ec){this._verifyNotCommitted();let eh=Lf(er,this._firestore),ep=Hl(eh.converter,eo,ec),ef=tl(this._dataReader,"WriteBatch.set",eh._key,ep,null!==eh.converter,ec);return this._mutations.push(ef.toMutation(eh._key,Fs.none())),this}update(er,eo,ec,...eh){let ep;this._verifyNotCommitted();let ef=Lf(er,this._firestore);return ep="string"==typeof(eo=(0,ek.m9)(eo))||eo instanceof Kh?cl(this._dataReader,"WriteBatch.update",ef._key,eo,ec,eh):ul(this._dataReader,"WriteBatch.update",ef._key,eo),this._mutations.push(ep.toMutation(ef._key,Fs.exists(!0))),this}delete(er){this._verifyNotCommitted();let eo=Lf(er,this._firestore);return this._mutations=this._mutations.concat(new Ys(eo._key,Fs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new index_esm2017_U(tF.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Lf(er,eo){if((er=(0,ek.m9)(er)).firestore!==eo)throw new index_esm2017_U(tF.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return er}function Gf(){return new sl("serverTimestamp")}function Qf(...er){return new il("arrayUnion",er)}function jf(...er){return new rl("arrayRemove",er)}function zf(er){return new ol("increment",er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(er){return bh(er=uh(er,vh)),new Bf(er,eo=>Ef(er,eo))}!function(er,eo=!0){tL=e_.Jn,(0,e_.Xd)(new ew.wA("firestore",(er,{instanceIdentifier:ec,options:eh})=>{let ep=er.getProvider("app").getImmediate(),ef=new vh(new index_esm2017_z(er.getProvider("auth-internal")),new index_esm2017_Y(er.getProvider("app-check-internal")),function(er,eo){if(!Object.prototype.hasOwnProperty.apply(er.options,["projectId"]))throw new index_esm2017_U(tF.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oe(er.options.projectId,eo)}(ep,ec),ep);return eh=Object.assign({useFetchStreams:eo},eh),ef._setSettings(eh),ef},"PUBLIC").setMultipleInstances(!0)),(0,e_.KN)(tj,"3.13.0",void 0),(0,e_.KN)(tj,"3.13.0","esm2017")}()},50549:function(er,eo,ec){"use strict";ec.d(eo,{$C:function(){return getFunctions},V1:function(){return httpsCallable}});var eh,ep=ec(25816),ef=ec(74444),eg=ec(8463);function mapValues(er,eo){let ec={};for(let eh in er)er.hasOwnProperty(eh)&&(ec[eh]=eo(er[eh]));return ec}function decode(er){if(null==er)return er;if(er["@type"])switch(er["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":{let eo=Number(er.value);if(isNaN(eo))throw Error("Data cannot be decoded from JSON: "+er);return eo}default:throw Error("Data cannot be decoded from JSON: "+er)}return Array.isArray(er)?er.map(er=>decode(er)):"function"==typeof er||"object"==typeof er?mapValues(er,er=>decode(er)):er}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="functions",ey={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let FunctionsError=class FunctionsError extends ef.ZR{constructor(er,eo,ec){super(`${em}/${er}`,eo||""),this.details=ec}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ContextProvider=class ContextProvider{constructor(er,eo,ec){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=er.getImmediate({optional:!0}),this.messaging=eo.getImmediate({optional:!0}),this.auth||er.get().then(er=>this.auth=er,()=>{}),this.messaging||eo.get().then(er=>this.messaging=er,()=>{}),this.appCheck||ec.get().then(er=>this.appCheck=er,()=>{})}async getAuthToken(){if(this.auth)try{let er=await this.auth.getToken();return null==er?void 0:er.accessToken}catch(er){return}}async getMessagingToken(){if(this.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return await this.messaging.getToken()}catch(er){return}}async getAppCheckToken(er){if(this.appCheck){let eo=er?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return eo.error?null:eo.token}return null}async getContext(er){let eo=await this.getAuthToken(),ec=await this.getMessagingToken(),eh=await this.getAppCheckToken(er);return{authToken:eo,messagingToken:ec,appCheckToken:eh}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ev="us-central1";let FunctionsService=class FunctionsService{constructor(er,eo,ec,eh,ep=ev,ef){this.app=er,this.fetchImpl=ef,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(eo,ec,eh),this.cancelAllRequests=new Promise(er=>{this.deleteService=()=>Promise.resolve(er())});try{let er=new URL(ep);this.customDomain=er.origin,this.region=ev}catch(er){this.customDomain=null,this.region=ep}}_delete(){return this.deleteService()}_url(er){let eo=this.app.options.projectId;if(null!==this.emulatorOrigin){let ec=this.emulatorOrigin;return`${ec}/${eo}/${this.region}/${er}`}return null!==this.customDomain?`${this.customDomain}/${er}`:`https://${this.region}-${eo}.cloudfunctions.net/${er}`}};async function postJSON(er,eo,ec,eh){let ep;ec["Content-Type"]="application/json";try{ep=await eh(er,{method:"POST",body:JSON.stringify(eo),headers:ec})}catch(er){return{status:0,json:null}}let ef=null;try{ef=await ep.json()}catch(er){}return{status:ep.status,json:ef}}async function callAtURL(er,eo,ec,eh){let ep;ec=function encode(er){if(null==er)return null;if(er instanceof Number&&(er=er.valueOf()),"number"==typeof er&&isFinite(er)||!0===er||!1===er||"[object String]"===Object.prototype.toString.call(er))return er;if(er instanceof Date)return er.toISOString();if(Array.isArray(er))return er.map(er=>encode(er));if("function"==typeof er||"object"==typeof er)return mapValues(er,er=>encode(er));throw Error("Data cannot be encoded in JSON: "+er)}(ec);let ef={data:ec},eg={},em=await er.contextProvider.getContext(eh.limitedUseAppCheckTokens);em.authToken&&(eg.Authorization="Bearer "+em.authToken),em.messagingToken&&(eg["Firebase-Instance-ID-Token"]=em.messagingToken),null!==em.appCheckToken&&(eg["X-Firebase-AppCheck"]=em.appCheckToken);let ev=eh.timeout||7e4,e_=(ep=null,{promise:new Promise((er,eo)=>{ep=setTimeout(()=>{eo(new FunctionsError("deadline-exceeded","deadline-exceeded"))},ev)}),cancel:()=>{ep&&clearTimeout(ep)}}),ew=await Promise.race([postJSON(eo,ef,eg,er.fetchImpl),e_.promise,er.cancelAllRequests]);if(e_.cancel(),!ew)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");let ex=function(er,eo){let ec,eh=function(er){if(er>=200&&er<300)return"ok";switch(er){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(er),ep=eh;try{let er=eo&&eo.error;if(er){let eo=er.status;if("string"==typeof eo){if(!ey[eo])return new FunctionsError("internal","internal");eh=ey[eo],ep=eo}let ef=er.message;"string"==typeof ef&&(ep=ef),ec=er.details,void 0!==ec&&(ec=decode(ec))}}catch(er){}return"ok"===eh?null:new FunctionsError(eh,ep,ec)}(ew.status,ew.json);if(ex)throw ex;if(!ew.json)throw new FunctionsError("internal","Response is not valid JSON object.");let ek=ew.json.data;if(void 0===ek&&(ek=ew.json.result),void 0===ek)throw new FunctionsError("internal","Response is missing data field.");let eS=decode(ek);return{data:eS}}let e_="@firebase/functions",ew="0.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getFunctions(er=(0,ep.Mq)(),eo=ev){let ec=(0,ep.qX)((0,ef.m9)(er),em),eh=ec.getImmediate({identifier:eo}),eg=(0,ef.P0)("functions");return eg&&function(er,eo,ec){(0,ef.m9)(er).emulatorOrigin=`http://${eo}:${ec}`}(eh,...eg),eh}function httpsCallable(er,eo,ec){var eh;return eh=(0,ef.m9)(er),er=>(function(er,eo,ec,eh){let ep=er._url(eo);return callAtURL(er,ep,ec,eh)})(eh,eo,er,ec||{})}eh=fetch.bind(self),(0,ep.Xd)(new eg.wA(em,(er,{instanceIdentifier:eo})=>{let ec=er.getProvider("app").getImmediate(),ep=er.getProvider("auth-internal"),ef=er.getProvider("messaging-internal"),eg=er.getProvider("app-check-internal");return new FunctionsService(ec,ep,ef,eg,eo,eh)},"PUBLIC").setMultipleInstances(!0)),(0,ep.KN)(e_,ew,void 0),(0,ep.KN)(e_,ew,"esm2017")},74444:function(er,eo,ec){"use strict";ec.d(eo,{$s:function(){return calculateBackoffMillis},BH:function(){return Deferred},L:function(){return base64urlEncodeWithoutPadding},LL:function(){return ErrorFactory},P0:function(){return getDefaultEmulatorHostnameAndPort},Pz:function(){return getExperimentalSetting},Sg:function(){return createMockUserToken},UG:function(){return isNode},ZR:function(){return FirebaseError},aH:function(){return getDefaultAppConfig},b$:function(){return isReactNative},eu:function(){return validateIndexedDBOpenable},hl:function(){return isIndexedDBAvailable},m9:function(){return getModularInstance},ne:function(){return createSubscribe},pd:function(){return extractQuerystring},q4:function(){return getDefaultEmulatorHost},ru:function(){return isBrowserExtension},tV:function(){return base64Decode},uI:function(){return isMobileCordova},vZ:function(){return function deepEqual(er,eo){if(er===eo)return!0;let ec=Object.keys(er),eh=Object.keys(eo);for(let ep of ec){if(!eh.includes(ep))return!1;let ec=er[ep],ef=eo[ep];if(isObject(ec)&&isObject(ef)){if(!deepEqual(ec,ef))return!1}else if(ec!==ef)return!1}for(let er of eh)if(!ec.includes(er))return!1;return!0}},w1:function(){return isIE},xO:function(){return querystring},xb:function(){return isEmpty},z$:function(){return getUA},zI:function(){return areCookiesEnabled},zd:function(){return querystringDecode}});var eh=ec(83454);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let stringToByteArray$1=function(er){let eo=[],ec=0;for(let eh=0;eh<er.length;eh++){let ep=er.charCodeAt(eh);ep<128?eo[ec++]=ep:(ep<2048?eo[ec++]=ep>>6|192:((64512&ep)==55296&&eh+1<er.length&&(64512&er.charCodeAt(eh+1))==56320?(ep=65536+((1023&ep)<<10)+(1023&er.charCodeAt(++eh)),eo[ec++]=ep>>18|240,eo[ec++]=ep>>12&63|128):eo[ec++]=ep>>12|224,eo[ec++]=ep>>6&63|128),eo[ec++]=63&ep|128)}return eo},byteArrayToString=function(er){let eo=[],ec=0,eh=0;for(;ec<er.length;){let ep=er[ec++];if(ep<128)eo[eh++]=String.fromCharCode(ep);else if(ep>191&&ep<224){let ef=er[ec++];eo[eh++]=String.fromCharCode((31&ep)<<6|63&ef)}else if(ep>239&&ep<365){let ef=er[ec++],eg=er[ec++],em=er[ec++],ey=((7&ep)<<18|(63&ef)<<12|(63&eg)<<6|63&em)-65536;eo[eh++]=String.fromCharCode(55296+(ey>>10)),eo[eh++]=String.fromCharCode(56320+(1023&ey))}else{let ef=er[ec++],eg=er[ec++];eo[eh++]=String.fromCharCode((15&ep)<<12|(63&ef)<<6|63&eg)}}return eo.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(er,eo){if(!Array.isArray(er))throw Error("encodeByteArray takes an array as a parameter");this.init_();let ec=eo?this.byteToCharMapWebSafe_:this.byteToCharMap_,eh=[];for(let eo=0;eo<er.length;eo+=3){let ep=er[eo],ef=eo+1<er.length,eg=ef?er[eo+1]:0,em=eo+2<er.length,ey=em?er[eo+2]:0,ev=ep>>2,e_=(3&ep)<<4|eg>>4,ew=(15&eg)<<2|ey>>6,ex=63&ey;em||(ex=64,ef||(ew=64)),eh.push(ec[ev],ec[e_],ec[ew],ec[ex])}return eh.join("")},encodeString(er,eo){return this.HAS_NATIVE_SUPPORT&&!eo?btoa(er):this.encodeByteArray(stringToByteArray$1(er),eo)},decodeString(er,eo){return this.HAS_NATIVE_SUPPORT&&!eo?atob(er):byteArrayToString(this.decodeStringToByteArray(er,eo))},decodeStringToByteArray(er,eo){this.init_();let ec=eo?this.charToByteMapWebSafe_:this.charToByteMap_,eh=[];for(let eo=0;eo<er.length;){let ep=ec[er.charAt(eo++)],ef=eo<er.length,eg=ef?ec[er.charAt(eo)]:0;++eo;let em=eo<er.length,ey=em?ec[er.charAt(eo)]:64;++eo;let ev=eo<er.length,e_=ev?ec[er.charAt(eo)]:64;if(++eo,null==ep||null==eg||null==ey||null==e_)throw new DecodeBase64StringError;let ew=ep<<2|eg>>4;if(eh.push(ew),64!==ey){let er=eg<<4&240|ey>>2;if(eh.push(er),64!==e_){let er=ey<<6&192|e_;eh.push(er)}}}return eh},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let er=0;er<this.ENCODED_VALS.length;er++)this.byteToCharMap_[er]=this.ENCODED_VALS.charAt(er),this.charToByteMap_[this.byteToCharMap_[er]]=er,this.byteToCharMapWebSafe_[er]=this.ENCODED_VALS_WEBSAFE.charAt(er),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[er]]=er,er>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(er)]=er,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(er)]=er)}}};let DecodeBase64StringError=class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};let base64Encode=function(er){let eo=stringToByteArray$1(er);return ep.encodeByteArray(eo,!0)},base64urlEncodeWithoutPadding=function(er){return base64Encode(er).replace(/\./g,"")},base64Decode=function(er){try{return ep.decodeString(er,!0)}catch(er){console.error("base64Decode failed: ",er)}return null},getDefaultsFromGlobal=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==ec.g)return ec.g;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(void 0===eh||void 0===eh.env)return;let er=eh.env.__FIREBASE_DEFAULTS__;if(er)return JSON.parse(er)},getDefaultsFromCookie=()=>{let er;if("undefined"==typeof document)return;try{er=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(er){return}let eo=er&&base64Decode(er[1]);return eo&&JSON.parse(eo)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(er){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${er}`);return}},getDefaultEmulatorHost=er=>{var eo,ec;return null===(ec=null===(eo=getDefaults())||void 0===eo?void 0:eo.emulatorHosts)||void 0===ec?void 0:ec[er]},getDefaultEmulatorHostnameAndPort=er=>{let eo=getDefaultEmulatorHost(er);if(!eo)return;let ec=eo.lastIndexOf(":");if(ec<=0||ec+1===eo.length)throw Error(`Invalid host ${eo} with no separate hostname and port!`);let eh=parseInt(eo.substring(ec+1),10);return"["===eo[0]?[eo.substring(1,ec-1),eh]:[eo.substring(0,ec),eh]},getDefaultAppConfig=()=>{var er;return null===(er=getDefaults())||void 0===er?void 0:er.config},getExperimentalSetting=er=>{var eo;return null===(eo=getDefaults())||void 0===eo?void 0:eo[`_${er}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Deferred=class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((er,eo)=>{this.resolve=er,this.reject=eo})}wrapCallback(er){return(eo,ec)=>{eo?this.reject(eo):this.resolve(ec),"function"==typeof er&&(this.promise.catch(()=>{}),1===er.length?er(eo):er(eo,ec))}}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(er,eo){if(er.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let ec=eo||"demo-project",eh=er.iat||0,ep=er.sub||er.user_id;if(!ep)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let ef=Object.assign({iss:`https://securetoken.google.com/${ec}`,aud:ec,iat:eh,exp:eh+3600,auth_time:eh,sub:ep,user_id:ep,firebase:{sign_in_provider:"custom",identities:{}}},er);return[base64urlEncodeWithoutPadding(JSON.stringify({alg:"none",type:"JWT"})),base64urlEncodeWithoutPadding(JSON.stringify(ef)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode(){var er;let eo=null===(er=getDefaults())||void 0===er?void 0:er.forceEnvironment;if("node"===eo)return!0;if("browser"===eo)return!1;try{return"[object process]"===Object.prototype.toString.call(ec.g.process)}catch(er){return!1}}function isBrowserExtension(){let er="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof er&&void 0!==er.id}function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function isIE(){let er=getUA();return er.indexOf("MSIE ")>=0||er.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return"object"==typeof indexedDB}catch(er){return!1}}function validateIndexedDBOpenable(){return new Promise((er,eo)=>{try{let ec=!0,eh="validate-browser-context-for-indexeddb-analytics-module",ep=self.indexedDB.open(eh);ep.onsuccess=()=>{ep.result.close(),ec||self.indexedDB.deleteDatabase(eh),er(!0)},ep.onupgradeneeded=()=>{ec=!1},ep.onerror=()=>{var er;eo((null===(er=ep.error)||void 0===er?void 0:er.message)||"")}}catch(er){eo(er)}})}function areCookiesEnabled(){return"undefined"!=typeof navigator&&!!navigator.cookieEnabled}let FirebaseError=class FirebaseError extends Error{constructor(er,eo,ec){super(eo),this.code=er,this.customData=ec,this.name="FirebaseError",Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}};let ErrorFactory=class ErrorFactory{constructor(er,eo,ec){this.service=er,this.serviceName=eo,this.errors=ec}create(er,...eo){let ec=eo[0]||{},eh=`${this.service}/${er}`,ep=this.errors[er],eg=ep?ep.replace(ef,(er,eo)=>{let eh=ec[eo];return null!=eh?String(eh):`<${eo}?>`}):"Error",em=`${this.serviceName}: ${eg} (${eh}).`,ey=new FirebaseError(eh,em,ec);return ey}};let ef=/\{\$([^}]+)}/g;function isEmpty(er){for(let eo in er)if(Object.prototype.hasOwnProperty.call(er,eo))return!1;return!0}function isObject(er){return null!==er&&"object"==typeof er}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(er){let eo=[];for(let[ec,eh]of Object.entries(er))Array.isArray(eh)?eh.forEach(er=>{eo.push(encodeURIComponent(ec)+"="+encodeURIComponent(er))}):eo.push(encodeURIComponent(ec)+"="+encodeURIComponent(eh));return eo.length?"&"+eo.join("&"):""}function querystringDecode(er){let eo={},ec=er.replace(/^\?/,"").split("&");return ec.forEach(er=>{if(er){let[ec,eh]=er.split("=");eo[decodeURIComponent(ec)]=decodeURIComponent(eh)}}),eo}function extractQuerystring(er){let eo=er.indexOf("?");if(!eo)return"";let ec=er.indexOf("#",eo);return er.substring(eo,ec>0?ec:void 0)}function createSubscribe(er,eo){let ec=new ObserverProxy(er,eo);return ec.subscribe.bind(ec)}let ObserverProxy=class ObserverProxy{constructor(er,eo){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=eo,this.task.then(()=>{er(this)}).catch(er=>{this.error(er)})}next(er){this.forEachObserver(eo=>{eo.next(er)})}error(er){this.forEachObserver(eo=>{eo.error(er)}),this.close(er)}complete(){this.forEachObserver(er=>{er.complete()}),this.close()}subscribe(er,eo,ec){let eh;if(void 0===er&&void 0===eo&&void 0===ec)throw Error("Missing Observer.");void 0===(eh=!function(er,eo){if("object"!=typeof er||null===er)return!1;for(let ec of eo)if(ec in er&&"function"==typeof er[ec])return!0;return!1}(er,["next","error","complete"])?{next:er,error:eo,complete:ec}:er).next&&(eh.next=noop),void 0===eh.error&&(eh.error=noop),void 0===eh.complete&&(eh.complete=noop);let ep=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?eh.error(this.finalError):eh.complete()}catch(er){}}),this.observers.push(eh),ep}unsubscribeOne(er){void 0!==this.observers&&void 0!==this.observers[er]&&(delete this.observers[er],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(er){if(!this.finalized)for(let eo=0;eo<this.observers.length;eo++)this.sendOne(eo,er)}sendOne(er,eo){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[er])try{eo(this.observers[er])}catch(er){"undefined"!=typeof console&&console.error&&console.error(er)}})}close(er){this.finalized||(this.finalized=!0,void 0!==er&&(this.finalError=er),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function noop(){}function calculateBackoffMillis(er,eo=1e3,ec=2){let eh=eo*Math.pow(ec,er),ep=Math.round(.5*eh*(Math.random()-.5)*2);return Math.min(144e5,eh+ep)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(er){return er&&er._delegate?er._delegate:er}},77236:function(er,eo,ec){"use strict";function n(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];throw Error("[Immer] minified error nr: "+er+(ec.length?" "+ec.map(function(er){return"'"+er+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(er){return!!er&&!!er[ex]}function t(er){return!!er&&(function(er){if(!er||"object"!=typeof er)return!1;var eo=Object.getPrototypeOf(er);if(null===eo)return!0;var ec=Object.hasOwnProperty.call(eo,"constructor")&&eo.constructor;return ec===Object||"function"==typeof ec&&Function.toString.call(ec)===ek}(er)||Array.isArray(er)||!!er[ew]||!!er.constructor[ew]||s(er)||v(er))}function i(er,eo,ec){void 0===ec&&(ec=!1),0===o(er)?(ec?Object.keys:eS)(er).forEach(function(eh){ec&&"symbol"==typeof eh||eo(eh,er[eh],er)}):er.forEach(function(ec,eh){return eo(eh,ec,er)})}function o(er){var eo=er[ex];return eo?eo.i>3?eo.i-4:eo.i:Array.isArray(er)?1:s(er)?2:v(er)?3:0}function u(er,eo){return 2===o(er)?er.has(eo):Object.prototype.hasOwnProperty.call(er,eo)}function f(er,eo,ec){var eh=o(er);2===eh?er.set(eo,ec):3===eh?(er.delete(eo),er.add(ec)):er[eo]=ec}function c(er,eo){return er===eo?0!==er||1/er==1/eo:er!=er&&eo!=eo}function s(er){return em&&er instanceof Map}function v(er){return ey&&er instanceof Set}function p(er){return er.o||er.t}function l(er){if(Array.isArray(er))return Array.prototype.slice.call(er);var eo=eC(er);delete eo[ex];for(var ec=eS(eo),eh=0;eh<ec.length;eh++){var ep=ec[eh],ef=eo[ep];!1===ef.writable&&(ef.writable=!0,ef.configurable=!0),(ef.get||ef.set)&&(eo[ep]={configurable:!0,writable:!0,enumerable:ef.enumerable,value:er[ep]})}return Object.create(Object.getPrototypeOf(er),eo)}function d(er,eo){return void 0===eo&&(eo=!1),y(er)||r(er)||!t(er)||(o(er)>1&&(er.set=er.add=er.clear=er.delete=h),Object.freeze(er),eo&&i(er,function(er,eo){return d(eo,!0)},!0)),er}function h(){n(2)}function y(er){return null==er||"object"!=typeof er||Object.isFrozen(er)}function b(er){var eo=eI[er];return eo||n(18,er),eo}function j(er,eo){eo&&(b("Patches"),er.u=[],er.s=[],er.v=eo)}function O(er){g(er),er.p.forEach(S),er.p=null}function g(er){er===ef&&(ef=er.l)}function w(er){return ef={p:[],l:ef,h:er,m:!0,_:0}}function S(er){var eo=er[ex];0===eo.i||1===eo.i?eo.j():eo.O=!0}function P(er,eo){eo._=eo.p.length;var ec=eo.p[0],eh=void 0!==er&&er!==ec;return eo.h.g||b("ES5").S(eo,er,eh),eh?(ec[ex].P&&(O(eo),n(4)),t(er)&&(er=M(eo,er),eo.l||x(eo,er)),eo.u&&b("Patches").M(ec[ex].t,er,eo.u,eo.s)):er=M(eo,ec,[]),O(eo),eo.u&&eo.v(eo.u,eo.s),er!==e_?er:void 0}function M(er,eo,ec){if(y(eo))return eo;var eh=eo[ex];if(!eh)return i(eo,function(ep,ef){return A(er,eh,eo,ep,ef,ec)},!0),eo;if(eh.A!==er)return eo;if(!eh.P)return x(er,eh.t,!0),eh.t;if(!eh.I){eh.I=!0,eh.A._--;var ep=4===eh.i||5===eh.i?eh.o=l(eh.k):eh.o;i(3===eh.i?new Set(ep):ep,function(eo,ef){return A(er,eh,ep,eo,ef,ec)}),x(er,ep,!1),ec&&er.u&&b("Patches").R(eh,ec,er.u,er.s)}return eh.o}function A(er,eo,ec,eh,ep,ef){if(r(ep)){var eg=M(er,ep,ef&&eo&&3!==eo.i&&!u(eo.D,eh)?ef.concat(eh):void 0);if(f(ec,eh,eg),!r(eg))return;er.m=!1}if(t(ep)&&!y(ep)){if(!er.h.F&&er._<1)return;M(er,ep),eo&&eo.A.l||x(er,ep)}}function x(er,eo,ec){void 0===ec&&(ec=!1),er.h.F&&er.m&&d(eo,ec)}function z(er,eo){var ec=er[ex];return(ec?p(ec):er)[eo]}function I(er,eo){if(eo in er)for(var ec=Object.getPrototypeOf(er);ec;){var eh=Object.getOwnPropertyDescriptor(ec,eo);if(eh)return eh;ec=Object.getPrototypeOf(ec)}}function k(er){er.P||(er.P=!0,er.l&&k(er.l))}function E(er){er.o||(er.o=l(er.t))}function R(er,eo,ec){var eh,ep,eg,em,ey,ev,e_,ew=s(eo)?b("MapSet").N(eo,ec):v(eo)?b("MapSet").T(eo,ec):er.g?(eg=ep={i:(eh=Array.isArray(eo))?1:0,A:ec?ec.A:ef,P:!1,I:!1,D:{},l:ec,t:eo,k:null,o:null,j:null,C:!1},em=eE,eh&&(eg=[ep],em=eT),ev=(ey=Proxy.revocable(eg,em)).revoke,e_=ey.proxy,ep.k=e_,ep.j=ev,e_):b("ES5").J(eo,ec);return(ec?ec.A:ef).p.push(ew),ew}function F(er,eo){switch(eo){case 2:return new Map(er);case 3:return Array.from(er)}return l(er)}ec.d(eo,{xC:function(){return configureStore},hg:function(){return createAsyncThunk},oM:function(){return createSlice}});var eh,ep,ef,eg="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),em="undefined"!=typeof Map,ey="undefined"!=typeof Set,ev="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,e_=eg?Symbol.for("immer-nothing"):((ep={})["immer-nothing"]=!0,ep),ew=eg?Symbol.for("immer-draftable"):"__$immer_draftable",ex=eg?Symbol.for("immer-state"):"__$immer_state",ek=""+Object.prototype.constructor,eS="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(er){return Object.getOwnPropertyNames(er).concat(Object.getOwnPropertySymbols(er))}:Object.getOwnPropertyNames,eC=Object.getOwnPropertyDescriptors||function(er){var eo={};return eS(er).forEach(function(ec){eo[ec]=Object.getOwnPropertyDescriptor(er,ec)}),eo},eI={},eE={get:function(er,eo){if(eo===ex)return er;var ec,eh,ep=p(er);if(!u(ep,eo))return(eh=I(ep,eo))?"value"in eh?eh.value:null===(ec=eh.get)||void 0===ec?void 0:ec.call(er.k):void 0;var ef=ep[eo];return er.I||!t(ef)?ef:ef===z(er.t,eo)?(E(er),er.o[eo]=R(er.A.h,ef,er)):ef},has:function(er,eo){return eo in p(er)},ownKeys:function(er){return Reflect.ownKeys(p(er))},set:function(er,eo,ec){var eh=I(p(er),eo);if(null==eh?void 0:eh.set)return eh.set.call(er.k,ec),!0;if(!er.P){var ep=z(p(er),eo),ef=null==ep?void 0:ep[ex];if(ef&&ef.t===ec)return er.o[eo]=ec,er.D[eo]=!1,!0;if(c(ec,ep)&&(void 0!==ec||u(er.t,eo)))return!0;E(er),k(er)}return er.o[eo]===ec&&"number"!=typeof ec&&(void 0!==ec||eo in er.o)||(er.o[eo]=ec,er.D[eo]=!0,!0)},deleteProperty:function(er,eo){return void 0!==z(er.t,eo)||eo in er.t?(er.D[eo]=!1,E(er),k(er)):delete er.D[eo],er.o&&delete er.o[eo],!0},getOwnPropertyDescriptor:function(er,eo){var ec=p(er),eh=Reflect.getOwnPropertyDescriptor(ec,eo);return eh?{writable:!0,configurable:1!==er.i||"length"!==eo,enumerable:eh.enumerable,value:ec[eo]}:eh},defineProperty:function(){n(11)},getPrototypeOf:function(er){return Object.getPrototypeOf(er.t)},setPrototypeOf:function(){n(12)}},eT={};i(eE,function(er,eo){eT[er]=function(){return arguments[0]=arguments[0][0],eo.apply(this,arguments)}}),eT.deleteProperty=function(er,eo){return eT.set.call(this,er,eo,void 0)},eT.set=function(er,eo,ec){return eE.set.call(this,er[0],eo,ec,er[0])};var eN=new(function(){function e(er){var eo=this;this.g=ev,this.F=!0,this.produce=function(er,ec,eh){if("function"==typeof er&&"function"!=typeof ec){var ep,ef=ec;return ec=er,function(er){var eh=this;void 0===er&&(er=ef);for(var ep=arguments.length,eg=Array(ep>1?ep-1:0),em=1;em<ep;em++)eg[em-1]=arguments[em];return eo.produce(er,function(er){var eo;return(eo=ec).call.apply(eo,[eh,er].concat(eg))})}}if("function"!=typeof ec&&n(6),void 0!==eh&&"function"!=typeof eh&&n(7),t(er)){var eg=w(eo),em=R(eo,er,void 0),ey=!0;try{ep=ec(em),ey=!1}finally{ey?O(eg):g(eg)}return"undefined"!=typeof Promise&&ep instanceof Promise?ep.then(function(er){return j(eg,eh),P(er,eg)},function(er){throw O(eg),er}):(j(eg,eh),P(ep,eg))}if(!er||"object"!=typeof er){if(void 0===(ep=ec(er))&&(ep=er),ep===e_&&(ep=void 0),eo.F&&d(ep,!0),eh){var ev=[],ew=[];b("Patches").M(er,ep,ev,ew),eh(ev,ew)}return ep}n(21,er)},this.produceWithPatches=function(er,ec){if("function"==typeof er)return function(ec){for(var eh=arguments.length,ep=Array(eh>1?eh-1:0),ef=1;ef<eh;ef++)ep[ef-1]=arguments[ef];return eo.produceWithPatches(ec,function(eo){return er.apply(void 0,[eo].concat(ep))})};var eh,ep,ef=eo.produce(er,ec,function(er,eo){eh=er,ep=eo});return"undefined"!=typeof Promise&&ef instanceof Promise?ef.then(function(er){return[er,eh,ep]}):[ef,eh,ep]},"boolean"==typeof(null==er?void 0:er.useProxies)&&this.setUseProxies(er.useProxies),"boolean"==typeof(null==er?void 0:er.autoFreeze)&&this.setAutoFreeze(er.autoFreeze)}var er=e.prototype;return er.createDraft=function(er){t(er)||n(8),r(er)&&(r(eo=er)||n(22,eo),er=function n(er){if(!t(er))return er;var eo,ec=er[ex],eh=o(er);if(ec){if(!ec.P&&(ec.i<4||!b("ES5").K(ec)))return ec.t;ec.I=!0,eo=F(er,eh),ec.I=!1}else eo=F(er,eh);return i(eo,function(er,eh){var ep;ec&&(2===o(ep=ec.t)?ep.get(er):ep[er])===eh||f(eo,er,n(eh))}),3===eh?new Set(eo):eo}(eo));var eo,ec=w(this),eh=R(this,er,void 0);return eh[ex].C=!0,g(ec),eh},er.finishDraft=function(er,eo){var ec=(er&&er[ex]).A;return j(ec,eo),P(void 0,ec)},er.setAutoFreeze=function(er){this.F=er},er.setUseProxies=function(er){er&&!ev&&n(20),this.g=er},er.applyPatches=function(er,eo){for(ec=eo.length-1;ec>=0;ec--){var ec,eh=eo[ec];if(0===eh.path.length&&"replace"===eh.op){er=eh.value;break}}ec>-1&&(eo=eo.slice(ec+1));var ep=b("Patches").$;return r(er)?ep(er,eo):this.produce(er,function(er){return ep(er,eo)})},e}()),eA=eN.produce;eN.produceWithPatches.bind(eN),eN.setAutoFreeze.bind(eN),eN.setUseProxies.bind(eN),eN.applyPatches.bind(eN),eN.createDraft.bind(eN),eN.finishDraft.bind(eN);var eO=ec(89569);function createThunkMiddleware(er){return function(eo){var ec=eo.dispatch,eh=eo.getState;return function(eo){return function(ep){return"function"==typeof ep?ep(ec,eh,er):eo(ep)}}}}var eP=createThunkMiddleware();eP.withExtraArgument=createThunkMiddleware;var eM=(eh=function(er,eo){return(eh=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(er,eo){er.__proto__=eo}||function(er,eo){for(var ec in eo)Object.prototype.hasOwnProperty.call(eo,ec)&&(er[ec]=eo[ec])})(er,eo)},function(er,eo){if("function"!=typeof eo&&null!==eo)throw TypeError("Class extends value "+String(eo)+" is not a constructor or null");function __(){this.constructor=er}eh(er,eo),er.prototype=null===eo?Object.create(eo):(__.prototype=eo.prototype,new __)}),__generator=function(er,eo){var ec,eh,ep,ef,eg={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]};return ef={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(ef[Symbol.iterator]=function(){return this}),ef;function verb(ef){return function(em){return function(ef){if(ec)throw TypeError("Generator is already executing.");for(;eg;)try{if(ec=1,eh&&(ep=2&ef[0]?eh.return:ef[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,ef[1])).done)return ep;switch(eh=0,ep&&(ef=[2&ef[0],ep.value]),ef[0]){case 0:case 1:ep=ef;break;case 4:return eg.label++,{value:ef[1],done:!1};case 5:eg.label++,eh=ef[1],ef=[0];continue;case 7:ef=eg.ops.pop(),eg.trys.pop();continue;default:if(!(ep=(ep=eg.trys).length>0&&ep[ep.length-1])&&(6===ef[0]||2===ef[0])){eg=0;continue}if(3===ef[0]&&(!ep||ef[1]>ep[0]&&ef[1]<ep[3])){eg.label=ef[1];break}if(6===ef[0]&&eg.label<ep[1]){eg.label=ep[1],ep=ef;break}if(ep&&eg.label<ep[2]){eg.label=ep[2],eg.ops.push(ef);break}ep[2]&&eg.ops.pop(),eg.trys.pop();continue}ef=eo.call(er,eg)}catch(er){ef=[6,er],eh=0}finally{ec=ep=0}if(5&ef[0])throw ef[1];return{value:ef[0]?ef[1]:void 0,done:!0}}([ef,em])}}},__spreadArray=function(er,eo){for(var ec=0,eh=eo.length,ep=er.length;ec<eh;ec++,ep++)er[ep]=eo[ec];return er},eR=Object.defineProperty,eD=Object.defineProperties,ej=Object.getOwnPropertyDescriptors,eL=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,eF=Object.prototype.propertyIsEnumerable,__defNormalProp=function(er,eo,ec){return eo in er?eR(er,eo,{enumerable:!0,configurable:!0,writable:!0,value:ec}):er[eo]=ec},__spreadValues=function(er,eo){for(var ec in eo||(eo={}))eU.call(eo,ec)&&__defNormalProp(er,ec,eo[ec]);if(eL)for(var eh=0,ep=eL(eo);eh<ep.length;eh++){var ec=ep[eh];eF.call(eo,ec)&&__defNormalProp(er,ec,eo[ec])}return er},__spreadProps=function(er,eo){return eD(er,ej(eo))},eV="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!=arguments.length)return"object"==typeof arguments[0]?eO.qC:eO.qC.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var eH=function(er){function MiddlewareArray(){for(var eo=[],ec=0;ec<arguments.length;ec++)eo[ec]=arguments[ec];var eh=er.apply(this,eo)||this;return Object.setPrototypeOf(eh,MiddlewareArray.prototype),eh}return eM(MiddlewareArray,er),Object.defineProperty(MiddlewareArray,Symbol.species,{get:function(){return MiddlewareArray},enumerable:!1,configurable:!0}),MiddlewareArray.prototype.concat=function(){for(var eo=[],ec=0;ec<arguments.length;ec++)eo[ec]=arguments[ec];return er.prototype.concat.apply(this,eo)},MiddlewareArray.prototype.prepend=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];return 1===er.length&&Array.isArray(er[0])?new(MiddlewareArray.bind.apply(MiddlewareArray,__spreadArray([void 0],er[0].concat(this)))):new(MiddlewareArray.bind.apply(MiddlewareArray,__spreadArray([void 0],er.concat(this))))},MiddlewareArray}(Array);function configureStore(er){var eo,curriedGetDefaultMiddleware=function(er){var eo,ec,eh,ep;return void 0===(eo=er)&&(eo={}),eh=void 0===(ec=eo.thunk)||ec,eo.immutableCheck,eo.serializableCheck,ep=new eH,eh&&("boolean"==typeof eh?ep.push(eP):ep.push(eP.withExtraArgument(eh.extraArgument))),ep},ec=er||{},eh=ec.reducer,ep=void 0===eh?void 0:eh,ef=ec.middleware,eg=void 0===ef?curriedGetDefaultMiddleware():ef,em=ec.devTools,ey=void 0===em||em,ev=ec.preloadedState,e_=void 0===ev?void 0:ev,ew=ec.enhancers,ex=void 0===ew?void 0:ew;if("function"==typeof ep)eo=ep;else if(function(er){if("object"!=typeof er||null===er)return!1;var eo=Object.getPrototypeOf(er);if(null===eo)return!0;for(var ec=eo;null!==Object.getPrototypeOf(ec);)ec=Object.getPrototypeOf(ec);return eo===ec}(ep))eo=(0,eO.UY)(ep);else throw Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var ek=eg;"function"==typeof ek&&(ek=ek(curriedGetDefaultMiddleware));var eS=eO.md.apply(void 0,ek),eC=eO.qC;ey&&(eC=eV(__spreadValues({trace:!1},"object"==typeof ey&&ey)));var eI=[eS];Array.isArray(ex)?eI=__spreadArray([eS],ex):"function"==typeof ex&&(eI=ex(eI));var eE=eC.apply(void 0,eI);return(0,eO.MT)(eo,e_,eE)}function createAction(er,eo){function actionCreator(){for(var ec=[],eh=0;eh<arguments.length;eh++)ec[eh]=arguments[eh];if(eo){var ep=eo.apply(void 0,ec);if(!ep)throw Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:er,payload:ep.payload},"meta"in ep&&{meta:ep.meta}),"error"in ep&&{error:ep.error})}return{type:er,payload:ec[0]}}return actionCreator.toString=function(){return""+er},actionCreator.type=er,actionCreator.match=function(eo){return eo.type===er},actionCreator}function executeReducerBuilderCallback(er){var eo,ec={},eh=[],ep={addCase:function(er,eo){var eh="string"==typeof er?er:er.type;if(eh in ec)throw Error("addCase cannot be called with two reducers for the same action type");return ec[eh]=eo,ep},addMatcher:function(er,eo){return eh.push({matcher:er,reducer:eo}),ep},addDefaultCase:function(er){return eo=er,ep}};return er(ep),[ec,eh,eo]}function createSlice(er){var eo,ec=er.name;if(!ec)throw Error("`name` is a required option for createSlice");var eh="function"==typeof er.initialState?er.initialState:eA(er.initialState,function(){}),ep=er.reducers||{},ef=Object.keys(ep),eg={},em={},ey={};function buildReducer(){var eo="function"==typeof er.extraReducers?executeReducerBuilderCallback(er.extraReducers):[er.extraReducers],ec=eo[0],ep=void 0===ec?{}:ec,ef=eo[1],eg=void 0===ef?[]:ef,ey=eo[2],ev=void 0===ey?void 0:ey;return function(er,eo,ec,eh){void 0===ec&&(ec=[]);var ep,ef="function"==typeof eo?executeReducerBuilderCallback(eo):[eo,ec,eh],eg=ef[0],em=ef[1],ey=ef[2];if("function"==typeof er)ep=function(){return eA(er(),function(){})};else{var ev=eA(er,function(){});ep=function(){return ev}}function reducer(er,eo){void 0===er&&(er=ep());var ec=__spreadArray([eg[eo.type]],em.filter(function(er){return(0,er.matcher)(eo)}).map(function(er){return er.reducer}));return 0===ec.filter(function(er){return!!er}).length&&(ec=[ey]),ec.reduce(function(er,ec){if(ec){if(r(er)){var eh=ec(er,eo);return void 0===eh?er:eh}if(t(er))return eA(er,function(er){return ec(er,eo)});var eh=ec(er,eo);if(void 0===eh){if(null===er)return er;throw Error("A case reducer on a non-draftable value must not return undefined")}return eh}return er},er)}return reducer.getInitialState=ep,reducer}(eh,__spreadValues(__spreadValues({},ep),em),eg,ev)}return ef.forEach(function(er){var eo,eh,ef=ep[er],ev=ec+"/"+er;"reducer"in ef?(eo=ef.reducer,eh=ef.prepare):eo=ef,eg[er]=eo,em[ev]=eo,ey[er]=eh?createAction(ev,eh):createAction(ev)}),{name:ec,reducer:function(er,ec){return eo||(eo=buildReducer()),eo(er,ec)},actions:ey,caseReducers:eg,getInitialState:function(){return eo||(eo=buildReducer()),eo.getInitialState()}}}var nanoid=function(er){void 0===er&&(er=21);for(var eo="",ec=er;ec--;)eo+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return eo},eB=["name","message","stack","code"],RejectWithValue=function(er,eo){this.payload=er,this.meta=eo},FulfillWithMeta=function(er,eo){this.payload=er,this.meta=eo},miniSerializeError=function(er){if("object"==typeof er&&null!==er){for(var eo={},ec=0;ec<eB.length;ec++){var eh=eB[ec];"string"==typeof er[eh]&&(eo[eh]=er[eh])}return eo}return{message:String(er)}};function createAsyncThunk(er,eo,ec){var eh=createAction(er+"/fulfilled",function(er,eo,ec,eh){return{payload:er,meta:__spreadProps(__spreadValues({},eh||{}),{arg:ec,requestId:eo,requestStatus:"fulfilled"})}}),ep=createAction(er+"/pending",function(er,eo,ec){return{payload:void 0,meta:__spreadProps(__spreadValues({},ec||{}),{arg:eo,requestId:er,requestStatus:"pending"})}}),ef=createAction(er+"/rejected",function(er,eo,eh,ep,ef){return{payload:ep,error:(ec&&ec.serializeError||miniSerializeError)(er||"Rejected"),meta:__spreadProps(__spreadValues({},ef||{}),{arg:eh,requestId:eo,rejectedWithValue:!!ep,requestStatus:"rejected",aborted:(null==er?void 0:er.name)==="AbortError",condition:(null==er?void 0:er.name)==="ConditionError"})}}),eg="undefined"!=typeof AbortController?AbortController:function(){function class_1(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return class_1.prototype.abort=function(){},class_1}();return Object.assign(function(er){return function(em,ey,ev){var e_,ew=(null==ec?void 0:ec.idGenerator)?ec.idGenerator(er):nanoid(),ex=new eg,ek=new Promise(function(er,eo){return ex.signal.addEventListener("abort",function(){return eo({name:"AbortError",message:e_||"Aborted"})})}),eS=!1,eC=function(){var eg,e_;return eg=this,e_=function(){var eg,e_,eC,eI,eE;return __generator(this,function(eT){switch(eT.label){case 0:var eN;if(eT.trys.push([0,4,,5]),!(null!==(eN=eI=null==(eg=null==ec?void 0:ec.condition)?void 0:eg.call(ec,er,{getState:ey,extra:ev}))&&"object"==typeof eN&&"function"==typeof eN.then))return[3,2];return[4,eI];case 1:eI=eT.sent(),eT.label=2;case 2:if(!1===eI)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return eS=!0,em(ep(ew,er,null==(e_=null==ec?void 0:ec.getPendingMeta)?void 0:e_.call(ec,{requestId:ew,arg:er},{getState:ey,extra:ev}))),[4,Promise.race([ek,Promise.resolve(eo(er,{dispatch:em,getState:ey,extra:ev,requestId:ew,signal:ex.signal,rejectWithValue:function(er,eo){return new RejectWithValue(er,eo)},fulfillWithValue:function(er,eo){return new FulfillWithMeta(er,eo)}})).then(function(eo){if(eo instanceof RejectWithValue)throw eo;return eo instanceof FulfillWithMeta?eh(eo.payload,ew,er,eo.meta):eh(eo,ew,er)})])];case 3:return eC=eT.sent(),[3,5];case 4:return eC=(eE=eT.sent())instanceof RejectWithValue?ef(null,ew,er,eE.payload,eE.meta):ef(eE,ew,er),[3,5];case 5:return ec&&!ec.dispatchConditionRejection&&ef.match(eC)&&eC.meta.condition||em(eC),[2,eC]}})},new Promise(function(er,eo){var fulfilled=function(er){try{step(e_.next(er))}catch(er){eo(er)}},rejected=function(er){try{step(e_.throw(er))}catch(er){eo(er)}},step=function(eo){return eo.done?er(eo.value):Promise.resolve(eo.value).then(fulfilled,rejected)};step((e_=e_.apply(eg,null)).next())})}();return Object.assign(eC,{abort:function(er){eS&&(e_=er,ex.abort())},requestId:ew,arg:er,unwrap:function(){return eC.then(unwrapResult)}})}},{pending:ep,rejected:ef,fulfilled:eh,typePrefix:er})}function unwrapResult(er){if(er.meta&&er.meta.rejectedWithValue)throw er.payload;if(er.error)throw er.error;return er.payload}var eq="listenerMiddleware";createAction(eq+"/add"),createAction(eq+"/removeAll"),createAction(eq+"/remove"),function(){function t(eo,ec){var eh=er[eo];return eh?eh.enumerable=ec:er[eo]=eh={configurable:!0,enumerable:ec,get:function(){var er=this[ex];return eE.get(er,eo)},set:function(er){var ec=this[ex];eE.set(ec,eo,er)}},eh}function e(er){for(var eo=er.length-1;eo>=0;eo--){var ec=er[eo][ex];if(!ec.P)switch(ec.i){case 5:a(ec)&&k(ec);break;case 4:o(ec)&&k(ec)}}}function o(er){for(var eo=er.t,ec=er.k,eh=eS(ec),ep=eh.length-1;ep>=0;ep--){var ef=eh[ep];if(ef!==ex){var eg=eo[ef];if(void 0===eg&&!u(eo,ef))return!0;var em=ec[ef],ey=em&&em[ex];if(ey?ey.t!==eg:!c(em,eg))return!0}}var ev=!!eo[ex];return eh.length!==eS(eo).length+(ev?0:1)}function a(er){var eo=er.k;if(eo.length!==er.t.length)return!0;var ec=Object.getOwnPropertyDescriptor(eo,eo.length-1);if(ec&&!ec.get)return!0;for(var eh=0;eh<eo.length;eh++)if(!eo.hasOwnProperty(eh))return!0;return!1}var er={};eI.ES5||(eI.ES5={J:function(er,eo){var ec=Array.isArray(er),eh=function(er,eo){if(er){for(var ec=Array(eo.length),eh=0;eh<eo.length;eh++)Object.defineProperty(ec,""+eh,t(eh,!0));return ec}var ep=eC(eo);delete ep[ex];for(var ef=eS(ep),eg=0;eg<ef.length;eg++){var em=ef[eg];ep[em]=t(em,er||!!ep[em].enumerable)}return Object.create(Object.getPrototypeOf(eo),ep)}(ec,er),ep={i:ec?5:4,A:eo?eo.A:ef,P:!1,I:!1,D:{},l:eo,t:er,k:eh,o:null,O:!1,C:!1};return Object.defineProperty(eh,ex,{value:ep,writable:!0}),eh},S:function(er,eo,ec){ec?r(eo)&&eo[ex].A===er&&e(er.p):(er.u&&function n(er){if(er&&"object"==typeof er){var eo=er[ex];if(eo){var ec=eo.t,eh=eo.k,ep=eo.D,ef=eo.i;if(4===ef)i(eh,function(er){er!==ex&&(void 0!==ec[er]||u(ec,er)?ep[er]||n(eh[er]):(ep[er]=!0,k(eo)))}),i(ec,function(er){void 0!==eh[er]||u(eh,er)||(ep[er]=!1,k(eo))});else if(5===ef){if(a(eo)&&(k(eo),ep.length=!0),eh.length<ec.length)for(var eg=eh.length;eg<ec.length;eg++)ep[eg]=!1;else for(var em=ec.length;em<eh.length;em++)ep[em]=!0;for(var ey=Math.min(eh.length,ec.length),ev=0;ev<ey;ev++)eh.hasOwnProperty(ev)||(ep[ev]=!0),void 0===ep[ev]&&n(eh[ev])}}}}(er.p[0]),e(er.p))},K:function(er){return 4===er.i?o(er):a(er)}})}()},2711:function(er){er.exports=function(er){function t(ec){if(eo[ec])return eo[ec].exports;var eh=eo[ec]={exports:{},id:ec,loaded:!1};return er[ec].call(eh.exports,eh,eh.exports,t),eh.loaded=!0,eh.exports}var eo={};return t.m=er,t.c=eo,t.p="dist/",t(0)}([function(er,eo,ec){"use strict";function o(er){return er&&er.__esModule?er:{default:er}}var eh=Object.assign||function(er){for(var eo=1;eo<arguments.length;eo++){var ec=arguments[eo];for(var eh in ec)Object.prototype.hasOwnProperty.call(ec,eh)&&(er[eh]=ec[eh])}return er},ep=(o(ec(1)),ec(6)),ef=o(ep),eg=o(ec(7)),em=o(ec(8)),ey=o(ec(9)),ev=o(ec(10)),e_=o(ec(11)),ew=o(ec(14)),ex=[],ek=!1,eS={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},j=function(){var er=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(er&&(ek=!0),ek)return ex=(0,e_.default)(ex,eS),(0,ev.default)(ex,eS.once),ex},O=function(){ex=(0,ew.default)(),j()},M=function(){ex.forEach(function(er,eo){er.node.removeAttribute("data-aos"),er.node.removeAttribute("data-aos-easing"),er.node.removeAttribute("data-aos-duration"),er.node.removeAttribute("data-aos-delay")})};er.exports={init:function(er){eS=eh(eS,er),ex=(0,ew.default)();var eo,ec=document.all&&!window.atob;return!0===(eo=eS.disable)||"mobile"===eo&&ey.default.mobile()||"phone"===eo&&ey.default.phone()||"tablet"===eo&&ey.default.tablet()||"function"==typeof eo&&!0===eo()||ec?M():(eS.disableMutationObserver||em.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),eS.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",eS.easing),document.querySelector("body").setAttribute("data-aos-duration",eS.duration),document.querySelector("body").setAttribute("data-aos-delay",eS.delay),"DOMContentLoaded"===eS.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?j(!0):"load"===eS.startEvent?window.addEventListener(eS.startEvent,function(){j(!0)}):document.addEventListener(eS.startEvent,function(){j(!0)}),window.addEventListener("resize",(0,eg.default)(j,eS.debounceDelay,!0)),window.addEventListener("orientationchange",(0,eg.default)(j,eS.debounceDelay,!0)),window.addEventListener("scroll",(0,ef.default)(function(){(0,ev.default)(ex,eS.once)},eS.throttleDelay)),eS.disableMutationObserver||em.default.ready("[data-aos]",O),ex)},refresh:j,refreshHard:O}},function(er,eo){},,,,,function(er,eo){(function(eo){"use strict";function i(er){var eo=void 0===er?"undefined":ec(er);return!!er&&("object"==eo||"function"==eo)}function u(er){if("number"==typeof er)return er;if("symbol"==(void 0===(eo=er)?"undefined":ec(eo))||eo&&"object"==(void 0===eo?"undefined":ec(eo))&&eS.call(eo)==ef)return ep;if(i(er)){var eo,eh="function"==typeof er.valueOf?er.valueOf():er;er=i(eh)?eh+"":eh}if("string"!=typeof er)return 0===er?er:+er;var ew=ey.test(er=er.replace(eg,""));return ew||ev.test(er)?e_(er.slice(2),ew?2:8):em.test(er)?ep:+er}var ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(er){return typeof er}:function(er){return er&&"function"==typeof Symbol&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},eh="Expected a function",ep=NaN,ef="[object Symbol]",eg=/^\s+|\s+$/g,em=/^[-+]0x[0-9a-f]+$/i,ey=/^0b[01]+$/i,ev=/^0o[0-7]+$/i,e_=parseInt,ew="object"==(void 0===eo?"undefined":ec(eo))&&eo&&eo.Object===Object&&eo,ex="object"==("undefined"==typeof self?"undefined":ec(self))&&self&&self.Object===Object&&self,ek=ew||ex||Function("return this")(),eS=Object.prototype.toString,eC=Math.max,eI=Math.min,O=function(){return ek.Date.now()};er.exports=function(er,eo,ec){var ep=!0,ef=!0;if("function"!=typeof er)throw TypeError(eh);return i(ec)&&(ep="leading"in ec?!!ec.leading:ep,ef="trailing"in ec?!!ec.trailing:ef),function(er,eo,ec){function o(eo){var ec=ep,eh=ef;return ep=ef=void 0,e_=eo,em=er.apply(eh,ec)}function c(er){var ec=er-ev,eh=er-e_;return void 0===ev||ec>=eo||ec<0||ex&&eh>=eg}function f(){var er,ec,eh,ep=O();return c(ep)?d(ep):void(ey=setTimeout(f,(er=ep-ev,ec=ep-e_,eh=eo-er,ex?eI(eh,eg-ec):eh)))}function d(er){return ey=void 0,ek&&ep?o(er):(ep=ef=void 0,em)}function m(){var er,ec=O(),eh=c(ec);if(ep=arguments,ef=this,ev=ec,eh){if(void 0===ey)return e_=er=ev,ey=setTimeout(f,eo),ew?o(er):em;if(ex)return ey=setTimeout(f,eo),o(ev)}return void 0===ey&&(ey=setTimeout(f,eo)),em}var ep,ef,eg,em,ey,ev,e_=0,ew=!1,ex=!1,ek=!0;if("function"!=typeof er)throw TypeError(eh);return eo=u(eo)||0,i(ec)&&(ew=!!ec.leading,eg=(ex="maxWait"in ec)?eC(u(ec.maxWait)||0,eo):eg,ek="trailing"in ec?!!ec.trailing:ek),m.cancel=function(){void 0!==ey&&clearTimeout(ey),e_=0,ep=ev=ef=ey=void 0},m.flush=function(){return void 0===ey?em:d(O())},m}(er,eo,{leading:ep,maxWait:eo,trailing:ef})}}).call(eo,function(){return this}())},function(er,eo){(function(eo){"use strict";function o(er){var eo=void 0===er?"undefined":ec(er);return!!er&&("object"==eo||"function"==eo)}function a(er){if("number"==typeof er)return er;if("symbol"==(void 0===(eo=er)?"undefined":ec(eo))||eo&&"object"==(void 0===eo?"undefined":ec(eo))&&ek.call(eo)==ep)return eh;if(o(er)){var eo,e_="function"==typeof er.valueOf?er.valueOf():er;er=o(e_)?e_+"":e_}if("string"!=typeof er)return 0===er?er:+er;var ew=em.test(er=er.replace(ef,""));return ew||ey.test(er)?ev(er.slice(2),ew?2:8):eg.test(er)?eh:+er}var ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(er){return typeof er}:function(er){return er&&"function"==typeof Symbol&&er.constructor===Symbol&&er!==Symbol.prototype?"symbol":typeof er},eh=NaN,ep="[object Symbol]",ef=/^\s+|\s+$/g,eg=/^[-+]0x[0-9a-f]+$/i,em=/^0b[01]+$/i,ey=/^0o[0-7]+$/i,ev=parseInt,e_="object"==(void 0===eo?"undefined":ec(eo))&&eo&&eo.Object===Object&&eo,ew="object"==("undefined"==typeof self?"undefined":ec(self))&&self&&self.Object===Object&&self,ex=e_||ew||Function("return this")(),ek=Object.prototype.toString,eS=Math.max,eC=Math.min,j=function(){return ex.Date.now()};er.exports=function(er,eo,ec){function i(eo){var ec=eh,ef=ep;return eh=ep=void 0,ev=eo,eg=er.apply(ef,ec)}function s(er){var ec=er-ey,eh=er-ev;return void 0===ey||ec>=eo||ec<0||ew&&eh>=ef}function f(){var er,ec,eh,ep=j();return s(ep)?d(ep):void(em=setTimeout(f,(er=ep-ey,ec=ep-ev,eh=eo-er,ew?eC(eh,ef-ec):eh)))}function d(er){return em=void 0,ex&&eh?i(er):(eh=ep=void 0,eg)}function m(){var er,ec=j(),ef=s(ec);if(eh=arguments,ep=this,ey=ec,ef){if(void 0===em)return ev=er=ey,em=setTimeout(f,eo),e_?i(er):eg;if(ew)return em=setTimeout(f,eo),i(ey)}return void 0===em&&(em=setTimeout(f,eo)),eg}var eh,ep,ef,eg,em,ey,ev=0,e_=!1,ew=!1,ex=!0;if("function"!=typeof er)throw TypeError("Expected a function");return eo=a(eo)||0,o(ec)&&(e_=!!ec.leading,ef=(ew="maxWait"in ec)?eS(a(ec.maxWait)||0,eo):ef,ex="trailing"in ec?!!ec.trailing:ex),m.cancel=function(){void 0!==em&&clearTimeout(em),ev=0,eh=ey=ep=em=void 0},m.flush=function(){return void 0===em?eg:d(j())},m}}).call(eo,function(){return this}())},function(er,eo){"use strict";function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function a(er){er&&er.forEach(function(er){var eo=Array.prototype.slice.call(er.addedNodes),ec=Array.prototype.slice.call(er.removedNodes);if(function n(er){var eo=void 0,ec=void 0;for(eo=0;eo<er.length;eo+=1)if((ec=er[eo]).dataset&&ec.dataset.aos||ec.children&&n(ec.children))return!0;return!1}(eo.concat(ec)))return u()})}Object.defineProperty(eo,"__esModule",{value:!0});var u=function(){};eo.default={isSupported:function(){return!!o()},ready:function(er,eo){var ec=window.document,eh=new(o())(a);u=eo,eh.observe(ec.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(er,eo){"use strict";function o(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(eo,"__esModule",{value:!0});var ec=function(){function e(er,eo){for(var ec=0;ec<eo.length;ec++){var eh=eo[ec];eh.enumerable=eh.enumerable||!1,eh.configurable=!0,"value"in eh&&(eh.writable=!0),Object.defineProperty(er,eh.key,eh)}}return function(er,eo,ec){return eo&&e(er.prototype,eo),ec&&e(er,ec),er}}(),eh=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ep=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ef=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,eg=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,em=function(){function e(){!function(er,eo){if(!(er instanceof eo))throw TypeError("Cannot call a class as a function")}(this,e)}return ec(e,[{key:"phone",value:function(){var er=o();return!(!eh.test(er)&&!ep.test(er.substr(0,4)))}},{key:"mobile",value:function(){var er=o();return!(!ef.test(er)&&!eg.test(er.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();eo.default=new em},function(er,eo){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var n=function(er,eo,ec){var eh=er.node.getAttribute("data-aos-once");eo>er.position?er.node.classList.add("aos-animate"):void 0===eh||"false"!==eh&&(ec||"true"===eh)||er.node.classList.remove("aos-animate")};eo.default=function(er,eo){var ec=window.pageYOffset,eh=window.innerHeight;er.forEach(function(er,ep){n(er,eh+ec,eo)})}},function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var eh,ep=(eh=ec(12))&&eh.__esModule?eh:{default:eh};eo.default=function(er,eo){return er.forEach(function(er,ec){er.node.classList.add("aos-init"),er.position=(0,ep.default)(er.node,eo.offset)}),er}},function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var eh,ep=(eh=ec(13))&&eh.__esModule?eh:{default:eh};eo.default=function(er,eo){var ec=0,eh=0,ef=window.innerHeight,eg={offset:er.getAttribute("data-aos-offset"),anchor:er.getAttribute("data-aos-anchor"),anchorPlacement:er.getAttribute("data-aos-anchor-placement")};switch(eg.offset&&!isNaN(eg.offset)&&(eh=parseInt(eg.offset)),eg.anchor&&document.querySelectorAll(eg.anchor)&&(er=document.querySelectorAll(eg.anchor)[0]),ec=(0,ep.default)(er).top,eg.anchorPlacement){case"top-bottom":break;case"center-bottom":ec+=er.offsetHeight/2;break;case"bottom-bottom":ec+=er.offsetHeight;break;case"top-center":ec+=ef/2;break;case"bottom-center":ec+=ef/2+er.offsetHeight;break;case"center-center":ec+=ef/2+er.offsetHeight/2;break;case"top-top":ec+=ef;break;case"bottom-top":ec+=er.offsetHeight+ef;break;case"center-top":ec+=er.offsetHeight/2+ef}return eg.anchorPlacement||eg.offset||isNaN(eo)||(eh=eo),ec+eh}},function(er,eo){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),eo.default=function(er){for(var eo=0,ec=0;er&&!isNaN(er.offsetLeft)&&!isNaN(er.offsetTop);)eo+=er.offsetLeft-("BODY"!=er.tagName?er.scrollLeft:0),ec+=er.offsetTop-("BODY"!=er.tagName?er.scrollTop:0),er=er.offsetParent;return{top:ec,left:eo}}},function(er,eo){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),eo.default=function(er){return er=er||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(er,function(er){return{node:er}})}}])},71716:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),eo.getDatesParameter=eo.sortDates=eo.filterInvalidDates=eo.relativeDates=void 0;var eh=_interopRequireDefault(ec(68931)),ep=_interopRequireDefault(ec(9285)),ef=_interopRequireDefault(ec(19721)),eg=_interopRequireDefault(ec(81704));function _interopRequireDefault(er){return er&&er.__esModule?er:{default:er}}eo.relativeDates=function(){return{today:(0,eh.default)(new Date),yesterday:(0,eh.default)((0,ep.default)(new Date,1)),tomorrow:(0,eh.default)((0,ef.default)(new Date,1))}},eo.filterInvalidDates=function(er){return er.filter(function(er){return(0,eg.default)(new Date(er))?new Date(er):console.error("The date '"+er+"' is not in a valid date format and date-streaks is ignoring it. Browsers do not consistently support this and this package's results may fail. Verify the array of dates you're passing to date-streaks are all valid date strings. http://momentjs.com/docs/#/parsing/string/")})},eo.sortDates=function(er){return er.sort(function(er,eo){return(0,eh.default)(eo)-(0,eh.default)(er)}).reverse()},eo.getDatesParameter=function(){var er=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(er)?er:er.dates||[]}},87047:function(er,eo,ec){"use strict";eo.Sp=void 0;var eh=_interopRequireDefault(ec(18186)),ep=_interopRequireDefault(ec(33138)),ef=_interopRequireDefault(ec(45526));function _interopRequireDefault(er){return er&&er.__esModule?er:{default:er}}eo.Sp=eh.default,ep.default,ef.default},33138:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var eh,ep=ec(71716),ef=(eh=ec(18186))&&eh.__esModule?eh:{default:eh};function _toConsumableArray(er){if(!Array.isArray(er))return Array.from(er);for(var eo=0,ec=Array(er.length);eo<er.length;eo++)ec[eo]=er[eo];return ec}eo.default=function(){var er=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],eo=(0,ep.getDatesParameter)(er);if(0===eo.length)return[];var ec=(0,ef.default)({dates:eo}).streaks,eh=[].concat(_toConsumableArray((0,ep.sortDates)(eo)));return(void 0===ec?[]:ec).reduce(function(er,eo){var ec=void 0,ep=void 0,ef=eh.slice(0,eo);return eh.splice(0,eo),ef&&ef.length>1?(ec=new Date(ef[0]),ep=new Date(ef[ef.length-1])):(ec=new Date(ef[0]),ep=null),[].concat(_toConsumableArray(er),[{start:ec,end:ep,duration:eo}])},[]).reverse()}},18186:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var eh,ep=Object.assign||function(er){for(var eo=1;eo<arguments.length;eo++){var ec=arguments[eo];for(var eh in ec)Object.prototype.hasOwnProperty.call(ec,eh)&&(er[eh]=ec[eh])}return er},ef=(eh=ec(1e4))&&eh.__esModule?eh:{default:eh},eg=ec(71716);eo.default=function(){var er=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],eo=(0,eg.getDatesParameter)(er),ec=(0,eg.relativeDates)(),eh=ec.today,em=ec.yesterday,ey=(0,eg.filterInvalidDates)(eo),ev=(0,eg.sortDates)(ey),e_=ev.reduce(function(er,eo,ec){var eg=new Date(eo),ey=ev[ec+1]?new Date(ev[ec+1]):eg,e_=(0,ef.default)(ey,eg),ew=er.isToday||0===(0,ef.default)(eo,eh),ex=er.isYesterday||0===(0,ef.default)(eo,em),ek=er.isInFuture||0>(0,ef.default)(eh,eo);return 0===e_?ew&&(er.todayInStreak=!0):1===e_?++er.streaks[er.streaks.length-1]:er.streaks.push(1),ep({},er,{longestStreak:Math.max.apply(Math,function(er){if(!Array.isArray(er))return Array.from(er);for(var eo=0,ec=Array(er.length);eo<er.length;eo++)ec[eo]=er[eo];return ec}(er.streaks)),withinCurrentStreak:er.isToday||er.isYesterday||er.isInFuture||ew||ex||ek,currentStreak:ew||ex||ek?er.streaks[er.streaks.length-1]:0,isInFuture:ek,isYesterday:ex,isToday:ew})},{currentStreak:0,longestStreak:0,streaks:[1],todayInStreak:!1,withinCurrentStreak:!1,isInFuture:!1,isToday:!1,isYesterday:!1});return e_.isToday,e_.isYesterday,e_.isInFuture,function(er,eo){var ec={};for(var eh in er)!(eo.indexOf(eh)>=0)&&Object.prototype.hasOwnProperty.call(er,eh)&&(ec[eh]=er[eh]);return ec}(e_,["isToday","isYesterday","isInFuture"])}},45526:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0});var eh=Object.assign||function(er){for(var eo=1;eo<arguments.length;eo++){var ec=arguments[eo];for(var eh in ec)Object.prototype.hasOwnProperty.call(ec,eh)&&(er[eh]=ec[eh])}return er},ep=_interopRequireDefault(ec(68931)),ef=_interopRequireDefault(ec(9285)),eg=ec(71716);function _interopRequireDefault(er){return er&&er.__esModule?er:{default:er}}eo.default=function(er){var eo=er.dates,ec=er.length,em=er.endDate,ey=void 0===em?new Date:em,ev=[].concat(function(er){if(!Array.isArray(er))return Array.from(er);for(var eo=0,ec=Array(er.length);eo<er.length;eo++)ec[eo]=er[eo];return ec}(Array(void 0===ec?7:ec))).map(function(er,eo){return(0,ep.default)((0,ef.default)(ey,eo))}),e_=(0,eg.sortDates)(void 0===eo?[]:eo).map(function(er){return(0,ep.default)(er).getTime()});return ev.reduce(function(er,eo){var ec,ep;return er=eh({},er,(ec={},ep=e_.includes(eo.getTime()),eo in ec?Object.defineProperty(ec,eo,{value:ep,enumerable:!0,configurable:!0,writable:!0}):ec[eo]=ep,ec))},{})}},93628:function(er){er.exports=function(er){var eo=new Date(er.getTime()),ec=eo.getTimezoneOffset();return eo.setSeconds(0,0),6e4*ec+eo.getTime()%6e4}},19721:function(er,eo,ec){var eh=ec(40903);er.exports=function(er,eo){var ec=eh(er),ep=Number(eo);return ec.setDate(ec.getDate()+ep),ec}},8543:function(er,eo,ec){var eh=ec(40903);er.exports=function(er,eo){var ec=eh(er).getTime(),ep=eh(eo).getTime();return ec<ep?-1:ec>ep?1:0}},53639:function(er,eo,ec){var eh=ec(68931);er.exports=function(er,eo){var ec=eh(er),ep=eh(eo);return Math.round((ec.getTime()-6e4*ec.getTimezoneOffset()-(ep.getTime()-6e4*ep.getTimezoneOffset()))/864e5)}},1e4:function(er,eo,ec){var eh=ec(40903),ep=ec(53639),ef=ec(8543);er.exports=function(er,eo){var ec=eh(er),eg=eh(eo),em=ef(ec,eg),ey=Math.abs(ep(ec,eg));ec.setDate(ec.getDate()-em*ey);var ev=ef(ec,eg)===-em;return em*(ey-ev)}},43817:function(er){er.exports=function(er){return er instanceof Date}},81704:function(er,eo,ec){var eh=ec(43817);er.exports=function(er){if(eh(er))return!isNaN(er);throw TypeError(toString.call(er)+" is not an instance of Date")}},40903:function(er,eo,ec){var eh=ec(93628),ep=ec(43817),ef=/[T ]/,eg=/:/,em=/^(\d{2})$/,ey=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],ev=/^(\d{4})/,e_=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],ew=/^-(\d{2})$/,ex=/^-?(\d{3})$/,ek=/^-?(\d{2})-?(\d{2})$/,eS=/^-?W(\d{2})$/,eC=/^-?W(\d{2})-?(\d{1})$/,eI=/^(\d{2}([.,]\d*)?)$/,eE=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,eT=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,eN=/([Z+-].*)$/,eA=/^(Z)$/,eO=/^([+-])(\d{2})$/,eP=/^([+-])(\d{2}):?(\d{2})$/;function dayOfISOYear(er,eo,ec){eo=eo||0,ec=ec||0;var eh=new Date(0);eh.setUTCFullYear(er,0,4);var ep=7*eo+ec+1-(eh.getUTCDay()||7);return eh.setUTCDate(eh.getUTCDate()+ep),eh}er.exports=function(er,eo){if(ep(er))return new Date(er.getTime());if("string"!=typeof er)return new Date(er);var ec,eM,eR,eD=(eo||{}).additionalDigits;eD=null==eD?2:Number(eD);var ej=function(er){var eo,ec={},eh=er.split(ef);if(eg.test(eh[0])?(ec.date=null,eo=eh[0]):(ec.date=eh[0],eo=eh[1]),eo){var ep=eN.exec(eo);ep?(ec.time=eo.replace(ep[1],""),ec.timezone=ep[1]):ec.time=eo}return ec}(er),eL=function(er,eo){var ec,eh=ey[eo],ep=e_[eo];if(ec=ev.exec(er)||ep.exec(er)){var ef=ec[1];return{year:parseInt(ef,10),restDateString:er.slice(ef.length)}}if(ec=em.exec(er)||eh.exec(er)){var eg=ec[1];return{year:100*parseInt(eg,10),restDateString:er.slice(eg.length)}}return{year:null}}(ej.date,eD),eU=eL.year,eF=function(er,eo){if(null===eo)return null;if(0===er.length)return(eh=new Date(0)).setUTCFullYear(eo),eh;if(ec=ew.exec(er))return eh=new Date(0),ep=parseInt(ec[1],10)-1,eh.setUTCFullYear(eo,ep),eh;if(ec=ex.exec(er)){eh=new Date(0);var ec,eh,ep,ef=parseInt(ec[1],10);return eh.setUTCFullYear(eo,0,ef),eh}if(ec=ek.exec(er)){eh=new Date(0),ep=parseInt(ec[1],10)-1;var eg=parseInt(ec[2],10);return eh.setUTCFullYear(eo,ep,eg),eh}return(ec=eS.exec(er))?dayOfISOYear(eo,parseInt(ec[1],10)-1):(ec=eC.exec(er))?dayOfISOYear(eo,parseInt(ec[1],10)-1,parseInt(ec[2],10)-1):null}(eL.restDateString,eU);if(!eF)return new Date(er);var eV,eH=eF.getTime(),eB=0;if(ej.time&&(eB=function(er){if(eo=eI.exec(er))return parseFloat(eo[1].replace(",","."))%24*36e5;if(eo=eE.exec(er))return parseInt(eo[1],10)%24*36e5+6e4*parseFloat(eo[2].replace(",","."));if(eo=eT.exec(er)){var eo,ec;return parseInt(eo[1],10)%24*36e5+6e4*parseInt(eo[2],10)+1e3*parseFloat(eo[3].replace(",","."))}return null}(ej.time)),ej.timezone)eV=6e4*(ec=ej.timezone,(eM=eA.exec(ec))?0:(eM=eO.exec(ec))?(eR=60*parseInt(eM[2],10),"+"===eM[1]?-eR:eR):(eM=eP.exec(ec))?(eR=60*parseInt(eM[2],10)+parseInt(eM[3],10),"+"===eM[1]?-eR:eR):0);else{var eq=eH+eB,ez=new Date(eq);eV=eh(ez);var eW=new Date(eq);eW.setDate(ez.getDate()+1);var e$=eh(eW)-eh(ez);e$>0&&(eV+=e$)}return new Date(eH+eB+eV)}},68931:function(er,eo,ec){var eh=ec(40903);er.exports=function(er){var eo=eh(er);return eo.setHours(0,0,0,0),eo}},9285:function(er,eo,ec){var eh=ec(19721);er.exports=function(er,eo){return eh(er,-Number(eo))}},99960:function(er,eo){"use strict";var ec,eh;Object.defineProperty(eo,"__esModule",{value:!0}),eo.Doctype=eo.CDATA=eo.Tag=eo.Style=eo.Script=eo.Comment=eo.Directive=eo.Text=eo.Root=eo.isTag=eo.ElementType=void 0,(eh=ec=eo.ElementType||(eo.ElementType={})).Root="root",eh.Text="text",eh.Directive="directive",eh.Comment="comment",eh.Script="script",eh.Style="style",eh.Tag="tag",eh.CDATA="cdata",eh.Doctype="doctype",eo.isTag=function(er){return er.type===ec.Tag||er.type===ec.Script||er.type===ec.Style},eo.Root=ec.Root,eo.Text=ec.Text,eo.Directive=ec.Directive,eo.Comment=ec.Comment,eo.Script=ec.Script,eo.Style=ec.Style,eo.Tag=ec.Tag,eo.CDATA=ec.CDATA,eo.Doctype=ec.Doctype},47915:function(er,eo,ec){"use strict";var eh=this&&this.__createBinding||(Object.create?function(er,eo,ec,eh){void 0===eh&&(eh=ec);var ep=Object.getOwnPropertyDescriptor(eo,ec);(!ep||("get"in ep?!eo.__esModule:ep.writable||ep.configurable))&&(ep={enumerable:!0,get:function(){return eo[ec]}}),Object.defineProperty(er,eh,ep)}:function(er,eo,ec,eh){void 0===eh&&(eh=ec),er[eh]=eo[ec]}),ep=this&&this.__exportStar||function(er,eo){for(var ec in er)"default"===ec||Object.prototype.hasOwnProperty.call(eo,ec)||eh(eo,er,ec)};Object.defineProperty(eo,"__esModule",{value:!0}),eo.DomHandler=void 0;var ef=ec(99960),eg=ec(97790);ep(ec(97790),eo);var em={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},ey=function(){function DomHandler(er,eo,ec){this.dom=[],this.root=new eg.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof eo&&(ec=eo,eo=em),"object"==typeof er&&(eo=er,er=void 0),this.callback=null!=er?er:null,this.options=null!=eo?eo:em,this.elementCB=null!=ec?ec:null}return DomHandler.prototype.onparserinit=function(er){this.parser=er},DomHandler.prototype.onreset=function(){this.dom=[],this.root=new eg.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},DomHandler.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},DomHandler.prototype.onerror=function(er){this.handleCallback(er)},DomHandler.prototype.onclosetag=function(){this.lastNode=null;var er=this.tagStack.pop();this.options.withEndIndices&&(er.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(er)},DomHandler.prototype.onopentag=function(er,eo){var ec=this.options.xmlMode?ef.ElementType.Tag:void 0,eh=new eg.Element(er,eo,void 0,ec);this.addNode(eh),this.tagStack.push(eh)},DomHandler.prototype.ontext=function(er){var eo=this.lastNode;if(eo&&eo.type===ef.ElementType.Text)eo.data+=er,this.options.withEndIndices&&(eo.endIndex=this.parser.endIndex);else{var ec=new eg.Text(er);this.addNode(ec),this.lastNode=ec}},DomHandler.prototype.oncomment=function(er){if(this.lastNode&&this.lastNode.type===ef.ElementType.Comment){this.lastNode.data+=er;return}var eo=new eg.Comment(er);this.addNode(eo),this.lastNode=eo},DomHandler.prototype.oncommentend=function(){this.lastNode=null},DomHandler.prototype.oncdatastart=function(){var er=new eg.Text(""),eo=new eg.CDATA([er]);this.addNode(eo),er.parent=eo,this.lastNode=er},DomHandler.prototype.oncdataend=function(){this.lastNode=null},DomHandler.prototype.onprocessinginstruction=function(er,eo){var ec=new eg.ProcessingInstruction(er,eo);this.addNode(ec)},DomHandler.prototype.handleCallback=function(er){if("function"==typeof this.callback)this.callback(er,this.dom);else if(er)throw er},DomHandler.prototype.addNode=function(er){var eo=this.tagStack[this.tagStack.length-1],ec=eo.children[eo.children.length-1];this.options.withStartIndices&&(er.startIndex=this.parser.startIndex),this.options.withEndIndices&&(er.endIndex=this.parser.endIndex),eo.children.push(er),ec&&(er.prev=ec,ec.next=er),er.parent=eo,this.lastNode=null},DomHandler}();eo.DomHandler=ey,eo.default=ey},97790:function(er,eo,ec){"use strict";var eh,ep=this&&this.__extends||(eh=function(er,eo){return(eh=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(er,eo){er.__proto__=eo}||function(er,eo){for(var ec in eo)Object.prototype.hasOwnProperty.call(eo,ec)&&(er[ec]=eo[ec])})(er,eo)},function(er,eo){if("function"!=typeof eo&&null!==eo)throw TypeError("Class extends value "+String(eo)+" is not a constructor or null");function __(){this.constructor=er}eh(er,eo),er.prototype=null===eo?Object.create(eo):(__.prototype=eo.prototype,new __)}),ef=this&&this.__assign||function(){return(ef=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};Object.defineProperty(eo,"__esModule",{value:!0}),eo.cloneNode=eo.hasChildren=eo.isDocument=eo.isDirective=eo.isComment=eo.isText=eo.isCDATA=eo.isTag=eo.Element=eo.Document=eo.CDATA=eo.NodeWithChildren=eo.ProcessingInstruction=eo.Comment=eo.Text=eo.DataNode=eo.Node=void 0;var eg=ec(99960),em=function(){function Node(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(Node.prototype,"parentNode",{get:function(){return this.parent},set:function(er){this.parent=er},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"previousSibling",{get:function(){return this.prev},set:function(er){this.prev=er},enumerable:!1,configurable:!0}),Object.defineProperty(Node.prototype,"nextSibling",{get:function(){return this.next},set:function(er){this.next=er},enumerable:!1,configurable:!0}),Node.prototype.cloneNode=function(er){return void 0===er&&(er=!1),cloneNode(this,er)},Node}();eo.Node=em;var ey=function(er){function DataNode(eo){var ec=er.call(this)||this;return ec.data=eo,ec}return ep(DataNode,er),Object.defineProperty(DataNode.prototype,"nodeValue",{get:function(){return this.data},set:function(er){this.data=er},enumerable:!1,configurable:!0}),DataNode}(em);eo.DataNode=ey;var ev=function(er){function Text(){var eo=null!==er&&er.apply(this,arguments)||this;return eo.type=eg.ElementType.Text,eo}return ep(Text,er),Object.defineProperty(Text.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),Text}(ey);eo.Text=ev;var e_=function(er){function Comment(){var eo=null!==er&&er.apply(this,arguments)||this;return eo.type=eg.ElementType.Comment,eo}return ep(Comment,er),Object.defineProperty(Comment.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),Comment}(ey);eo.Comment=e_;var ew=function(er){function ProcessingInstruction(eo,ec){var eh=er.call(this,ec)||this;return eh.name=eo,eh.type=eg.ElementType.Directive,eh}return ep(ProcessingInstruction,er),Object.defineProperty(ProcessingInstruction.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),ProcessingInstruction}(ey);eo.ProcessingInstruction=ew;var ex=function(er){function NodeWithChildren(eo){var ec=er.call(this)||this;return ec.children=eo,ec}return ep(NodeWithChildren,er),Object.defineProperty(NodeWithChildren.prototype,"firstChild",{get:function(){var er;return null!==(er=this.children[0])&&void 0!==er?er:null},enumerable:!1,configurable:!0}),Object.defineProperty(NodeWithChildren.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(NodeWithChildren.prototype,"childNodes",{get:function(){return this.children},set:function(er){this.children=er},enumerable:!1,configurable:!0}),NodeWithChildren}(em);eo.NodeWithChildren=ex;var ek=function(er){function CDATA(){var eo=null!==er&&er.apply(this,arguments)||this;return eo.type=eg.ElementType.CDATA,eo}return ep(CDATA,er),Object.defineProperty(CDATA.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),CDATA}(ex);eo.CDATA=ek;var eS=function(er){function Document(){var eo=null!==er&&er.apply(this,arguments)||this;return eo.type=eg.ElementType.Root,eo}return ep(Document,er),Object.defineProperty(Document.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),Document}(ex);eo.Document=eS;var eC=function(er){function Element(eo,ec,eh,ep){void 0===eh&&(eh=[]),void 0===ep&&(ep="script"===eo?eg.ElementType.Script:"style"===eo?eg.ElementType.Style:eg.ElementType.Tag);var ef=er.call(this,eh)||this;return ef.name=eo,ef.attribs=ec,ef.type=ep,ef}return ep(Element,er),Object.defineProperty(Element.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(Element.prototype,"tagName",{get:function(){return this.name},set:function(er){this.name=er},enumerable:!1,configurable:!0}),Object.defineProperty(Element.prototype,"attributes",{get:function(){var er=this;return Object.keys(this.attribs).map(function(eo){var ec,eh;return{name:eo,value:er.attribs[eo],namespace:null===(ec=er["x-attribsNamespace"])||void 0===ec?void 0:ec[eo],prefix:null===(eh=er["x-attribsPrefix"])||void 0===eh?void 0:eh[eo]}})},enumerable:!1,configurable:!0}),Element}(ex);function isTag(er){return(0,eg.isTag)(er)}function isCDATA(er){return er.type===eg.ElementType.CDATA}function isText(er){return er.type===eg.ElementType.Text}function isComment(er){return er.type===eg.ElementType.Comment}function isDirective(er){return er.type===eg.ElementType.Directive}function isDocument(er){return er.type===eg.ElementType.Root}function cloneNode(er,eo){if(void 0===eo&&(eo=!1),isText(er))ec=new ev(er.data);else if(isComment(er))ec=new e_(er.data);else if(isTag(er)){var ec,eh=eo?cloneChildren(er.children):[],ep=new eC(er.name,ef({},er.attribs),eh);eh.forEach(function(er){return er.parent=ep}),null!=er.namespace&&(ep.namespace=er.namespace),er["x-attribsNamespace"]&&(ep["x-attribsNamespace"]=ef({},er["x-attribsNamespace"])),er["x-attribsPrefix"]&&(ep["x-attribsPrefix"]=ef({},er["x-attribsPrefix"])),ec=ep}else if(isCDATA(er)){var eh=eo?cloneChildren(er.children):[],eg=new ek(eh);eh.forEach(function(er){return er.parent=eg}),ec=eg}else if(isDocument(er)){var eh=eo?cloneChildren(er.children):[],em=new eS(eh);eh.forEach(function(er){return er.parent=em}),er["x-mode"]&&(em["x-mode"]=er["x-mode"]),ec=em}else if(isDirective(er)){var ey=new ew(er.name,er.data);null!=er["x-name"]&&(ey["x-name"]=er["x-name"],ey["x-publicId"]=er["x-publicId"],ey["x-systemId"]=er["x-systemId"]),ec=ey}else throw Error("Not implemented yet: ".concat(er.type));return ec.startIndex=er.startIndex,ec.endIndex=er.endIndex,null!=er.sourceCodeLocation&&(ec.sourceCodeLocation=er.sourceCodeLocation),ec}function cloneChildren(er){for(var eo=er.map(function(er){return cloneNode(er,!0)}),ec=1;ec<eo.length;ec++)eo[ec].prev=eo[ec-1],eo[ec-1].next=eo[ec];return eo}eo.Element=eC,eo.isTag=isTag,eo.isCDATA=isCDATA,eo.isText=isText,eo.isComment=isComment,eo.isDirective=isDirective,eo.isDocument=isDocument,eo.hasChildren=function(er){return Object.prototype.hasOwnProperty.call(er,"children")},eo.cloneNode=cloneNode},8679:function(er,eo,ec){"use strict";var eh=ec(59864),ep={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ef={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},eg={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},em={};function getStatics(er){return eh.isMemo(er)?eg:em[er.$$typeof]||ep}em[eh.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},em[eh.Memo]=eg;var ey=Object.defineProperty,ev=Object.getOwnPropertyNames,e_=Object.getOwnPropertySymbols,ew=Object.getOwnPropertyDescriptor,ex=Object.getPrototypeOf,ek=Object.prototype;er.exports=function hoistNonReactStatics(er,eo,ec){if("string"!=typeof eo){if(ek){var eh=ex(eo);eh&&eh!==ek&&hoistNonReactStatics(er,eh,ec)}var ep=ev(eo);e_&&(ep=ep.concat(e_(eo)));for(var eg=getStatics(er),em=getStatics(eo),eS=0;eS<ep.length;++eS){var eC=ep[eS];if(!ef[eC]&&!(ec&&ec[eC])&&!(em&&em[eC])&&!(eg&&eg[eC])){var eI=ew(eo,eC);try{ey(er,eC,eI)}catch(er){}}}}return er}},60885:function(er,eo){eo.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"]},38276:function(er){var eo,ec="html",eh="head",ep="body",ef=/<([a-zA-Z]+[0-9]?)/,eg=/<head[^]*>/i,em=/<body[^]*>/i,parseFromDocument=function(){throw Error("This browser does not support `document.implementation.createHTMLDocument`")},parseFromString=function(){throw Error("This browser does not support `DOMParser.prototype.parseFromString`")},ey="object"==typeof window&&window.DOMParser;if("function"==typeof ey){var ev=new ey;parseFromDocument=parseFromString=function(er,eo){return eo&&(er="<"+eo+">"+er+"</"+eo+">"),ev.parseFromString(er,"text/html")}}if("object"==typeof document&&document.implementation){var e_=document.implementation.createHTMLDocument();parseFromDocument=function(er,eo){return eo?e_.documentElement.querySelector(eo).innerHTML=er:e_.documentElement.innerHTML=er,e_}}var ew="object"==typeof document?document.createElement("template"):{};ew.content&&(eo=function(er){return ew.innerHTML=er,ew.content.childNodes}),er.exports=function(er){var ey,ev,e_,ew,ex=er.match(ef);switch(ex&&ex[1]&&(ey=ex[1].toLowerCase()),ey){case ec:return ev=parseFromString(er),!eg.test(er)&&(e_=ev.querySelector(eh))&&e_.parentNode.removeChild(e_),!em.test(er)&&(e_=ev.querySelector(ep))&&e_.parentNode.removeChild(e_),ev.querySelectorAll(ec);case eh:case ep:if(ew=(ev=parseFromDocument(er)).querySelectorAll(ey),em.test(er)&&eg.test(er))return ew[0].parentNode.childNodes;return ew;default:if(eo)return eo(er);return(e_=parseFromDocument(er,ep).querySelector(ep)).childNodes}}},14152:function(er,eo,ec){var eh=ec(38276),ep=ec(1507).formatDOM,ef=/<(![a-zA-Z\s]+)>/;er.exports=function(er){if("string"!=typeof er)throw TypeError("First argument must be a string");if(""===er)return[];var eo,ec=er.match(ef);return ec&&ec[1]&&(eo=ec[1]),ep(eh(er),null,eo)}},1507:function(er,eo,ec){for(var eh,ep=ec(47915),ef=ec(60885).CASE_SENSITIVE_TAG_NAMES,eg=ep.Comment,em=ep.Element,ey=ep.ProcessingInstruction,ev=ep.Text,e_={},ew=0,ex=ef.length;ew<ex;ew++)e_[(eh=ef[ew]).toLowerCase()]=eh;function formatAttributes(er){for(var eo,ec={},eh=0,ep=er.length;eh<ep;eh++)ec[(eo=er[eh]).name]=eo.value;return ec}eo.formatAttributes=formatAttributes,eo.formatDOM=function formatDOM(er,eo,ec){eo=eo||null;for(var eh=[],ep=0,ef=er.length;ep<ef;ep++){var ew,ex,ek,eS=er[ep];switch(eS.nodeType){case 1:ex=e_[ew=(ew=eS.nodeName).toLowerCase()]||ew,(ek=new em(ex,formatAttributes(eS.attributes))).children=formatDOM("template"===ex?eS.content.childNodes:eS.childNodes,ek);break;case 3:ek=new ev(eS.nodeValue);break;case 8:ek=new eg(eS.nodeValue);break;default:continue}var eC=eh[ep-1]||null;eC&&(eC.next=ek),ek.parent=eo,ek.prev=eC,ek.next=null,eh.push(ek)}return ec&&((ek=new ey(ec.substring(0,ec.indexOf(" ")).toLowerCase(),ec)).next=eh[0]||null,ek.parent=eo,eh.unshift(ek),eh[1]&&(eh[1].prev=eh[0])),eh}},30488:function(er,eo,ec){var eh=ec(47915),ep=ec(14152),ef=ec(50484),eg=ec(53670);ep="function"==typeof ep.default?ep.default:ep;var em={lowerCaseAttributeNames:!1};function HTMLReactParser(er,eo){if("string"!=typeof er)throw TypeError("First argument must be a string");return""===er?[]:eg(ep(er,(eo=eo||{}).htmlparser2||em),eo)}HTMLReactParser.domToReact=eg,HTMLReactParser.htmlToDOM=ep,HTMLReactParser.attributesToProps=ef,HTMLReactParser.Comment=eh.Comment,HTMLReactParser.Element=eh.Element,HTMLReactParser.ProcessingInstruction=eh.ProcessingInstruction,HTMLReactParser.Text=eh.Text,er.exports=HTMLReactParser,HTMLReactParser.default=HTMLReactParser},50484:function(er,eo,ec){var eh=ec(25726),ep=ec(74606),ef=["checked","value"],eg=["input","select","textarea"],em={reset:!0,submit:!0};function getPropName(er){return eh.possibleStandardNames[er]}er.exports=function(er,eo){var ec,ey,ev,e_,ew,ex={},ek=(er=er||{}).type&&em[er.type];for(ec in er){if(ev=er[ec],eh.isCustomAttribute(ec)){ex[ec]=ev;continue}if(e_=getPropName(ey=ec.toLowerCase())){switch(ew=eh.getPropertyInfo(e_),-1===ef.indexOf(e_)||-1===eg.indexOf(eo)||ek||(e_=getPropName("default"+ey)),ex[e_]=ev,ew&&ew.type){case eh.BOOLEAN:ex[e_]=!0;break;case eh.OVERLOADED_BOOLEAN:""===ev&&(ex[e_]=!0)}continue}ep.PRESERVE_CUSTOM_ATTRIBUTES&&(ex[ec]=ev)}return ep.setStyleProp(er.style,ex),ex}},53670:function(er,eo,ec){var eh=ec(67294),ep=ec(50484),ef=ec(74606),eg=ef.setStyleProp,em=ef.canTextBeChildOfNode;er.exports=function domToReact(er,eo){for(var ec,ey,ev,e_,ew,ex=(eo=eo||{}).library||eh,ek=ex.cloneElement,eS=ex.createElement,eC=ex.isValidElement,eI=[],eE="function"==typeof eo.replace,eT=eo.transform||ef.returnFirstArg,eN=eo.trim,eA=0,eO=er.length;eA<eO;eA++){if(ec=er[eA],eE&&eC(ev=eo.replace(ec))){eO>1&&(ev=ek(ev,{key:ev.key||eA})),eI.push(eT(ev,ec,eA));continue}if("text"===ec.type){if((ey=!ec.data.trim().length)&&ec.parent&&!em(ec.parent)||eN&&ey)continue;eI.push(eT(ec.data,ec,eA));continue}switch(e_=ec.attribs,ef.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===ec.type&&ef.isCustomComponent(ec.name,ec.attribs)?eg(e_.style,e_):e_&&(e_=ep(e_,ec.name)),ew=null,ec.type){case"script":case"style":ec.children[0]&&(e_.dangerouslySetInnerHTML={__html:ec.children[0].data});break;case"tag":"textarea"===ec.name&&ec.children[0]?e_.defaultValue=ec.children[0].data:ec.children&&ec.children.length&&(ew=domToReact(ec.children,eo));break;default:continue}eO>1&&(e_.key=eA),eI.push(eT(eS(ec.name,e_,ew),ec,eA))}return 1===eI.length?eI[0]:eI}},74606:function(er,eo,ec){var eh=ec(67294),ep=ec(41476).default,ef={reactCompat:!0},eg=eh.version.split(".")[0]>=16,em=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);er.exports={PRESERVE_CUSTOM_ATTRIBUTES:eg,invertObject:function(er,eo){if(!er||"object"!=typeof er)throw TypeError("First argument must be an object");var ec,eh,ep="function"==typeof eo,ef={},eg={};for(ec in er){if(eh=er[ec],ep&&(ef=eo(ec,eh))&&2===ef.length){eg[ef[0]]=ef[1];continue}"string"==typeof eh&&(eg[eh]=ec)}return eg},isCustomComponent:function(er,eo){if(-1===er.indexOf("-"))return eo&&"string"==typeof eo.is;switch(er){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}},setStyleProp:function(er,eo){if(null!=er)try{eo.style=ep(er,ef)}catch(er){eo.style={}}},canTextBeChildOfNode:function(er){return!em.has(er.name)},elementsWithNoTextChildren:em,returnFirstArg:function(er){return er}}},18139:function(er){var eo=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ec=/\n/g,eh=/^\s*/,ep=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ef=/^:\s*/,eg=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,em=/^[;\s]*/,ey=/^\s+|\s+$/g;function trim(er){return er?er.replace(ey,""):""}er.exports=function(er,ey){if("string"!=typeof er)throw TypeError("First argument must be a string");if(!er)return[];ey=ey||{};var ev=1,e_=1;function updatePosition(er){var eo=er.match(ec);eo&&(ev+=eo.length);var eh=er.lastIndexOf("\n");e_=~eh?er.length-eh:e_+er.length}function position(){var er={line:ev,column:e_};return function(eo){return eo.position=new Position(er),match(eh),eo}}function Position(er){this.start=er,this.end={line:ev,column:e_},this.source=ey.source}Position.prototype.content=er;var ew=[];function error(eo){var ec=Error(ey.source+":"+ev+":"+e_+": "+eo);if(ec.reason=eo,ec.filename=ey.source,ec.line=ev,ec.column=e_,ec.source=er,ey.silent)ew.push(ec);else throw ec}function match(eo){var ec=eo.exec(er);if(ec){var eh=ec[0];return updatePosition(eh),er=er.slice(eh.length),ec}}function comments(er){var eo;for(er=er||[];eo=comment();)!1!==eo&&er.push(eo);return er}function comment(){var eo=position();if("/"==er.charAt(0)&&"*"==er.charAt(1)){for(var ec=2;""!=er.charAt(ec)&&("*"!=er.charAt(ec)||"/"!=er.charAt(ec+1));)++ec;if(ec+=2,""===er.charAt(ec-1))return error("End of comment missing");var eh=er.slice(2,ec-2);return e_+=2,updatePosition(eh),er=er.slice(ec),e_+=2,eo({type:"comment",comment:eh})}}return match(eh),function(){var er,ec=[];for(comments(ec);er=function(){var er=position(),ec=match(ep);if(ec){if(comment(),!match(ef))return error("property missing ':'");var eh=match(eg),ey=er({type:"declaration",property:trim(ec[0].replace(eo,"")),value:eh?trim(eh[0].replace(eo,"")):""});return match(em),ey}}();)!1!==er&&(ec.push(er),comments(ec));return ec}()}},83198:function(er,eo,ec){"use strict";let eh,ep,ef,eg,em,ey;function isShadowRoot(er){let eo=null==er?void 0:er.host;return(null==eo?void 0:eo.shadowRoot)===er}function isNativeShadowDom(er){return"[object ShadowRoot]"===Object.prototype.toString.call(er)}function stringifyStylesheet(er){try{var eo;let ec=er.rules||er.cssRules;return ec?((eo=Array.from(ec,stringifyRule).join("")).includes(" background-clip: text;")&&!eo.includes(" -webkit-background-clip: text;")&&(eo=eo.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),eo):null}catch(er){return null}}function stringifyRule(er){let eo;if("styleSheet"in er)try{eo=stringifyStylesheet(er.styleSheet)||function(er){let{cssText:eo}=er;if(eo.split('"').length<3)return eo;let ec=["@import",`url(${JSON.stringify(er.href)})`];return""===er.layerName?ec.push("layer"):er.layerName&&ec.push(`layer(${er.layerName})`),er.supportsText&&ec.push(`supports(${er.supportsText})`),er.media.length&&ec.push(er.media.mediaText),ec.join(" ")+";"}(er)}catch(er){}else if("selectorText"in er&&er.selectorText.includes(":"))return er.cssText.replace(/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm,"$1\\$2");return eo||er.cssText}ec.d(eo,{Z:function(){return nR}}),(e0=e2||(e2={}))[e0.Document=0]="Document",e0[e0.DocumentType=1]="DocumentType",e0[e0.Element=2]="Element",e0[e0.Text=3]="Text",e0[e0.CDATA=4]="CDATA",e0[e0.Comment=5]="Comment";let Mirror=class Mirror{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(er){var eo;if(!er)return -1;let ec=null===(eo=this.getMeta(er))||void 0===eo?void 0:eo.id;return null!=ec?ec:-1}getNode(er){return this.idNodeMap.get(er)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(er){return this.nodeMetaMap.get(er)||null}removeNodeFromMap(er){let eo=this.getId(er);this.idNodeMap.delete(eo),er.childNodes&&er.childNodes.forEach(er=>this.removeNodeFromMap(er))}has(er){return this.idNodeMap.has(er)}hasNode(er){return this.nodeMetaMap.has(er)}add(er,eo){let ec=eo.id;this.idNodeMap.set(ec,er),this.nodeMetaMap.set(er,eo)}replace(er,eo){let ec=this.getNode(er);if(ec){let er=this.nodeMetaMap.get(ec);er&&this.nodeMetaMap.set(eo,er)}this.idNodeMap.set(er,eo)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function maskInputValue({element:er,maskInputOptions:eo,tagName:ec,type:eh,value:ep,maskInputFn:ef}){let eg=ep||"",em=eh&&toLowerCase(eh);return(eo[ec.toLowerCase()]||em&&eo[em])&&(eg=ef?ef(eg,er):"*".repeat(eg.length)),eg}function toLowerCase(er){return er.toLowerCase()}let ev="__rrweb_original__";function getInputType(er){let eo=er.type;return er.hasAttribute("data-rr-is-password")?"password":eo?toLowerCase(eo):null}function extractFileExtension(er,eo){var ec;let eh;try{eh=new URL(er,null!=eo?eo:window.location.href)}catch(er){return null}let ep=eh.pathname.match(/\.([0-9a-z]+)(?:$)/i);return null!==(ec=null==ep?void 0:ep[1])&&void 0!==ec?ec:null}let e_=1,ew=RegExp("[^a-z0-9-_:]");function genId(){return e_++}let ex=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ek=/^(?:[a-z+]+:)?\/\//i,eS=/^www\..*/i,eC=/^(data:)([^,]*),(.*)/i;function absoluteToStylesheet(er,eo){return(er||"").replace(ex,(er,ec,eh,ep,ef,eg)=>{let em=eh||ef||eg,ey=ec||ep||"";if(!em)return er;if(ek.test(em)||eS.test(em)||eC.test(em))return`url(${ey}${em}${ey})`;if("/"===em[0])return`url(${ey}${(eo.indexOf("//")>-1?eo.split("/").slice(0,3).join("/"):eo.split("/")[0]).split("?")[0]+em}${ey})`;let ev=eo.split("/"),e_=em.split("/");for(let er of(ev.pop(),e_))"."!==er&&(".."===er?ev.pop():ev.push(er));return`url(${ey}${ev.join("/")}${ey})`})}let eI=/^[^ \t\n\r\u000c]+/,eE=/^[, \t\n\r\u000c]+/;function absoluteToDoc(er,eo){if(!eo||""===eo.trim())return eo;let ec=er.createElement("a");return ec.href=eo,ec.href}function getHref(){let er=document.createElement("a");return er.href="",er.href}function transformAttribute(er,eo,ec,eh){return eh?"src"!==ec&&("href"!==ec||"use"===eo&&"#"===eh[0])&&("xlink:href"!==ec||"#"===eh[0])&&("background"!==ec||"table"!==eo&&"td"!==eo&&"th"!==eo)?"srcset"===ec?function(er,eo){if(""===eo.trim())return eo;let ec=0;function collectCharacters(er){let eh;let ep=er.exec(eo.substring(ec));return ep?(eh=ep[0],ec+=eh.length,eh):""}let eh=[];for(;collectCharacters(eE),!(ec>=eo.length);){let ep=collectCharacters(eI);if(","===ep.slice(-1))ep=absoluteToDoc(er,ep.substring(0,ep.length-1)),eh.push(ep);else{let ef="";ep=absoluteToDoc(er,ep);let eg=!1;for(;;){let er=eo.charAt(ec);if(""===er){eh.push((ep+ef).trim());break}if(eg)")"===er&&(eg=!1);else{if(","===er){ec+=1,eh.push((ep+ef).trim());break}"("===er&&(eg=!0)}ef+=er,ec+=1}}}return eh.join(", ")}(er,eh):"style"===ec?absoluteToStylesheet(eh,getHref()):"object"===eo&&"data"===ec?absoluteToDoc(er,eh):eh:absoluteToDoc(er,eh):eh}function ignoreAttribute(er,eo,ec){return("video"===er||"audio"===er)&&"autoplay"===eo}function classMatchesRegex(er,eo,ec){if(!er)return!1;if(er.nodeType!==er.ELEMENT_NODE)return!!ec&&classMatchesRegex(er.parentNode,eo,ec);for(let ec=er.classList.length;ec--;){let eh=er.classList[ec];if(eo.test(eh))return!0}return!!ec&&classMatchesRegex(er.parentNode,eo,ec)}function needMaskingText(er,eo,ec,eh){try{let ep=er.nodeType===er.ELEMENT_NODE?er:er.parentElement;if(null===ep)return!1;if("string"==typeof eo){if(eh){if(ep.closest(`.${eo}`))return!0}else if(ep.classList.contains(eo))return!0}else if(classMatchesRegex(ep,eo,eh))return!0;if(ec){if(eh){if(ep.closest(ec))return!0}else if(ep.matches(ec))return!0}}catch(er){}return!1}function lowerIfExists(er){return null==er?"":er.toLowerCase()}function serializeNodeWithId(er,eo){let ec;let{doc:ef,mirror:eg,blockClass:em,blockSelector:ey,maskTextClass:e_,maskTextSelector:ex,skipChild:ek=!1,inlineStylesheet:eS=!0,maskInputOptions:eC={},maskTextFn:eI,maskInputFn:eE,slimDOMOptions:eT,dataURLOptions:eN={},inlineImages:eA=!1,recordCanvas:eO=!1,onSerialize:eP,onIframeLoad:eM,iframeLoadTimeout:eR=5e3,onStylesheetLoad:eD,stylesheetLoadTimeout:ej=5e3,keepIframeSrcFn:eL=()=>!1,newlyAddedElement:eU=!1}=eo,{needsMask:eF}=eo,{preserveWhiteSpace:eV=!0}=eo;if(!eF&&er.childNodes){let eo=void 0===eF;eF=needMaskingText(er,e_,ex,eo)}let eH=function(er,eo){let{doc:ec,mirror:ef,blockClass:eg,blockSelector:em,needsMask:ey,inlineStylesheet:e_,maskInputOptions:ex={},maskTextFn:ek,maskInputFn:eS,dataURLOptions:eC={},inlineImages:eI,recordCanvas:eE,keepIframeSrcFn:eT,newlyAddedElement:eN=!1}=eo,eA=function(er,eo){if(!eo.hasNode(er))return;let ec=eo.getId(er);return 1===ec?void 0:ec}(ec,ef);switch(er.nodeType){case er.DOCUMENT_NODE:if("CSS1Compat"!==er.compatMode)return{type:e2.Document,childNodes:[],compatMode:er.compatMode};return{type:e2.Document,childNodes:[]};case er.DOCUMENT_TYPE_NODE:return{type:e2.DocumentType,name:er.name,publicId:er.publicId,systemId:er.systemId,rootId:eA};case er.ELEMENT_NODE:return function(er,eo){let ec;let{doc:ef,blockClass:eg,blockSelector:em,inlineStylesheet:ey,maskInputOptions:e_={},maskInputFn:ex,dataURLOptions:ek={},inlineImages:eS,recordCanvas:eC,keepIframeSrcFn:eI,newlyAddedElement:eE=!1,rootId:eT}=eo,eN=function(er,eo,ec){try{if("string"==typeof eo){if(er.classList.contains(eo))return!0}else for(let ec=er.classList.length;ec--;){let eh=er.classList[ec];if(eo.test(eh))return!0}if(ec)return er.matches(ec)}catch(er){}return!1}(er,eg,em),eA=function(er){if(er instanceof HTMLFormElement)return"form";let eo=toLowerCase(er.tagName);return ew.test(eo)?"div":eo}(er),eO={},eP=er.attributes.length;for(let eo=0;eo<eP;eo++){let ec=er.attributes[eo];ignoreAttribute(eA,ec.name,ec.value)||(eO[ec.name]=transformAttribute(ef,eA,toLowerCase(ec.name),ec.value))}if("link"===eA&&ey){let eo=Array.from(ef.styleSheets).find(eo=>eo.href===er.href),ec=null;eo&&(ec=stringifyStylesheet(eo)),ec&&(delete eO.rel,delete eO.href,eO._cssText=absoluteToStylesheet(ec,eo.href))}if("style"===eA&&er.sheet&&!(er.innerText||er.textContent||"").trim().length){let eo=stringifyStylesheet(er.sheet);eo&&(eO._cssText=absoluteToStylesheet(eo,getHref()))}if("input"===eA||"textarea"===eA||"select"===eA){let eo=er.value,ec=er.checked;"radio"!==eO.type&&"checkbox"!==eO.type&&"submit"!==eO.type&&"button"!==eO.type&&eo?eO.value=maskInputValue({element:er,type:getInputType(er),tagName:eA,value:eo,maskInputOptions:e_,maskInputFn:ex}):ec&&(eO.checked=ec)}if("option"===eA&&(er.selected&&!e_.select?eO.selected=!0:delete eO.selected),"canvas"===eA&&eC){if("2d"===er.__context)!function(er){let eo=er.getContext("2d");if(!eo)return!0;for(let ec=0;ec<er.width;ec+=50)for(let eh=0;eh<er.height;eh+=50){let ep=eo.getImageData,ef=ev in ep?ep[ev]:ep,eg=new Uint32Array(ef.call(eo,ec,eh,Math.min(50,er.width-ec),Math.min(50,er.height-eh)).data.buffer);if(eg.some(er=>0!==er))return!1}return!0}(er)&&(eO.rr_dataURL=er.toDataURL(ek.type,ek.quality));else if(!("__context"in er)){let eo=er.toDataURL(ek.type,ek.quality),ec=document.createElement("canvas");ec.width=er.width,ec.height=er.height;let eh=ec.toDataURL(ek.type,ek.quality);eo!==eh&&(eO.rr_dataURL=eo)}}if("img"===eA&&eS){eh||(ep=(eh=ef.createElement("canvas")).getContext("2d"));let eo=er.crossOrigin;er.crossOrigin="anonymous";let recordInlineImage=()=>{er.removeEventListener("load",recordInlineImage);try{eh.width=er.naturalWidth,eh.height=er.naturalHeight,ep.drawImage(er,0,0),eO.rr_dataURL=eh.toDataURL(ek.type,ek.quality)}catch(eo){console.warn(`Cannot inline img src=${er.currentSrc}! Error: ${eo}`)}eo?eO.crossOrigin=eo:er.removeAttribute("crossorigin")};er.complete&&0!==er.naturalWidth?recordInlineImage():er.addEventListener("load",recordInlineImage)}if("audio"===eA||"video"===eA){let eo=eO;eo.rr_mediaState=er.paused?"paused":"played",eo.rr_mediaCurrentTime=er.currentTime,eo.rr_mediaPlaybackRate=er.playbackRate,eo.rr_mediaMuted=er.muted,eo.rr_mediaLoop=er.loop,eo.rr_mediaVolume=er.volume}if(!eE&&(er.scrollLeft&&(eO.rr_scrollLeft=er.scrollLeft),er.scrollTop&&(eO.rr_scrollTop=er.scrollTop)),eN){let{width:eo,height:ec}=er.getBoundingClientRect();eO={class:eO.class,rr_width:`${eo}px`,rr_height:`${ec}px`}}"iframe"!==eA||eI(eO.src)||(er.contentDocument||(eO.rr_src=eO.src),delete eO.src);try{customElements.get(eA)&&(ec=!0)}catch(er){}return{type:e2.Element,tagName:eA,attributes:eO,childNodes:[],isSVG:!!("svg"===er.tagName||er.ownerSVGElement)||void 0,needBlock:eN,rootId:eT,isCustom:ec}}(er,{doc:ec,blockClass:eg,blockSelector:em,inlineStylesheet:e_,maskInputOptions:ex,maskInputFn:eS,dataURLOptions:eC,inlineImages:eI,recordCanvas:eE,keepIframeSrcFn:eT,newlyAddedElement:eN,rootId:eA});case er.TEXT_NODE:return function(er,eo){var ec;let{needsMask:eh,maskTextFn:ep,rootId:ef}=eo,eg=er.parentNode&&er.parentNode.tagName,em=er.textContent,ey="STYLE"===eg||void 0,ev="SCRIPT"===eg||void 0;if(ey&&em){try{er.nextSibling||er.previousSibling||(null===(ec=er.parentNode.sheet)||void 0===ec?void 0:ec.cssRules)&&(em=stringifyStylesheet(er.parentNode.sheet))}catch(eo){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${eo}`,er)}em=absoluteToStylesheet(em,getHref())}return ev&&(em="SCRIPT_PLACEHOLDER"),!ey&&!ev&&em&&eh&&(em=ep?ep(em,er.parentElement):em.replace(/[\S]/g,"*")),{type:e2.Text,textContent:em||"",isStyle:ey,rootId:ef}}(er,{needsMask:ey,maskTextFn:ek,rootId:eA});case er.CDATA_SECTION_NODE:return{type:e2.CDATA,textContent:"",rootId:eA};case er.COMMENT_NODE:return{type:e2.Comment,textContent:er.textContent||"",rootId:eA};default:return!1}}(er,{doc:ef,mirror:eg,blockClass:em,blockSelector:ey,needsMask:eF,inlineStylesheet:eS,maskInputOptions:eC,maskTextFn:eI,maskInputFn:eE,dataURLOptions:eN,inlineImages:eA,recordCanvas:eO,keepIframeSrcFn:eL,newlyAddedElement:eU});if(!eH)return console.warn(er,"not serialized"),null;ec=eg.hasNode(er)?eg.getId(er):!function(er,eo){if(eo.comment&&er.type===e2.Comment)return!0;if(er.type===e2.Element){if(eo.script&&("script"===er.tagName||"link"===er.tagName&&("preload"===er.attributes.rel||"modulepreload"===er.attributes.rel)&&"script"===er.attributes.as||"link"===er.tagName&&"prefetch"===er.attributes.rel&&"string"==typeof er.attributes.href&&"js"===extractFileExtension(er.attributes.href))||eo.headFavicon&&("link"===er.tagName&&"shortcut icon"===er.attributes.rel||"meta"===er.tagName&&(lowerIfExists(er.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===lowerIfExists(er.attributes.name)||"icon"===lowerIfExists(er.attributes.rel)||"apple-touch-icon"===lowerIfExists(er.attributes.rel)||"shortcut icon"===lowerIfExists(er.attributes.rel))))return!0;if("meta"===er.tagName){if(eo.headMetaDescKeywords&&lowerIfExists(er.attributes.name).match(/^description|keywords$/)||eo.headMetaSocial&&(lowerIfExists(er.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(er.attributes.name).match(/^(og|twitter):/)||"pinterest"===lowerIfExists(er.attributes.name)))return!0;if(eo.headMetaRobots&&("robots"===lowerIfExists(er.attributes.name)||"googlebot"===lowerIfExists(er.attributes.name)||"bingbot"===lowerIfExists(er.attributes.name)))return!0;if(eo.headMetaHttpEquiv&&void 0!==er.attributes["http-equiv"])return!0;else if(eo.headMetaAuthorship&&("author"===lowerIfExists(er.attributes.name)||"generator"===lowerIfExists(er.attributes.name)||"framework"===lowerIfExists(er.attributes.name)||"publisher"===lowerIfExists(er.attributes.name)||"progid"===lowerIfExists(er.attributes.name)||lowerIfExists(er.attributes.property).match(/^article:/)||lowerIfExists(er.attributes.property).match(/^product:/)))return!0;else if(eo.headMetaVerification&&("google-site-verification"===lowerIfExists(er.attributes.name)||"yandex-verification"===lowerIfExists(er.attributes.name)||"csrf-token"===lowerIfExists(er.attributes.name)||"p:domain_verify"===lowerIfExists(er.attributes.name)||"verify-v1"===lowerIfExists(er.attributes.name)||"verification"===lowerIfExists(er.attributes.name)||"shopify-checkout-api-token"===lowerIfExists(er.attributes.name)))return!0}}return!1}(eH,eT)&&(eV||eH.type!==e2.Text||eH.isStyle||eH.textContent.replace(/^\s+|\s+$/gm,"").length)?genId():-2;let eB=Object.assign(eH,{id:ec});if(eg.add(er,eB),-2===ec)return null;eP&&eP(er);let eq=!ek;if(eB.type===e2.Element){eq=eq&&!eB.needBlock,delete eB.needBlock;let eo=er.shadowRoot;eo&&isNativeShadowDom(eo)&&(eB.isShadowHost=!0)}if((eB.type===e2.Document||eB.type===e2.Element)&&eq){eT.headWhitespace&&eB.type===e2.Element&&"head"===eB.tagName&&(eV=!1);let eo={doc:ef,mirror:eg,blockClass:em,blockSelector:ey,needsMask:eF,maskTextClass:e_,maskTextSelector:ex,skipChild:ek,inlineStylesheet:eS,maskInputOptions:eC,maskTextFn:eI,maskInputFn:eE,slimDOMOptions:eT,dataURLOptions:eN,inlineImages:eA,recordCanvas:eO,preserveWhiteSpace:eV,onSerialize:eP,onIframeLoad:eM,iframeLoadTimeout:eR,onStylesheetLoad:eD,stylesheetLoadTimeout:ej,keepIframeSrcFn:eL};if(eB.type===e2.Element&&"textarea"===eB.tagName&&void 0!==eB.attributes.value);else for(let ec of Array.from(er.childNodes)){let er=serializeNodeWithId(ec,eo);er&&eB.childNodes.push(er)}if(er.nodeType===er.ELEMENT_NODE&&er.shadowRoot)for(let ec of Array.from(er.shadowRoot.childNodes)){let eh=serializeNodeWithId(ec,eo);eh&&(isNativeShadowDom(er.shadowRoot)&&(eh.isShadow=!0),eB.childNodes.push(eh))}}return er.parentNode&&isShadowRoot(er.parentNode)&&isNativeShadowDom(er.parentNode)&&(eB.isShadow=!0),eB.type===e2.Element&&"iframe"===eB.tagName&&function(er,eo,ec){let eh;let ep=er.contentWindow;if(!ep)return;let ef=!1;try{eh=ep.document.readyState}catch(er){return}if("complete"!==eh){let eh=setTimeout(()=>{ef||(eo(),ef=!0)},ec);er.addEventListener("load",()=>{clearTimeout(eh),ef=!0,eo()});return}let eg="about:blank";if(ep.location.href!==eg||er.src===eg||""===er.src)return setTimeout(eo,0),er.addEventListener("load",eo);er.addEventListener("load",eo)}(er,()=>{let eo=er.contentDocument;if(eo&&eM){let ec=serializeNodeWithId(eo,{doc:eo,mirror:eg,blockClass:em,blockSelector:ey,needsMask:eF,maskTextClass:e_,maskTextSelector:ex,skipChild:!1,inlineStylesheet:eS,maskInputOptions:eC,maskTextFn:eI,maskInputFn:eE,slimDOMOptions:eT,dataURLOptions:eN,inlineImages:eA,recordCanvas:eO,preserveWhiteSpace:eV,onSerialize:eP,onIframeLoad:eM,iframeLoadTimeout:eR,onStylesheetLoad:eD,stylesheetLoadTimeout:ej,keepIframeSrcFn:eL});ec&&eM(er,ec)}},eR),eB.type===e2.Element&&"link"===eB.tagName&&"string"==typeof eB.attributes.rel&&("stylesheet"===eB.attributes.rel||"preload"===eB.attributes.rel&&"string"==typeof eB.attributes.href&&"css"===extractFileExtension(eB.attributes.href))&&function(er,eo,ec){let eh,ep=!1;try{eh=er.sheet}catch(er){return}if(eh)return;let ef=setTimeout(()=>{ep||(eo(),ep=!0)},ec);er.addEventListener("load",()=>{clearTimeout(ef),ep=!0,eo()})}(er,()=>{if(eD){let eo=serializeNodeWithId(er,{doc:ef,mirror:eg,blockClass:em,blockSelector:ey,needsMask:eF,maskTextClass:e_,maskTextSelector:ex,skipChild:!1,inlineStylesheet:eS,maskInputOptions:eC,maskTextFn:eI,maskInputFn:eE,slimDOMOptions:eT,dataURLOptions:eN,inlineImages:eA,recordCanvas:eO,preserveWhiteSpace:eV,onSerialize:eP,onIframeLoad:eM,iframeLoadTimeout:eR,onStylesheetLoad:eD,stylesheetLoadTimeout:ej,keepIframeSrcFn:eL});eo&&eD(er,eo)}},ej),eB}function on(er,eo,ec=document){let eh={capture:!0,passive:!0};return ec.addEventListener(er,eo,eh),()=>ec.removeEventListener(er,eo,eh)}let eT="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.",eN={map:{},getId:()=>(console.error(eT),-1),getNode:()=>(console.error(eT),null),removeNodeFromMap(){console.error(eT)},has:()=>(console.error(eT),!1),reset(){console.error(eT)}};function throttle(er,eo,ec={}){let eh=null,ep=0;return function(...ef){let eg=Date.now();ep||!1!==ec.leading||(ep=eg);let em=eo-(eg-ep),ey=this;em<=0||em>eo?(eh&&(clearTimeout(eh),eh=null),ep=eg,er.apply(ey,ef)):eh||!1===ec.trailing||(eh=setTimeout(()=>{ep=!1===ec.leading?0:Date.now(),eh=null,er.apply(ey,ef)},em))}}function hookSetter(er,eo,ec,eh,ep=window){let ef=ep.Object.getOwnPropertyDescriptor(er,eo);return ep.Object.defineProperty(er,eo,eh?ec:{set(er){setTimeout(()=>{ec.set.call(this,er)},0),ef&&ef.set&&ef.set.call(this,er)}}),()=>hookSetter(er,eo,ef||{},!0)}function patch(er,eo,ec){try{if(!(eo in er))return()=>{};let eh=er[eo],ep=ec(eh);return"function"==typeof ep&&(ep.prototype=ep.prototype||{},Object.defineProperties(ep,{__rrweb_original__:{enumerable:!1,value:eh}})),er[eo]=ep,()=>{er[eo]=eh}}catch(er){return()=>{}}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(eN=new Proxy(eN,{get:(er,eo,ec)=>("map"===eo&&console.error(eT),Reflect.get(er,eo,ec))}));let eA=Date.now;function getWindowScroll(er){var eo,ec,eh,ep,ef,eg;let em=er.document;return{left:em.scrollingElement?em.scrollingElement.scrollLeft:void 0!==er.pageXOffset?er.pageXOffset:(null==em?void 0:em.documentElement.scrollLeft)||(null===(ec=null===(eo=null==em?void 0:em.body)||void 0===eo?void 0:eo.parentElement)||void 0===ec?void 0:ec.scrollLeft)||(null===(eh=null==em?void 0:em.body)||void 0===eh?void 0:eh.scrollLeft)||0,top:em.scrollingElement?em.scrollingElement.scrollTop:void 0!==er.pageYOffset?er.pageYOffset:(null==em?void 0:em.documentElement.scrollTop)||(null===(ef=null===(ep=null==em?void 0:em.body)||void 0===ep?void 0:ep.parentElement)||void 0===ef?void 0:ef.scrollTop)||(null===(eg=null==em?void 0:em.body)||void 0===eg?void 0:eg.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode(er){if(!er)return null;let eo=er.nodeType===er.ELEMENT_NODE?er:er.parentElement;return eo}function isBlocked(er,eo,ec,eh){if(!er)return!1;let ep=closestElementOfNode(er);if(!ep)return!1;try{if("string"==typeof eo){if(ep.classList.contains(eo)||eh&&null!==ep.closest("."+eo))return!0}else if(classMatchesRegex(ep,eo,eh))return!0}catch(er){}return!!(ec&&(ep.matches(ec)||eh&&null!==ep.closest(ec)))}function isIgnored(er,eo){return -2===eo.getId(er)}function legacy_isTouchEvent(er){return!!er.changedTouches}function isSerializedIframe(er,eo){return!!("IFRAME"===er.nodeName&&eo.getMeta(er))}function isSerializedStylesheet(er,eo){return!!("LINK"===er.nodeName&&er.nodeType===er.ELEMENT_NODE&&er.getAttribute&&"stylesheet"===er.getAttribute("rel")&&eo.getMeta(er))}function hasShadowRoot(er){return!!(null==er?void 0:er.shadowRoot)}/[1-9][0-9]{12}/.test(Date.now().toString())||(eA=()=>new Date().getTime());let StyleSheetMirror=class StyleSheetMirror{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(er){var eo;return null!==(eo=this.styleIDMap.get(er))&&void 0!==eo?eo:-1}has(er){return this.styleIDMap.has(er)}add(er,eo){let ec;return this.has(er)?this.getId(er):(ec=void 0===eo?this.id++:eo,this.styleIDMap.set(er,ec),this.idStyleMap.set(ec,er),ec)}getStyle(er){return this.idStyleMap.get(er)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}};function getShadowHost(er){var eo,ec;let eh=null;return(null===(ec=null===(eo=er.getRootNode)||void 0===eo?void 0:eo.call(er))||void 0===ec?void 0:ec.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&er.getRootNode().host&&(eh=er.getRootNode().host),eh}function inDom(er){let eo=er.ownerDocument;return!!eo&&(eo.contains(er)||function(er){let eo=er.ownerDocument;if(!eo)return!1;let ec=function(er){let eo,ec=er;for(;eo=getShadowHost(ec);)ec=eo;return ec}(er);return eo.contains(ec)}(er))}var eO,eP,eM,eR,eD,ej,eL,eU,eF,eV,eH,eB,eq,ez,eW,e$,eG,eK,eZ,eJ,eQ,eX,eY,e0,e1,e2,e3,e6,e4,e5=((e1=e5||{})[e1.DomContentLoaded=0]="DomContentLoaded",e1[e1.Load=1]="Load",e1[e1.FullSnapshot=2]="FullSnapshot",e1[e1.IncrementalSnapshot=3]="IncrementalSnapshot",e1[e1.Meta=4]="Meta",e1[e1.Custom=5]="Custom",e1[e1.Plugin=6]="Plugin",e1),e9=((eO=e9||{})[eO.Mutation=0]="Mutation",eO[eO.MouseMove=1]="MouseMove",eO[eO.MouseInteraction=2]="MouseInteraction",eO[eO.Scroll=3]="Scroll",eO[eO.ViewportResize=4]="ViewportResize",eO[eO.Input=5]="Input",eO[eO.TouchMove=6]="TouchMove",eO[eO.MediaInteraction=7]="MediaInteraction",eO[eO.StyleSheetRule=8]="StyleSheetRule",eO[eO.CanvasMutation=9]="CanvasMutation",eO[eO.Font=10]="Font",eO[eO.Log=11]="Log",eO[eO.Drag=12]="Drag",eO[eO.StyleDeclaration=13]="StyleDeclaration",eO[eO.Selection=14]="Selection",eO[eO.AdoptedStyleSheet=15]="AdoptedStyleSheet",eO[eO.CustomElement=16]="CustomElement",eO),e7=((eP=e7||{})[eP.MouseUp=0]="MouseUp",eP[eP.MouseDown=1]="MouseDown",eP[eP.Click=2]="Click",eP[eP.ContextMenu=3]="ContextMenu",eP[eP.DblClick=4]="DblClick",eP[eP.Focus=5]="Focus",eP[eP.Blur=6]="Blur",eP[eP.TouchStart=7]="TouchStart",eP[eP.TouchMove_Departed=8]="TouchMove_Departed",eP[eP.TouchEnd=9]="TouchEnd",eP[eP.TouchCancel=10]="TouchCancel",eP),e8=((eM=e8||{})[eM.Mouse=0]="Mouse",eM[eM.Pen=1]="Pen",eM[eM.Touch=2]="Touch",eM),tr=((eR=tr||{})[eR["2D"]=0]="2D",eR[eR.WebGL=1]="WebGL",eR[eR.WebGL2=2]="WebGL2",eR);let DoubleLinkedList=class DoubleLinkedList{constructor(){this.length=0,this.head=null,this.tail=null}get(er){if(er>=this.length)throw Error("Position outside of list range");let eo=this.head;for(let ec=0;ec<er;ec++)eo=(null==eo?void 0:eo.next)||null;return eo}addNode(er){let eo={value:er,previous:null,next:null};if(er.__ln=eo,er.previousSibling&&"__ln"in er.previousSibling){let ec=er.previousSibling.__ln.next;eo.next=ec,eo.previous=er.previousSibling.__ln,er.previousSibling.__ln.next=eo,ec&&(ec.previous=eo)}else if(er.nextSibling&&"__ln"in er.nextSibling&&er.nextSibling.__ln.previous){let ec=er.nextSibling.__ln.previous;eo.previous=ec,eo.next=er.nextSibling.__ln,er.nextSibling.__ln.previous=eo,ec&&(ec.next=eo)}else this.head&&(this.head.previous=eo),eo.next=this.head,this.head=eo;null===eo.next&&(this.tail=eo),this.length++}removeNode(er){let eo=er.__ln;this.head&&(eo.previous?(eo.previous.next=eo.next,eo.next?eo.next.previous=eo.previous:this.tail=eo.previous):(this.head=eo.next,this.head?this.head.previous=null:this.tail=null),er.__ln&&delete er.__ln,this.length--)}};let moveKey=(er,eo)=>`${er}@${eo}`;let MutationBuffer=class MutationBuffer{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=er=>{er.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;let er=[],eo=new Set,ec=new DoubleLinkedList,getNextId=er=>{let eo=er,ec=-2;for(;-2===ec;)ec=(eo=eo&&eo.nextSibling)&&this.mirror.getId(eo);return ec},pushAdd=eh=>{if(!eh.parentNode||!inDom(eh)||"TEXTAREA"===eh.parentNode.tagName)return;let ep=isShadowRoot(eh.parentNode)?this.mirror.getId(getShadowHost(eh)):this.mirror.getId(eh.parentNode),ef=getNextId(eh);if(-1===ep||-1===ef)return ec.addNode(eh);let eg=serializeNodeWithId(eh,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskTextClass:this.maskTextClass,maskTextSelector:this.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:er=>{isSerializedIframe(er,this.mirror)&&this.iframeManager.addIframe(er),isSerializedStylesheet(er,this.mirror)&&this.stylesheetManager.trackLinkElement(er),hasShadowRoot(eh)&&this.shadowDomManager.addShadowRoot(eh.shadowRoot,this.doc)},onIframeLoad:(er,eo)=>{this.iframeManager.attachIframe(er,eo),this.shadowDomManager.observeAttachShadow(er)},onStylesheetLoad:(er,eo)=>{this.stylesheetManager.attachLinkElement(er,eo)}});eg&&(er.push({parentId:ep,nextId:ef,node:eg}),eo.add(eg.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(let er of this.movedSet)(!isParentRemoved(this.removes,er,this.mirror)||this.movedSet.has(er.parentNode))&&pushAdd(er);for(let er of this.addedSet)isAncestorInSet(this.droppedSet,er)||isParentRemoved(this.removes,er,this.mirror)?isAncestorInSet(this.movedSet,er)?pushAdd(er):this.droppedSet.add(er):pushAdd(er);let eh=null;for(;ec.length;){let er=null;if(eh){let eo=this.mirror.getId(eh.value.parentNode),ec=getNextId(eh.value);-1!==eo&&-1!==ec&&(er=eh)}if(!er){let eo=ec.tail;for(;eo;){let ec=eo;if(eo=eo.previous,ec){let eo=this.mirror.getId(ec.value.parentNode),eh=getNextId(ec.value);if(-1===eh)continue;if(-1!==eo){er=ec;break}{let eo=ec.value;if(eo.parentNode&&eo.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){let eh=eo.parentNode.host,ep=this.mirror.getId(eh);if(-1!==ep){er=ec;break}}}}}}if(!er){for(;ec.head;)ec.removeNode(ec.head.value);break}eh=er.previous,ec.removeNode(er.value),pushAdd(er.value)}let ep={texts:this.texts.map(er=>{let eo=er.node;return eo.parentNode&&"TEXTAREA"===eo.parentNode.tagName&&this.genTextAreaValueMutation(eo.parentNode),{id:this.mirror.getId(eo),value:er.value}}).filter(er=>!eo.has(er.id)).filter(er=>this.mirror.has(er.id)),attributes:this.attributes.map(er=>{let{attributes:eo}=er;if("string"==typeof eo.style){let ec=JSON.stringify(er.styleDiff),eh=JSON.stringify(er._unchangedStyles);ec.length<eo.style.length&&(ec+eh).split("var(").length===eo.style.split("var(").length&&(eo.style=er.styleDiff)}return{id:this.mirror.getId(er.node),attributes:eo}}).filter(er=>!eo.has(er.id)).filter(er=>this.mirror.has(er.id)),removes:this.removes,adds:er};(ep.texts.length||ep.attributes.length||ep.removes.length||ep.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(ep))},this.genTextAreaValueMutation=er=>{let eo=this.attributeMap.get(er);eo||(eo={node:er,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(eo),this.attributeMap.set(er,eo)),eo.attributes.value=Array.from(er.childNodes,er=>er.textContent||"").join("")},this.processMutation=er=>{if(!isIgnored(er.target,this.mirror))switch(er.type){case"characterData":{let eo=er.target.textContent;isBlocked(er.target,this.blockClass,this.blockSelector,!1)||eo===er.oldValue||this.texts.push({value:needMaskingText(er.target,this.maskTextClass,this.maskTextSelector,!0)&&eo?this.maskTextFn?this.maskTextFn(eo,closestElementOfNode(er.target)):eo.replace(/[\S]/g,"*"):eo,node:er.target});break}case"attributes":{let eo=er.target,ec=er.attributeName,eh=er.target.getAttribute(ec);if("value"===ec){let er=getInputType(eo);eh=maskInputValue({element:eo,maskInputOptions:this.maskInputOptions,tagName:eo.tagName,type:er,value:eh,maskInputFn:this.maskInputFn})}if(isBlocked(er.target,this.blockClass,this.blockSelector,!1)||eh===er.oldValue)return;let ep=this.attributeMap.get(er.target);if("IFRAME"===eo.tagName&&"src"===ec&&!this.keepIframeSrcFn(eh)){if(eo.contentDocument)return;ec="rr_src"}if(ep||(ep={node:er.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(ep),this.attributeMap.set(er.target,ep)),"type"===ec&&"INPUT"===eo.tagName&&"password"===(er.oldValue||"").toLowerCase()&&eo.setAttribute("data-rr-is-password","true"),!ignoreAttribute(eo.tagName,ec)&&(ep.attributes[ec]=transformAttribute(this.doc,toLowerCase(eo.tagName),toLowerCase(ec),eh),"style"===ec)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch(er){this.unattachedDoc=this.doc}let ec=this.unattachedDoc.createElement("span");for(let eh of(er.oldValue&&ec.setAttribute("style",er.oldValue),Array.from(eo.style))){let er=eo.style.getPropertyValue(eh),ef=eo.style.getPropertyPriority(eh);er!==ec.style.getPropertyValue(eh)||ef!==ec.style.getPropertyPriority(eh)?""===ef?ep.styleDiff[eh]=er:ep.styleDiff[eh]=[er,ef]:ep._unchangedStyles[eh]=[er,ef]}for(let er of Array.from(ec.style))""===eo.style.getPropertyValue(er)&&(ep.styleDiff[er]=!1)}break}case"childList":if(isBlocked(er.target,this.blockClass,this.blockSelector,!0))return;if("TEXTAREA"===er.target.tagName){this.genTextAreaValueMutation(er.target);return}er.addedNodes.forEach(eo=>this.genAdds(eo,er.target)),er.removedNodes.forEach(eo=>{let ec=this.mirror.getId(eo),eh=isShadowRoot(er.target)?this.mirror.getId(er.target.host):this.mirror.getId(er.target);isBlocked(er.target,this.blockClass,this.blockSelector,!1)||isIgnored(eo,this.mirror)||-1===this.mirror.getId(eo)||(this.addedSet.has(eo)?(deepDelete(this.addedSet,eo),this.droppedSet.add(eo)):this.addedSet.has(er.target)&&-1===ec||function isAncestorRemoved(er,eo){if(isShadowRoot(er))return!1;let ec=eo.getId(er);return!eo.has(ec)||(!er.parentNode||er.parentNode.nodeType!==er.DOCUMENT_NODE)&&(!er.parentNode||isAncestorRemoved(er.parentNode,eo))}(er.target,this.mirror)||(this.movedSet.has(eo)&&this.movedMap[moveKey(ec,eh)]?deepDelete(this.movedSet,eo):this.removes.push({parentId:eh,id:ec,isShadow:!!(isShadowRoot(er.target)&&isNativeShadowDom(er.target))||void 0})),this.mapRemoves.push(eo))})}},this.genAdds=(er,eo)=>{if(!this.processedNodeManager.inOtherBuffer(er,this)&&!(this.addedSet.has(er)||this.movedSet.has(er))){if(this.mirror.hasNode(er)){if(isIgnored(er,this.mirror))return;this.movedSet.add(er);let ec=null;eo&&this.mirror.hasNode(eo)&&(ec=this.mirror.getId(eo)),ec&&-1!==ec&&(this.movedMap[moveKey(this.mirror.getId(er),ec)]=!0)}else this.addedSet.add(er),this.droppedSet.delete(er);!isBlocked(er,this.blockClass,this.blockSelector,!1)&&(er.childNodes.forEach(er=>this.genAdds(er)),hasShadowRoot(er)&&er.shadowRoot.childNodes.forEach(eo=>{this.processedNodeManager.add(eo,this),this.genAdds(eo,er)}))}}}init(er){["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(eo=>{this[eo]=er[eo]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}};function deepDelete(er,eo){er.delete(eo),eo.childNodes.forEach(eo=>deepDelete(er,eo))}function isParentRemoved(er,eo,ec){return 0!==er.length&&function _isParentRemoved(er,eo,ec){let{parentNode:eh}=eo;if(!eh)return!1;let ep=ec.getId(eh);return!!er.some(er=>er.id===ep)||_isParentRemoved(er,eh,ec)}(er,eo,ec)}function isAncestorInSet(er,eo){return 0!==er.size&&function _isAncestorInSet(er,eo){let{parentNode:ec}=eo;return!!ec&&(!!er.has(ec)||_isAncestorInSet(er,ec))}(er,eo)}let callbackWrapper=er=>ef?(...eo)=>{try{return er(...eo)}catch(er){if(ef&&!0===ef(er))return;throw er}}:er,to=[];function getEventTarget(er){try{if("composedPath"in er){let eo=er.composedPath();if(eo.length)return eo[0]}else if("path"in er&&er.path.length)return er.path[0]}catch(er){}return er&&er.target}function initMutationObserver(er,eo){var ec,eh;let ep=new MutationBuffer;to.push(ep),ep.init(er);let ef=window.MutationObserver||window.__rrMutationObserver,eg=null===(eh=null===(ec=null==window?void 0:window.Zone)||void 0===ec?void 0:ec.__symbol__)||void 0===eh?void 0:eh.call(ec,"MutationObserver");eg&&window[eg]&&(ef=window[eg]);let em=new ef(callbackWrapper(ep.processMutations.bind(ep)));return em.observe(eo,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),em}function initScrollObserver({scrollCb:er,doc:eo,mirror:ec,blockClass:eh,blockSelector:ep,sampling:ef}){let eg=callbackWrapper(throttle(callbackWrapper(ef=>{let eg=getEventTarget(ef);if(!eg||isBlocked(eg,eh,ep,!0))return;let em=ec.getId(eg);if(eg===eo&&eo.defaultView){let ec=getWindowScroll(eo.defaultView);er({id:em,x:ec.left,y:ec.top})}else er({id:em,x:eg.scrollLeft,y:eg.scrollTop})}),ef.scroll||100));return on("scroll",eg,eo)}let ta=["INPUT","TEXTAREA","SELECT"],tc=new WeakMap;function getNestedCSSRulePositions(er){return function(er,eo){if(hasNestedCSSRule("CSSGroupingRule")&&er.parentRule instanceof CSSGroupingRule||hasNestedCSSRule("CSSMediaRule")&&er.parentRule instanceof CSSMediaRule||hasNestedCSSRule("CSSSupportsRule")&&er.parentRule instanceof CSSSupportsRule||hasNestedCSSRule("CSSConditionRule")&&er.parentRule instanceof CSSConditionRule){let ec=Array.from(er.parentRule.cssRules),eh=ec.indexOf(er);eo.unshift(eh)}else if(er.parentStyleSheet){let ec=Array.from(er.parentStyleSheet.cssRules),eh=ec.indexOf(er);eo.unshift(eh)}return eo}(er,[])}function getIdAndStyleId(er,eo,ec){let eh,ep;return er?(er.ownerNode?eh=eo.getId(er.ownerNode):ep=ec.getId(er),{styleId:ep,id:eh}):{}}function initAdoptedStyleSheetObserver({mirror:er,stylesheetManager:eo},ec){var eh,ep,ef;let eg=null;eg="#document"===ec.nodeName?er.getId(ec):er.getId(ec.host);let em="#document"===ec.nodeName?null===(eh=ec.defaultView)||void 0===eh?void 0:eh.Document:null===(ef=null===(ep=ec.ownerDocument)||void 0===ep?void 0:ep.defaultView)||void 0===ef?void 0:ef.ShadowRoot,ey=(null==em?void 0:em.prototype)?Object.getOwnPropertyDescriptor(null==em?void 0:em.prototype,"adoptedStyleSheets"):void 0;return null!==eg&&-1!==eg&&em&&ey?(Object.defineProperty(ec,"adoptedStyleSheets",{configurable:ey.configurable,enumerable:ey.enumerable,get(){var er;return null===(er=ey.get)||void 0===er?void 0:er.call(this)},set(er){var ec;let eh=null===(ec=ey.set)||void 0===ec?void 0:ec.call(this,er);if(null!==eg&&-1!==eg)try{eo.adoptStyleSheets(er,eg)}catch(er){}return eh}}),callbackWrapper(()=>{Object.defineProperty(ec,"adoptedStyleSheets",{configurable:ey.configurable,enumerable:ey.enumerable,get:ey.get,set:ey.set})})):()=>{}}function initObservers(er,eo={}){let ec;let eh=er.doc.defaultView;if(!eh)return()=>{};!function(er,eo){let{mutationCb:ec,mousemoveCb:eh,mouseInteractionCb:ep,scrollCb:ef,viewportResizeCb:eg,inputCb:em,mediaInteractionCb:ey,styleSheetRuleCb:ev,styleDeclarationCb:e_,canvasMutationCb:ew,fontCb:ex,selectionCb:ek,customElementCb:eS}=er;er.mutationCb=(...er)=>{eo.mutation&&eo.mutation(...er),ec(...er)},er.mousemoveCb=(...er)=>{eo.mousemove&&eo.mousemove(...er),eh(...er)},er.mouseInteractionCb=(...er)=>{eo.mouseInteraction&&eo.mouseInteraction(...er),ep(...er)},er.scrollCb=(...er)=>{eo.scroll&&eo.scroll(...er),ef(...er)},er.viewportResizeCb=(...er)=>{eo.viewportResize&&eo.viewportResize(...er),eg(...er)},er.inputCb=(...er)=>{eo.input&&eo.input(...er),em(...er)},er.mediaInteractionCb=(...er)=>{eo.mediaInteaction&&eo.mediaInteaction(...er),ey(...er)},er.styleSheetRuleCb=(...er)=>{eo.styleSheetRule&&eo.styleSheetRule(...er),ev(...er)},er.styleDeclarationCb=(...er)=>{eo.styleDeclaration&&eo.styleDeclaration(...er),e_(...er)},er.canvasMutationCb=(...er)=>{eo.canvasMutation&&eo.canvasMutation(...er),ew(...er)},er.fontCb=(...er)=>{eo.font&&eo.font(...er),ex(...er)},er.selectionCb=(...er)=>{eo.selection&&eo.selection(...er),ek(...er)},er.customElementCb=(...er)=>{eo.customElement&&eo.customElement(...er),eS(...er)}}(er,eo),er.recordDOM&&(ec=initMutationObserver(er,er.doc));let ep=function({mousemoveCb:er,sampling:eo,doc:ec,mirror:eh}){let ep;if(!1===eo.mousemove)return()=>{};let ef="number"==typeof eo.mousemove?eo.mousemove:50,eg="number"==typeof eo.mousemoveCallback?eo.mousemoveCallback:500,em=[],ey=throttle(callbackWrapper(eo=>{let ec=Date.now()-ep;er(em.map(er=>(er.timeOffset-=ec,er)),eo),em=[],ep=null}),eg),ev=callbackWrapper(throttle(callbackWrapper(er=>{let eo=getEventTarget(er),{clientX:ec,clientY:ef}=legacy_isTouchEvent(er)?er.changedTouches[0]:er;ep||(ep=eA()),em.push({x:ec,y:ef,id:eh.getId(eo),timeOffset:eA()-ep}),ey("undefined"!=typeof DragEvent&&er instanceof DragEvent?e9.Drag:er instanceof MouseEvent?e9.MouseMove:e9.TouchMove)}),ef,{trailing:!1})),e_=[on("mousemove",ev,ec),on("touchmove",ev,ec),on("drag",ev,ec)];return callbackWrapper(()=>{e_.forEach(er=>er())})}(er),ef=function({mouseInteractionCb:er,doc:eo,mirror:ec,blockClass:eh,blockSelector:ep,sampling:ef}){if(!1===ef.mouseInteraction)return()=>{};let eg=!0===ef.mouseInteraction||void 0===ef.mouseInteraction?{}:ef.mouseInteraction,em=[],ey=null,getHandler=eo=>ef=>{let eg=getEventTarget(ef);if(isBlocked(eg,eh,ep,!0))return;let em=null,ev=eo;if("pointerType"in ef){switch(ef.pointerType){case"mouse":em=e8.Mouse;break;case"touch":em=e8.Touch;break;case"pen":em=e8.Pen}em===e8.Touch?e7[eo]===e7.MouseDown?ev="TouchStart":e7[eo]===e7.MouseUp&&(ev="TouchEnd"):e8.Pen}else legacy_isTouchEvent(ef)&&(em=e8.Touch);null!==em?(ey=em,(ev.startsWith("Touch")&&em===e8.Touch||ev.startsWith("Mouse")&&em===e8.Mouse)&&(em=null)):e7[eo]===e7.Click&&(em=ey,ey=null);let e_=legacy_isTouchEvent(ef)?ef.changedTouches[0]:ef;if(!e_)return;let ew=ec.getId(eg),{clientX:ex,clientY:ek}=e_;callbackWrapper(er)(Object.assign({type:e7[ev],id:ew,x:ex,y:ek},null!==em&&{pointerType:em}))};return Object.keys(e7).filter(er=>Number.isNaN(Number(er))&&!er.endsWith("_Departed")&&!1!==eg[er]).forEach(er=>{let ec=toLowerCase(er),eh=getHandler(er);if(window.PointerEvent)switch(e7[er]){case e7.MouseDown:case e7.MouseUp:ec=ec.replace("mouse","pointer");break;case e7.TouchStart:case e7.TouchEnd:return}em.push(on(ec,eh,eo))}),callbackWrapper(()=>{em.forEach(er=>er())})}(er),eg=initScrollObserver(er),em=function({viewportResizeCb:er},{win:eo}){let ec=-1,eh=-1,ep=callbackWrapper(throttle(callbackWrapper(()=>{let eo=getWindowHeight(),ep=getWindowWidth();(ec!==eo||eh!==ep)&&(er({width:Number(ep),height:Number(eo)}),ec=eo,eh=ep)}),200));return on("resize",ep,eo)}(er,{win:eh}),ey=function({inputCb:er,doc:eo,mirror:ec,blockClass:eh,blockSelector:ep,ignoreClass:ef,ignoreSelector:eg,maskInputOptions:em,maskInputFn:ey,sampling:ev,userTriggeredOnInput:e_}){function eventHandler(er){let ec=getEventTarget(er),ev=er.isTrusted,ew=ec&&ec.tagName;if(ec&&"OPTION"===ew&&(ec=ec.parentElement),!ec||!ew||0>ta.indexOf(ew)||isBlocked(ec,eh,ep,!0)||ec.classList.contains(ef)||eg&&ec.matches(eg))return;let ex=ec.value,ek=!1,eS=getInputType(ec)||"";"radio"===eS||"checkbox"===eS?ek=ec.checked:(em[ew.toLowerCase()]||em[eS])&&(ex=maskInputValue({element:ec,maskInputOptions:em,tagName:ew,type:eS,value:ex,maskInputFn:ey})),cbWithDedup(ec,e_?{text:ex,isChecked:ek,userTriggered:ev}:{text:ex,isChecked:ek});let eC=ec.name;"radio"===eS&&eC&&ek&&eo.querySelectorAll(`input[type="radio"][name="${eC}"]`).forEach(er=>{if(er!==ec){let eo=er.value;cbWithDedup(er,e_?{text:eo,isChecked:!ek,userTriggered:!1}:{text:eo,isChecked:!ek})}})}function cbWithDedup(eo,eh){let ep=tc.get(eo);if(!ep||ep.text!==eh.text||ep.isChecked!==eh.isChecked){tc.set(eo,eh);let ep=ec.getId(eo);callbackWrapper(er)(Object.assign(Object.assign({},eh),{id:ep}))}}let ew="last"===ev.input?["change"]:["input","change"],ex=ew.map(er=>on(er,callbackWrapper(eventHandler),eo)),ek=eo.defaultView;if(!ek)return()=>{ex.forEach(er=>er())};let eS=ek.Object.getOwnPropertyDescriptor(ek.HTMLInputElement.prototype,"value"),eC=[[ek.HTMLInputElement.prototype,"value"],[ek.HTMLInputElement.prototype,"checked"],[ek.HTMLSelectElement.prototype,"value"],[ek.HTMLTextAreaElement.prototype,"value"],[ek.HTMLSelectElement.prototype,"selectedIndex"],[ek.HTMLOptionElement.prototype,"selected"]];return eS&&eS.set&&ex.push(...eC.map(er=>hookSetter(er[0],er[1],{set(){callbackWrapper(eventHandler)({target:this,isTrusted:!1})}},!1,ek))),callbackWrapper(()=>{ex.forEach(er=>er())})}(er),ev=function({mediaInteractionCb:er,blockClass:eo,blockSelector:ec,mirror:eh,sampling:ep,doc:ef}){let eg=callbackWrapper(ef=>throttle(callbackWrapper(ep=>{let eg=getEventTarget(ep);if(!eg||isBlocked(eg,eo,ec,!0))return;let{currentTime:em,volume:ey,muted:ev,playbackRate:e_,loop:ew}=eg;er({type:ef,id:eh.getId(eg),currentTime:em,volume:ey,muted:ev,playbackRate:e_,loop:ew})}),ep.media||500)),em=[on("play",eg(0),ef),on("pause",eg(1),ef),on("seeked",eg(2),ef),on("volumechange",eg(3),ef),on("ratechange",eg(4),ef)];return callbackWrapper(()=>{em.forEach(er=>er())})}(er),styleSheetObserver=()=>{},adoptedStyleSheetObserver=()=>{},styleDeclarationObserver=()=>{},fontObserver=()=>{};er.recordDOM&&(styleSheetObserver=function({styleSheetRuleCb:er,mirror:eo,stylesheetManager:ec},{win:eh}){let ep,ef;if(!eh.CSSStyleSheet||!eh.CSSStyleSheet.prototype)return()=>{};let eg=eh.CSSStyleSheet.prototype.insertRule;eh.CSSStyleSheet.prototype.insertRule=new Proxy(eg,{apply:callbackWrapper((eh,ep,ef)=>{let[eg,em]=ef,{id:ey,styleId:ev}=getIdAndStyleId(ep,eo,ec.styleMirror);return(ey&&-1!==ey||ev&&-1!==ev)&&er({id:ey,styleId:ev,adds:[{rule:eg,index:em}]}),eh.apply(ep,ef)})});let em=eh.CSSStyleSheet.prototype.deleteRule;eh.CSSStyleSheet.prototype.deleteRule=new Proxy(em,{apply:callbackWrapper((eh,ep,ef)=>{let[eg]=ef,{id:em,styleId:ey}=getIdAndStyleId(ep,eo,ec.styleMirror);return(em&&-1!==em||ey&&-1!==ey)&&er({id:em,styleId:ey,removes:[{index:eg}]}),eh.apply(ep,ef)})}),eh.CSSStyleSheet.prototype.replace&&(ep=eh.CSSStyleSheet.prototype.replace,eh.CSSStyleSheet.prototype.replace=new Proxy(ep,{apply:callbackWrapper((eh,ep,ef)=>{let[eg]=ef,{id:em,styleId:ey}=getIdAndStyleId(ep,eo,ec.styleMirror);return(em&&-1!==em||ey&&-1!==ey)&&er({id:em,styleId:ey,replace:eg}),eh.apply(ep,ef)})})),eh.CSSStyleSheet.prototype.replaceSync&&(ef=eh.CSSStyleSheet.prototype.replaceSync,eh.CSSStyleSheet.prototype.replaceSync=new Proxy(ef,{apply:callbackWrapper((eh,ep,ef)=>{let[eg]=ef,{id:em,styleId:ey}=getIdAndStyleId(ep,eo,ec.styleMirror);return(em&&-1!==em||ey&&-1!==ey)&&er({id:em,styleId:ey,replaceSync:eg}),eh.apply(ep,ef)})}));let ey={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?ey.CSSGroupingRule=eh.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(ey.CSSMediaRule=eh.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(ey.CSSConditionRule=eh.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(ey.CSSSupportsRule=eh.CSSSupportsRule));let ev={};return Object.entries(ey).forEach(([eh,ep])=>{ev[eh]={insertRule:ep.prototype.insertRule,deleteRule:ep.prototype.deleteRule},ep.prototype.insertRule=new Proxy(ev[eh].insertRule,{apply:callbackWrapper((eh,ep,ef)=>{let[eg,em]=ef,{id:ey,styleId:ev}=getIdAndStyleId(ep.parentStyleSheet,eo,ec.styleMirror);return(ey&&-1!==ey||ev&&-1!==ev)&&er({id:ey,styleId:ev,adds:[{rule:eg,index:[...getNestedCSSRulePositions(ep),em||0]}]}),eh.apply(ep,ef)})}),ep.prototype.deleteRule=new Proxy(ev[eh].deleteRule,{apply:callbackWrapper((eh,ep,ef)=>{let[eg]=ef,{id:em,styleId:ey}=getIdAndStyleId(ep.parentStyleSheet,eo,ec.styleMirror);return(em&&-1!==em||ey&&-1!==ey)&&er({id:em,styleId:ey,removes:[{index:[...getNestedCSSRulePositions(ep),eg]}]}),eh.apply(ep,ef)})})}),callbackWrapper(()=>{eh.CSSStyleSheet.prototype.insertRule=eg,eh.CSSStyleSheet.prototype.deleteRule=em,ep&&(eh.CSSStyleSheet.prototype.replace=ep),ef&&(eh.CSSStyleSheet.prototype.replaceSync=ef),Object.entries(ey).forEach(([er,eo])=>{eo.prototype.insertRule=ev[er].insertRule,eo.prototype.deleteRule=ev[er].deleteRule})})}(er,{win:eh}),adoptedStyleSheetObserver=initAdoptedStyleSheetObserver(er,er.doc),styleDeclarationObserver=function({styleDeclarationCb:er,mirror:eo,ignoreCSSAttributes:ec,stylesheetManager:eh},{win:ep}){let ef=ep.CSSStyleDeclaration.prototype.setProperty;ep.CSSStyleDeclaration.prototype.setProperty=new Proxy(ef,{apply:callbackWrapper((ep,eg,em)=>{var ey;let[ev,e_,ew]=em;if(ec.has(ev))return ef.apply(eg,[ev,e_,ew]);let{id:ex,styleId:ek}=getIdAndStyleId(null===(ey=eg.parentRule)||void 0===ey?void 0:ey.parentStyleSheet,eo,eh.styleMirror);return(ex&&-1!==ex||ek&&-1!==ek)&&er({id:ex,styleId:ek,set:{property:ev,value:e_,priority:ew},index:getNestedCSSRulePositions(eg.parentRule)}),ep.apply(eg,em)})});let eg=ep.CSSStyleDeclaration.prototype.removeProperty;return ep.CSSStyleDeclaration.prototype.removeProperty=new Proxy(eg,{apply:callbackWrapper((ep,ef,em)=>{var ey;let[ev]=em;if(ec.has(ev))return eg.apply(ef,[ev]);let{id:e_,styleId:ew}=getIdAndStyleId(null===(ey=ef.parentRule)||void 0===ey?void 0:ey.parentStyleSheet,eo,eh.styleMirror);return(e_&&-1!==e_||ew&&-1!==ew)&&er({id:e_,styleId:ew,remove:{property:ev},index:getNestedCSSRulePositions(ef.parentRule)}),ep.apply(ef,em)})}),callbackWrapper(()=>{ep.CSSStyleDeclaration.prototype.setProperty=ef,ep.CSSStyleDeclaration.prototype.removeProperty=eg})}(er,{win:eh}),er.collectFonts&&(fontObserver=function({fontCb:er,doc:eo}){let ec=eo.defaultView;if(!ec)return()=>{};let eh=[],ep=new WeakMap,ef=ec.FontFace;ec.FontFace=function(er,eo,ec){let eh=new ef(er,eo,ec);return ep.set(eh,{family:er,buffer:"string"!=typeof eo,descriptors:ec,fontSource:"string"==typeof eo?eo:JSON.stringify(Array.from(new Uint8Array(eo)))}),eh};let eg=patch(eo.fonts,"add",function(eo){return function(ec){return setTimeout(callbackWrapper(()=>{let eo=ep.get(ec);eo&&(er(eo),ep.delete(ec))}),0),eo.apply(this,[ec])}});return eh.push(()=>{ec.FontFace=ef}),eh.push(eg),callbackWrapper(()=>{eh.forEach(er=>er())})}(er)));let e_=function(er){let{doc:eo,mirror:ec,blockClass:eh,blockSelector:ep,selectionCb:ef}=er,eg=!0,em=callbackWrapper(()=>{let er=eo.getSelection();if(!er||eg&&(null==er?void 0:er.isCollapsed))return;eg=er.isCollapsed||!1;let em=[],ey=er.rangeCount||0;for(let eo=0;eo<ey;eo++){let ef=er.getRangeAt(eo),{startContainer:eg,startOffset:ey,endContainer:ev,endOffset:e_}=ef,ew=isBlocked(eg,eh,ep,!0)||isBlocked(ev,eh,ep,!0);ew||em.push({start:ec.getId(eg),startOffset:ey,end:ec.getId(ev),endOffset:e_})}ef({ranges:em})});return em(),on("selectionchange",em)}(er),ew=function({doc:er,customElementCb:eo}){let ec=er.defaultView;if(!ec||!ec.customElements)return()=>{};let eh=patch(ec.customElements,"define",function(er){return function(ec,eh,ep){try{eo({define:{name:ec}})}catch(er){console.warn(`Custom element callback failed for ${ec}`)}return er.apply(this,[ec,eh,ep])}});return eh}(er),ex=[];for(let eo of er.plugins)ex.push(eo.observer(eo.callback,eh,eo.options));return callbackWrapper(()=>{to.forEach(er=>er.reset()),null==ec||ec.disconnect(),ep(),ef(),eg(),em(),ey(),ev(),styleSheetObserver(),adoptedStyleSheetObserver(),styleDeclarationObserver(),fontObserver(),e_(),ew(),ex.forEach(er=>er())})}function hasNestedCSSRule(er){return void 0!==window[er]}function canMonkeyPatchNestedCSSRule(er){return!!(void 0!==window[er]&&window[er].prototype&&"insertRule"in window[er].prototype&&"deleteRule"in window[er].prototype)}let CrossOriginIframeMirror=class CrossOriginIframeMirror{constructor(er){this.generateIdFn=er,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(er,eo,ec,eh){let ep=ec||this.getIdToRemoteIdMap(er),ef=eh||this.getRemoteIdToIdMap(er),eg=ep.get(eo);return eg||(eg=this.generateIdFn(),ep.set(eo,eg),ef.set(eg,eo)),eg}getIds(er,eo){let ec=this.getIdToRemoteIdMap(er),eh=this.getRemoteIdToIdMap(er);return eo.map(eo=>this.getId(er,eo,ec,eh))}getRemoteId(er,eo,ec){let eh=ec||this.getRemoteIdToIdMap(er);if("number"!=typeof eo)return eo;let ep=eh.get(eo);return ep||-1}getRemoteIds(er,eo){let ec=this.getRemoteIdToIdMap(er);return eo.map(eo=>this.getRemoteId(er,eo,ec))}reset(er){if(!er){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(er),this.iframeRemoteIdToIdMap.delete(er)}getIdToRemoteIdMap(er){let eo=this.iframeIdToRemoteIdMap.get(er);return eo||(eo=new Map,this.iframeIdToRemoteIdMap.set(er,eo)),eo}getRemoteIdToIdMap(er){let eo=this.iframeRemoteIdToIdMap.get(er);return eo||(eo=new Map,this.iframeRemoteIdToIdMap.set(er,eo)),eo}};let IframeManager=class IframeManager{constructor(er){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new CrossOriginIframeMirror(genId),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=er.mutationCb,this.wrappedEmit=er.wrappedEmit,this.stylesheetManager=er.stylesheetManager,this.recordCrossOriginIframes=er.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=er.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(er){this.iframes.set(er,!0),er.contentWindow&&this.crossOriginIframeMap.set(er.contentWindow,er)}addLoadListener(er){this.loadListener=er}attachIframe(er,eo){var ec;this.mutationCb({adds:[{parentId:this.mirror.getId(er),nextId:null,node:eo}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(ec=this.loadListener)||void 0===ec||ec.call(this,er),er.contentDocument&&er.contentDocument.adoptedStyleSheets&&er.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(er.contentDocument.adoptedStyleSheets,this.mirror.getId(er.contentDocument))}handleMessage(er){if("rrweb"!==er.data.type||er.origin!==er.data.origin)return;let eo=er.source;if(!eo)return;let ec=this.crossOriginIframeMap.get(er.source);if(!ec)return;let eh=this.transformCrossOriginEvent(ec,er.data.event);eh&&this.wrappedEmit(eh,er.data.isCheckout)}transformCrossOriginEvent(er,eo){var ec;switch(eo.type){case e5.FullSnapshot:{this.crossOriginIframeMirror.reset(er),this.crossOriginIframeStyleMirror.reset(er),this.replaceIdOnNode(eo.data.node,er);let ec=eo.data.node.id;return this.crossOriginIframeRootIdMap.set(er,ec),this.patchRootIdOnNode(eo.data.node,ec),{timestamp:eo.timestamp,type:e5.IncrementalSnapshot,data:{source:e9.Mutation,adds:[{parentId:this.mirror.getId(er),nextId:null,node:eo.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case e5.Meta:case e5.Load:case e5.DomContentLoaded:break;case e5.Plugin:return eo;case e5.Custom:return this.replaceIds(eo.data.payload,er,["id","parentId","previousId","nextId"]),eo;case e5.IncrementalSnapshot:switch(eo.data.source){case e9.Mutation:return eo.data.adds.forEach(eo=>{this.replaceIds(eo,er,["parentId","nextId","previousId"]),this.replaceIdOnNode(eo.node,er);let ec=this.crossOriginIframeRootIdMap.get(er);ec&&this.patchRootIdOnNode(eo.node,ec)}),eo.data.removes.forEach(eo=>{this.replaceIds(eo,er,["parentId","id"])}),eo.data.attributes.forEach(eo=>{this.replaceIds(eo,er,["id"])}),eo.data.texts.forEach(eo=>{this.replaceIds(eo,er,["id"])}),eo;case e9.Drag:case e9.TouchMove:case e9.MouseMove:return eo.data.positions.forEach(eo=>{this.replaceIds(eo,er,["id"])}),eo;case e9.ViewportResize:return!1;case e9.MediaInteraction:case e9.MouseInteraction:case e9.Scroll:case e9.CanvasMutation:case e9.Input:return this.replaceIds(eo.data,er,["id"]),eo;case e9.StyleSheetRule:case e9.StyleDeclaration:return this.replaceIds(eo.data,er,["id"]),this.replaceStyleIds(eo.data,er,["styleId"]),eo;case e9.Font:return eo;case e9.Selection:return eo.data.ranges.forEach(eo=>{this.replaceIds(eo,er,["start","end"])}),eo;case e9.AdoptedStyleSheet:return this.replaceIds(eo.data,er,["id"]),this.replaceStyleIds(eo.data,er,["styleIds"]),null===(ec=eo.data.styles)||void 0===ec||ec.forEach(eo=>{this.replaceStyleIds(eo,er,["styleId"])}),eo}}return!1}replace(er,eo,ec,eh){for(let ep of eh)(Array.isArray(eo[ep])||"number"==typeof eo[ep])&&(Array.isArray(eo[ep])?eo[ep]=er.getIds(ec,eo[ep]):eo[ep]=er.getId(ec,eo[ep]));return eo}replaceIds(er,eo,ec){return this.replace(this.crossOriginIframeMirror,er,eo,ec)}replaceStyleIds(er,eo,ec){return this.replace(this.crossOriginIframeStyleMirror,er,eo,ec)}replaceIdOnNode(er,eo){this.replaceIds(er,eo,["id","rootId"]),"childNodes"in er&&er.childNodes.forEach(er=>{this.replaceIdOnNode(er,eo)})}patchRootIdOnNode(er,eo){er.type===e2.Document||er.rootId||(er.rootId=eo),"childNodes"in er&&er.childNodes.forEach(er=>{this.patchRootIdOnNode(er,eo)})}};let ShadowDomManager=class ShadowDomManager{constructor(er){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=er.mutationCb,this.scrollCb=er.scrollCb,this.bypassOptions=er.bypassOptions,this.mirror=er.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(er,eo){if(!isNativeShadowDom(er)||this.shadowDoms.has(er))return;this.shadowDoms.add(er);let ec=initMutationObserver(Object.assign(Object.assign({},this.bypassOptions),{doc:eo,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),er);this.restoreHandlers.push(()=>ec.disconnect()),this.restoreHandlers.push(initScrollObserver(Object.assign(Object.assign({},this.bypassOptions),{scrollCb:this.scrollCb,doc:er,mirror:this.mirror}))),setTimeout(()=>{er.adoptedStyleSheets&&er.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(er.adoptedStyleSheets,this.mirror.getId(er.host)),this.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},er))},0)}observeAttachShadow(er){er.contentWindow&&er.contentDocument&&this.patchAttachShadow(er.contentWindow.Element,er.contentDocument)}patchAttachShadow(er,eo){let ec=this;this.restoreHandlers.push(patch(er.prototype,"attachShadow",function(er){return function(eh){let ep=er.call(this,eh);return this.shadowRoot&&inDom(this)&&ec.addShadowRoot(this.shadowRoot,eo),ep}}))}reset(){this.restoreHandlers.forEach(er=>{try{er()}catch(er){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}};for(var td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tp="undefined"==typeof Uint8Array?[]:new Uint8Array(256),tf=0;tf<td.length;tf++)tp[td.charCodeAt(tf)]=tf;var encode=function(er){var eo,ec=new Uint8Array(er),eh=ec.length,ep="";for(eo=0;eo<eh;eo+=3)ep+=td[ec[eo]>>2]+td[(3&ec[eo])<<4|ec[eo+1]>>4]+td[(15&ec[eo+1])<<2|ec[eo+2]>>6]+td[63&ec[eo+2]];return eh%3==2?ep=ep.substring(0,ep.length-1)+"=":eh%3==1&&(ep=ep.substring(0,ep.length-2)+"=="),ep};let tg=new Map,saveWebGLVar=(er,eo,ec)=>{let eh;if(!er||!(isInstanceOfWebGLObject(er,eo)||"object"==typeof er))return;let ep=er.constructor.name,ef=((eh=tg.get(ec))||(eh=new Map,tg.set(ec,eh)),eh.has(ep)||eh.set(ep,[]),eh.get(ep)),eg=ef.indexOf(er);return -1===eg&&(eg=ef.length,ef.push(er)),eg},serializeArgs=(er,eo,ec)=>er.map(er=>(function serializeArg(er,eo,ec){if(er instanceof Array)return er.map(er=>serializeArg(er,eo,ec));if(null===er);else if(er instanceof Float32Array||er instanceof Float64Array||er instanceof Int32Array||er instanceof Uint32Array||er instanceof Uint8Array||er instanceof Uint16Array||er instanceof Int16Array||er instanceof Int8Array||er instanceof Uint8ClampedArray){let eo=er.constructor.name;return{rr_type:eo,args:[Object.values(er)]}}else if(er instanceof ArrayBuffer){let eo=er.constructor.name,ec=encode(er);return{rr_type:eo,base64:ec}}else if(er instanceof DataView){let eh=er.constructor.name;return{rr_type:eh,args:[serializeArg(er.buffer,eo,ec),er.byteOffset,er.byteLength]}}else if(er instanceof HTMLImageElement){let eo=er.constructor.name,{src:ec}=er;return{rr_type:eo,src:ec}}else if(er instanceof HTMLCanvasElement){let eo=er.toDataURL();return{rr_type:"HTMLImageElement",src:eo}}else if(er instanceof ImageData){let eh=er.constructor.name;return{rr_type:eh,args:[serializeArg(er.data,eo,ec),er.width,er.height]}}else if(isInstanceOfWebGLObject(er,eo)||"object"==typeof er){let eh=er.constructor.name,ep=saveWebGLVar(er,eo,ec);return{rr_type:eh,index:ep}}return er})(er,eo,ec)),isInstanceOfWebGLObject=(er,eo)=>{let ec=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(er=>"function"==typeof eo[er]);return!!ec.find(ec=>er instanceof eo[ec])};function initCanvasContextObserver(er,eo,ec,eh){let ep=[];try{let ef=patch(er.HTMLCanvasElement.prototype,"getContext",function(er){return function(ep,...ef){if(!isBlocked(this,eo,ec,!0)){let er="experimental-webgl"===ep?"webgl":ep;if("__context"in this||(this.__context=er),eh&&["webgl","webgl2"].includes(er)){if(ef[0]&&"object"==typeof ef[0]){let er=ef[0];er.preserveDrawingBuffer||(er.preserveDrawingBuffer=!0)}else ef.splice(0,1,{preserveDrawingBuffer:!0})}}return er.apply(this,[ep,...ef])}});ep.push(ef)}catch(er){console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{ep.forEach(er=>er())}}function patchGLPrototype(er,eo,ec,eh,ep,ef,eg){let em=[],ey=Object.getOwnPropertyNames(er);for(let ef of ey)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(ef))try{if("function"!=typeof er[ef])continue;let ey=patch(er,ef,function(er){return function(...em){let ey=er.apply(this,em);if(saveWebGLVar(ey,eg,this),"tagName"in this.canvas&&!isBlocked(this.canvas,eh,ep,!0)){let er=serializeArgs(em,eg,this),eh={type:eo,property:ef,args:er};ec(this.canvas,eh)}return ey}});em.push(ey)}catch(ep){let eh=hookSetter(er,ef,{set(er){ec(this.canvas,{type:eo,property:ef,args:[er],setter:!0})}});em.push(eh)}return em}var tm=(eD=function(){!function(){/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function __awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}for(var er="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eo="undefined"==typeof Uint8Array?[]:new Uint8Array(256),ec=0;ec<er.length;ec++)eo[er.charCodeAt(ec)]=ec;var encode=function(eo){var ec,eh=new Uint8Array(eo),ep=eh.length,ef="";for(ec=0;ec<ep;ec+=3)ef+=er[eh[ec]>>2]+er[(3&eh[ec])<<4|eh[ec+1]>>4]+er[(15&eh[ec+1])<<2|eh[ec+2]>>6]+er[63&eh[ec+2]];return ep%3==2?ef=ef.substring(0,ef.length-1)+"=":ep%3==1&&(ef=ef.substring(0,ef.length-2)+"=="),ef};let eh=new Map,ep=new Map,ef=self;ef.onmessage=function(er){return __awaiter(this,void 0,void 0,function*(){if(!("OffscreenCanvas"in globalThis))return ef.postMessage({id:er.data.id});{let{id:eo,bitmap:ec,width:eg,height:em,dataURLOptions:ey}=er.data,ev=function(er,eo,ec){return __awaiter(this,void 0,void 0,function*(){let eh=`${er}-${eo}`;if(!("OffscreenCanvas"in globalThis))return"";{if(ep.has(eh))return ep.get(eh);let ef=new OffscreenCanvas(er,eo);ef.getContext("2d");let eg=yield ef.convertToBlob(ec),em=yield eg.arrayBuffer(),ey=encode(em);return ep.set(eh,ey),ey}})}(eg,em,ey),e_=new OffscreenCanvas(eg,em),ew=e_.getContext("2d");ew.drawImage(ec,0,0),ec.close();let ex=yield e_.convertToBlob(ey),ek=ex.type,eS=yield ex.arrayBuffer(),eC=encode(eS);if(!eh.has(eo)&&(yield ev)===eC)return eh.set(eo,eC),ef.postMessage({id:eo});if(eh.get(eo)===eC)return ef.postMessage({id:eo});ef.postMessage({id:eo,type:ek,base64:eC,width:eg,height:em}),eh.set(eo,eC)}})}}()},function(er){var eo,ec;return ej=ej||(eo=function(er,eo){var ec=void 0===eo?null:eo,eh=er.toString().split("\n");eh.pop(),eh.shift();for(var ep=eh[0].search(/\S/),ef=/(['"])__worker_loader_strict__(['"])/g,eg=0,em=eh.length;eg<em;++eg)eh[eg]=eh[eg].substring(ep).replace(ef,"$1use strict$2")+"\n";return ec&&eh.push("//# sourceMappingURL="+ec+"\n"),eh}(eD,null),ec=new Blob(eo,{type:"application/javascript"}),URL.createObjectURL(ec)),new Worker(ej,er)});let CanvasManager=class CanvasManager{reset(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}constructor(er){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.frozen=!1,this.locked=!1,this.processMutation=(er,eo)=>{let ec=this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId;(ec||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(er)||this.pendingCanvasMutations.set(er,[]),this.pendingCanvasMutations.get(er).push(eo)};let{sampling:eo="all",win:ec,blockClass:eh,blockSelector:ep,recordCanvas:ef,dataURLOptions:eg}=er;this.mutationCb=er.mutationCb,this.mirror=er.mirror,ef&&"all"===eo&&this.initCanvasMutationObserver(ec,eh,ep),ef&&"number"==typeof eo&&this.initCanvasFPSObserver(eo,ec,eh,ep,{dataURLOptions:eg})}initCanvasFPSObserver(er,eo,ec,eh,ep){let ef;let eg=initCanvasContextObserver(eo,ec,eh,!0),em=new Map,ey=new tm;ey.onmessage=er=>{let{id:eo}=er.data;if(em.set(eo,!1),!("base64"in er.data))return;let{base64:ec,type:eh,width:ep,height:ef}=er.data;this.mutationCb({id:eo,type:tr["2D"],commands:[{property:"clearRect",args:[0,0,ep,ef]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:ec}],type:eh}]},0,0]}]})};let ev=1e3/er,e_=0,getCanvas=()=>{let er=[];return eo.document.querySelectorAll("canvas").forEach(eo=>{isBlocked(eo,ec,eh,!0)||er.push(eo)}),er},takeCanvasSnapshots=er=>{if(e_&&er-e_<ev){ef=requestAnimationFrame(takeCanvasSnapshots);return}e_=er,getCanvas().forEach(er=>{var eo,ec,eh,ef;return eo=this,ec=void 0,eh=void 0,ef=function*(){var eo;let ec=this.mirror.getId(er);if(em.get(ec)||0===er.width||0===er.height)return;if(em.set(ec,!0),["webgl","webgl2"].includes(er.__context)){let ec=er.getContext(er.__context);(null===(eo=null==ec?void 0:ec.getContextAttributes())||void 0===eo?void 0:eo.preserveDrawingBuffer)===!1&&ec.clear(ec.COLOR_BUFFER_BIT)}let eh=yield createImageBitmap(er);ey.postMessage({id:ec,bitmap:eh,width:er.width,height:er.height,dataURLOptions:ep.dataURLOptions},[eh])},new(eh||(eh=Promise))(function(er,ep){function fulfilled(er){try{step(ef.next(er))}catch(er){ep(er)}}function rejected(er){try{step(ef.throw(er))}catch(er){ep(er)}}function step(eo){var ec;eo.done?er(eo.value):((ec=eo.value)instanceof eh?ec:new eh(function(er){er(ec)})).then(fulfilled,rejected)}step((ef=ef.apply(eo,ec||[])).next())})}),ef=requestAnimationFrame(takeCanvasSnapshots)};ef=requestAnimationFrame(takeCanvasSnapshots),this.resetObservers=()=>{eg(),cancelAnimationFrame(ef)}}initCanvasMutationObserver(er,eo,ec){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();let eh=initCanvasContextObserver(er,eo,ec,!1),ep=function(er,eo,ec,eh){let ep=[],ef=Object.getOwnPropertyNames(eo.CanvasRenderingContext2D.prototype);for(let eg of ef)try{if("function"!=typeof eo.CanvasRenderingContext2D.prototype[eg])continue;let ef=patch(eo.CanvasRenderingContext2D.prototype,eg,function(ep){return function(...ef){return isBlocked(this.canvas,ec,eh,!0)||setTimeout(()=>{let ec=serializeArgs(ef,eo,this);er(this.canvas,{type:tr["2D"],property:eg,args:ec})},0),ep.apply(this,ef)}});ep.push(ef)}catch(eh){let ec=hookSetter(eo.CanvasRenderingContext2D.prototype,eg,{set(eo){er(this.canvas,{type:tr["2D"],property:eg,args:[eo],setter:!0})}});ep.push(ec)}return()=>{ep.forEach(er=>er())}}(this.processMutation.bind(this),er,eo,ec),ef=function(er,eo,ec,eh,ep){let ef=[];return ef.push(...patchGLPrototype(eo.WebGLRenderingContext.prototype,tr.WebGL,er,ec,eh,ep,eo)),void 0!==eo.WebGL2RenderingContext&&ef.push(...patchGLPrototype(eo.WebGL2RenderingContext.prototype,tr.WebGL2,er,ec,eh,ep,eo)),()=>{ef.forEach(er=>er())}}(this.processMutation.bind(this),er,eo,ec,this.mirror);this.resetObservers=()=>{eh(),ep(),ef()}}startPendingCanvasMutationFlusher(){requestAnimationFrame(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){let setLatestRAFTimestamp=er=>{this.rafStamps.latestId=er,requestAnimationFrame(setLatestRAFTimestamp)};requestAnimationFrame(setLatestRAFTimestamp)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((er,eo)=>{let ec=this.mirror.getId(eo);this.flushPendingCanvasMutationFor(eo,ec)}),requestAnimationFrame(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(er,eo){if(this.frozen||this.locked)return;let ec=this.pendingCanvasMutations.get(er);if(!ec||-1===eo)return;let eh=ec.map(er=>{let eo=/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec}(er,["type"]);return eo}),{type:ep}=ec[0];this.mutationCb({id:eo,type:ep,commands:eh}),this.pendingCanvasMutations.delete(er)}};let StylesheetManager=class StylesheetManager{constructor(er){this.trackedLinkElements=new WeakSet,this.styleMirror=new StyleSheetMirror,this.mutationCb=er.mutationCb,this.adoptedStyleSheetCb=er.adoptedStyleSheetCb}attachLinkElement(er,eo){"_cssText"in eo.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:eo.id,attributes:eo.attributes}]}),this.trackLinkElement(er)}trackLinkElement(er){this.trackedLinkElements.has(er)||(this.trackedLinkElements.add(er),this.trackStylesheetInLinkElement(er))}adoptStyleSheets(er,eo){if(0===er.length)return;let ec={id:eo,styleIds:[]},eh=[];for(let eo of er){let er;this.styleMirror.has(eo)?er=this.styleMirror.getId(eo):(er=this.styleMirror.add(eo),eh.push({styleId:er,rules:Array.from(eo.rules||CSSRule,(er,eo)=>({rule:stringifyRule(er),index:eo}))})),ec.styleIds.push(er)}eh.length>0&&(ec.styles=eh),this.adoptedStyleSheetCb(ec)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(er){}};let ProcessedNodeManager=class ProcessedNodeManager{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){requestAnimationFrame(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(er,eo){let ec=this.nodeMap.get(er);return ec&&Array.from(ec).some(er=>er!==eo)}add(er,eo){this.nodeMap.set(er,(this.nodeMap.get(er)||new Set).add(eo))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}};function wrapEvent(er){return Object.assign(Object.assign({},er),{timestamp:eA()})}let ty=!1,tv=new Mirror;function record(er={}){let eo;let{emit:ec,checkoutEveryNms:eh,checkoutEveryNth:ep,blockClass:ev="rr-block",blockSelector:e_=null,ignoreClass:ew="rr-ignore",ignoreSelector:ex=null,maskTextClass:ek="rr-mask",maskTextSelector:eS=null,inlineStylesheet:eC=!0,maskAllInputs:eI,maskInputOptions:eE,slimDOMOptions:eT,maskInputFn:eN,maskTextFn:eA,hooks:eO,packFn:eP,sampling:eM={},dataURLOptions:eR={},mousemoveWait:eD,recordDOM:ej=!0,recordCanvas:eL=!1,recordCrossOriginIframes:eU=!1,recordAfter:eF="DOMContentLoaded"===er.recordAfter?er.recordAfter:"load",userTriggeredOnInput:eV=!1,collectFonts:eH=!1,inlineImages:eB=!1,plugins:eq,keepIframeSrcFn:ez=()=>!1,ignoreCSSAttributes:eW=new Set([]),errorHandler:e$}=er;ef=e$;let eG=!eU||window.parent===window,eK=!1;if(!eG)try{window.parent.document&&(eK=!1)}catch(er){eK=!0}if(eG&&!ec)throw Error("emit function is required");void 0!==eD&&void 0===eM.mousemove&&(eM.mousemove=eD),tv.reset();let eZ=!0===eI?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:void 0!==eE?eE:{password:!0},eJ=!0===eT||"all"===eT?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===eT,headMetaDescKeywords:"all"===eT}:eT||{};!function(er=window){"NodeList"in er&&!er.NodeList.prototype.forEach&&(er.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in er&&!er.DOMTokenList.prototype.forEach&&(er.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...er)=>{let eo=er[0];if(!(0 in er))throw TypeError("1 argument is required");do if(this===eo)return!0;while(eo=eo&&eo.parentNode);return!1})}();let eQ=0,eventProcessor=er=>{for(let eo of eq||[])eo.eventProcessor&&(er=eo.eventProcessor(er));return eP&&!eK&&(er=eP(er)),er};eg=(er,ef)=>{var eg;if((null===(eg=to[0])||void 0===eg?void 0:eg.isFrozen())&&er.type!==e5.FullSnapshot&&!(er.type===e5.IncrementalSnapshot&&er.data.source===e9.Mutation)&&to.forEach(er=>er.unfreeze()),eG)null==ec||ec(eventProcessor(er),ef);else if(eK){let eo={type:"rrweb",event:eventProcessor(er),origin:window.location.origin,isCheckout:ef};window.parent.postMessage(eo,"*")}if(er.type===e5.FullSnapshot)eo=er,eQ=0;else if(er.type===e5.IncrementalSnapshot){if(er.data.source===e9.Mutation&&er.data.isAttachIframe)return;eQ++;let ec=ep&&eQ>=ep,ef=eh&&er.timestamp-eo.timestamp>eh;(ec||ef)&&em(!0)}};let wrappedMutationEmit=er=>{eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.Mutation},er)}))},wrappedScrollEmit=er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.Scroll},er)})),wrappedCanvasMutationEmit=er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.CanvasMutation},er)})),eX=new StylesheetManager({mutationCb:wrappedMutationEmit,adoptedStyleSheetCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.AdoptedStyleSheet},er)}))}),eY=new IframeManager({mirror:tv,mutationCb:wrappedMutationEmit,stylesheetManager:eX,recordCrossOriginIframes:eU,wrappedEmit:eg});for(let er of eq||[])er.getMirror&&er.getMirror({nodeMirror:tv,crossOriginIframeMirror:eY.crossOriginIframeMirror,crossOriginIframeStyleMirror:eY.crossOriginIframeStyleMirror});let e0=new ProcessedNodeManager;ey=new CanvasManager({recordCanvas:eL,mutationCb:wrappedCanvasMutationEmit,win:window,blockClass:ev,blockSelector:e_,mirror:tv,sampling:eM.canvas,dataURLOptions:eR});let e1=new ShadowDomManager({mutationCb:wrappedMutationEmit,scrollCb:wrappedScrollEmit,bypassOptions:{blockClass:ev,blockSelector:e_,maskTextClass:ek,maskTextSelector:eS,inlineStylesheet:eC,maskInputOptions:eZ,dataURLOptions:eR,maskTextFn:eA,maskInputFn:eN,recordCanvas:eL,inlineImages:eB,sampling:eM,slimDOMOptions:eJ,iframeManager:eY,stylesheetManager:eX,canvasManager:ey,keepIframeSrcFn:ez,processedNodeManager:e0},mirror:tv});em=(er=!1)=>{if(!ej)return;eg(wrapEvent({type:e5.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}}),er),eX.reset(),e1.init(),to.forEach(er=>er.lock());let eo=function(er,eo){let{mirror:ec=new Mirror,blockClass:eh="rr-block",blockSelector:ep=null,maskTextClass:ef="rr-mask",maskTextSelector:eg=null,inlineStylesheet:em=!0,inlineImages:ey=!1,recordCanvas:ev=!1,maskAllInputs:e_=!1,maskTextFn:ew,maskInputFn:ex,slimDOM:ek=!1,dataURLOptions:eS,preserveWhiteSpace:eC,onSerialize:eI,onIframeLoad:eE,iframeLoadTimeout:eT,onStylesheetLoad:eN,stylesheetLoadTimeout:eA,keepIframeSrcFn:eO=()=>!1}=eo||{},eP=!0===e_?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===e_?{password:!0}:e_,eM=!0===ek||"all"===ek?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===ek,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===ek?{}:ek;return serializeNodeWithId(er,{doc:er,mirror:ec,blockClass:eh,blockSelector:ep,maskTextClass:ef,maskTextSelector:eg,skipChild:!1,inlineStylesheet:em,maskInputOptions:eP,maskTextFn:ew,maskInputFn:ex,slimDOMOptions:eM,dataURLOptions:eS,inlineImages:ey,recordCanvas:ev,preserveWhiteSpace:eC,onSerialize:eI,onIframeLoad:eE,iframeLoadTimeout:eT,onStylesheetLoad:eN,stylesheetLoadTimeout:eA,keepIframeSrcFn:eO,newlyAddedElement:!1})}(document,{mirror:tv,blockClass:ev,blockSelector:e_,maskTextClass:ek,maskTextSelector:eS,inlineStylesheet:eC,maskAllInputs:eZ,maskTextFn:eA,slimDOM:eJ,dataURLOptions:eR,recordCanvas:eL,inlineImages:eB,onSerialize:er=>{isSerializedIframe(er,tv)&&eY.addIframe(er),isSerializedStylesheet(er,tv)&&eX.trackLinkElement(er),hasShadowRoot(er)&&e1.addShadowRoot(er.shadowRoot,document)},onIframeLoad:(er,eo)=>{eY.attachIframe(er,eo),e1.observeAttachShadow(er)},onStylesheetLoad:(er,eo)=>{eX.attachLinkElement(er,eo)},keepIframeSrcFn:ez});if(!eo)return console.warn("Failed to snapshot the document");eg(wrapEvent({type:e5.FullSnapshot,data:{node:eo,initialOffset:getWindowScroll(window)}}),er),to.forEach(er=>er.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&eX.adoptStyleSheets(document.adoptedStyleSheets,tv.getId(document))};try{let er=[],observe=er=>{var eo;return callbackWrapper(initObservers)({mutationCb:wrappedMutationEmit,mousemoveCb:(er,eo)=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:{source:eo,positions:er}})),mouseInteractionCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.MouseInteraction},er)})),scrollCb:wrappedScrollEmit,viewportResizeCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.ViewportResize},er)})),inputCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.Input},er)})),mediaInteractionCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.MediaInteraction},er)})),styleSheetRuleCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.StyleSheetRule},er)})),styleDeclarationCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.StyleDeclaration},er)})),canvasMutationCb:wrappedCanvasMutationEmit,fontCb:er=>eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.Font},er)})),selectionCb:er=>{eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.Selection},er)}))},customElementCb:er=>{eg(wrapEvent({type:e5.IncrementalSnapshot,data:Object.assign({source:e9.CustomElement},er)}))},blockClass:ev,ignoreClass:ew,ignoreSelector:ex,maskTextClass:ek,maskTextSelector:eS,maskInputOptions:eZ,inlineStylesheet:eC,sampling:eM,recordDOM:ej,recordCanvas:eL,inlineImages:eB,userTriggeredOnInput:eV,collectFonts:eH,doc:er,maskInputFn:eN,maskTextFn:eA,keepIframeSrcFn:ez,blockSelector:e_,slimDOMOptions:eJ,dataURLOptions:eR,mirror:tv,iframeManager:eY,stylesheetManager:eX,shadowDomManager:e1,processedNodeManager:e0,canvasManager:ey,ignoreCSSAttributes:eW,plugins:(null===(eo=null==eq?void 0:eq.filter(er=>er.observer))||void 0===eo?void 0:eo.map(er=>({observer:er.observer,options:er.options,callback:eo=>eg(wrapEvent({type:e5.Plugin,data:{plugin:er.name,payload:eo}}))})))||[]},eO)};eY.addLoadListener(eo=>{try{er.push(observe(eo.contentDocument))}catch(er){console.warn(er)}});let init=()=>{em(),er.push(observe(document)),ty=!0};return"interactive"===document.readyState||"complete"===document.readyState?init():(er.push(on("DOMContentLoaded",()=>{eg(wrapEvent({type:e5.DomContentLoaded,data:{}})),"DOMContentLoaded"===eF&&init()})),er.push(on("load",()=>{eg(wrapEvent({type:e5.Load,data:{}})),"load"===eF&&init()},window))),()=>{er.forEach(er=>er()),e0.destroy(),ty=!1,ef=void 0}}catch(er){console.warn(er)}}record.addCustomEvent=(er,eo)=>{if(!ty)throw Error("please add custom event after start recording");eg(wrapEvent({type:e5.Custom,data:{tag:er,payload:eo}}))},record.freezePage=()=>{to.forEach(er=>er.freeze())},record.takeFullSnapshot=er=>{if(!ty)throw Error("please take full snapshot after start recording");em(er)},record.mirror=tv;var t_=((eL=t_||{})[eL.DomContentLoaded=0]="DomContentLoaded",eL[eL.Load=1]="Load",eL[eL.FullSnapshot=2]="FullSnapshot",eL[eL.IncrementalSnapshot=3]="IncrementalSnapshot",eL[eL.Meta=4]="Meta",eL[eL.Custom=5]="Custom",eL[eL.Plugin=6]="Plugin",eL),tb=((eU=tb||{})[eU.Mutation=0]="Mutation",eU[eU.MouseMove=1]="MouseMove",eU[eU.MouseInteraction=2]="MouseInteraction",eU[eU.Scroll=3]="Scroll",eU[eU.ViewportResize=4]="ViewportResize",eU[eU.Input=5]="Input",eU[eU.TouchMove=6]="TouchMove",eU[eU.MediaInteraction=7]="MediaInteraction",eU[eU.StyleSheetRule=8]="StyleSheetRule",eU[eU.CanvasMutation=9]="CanvasMutation",eU[eU.Font=10]="Font",eU[eU.Log=11]="Log",eU[eU.Drag=12]="Drag",eU[eU.StyleDeclaration=13]="StyleDeclaration",eU[eU.Selection=14]="Selection",eU[eU.AdoptedStyleSheet=15]="AdoptedStyleSheet",eU[eU.CustomElement=16]="CustomElement",eU),tw={DEBUG:!1,LIB_VERSION:"2.55.1"};if("undefined"==typeof window){var tx={hostname:""};e3={navigator:{userAgent:"",onLine:!0},document:{location:tx,referrer:""},screen:{width:0,height:0},location:tx}}else e3=window;var tk=Array.prototype,tS=Function.prototype,tC=Object.prototype,tI=tk.slice,tE=tC.toString,tT=tC.hasOwnProperty,tN=e3.console,tA=e3.navigator,tO=e3.document,tP=e3.opera,tM=e3.screen,tR=tA.userAgent,tD=tS.bind,tj=tk.forEach,tL=tk.indexOf,tU=tk.map,tF=Array.isArray,tV={},tH={trim:function(er){return er.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},tB={log:function(){if(tw.DEBUG&&!tH.isUndefined(tN)&&tN)try{tN.log.apply(tN,arguments)}catch(er){tH.each(arguments,function(er){tN.log(er)})}},warn:function(){if(tw.DEBUG&&!tH.isUndefined(tN)&&tN){var er=["Mixpanel warning:"].concat(tH.toArray(arguments));try{tN.warn.apply(tN,er)}catch(eo){tH.each(er,function(er){tN.warn(er)})}}},error:function(){if(tw.DEBUG&&!tH.isUndefined(tN)&&tN){var er=["Mixpanel error:"].concat(tH.toArray(arguments));try{tN.error.apply(tN,er)}catch(eo){tH.each(er,function(er){tN.error(er)})}}},critical:function(){if(!tH.isUndefined(tN)&&tN){var er=["Mixpanel error:"].concat(tH.toArray(arguments));try{tN.error.apply(tN,er)}catch(eo){tH.each(er,function(er){tN.error(er)})}}}},log_func_with_prefix=function(er,eo){return function(){return arguments[0]="["+eo+"] "+arguments[0],er.apply(tB,arguments)}},console_with_prefix=function(er){return{log:log_func_with_prefix(tB.log,er),error:log_func_with_prefix(tB.error,er),critical:log_func_with_prefix(tB.critical,er)}};tH.bind=function(er,eo){var ec,eh;if(tD&&er.bind===tD)return tD.apply(er,tI.call(arguments,1));if(!tH.isFunction(er))throw TypeError();return ec=tI.call(arguments,2),eh=function(){if(!(this instanceof eh))return er.apply(eo,ec.concat(tI.call(arguments)));var ep={};ep.prototype=er.prototype;var ef=new ep;ep.prototype=null;var eg=er.apply(ef,ec.concat(tI.call(arguments)));return Object(eg)===eg?eg:ef}},tH.each=function(er,eo,ec){if(null!=er){if(tj&&er.forEach===tj)er.forEach(eo,ec);else if(er.length===+er.length){for(var eh=0,ep=er.length;eh<ep;eh++)if(eh in er&&eo.call(ec,er[eh],eh,er)===tV)return}else for(var ef in er)if(tT.call(er,ef)&&eo.call(ec,er[ef],ef,er)===tV)return}},tH.extend=function(er){return tH.each(tI.call(arguments,1),function(eo){for(var ec in eo)void 0!==eo[ec]&&(er[ec]=eo[ec])}),er},tH.isArray=tF||function(er){return"[object Array]"===tE.call(er)},tH.isFunction=function(er){try{return/^\s*\bfunction\b/.test(er)}catch(er){return!1}},tH.isArguments=function(er){return!!(er&&tT.call(er,"callee"))},tH.toArray=function(er){return er?er.toArray?er.toArray():tH.isArray(er)||tH.isArguments(er)?tI.call(er):tH.values(er):[]},tH.map=function(er,eo,ec){if(tU&&er.map===tU)return er.map(eo,ec);var eh=[];return tH.each(er,function(er){eh.push(eo.call(ec,er))}),eh},tH.keys=function(er){var eo=[];return null===er||tH.each(er,function(er,ec){eo[eo.length]=ec}),eo},tH.values=function(er){var eo=[];return null===er||tH.each(er,function(er){eo[eo.length]=er}),eo},tH.include=function(er,eo){var ec=!1;return null===er?ec:tL&&er.indexOf===tL?-1!=er.indexOf(eo):(tH.each(er,function(er){if(ec||(ec=er===eo))return tV}),ec)},tH.includes=function(er,eo){return -1!==er.indexOf(eo)},tH.inherit=function(er,eo){return er.prototype=new eo,er.prototype.constructor=er,er.superclass=eo.prototype,er},tH.isObject=function(er){return er===Object(er)&&!tH.isArray(er)},tH.isEmptyObject=function(er){if(tH.isObject(er)){for(var eo in er)if(tT.call(er,eo))return!1;return!0}return!1},tH.isUndefined=function(er){return void 0===er},tH.isString=function(er){return"[object String]"==tE.call(er)},tH.isDate=function(er){return"[object Date]"==tE.call(er)},tH.isNumber=function(er){return"[object Number]"==tE.call(er)},tH.isElement=function(er){return!!(er&&1===er.nodeType)},tH.encodeDates=function(er){return tH.each(er,function(eo,ec){tH.isDate(eo)?er[ec]=tH.formatDate(eo):tH.isObject(eo)&&(er[ec]=tH.encodeDates(eo))}),er},tH.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},tH.formatDate=function(er){function pad(er){return er<10?"0"+er:er}return er.getUTCFullYear()+"-"+pad(er.getUTCMonth()+1)+"-"+pad(er.getUTCDate())+"T"+pad(er.getUTCHours())+":"+pad(er.getUTCMinutes())+":"+pad(er.getUTCSeconds())},tH.strip_empty_properties=function(er){var eo={};return tH.each(er,function(er,ec){tH.isString(er)&&er.length>0&&(eo[ec]=er)}),eo},tH.truncate=function(er,eo){var ec;return"string"==typeof er?ec=er.slice(0,eo):tH.isArray(er)?(ec=[],tH.each(er,function(er){ec.push(tH.truncate(er,eo))})):tH.isObject(er)?(ec={},tH.each(er,function(er,eh){ec[eh]=tH.truncate(er,eo)})):ec=er,ec},tH.JSONEncode=function(er){var quote=function(er){var eo=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,ec={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return eo.lastIndex=0,eo.test(er)?'"'+er.replace(eo,function(er){var eo=ec[er];return"string"==typeof eo?eo:"\\u"+("0000"+er.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+er+'"'},str=function(er,eo){var ec="",eh=0,ep="",ef="",eg=0,em=ec,ey=[],ev=eo[er];switch(ev&&"object"==typeof ev&&"function"==typeof ev.toJSON&&(ev=ev.toJSON(er)),typeof ev){case"string":return quote(ev);case"number":return isFinite(ev)?String(ev):"null";case"boolean":case"null":return String(ev);case"object":if(!ev)return"null";if(ec+="    ",ey=[],"[object Array]"===tE.apply(ev)){for(eh=0,eg=ev.length;eh<eg;eh+=1)ey[eh]=str(eh,ev)||"null";return ef=0===ey.length?"[]":ec?"[\n"+ec+ey.join(",\n"+ec)+"\n"+em+"]":"["+ey.join(",")+"]",ec=em,ef}for(ep in ev)tT.call(ev,ep)&&(ef=str(ep,ev))&&ey.push(quote(ep)+(ec?": ":":")+ef);return ef=0===ey.length?"{}":ec?"{"+ey.join(",")+em+"}":"{"+ey.join(",")+"}",ec=em,ef}};return str("",{"":er})},tH.JSONDecode=(eq={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},ez=function(er){var eo=SyntaxError(er);throw eo.at=eF,eo.text=eH,eo},eW=function(er){return er&&er!==eV&&ez("Expected '"+er+"' instead of '"+eV+"'"),eV=eH.charAt(eF),eF+=1,eV},e$=function(){var er,eo="";for("-"===eV&&(eo="-",eW("-"));eV>="0"&&eV<="9";)eo+=eV,eW();if("."===eV)for(eo+=".";eW()&&eV>="0"&&eV<="9";)eo+=eV;if("e"===eV||"E"===eV)for(eo+=eV,eW(),("-"===eV||"+"===eV)&&(eo+=eV,eW());eV>="0"&&eV<="9";)eo+=eV,eW();if(isFinite(er=+eo))return er;ez("Bad number")},eG=function(){var er,eo,ec,eh="";if('"'===eV)for(;eW();){if('"'===eV)return eW(),eh;if("\\"===eV){if(eW(),"u"===eV){for(eo=0,ec=0;eo<4&&isFinite(er=parseInt(eW(),16));eo+=1)ec=16*ec+er;eh+=String.fromCharCode(ec)}else if("string"==typeof eq[eV])eh+=eq[eV];else break}else eh+=eV}ez("Bad string")},eK=function(){for(;eV&&eV<=" ";)eW()},eZ=function(){switch(eV){case"t":return eW("t"),eW("r"),eW("u"),eW("e"),!0;case"f":return eW("f"),eW("a"),eW("l"),eW("s"),eW("e"),!1;case"n":return eW("n"),eW("u"),eW("l"),eW("l"),null}ez('Unexpected "'+eV+'"')},eJ=function(){var er=[];if("["===eV){if(eW("["),eK(),"]"===eV)return eW("]"),er;for(;eV;){if(er.push(eB()),eK(),"]"===eV)return eW("]"),er;eW(","),eK()}}ez("Bad array")},eQ=function(){var er,eo={};if("{"===eV){if(eW("{"),eK(),"}"===eV)return eW("}"),eo;for(;eV;){if(er=eG(),eK(),eW(":"),Object.hasOwnProperty.call(eo,er)&&ez('Duplicate key "'+er+'"'),eo[er]=eB(),eK(),"}"===eV)return eW("}"),eo;eW(","),eK()}}ez("Bad object")},eB=function(){switch(eK(),eV){case"{":return eQ();case"[":return eJ();case'"':return eG();case"-":return e$();default:return eV>="0"&&eV<="9"?e$():eZ()}},function(er){var eo;return eH=er,eF=0,eV=" ",eo=eB(),eK(),eV&&ez("Syntax error"),eo}),tH.base64Encode=function(er){var eo,ec,eh,ep,ef,eg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",em=0,ey=0,ev="",e_=[];if(!er)return er;er=tH.utf8Encode(er);do eo=(ef=er.charCodeAt(em++)<<16|er.charCodeAt(em++)<<8|er.charCodeAt(em++))>>18&63,ec=ef>>12&63,eh=ef>>6&63,ep=63&ef,e_[ey++]=eg.charAt(eo)+eg.charAt(ec)+eg.charAt(eh)+eg.charAt(ep);while(em<er.length);switch(ev=e_.join(""),er.length%3){case 1:ev=ev.slice(0,-2)+"==";break;case 2:ev=ev.slice(0,-1)+"="}return ev},tH.utf8Encode=function(er){er=(er+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n");var eo,ec,eh,ep="",ef=0;for(eh=0,eo=ec=0,ef=er.length;eh<ef;eh++){var eg=er.charCodeAt(eh),em=null;eg<128?ec++:em=eg>127&&eg<2048?String.fromCharCode(eg>>6|192,63&eg|128):String.fromCharCode(eg>>12|224,eg>>6&63|128,63&eg|128),null!==em&&(ec>eo&&(ep+=er.substring(eo,ec)),ep+=em,eo=ec=eh+1)}return ec>eo&&(ep+=er.substring(eo,er.length)),ep},tH.UUID=(eX=function(){var er,eo=1*new Date;if(e3.performance&&e3.performance.now)er=e3.performance.now();else for(er=0;eo==1*new Date;)er++;return eo.toString(16)+Math.floor(er).toString(16)},eY=function(){var er,eo,ec=[],eh=0;function xor(er,eo){var eh,ep=0;for(eh=0;eh<eo.length;eh++)ep|=ec[eh]<<8*eh;return er^ep}for(er=0;er<tR.length;er++)eo=tR.charCodeAt(er),ec.unshift(255&eo),ec.length>=4&&(eh=xor(eh,ec),ec=[]);return ec.length>0&&(eh=xor(eh,ec)),eh.toString(16)},function(){var er=(tM.height*tM.width).toString(16);return eX()+"-"+Math.random().toString(16).replace(".","")+"-"+eY()+"-"+er+"-"+eX()});var tq=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];tH.isBlockedUA=function(er){var eo;for(eo=0,er=er.toLowerCase();eo<tq.length;eo++)if(-1!==er.indexOf(tq[eo]))return!0;return!1},tH.HTTPBuildQuery=function(er,eo){var ec,eh,ep=[];return tH.isUndefined(eo)&&(eo="&"),tH.each(er,function(er,eo){ec=encodeURIComponent(er.toString()),eh=encodeURIComponent(eo),ep[ep.length]=eh+"="+ec}),ep.join(eo)},tH.getQueryParam=function(er,eo){var ec="[\\?&]"+(eo=eo.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]"))+"=([^&#]*)",eh=new RegExp(ec).exec(er);if(null===eh||eh&&"string"!=typeof eh[1]&&eh[1].length)return"";var ep=eh[1];try{ep=decodeURIComponent(ep)}catch(er){tB.error("Skipping decoding for malformed query param: "+ep)}return ep.replace(/\+/g," ")},tH.cookie={get:function(er){for(var eo=er+"=",ec=tO.cookie.split(";"),eh=0;eh<ec.length;eh++){for(var ep=ec[eh];" "==ep.charAt(0);)ep=ep.substring(1,ep.length);if(0===ep.indexOf(eo))return decodeURIComponent(ep.substring(eo.length,ep.length))}return null},parse:function(er){var eo;try{eo=tH.JSONDecode(tH.cookie.get(er))||{}}catch(er){}return eo},set_seconds:function(er,eo,ec,eh,ep,ef,eg){var em="",ey="",ev="";if(eg)em="; domain="+eg;else if(eh){var e_=extract_domain(tO.location.hostname);em=e_?"; domain=."+e_:""}if(ec){var ew=new Date;ew.setTime(ew.getTime()+1e3*ec),ey="; expires="+ew.toGMTString()}ef&&(ep=!0,ev="; SameSite=None"),ep&&(ev+="; secure"),tO.cookie=er+"="+encodeURIComponent(eo)+ey+"; path=/"+em+ev},set:function(er,eo,ec,eh,ep,ef,eg){var em="",ey="",ev="";if(eg)em="; domain="+eg;else if(eh){var e_=extract_domain(tO.location.hostname);em=e_?"; domain=."+e_:""}if(ec){var ew=new Date;ew.setTime(ew.getTime()+864e5*ec),ey="; expires="+ew.toGMTString()}ef&&(ep=!0,ev="; SameSite=None"),ep&&(ev+="; secure");var ex=er+"="+encodeURIComponent(eo)+ey+"; path=/"+em+ev;return tO.cookie=ex,ex},remove:function(er,eo,ec){tH.cookie.set(er,"",-1,eo,!1,!1,ec)}};var tz=null,localStorageSupported=function(er,eo){if(null!==tz&&!eo)return tz;var ec=!0;try{er=er||window.localStorage;var eh="__mplss_"+cheap_guid(8);er.setItem(eh,"xyz"),"xyz"!==er.getItem(eh)&&(ec=!1),er.removeItem(eh)}catch(er){ec=!1}return tz=ec,ec};tH.localStorage={is_supported:function(er){var eo=localStorageSupported(null,er);return eo||tB.error("localStorage unsupported; falling back to cookie store"),eo},error:function(er){tB.error("localStorage error: "+er)},get:function(er){try{return window.localStorage.getItem(er)}catch(er){tH.localStorage.error(er)}return null},parse:function(er){try{return tH.JSONDecode(tH.localStorage.get(er))||{}}catch(er){}return null},set:function(er,eo){try{window.localStorage.setItem(er,eo)}catch(er){tH.localStorage.error(er)}},remove:function(er){try{window.localStorage.removeItem(er)}catch(er){tH.localStorage.error(er)}}},tH.register_event=function(){function fixEvent(er){return er&&(er.preventDefault=fixEvent.preventDefault,er.stopPropagation=fixEvent.stopPropagation),er}return fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},function(er,eo,ec,eh,ep){if(!er){tB.error("No valid element provided to register_event");return}if(er.addEventListener&&!eh)er.addEventListener(eo,ec,!!ep);else{var ef="on"+eo,eg=er[ef];er[ef]=function(eo){if(eo=eo||fixEvent(window.event)){var eh,ep,ef=!0;return tH.isFunction(eg)&&(eh=eg(eo)),ep=ec.call(er,eo),(!1===eh||!1===ep)&&(ef=!1),ef}}}}}();var tW=RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');tH.dom_query=function(){function getAllChildren(er){return er.all?er.all:er.getElementsByTagName("*")}var er=/[\t\r\n]/g;function getElementsBySelector(eo){if(!tO.getElementsByTagName)return[];var ec=eo.split(" "),eh=[tO];for(ek=0;ek<ec.length;ek++){if((ey=ec[ek].replace(/^\s+/,"").replace(/\s+$/,"")).indexOf("#")>-1){e_=(ev=ey.split("#"))[0];var ep=ev[1],ef=tO.getElementById(ep);if(!ef||e_&&ef.nodeName.toLowerCase()!=e_)return[];eh=[ef];continue}if(ey.indexOf(".")>-1){e_=(ev=ey.split("."))[0];var eg=ev[1];for(e_||(e_="*"),ew=[],ex=0,eS=0;eS<eh.length;eS++)for(eC=0,eI="*"==e_?getAllChildren(eh[eS]):eh[eS].getElementsByTagName(e_);eC<eI.length;eC++)ew[ex++]=eI[eC];for(eS=0,eh=[],eE=0;eS<ew.length;eS++)ew[eS].className&&tH.isString(ew[eS].className)&&(" "+ew[eS].className+" ").replace(er," ").indexOf(" "+eg+" ")>=0&&(eh[eE++]=ew[eS]);continue}var em=ey.match(tW);if(em){e_=em[1];var ey,ev,e_,ew,ex,ek,eS,eC,eI,eE,eT,eN=em[2],eA=em[3],eO=em[4];for(e_||(e_="*"),ew=[],ex=0,eS=0;eS<eh.length;eS++)for(eC=0,eI="*"==e_?getAllChildren(eh[eS]):eh[eS].getElementsByTagName(e_);eC<eI.length;eC++)ew[ex++]=eI[eC];switch(eh=[],eE=0,eA){case"=":eT=function(er){return er.getAttribute(eN)==eO};break;case"~":eT=function(er){return er.getAttribute(eN).match(RegExp("\\b"+eO+"\\b"))};break;case"|":eT=function(er){return er.getAttribute(eN).match(RegExp("^"+eO+"-?"))};break;case"^":eT=function(er){return 0===er.getAttribute(eN).indexOf(eO)};break;case"$":eT=function(er){return er.getAttribute(eN).lastIndexOf(eO)==er.getAttribute(eN).length-eO.length};break;case"*":eT=function(er){return er.getAttribute(eN).indexOf(eO)>-1};break;default:eT=function(er){return er.getAttribute(eN)}}for(eS=0,eh=[],eE=0;eS<ew.length;eS++)eT(ew[eS])&&(eh[eE++]=ew[eS]);continue}for(eS=0,e_=ey,ew=[],ex=0;eS<eh.length;eS++)for(eC=0,eI=eh[eS].getElementsByTagName(e_);eC<eI.length;eC++)ew[ex++]=eI[eC];eh=ew}return eh}return function(er){return tH.isElement(er)?[er]:tH.isObject(er)&&!tH.isUndefined(er.length)?er:getElementsBySelector.call(this,er)}}();var t$=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],tG=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];tH.info={campaignParams:function(er){var eo="",ec={};return tH.each(t$,function(eh){(eo=tH.getQueryParam(tO.URL,eh)).length?ec[eh]=eo:void 0!==er&&(ec[eh]=er)}),ec},clickParams:function(){var er="",eo={};return tH.each(tG,function(ec){(er=tH.getQueryParam(tO.URL,ec)).length&&(eo[ec]=er)}),eo},marketingParams:function(){return tH.extend(tH.info.campaignParams(),tH.info.clickParams())},searchEngine:function(er){return 0===er.search("https?://(.*)google.([^/?]*)")?"google":0===er.search("https?://(.*)bing.com")?"bing":0===er.search("https?://(.*)yahoo.com")?"yahoo":0===er.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(er){var eo=tH.info.searchEngine(er),ec={};if(null!==eo){ec.$search_engine=eo;var eh=tH.getQueryParam(er,"yahoo"!=eo?"q":"p");eh.length&&(ec.mp_keyword=eh)}return ec},browser:function(er,eo,ec){if(eo=eo||"",ec||tH.includes(er," OPR/"))return tH.includes(er,"Mini")?"Opera Mini":"Opera";if(/(BlackBerry|PlayBook|BB10)/i.test(er))return"BlackBerry";if(tH.includes(er,"IEMobile")||tH.includes(er,"WPDesktop"))return"Internet Explorer Mobile";if(tH.includes(er,"SamsungBrowser/"))return"Samsung Internet";if(tH.includes(er,"Edge")||tH.includes(er,"Edg/"))return"Microsoft Edge";if(tH.includes(er,"FBIOS"))return"Facebook Mobile";if(tH.includes(er,"Chrome"))return"Chrome";else if(tH.includes(er,"CriOS"))return"Chrome iOS";else if(tH.includes(er,"UCWEB")||tH.includes(er,"UCBrowser"))return"UC Browser";else if(tH.includes(er,"FxiOS"))return"Firefox iOS";else if(tH.includes(eo,"Apple"))return tH.includes(er,"Mobile")?"Mobile Safari":"Safari";else if(tH.includes(er,"Android"))return"Android Mobile";else if(tH.includes(er,"Konqueror"))return"Konqueror";else if(tH.includes(er,"Firefox"))return"Firefox";else if(tH.includes(er,"MSIE")||tH.includes(er,"Trident/"))return"Internet Explorer";else if(tH.includes(er,"Gecko"))return"Mozilla";else return""},browserVersion:function(er,eo,ec){var eh={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[tH.info.browser(er,eo,ec)];if(void 0===eh)return null;var ep=er.match(eh);return ep?parseFloat(ep[ep.length-2]):null},os:function(){if(/Windows/i.test(tR))return/Phone/.test(tR)||/WPDesktop/.test(tR)?"Windows Phone":"Windows";if(/(iPhone|iPad|iPod)/.test(tR))return"iOS";if(/Android/.test(tR))return"Android";if(/(BlackBerry|PlayBook|BB10)/i.test(tR))return"BlackBerry";if(/Mac/i.test(tR))return"Mac OS X";if(/Linux/.test(tR))return"Linux";if(/CrOS/.test(tR))return"Chrome OS";else return""},device:function(er){return/Windows Phone/i.test(er)||/WPDesktop/.test(er)?"Windows Phone":/iPad/.test(er)?"iPad":/iPod/.test(er)?"iPod Touch":/iPhone/.test(er)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(er)?"BlackBerry":/Android/.test(er)?"Android":""},referringDomain:function(er){var eo=er.split("/");return eo.length>=3?eo[2]:""},currentUrl:function(){return e3.location.href},properties:function(er){return"object"!=typeof er&&(er={}),tH.extend(tH.strip_empty_properties({$os:tH.info.os(),$browser:tH.info.browser(tR,tA.vendor,tP),$referrer:tO.referrer,$referring_domain:tH.info.referringDomain(tO.referrer),$device:tH.info.device(tR)}),{$current_url:tH.info.currentUrl(),$browser_version:tH.info.browserVersion(tR,tA.vendor,tP),$screen_height:tM.height,$screen_width:tM.width,mp_lib:"web",$lib_version:tw.LIB_VERSION,$insert_id:cheap_guid(),time:tH.timestamp()/1e3},tH.strip_empty_properties(er))},people_properties:function(){return tH.extend(tH.strip_empty_properties({$os:tH.info.os(),$browser:tH.info.browser(tR,tA.vendor,tP)}),{$browser_version:tH.info.browserVersion(tR,tA.vendor,tP)})},mpPageViewProperties:function(){return tH.strip_empty_properties({current_page_title:tO.title,current_domain:e3.location.hostname,current_url_path:e3.location.pathname,current_url_protocol:e3.location.protocol,current_url_search:e3.location.search})}};var cheap_guid=function(er){var eo=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return er?eo.substring(0,er):eo},tK=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,tZ=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,extract_domain=function(er){var eo=tZ,ec=er.split("."),eh=ec[ec.length-1];(eh.length>4||"com"===eh||"org"===eh)&&(eo=tK);var ep=er.match(eo);return ep?ep[0]:""},isOnline=function(){var er=e3.navigator.onLine;return tH.isUndefined(er)||er},tJ=null,tQ=null;function optIn(er,eo){_optInOut(!0,er,eo)}function optOut(er,eo){_optInOut(!1,er,eo)}function hasOptedIn(er,eo){return"1"===_getStorageValue(er,eo)}function hasOptedOut(er,eo){if(function(er){if(er&&er.ignoreDnt)return!1;var eo=er&&er.window||e3,ec=eo.navigator||{},eh=!1;return tH.each([ec.doNotTrack,ec.msDoNotTrack,eo.doNotTrack],function(er){tH.includes([!0,1,"1","yes"],er)&&(eh=!0)}),eh}(eo))return tB.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var ec="0"===_getStorageValue(er,eo);return ec&&tB.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),ec}function addOptOutCheckMixpanelLib(er){return _addOptOutCheck(er,function(er){return this.get_config(er)})}function addOptOutCheckMixpanelPeople(er){return _addOptOutCheck(er,function(er){return this._get_config(er)})}function addOptOutCheckMixpanelGroup(er){return _addOptOutCheck(er,function(er){return this._get_config(er)})}function clearOptInOut(er,eo){_getStorage(eo=eo||{}).remove(_getStorageKey(er,eo),!!eo.crossSubdomainCookie,eo.cookieDomain)}function _getStorage(er){return"localStorage"===(er=er||{}).persistenceType?tH.localStorage:tH.cookie}function _getStorageKey(er,eo){return((eo=eo||{}).persistencePrefix||"__mp_opt_in_out_")+er}function _getStorageValue(er,eo){return _getStorage(eo).get(_getStorageKey(er,eo))}function _optInOut(er,eo,ec){if(!tH.isString(eo)||!eo.length){tB.error("gdpr."+(er?"optIn":"optOut")+" called with an invalid token");return}_getStorage(ec=ec||{}).set(_getStorageKey(eo,ec),er?1:0,tH.isNumber(ec.cookieExpiration)?ec.cookieExpiration:null,!!ec.crossSubdomainCookie,!!ec.secureCookie,!!ec.crossSiteCookie,ec.cookieDomain),ec.track&&er&&ec.track(ec.trackEventName||"$opt_in",ec.trackProperties,{send_immediately:!0})}function _addOptOutCheck(er,eo){return function(){var ec=!1;try{var eh=eo.call(this,"token"),ep=eo.call(this,"ignore_dnt"),ef=eo.call(this,"opt_out_tracking_persistence_type"),eg=eo.call(this,"opt_out_tracking_cookie_prefix"),em=eo.call(this,"window");eh&&(ec=hasOptedOut(eh,{ignoreDnt:ep,persistenceType:ef,persistencePrefix:eg,window:em}))}catch(er){tB.error("Unexpected error when checking tracking opt-out status: "+er)}if(!ec)return er.apply(this,arguments);var ey=arguments[arguments.length-1];"function"==typeof ey&&ey(0)}}"undefined"!=typeof JSON&&(tJ=JSON.stringify,tQ=JSON.parse),tJ=tJ||tH.JSONEncode,tQ=tQ||tH.JSONDecode,tH.toArray=tH.toArray,tH.isObject=tH.isObject,tH.JSONEncode=tH.JSONEncode,tH.JSONDecode=tH.JSONDecode,tH.isBlockedUA=tH.isBlockedUA,tH.isEmptyObject=tH.isEmptyObject,tH.info=tH.info,tH.info.device=tH.info.device,tH.info.browser=tH.info.browser,tH.info.browserVersion=tH.info.browserVersion,tH.info.properties=tH.info.properties;var tX=console_with_prefix("lock"),SharedLock=function(er,eo){eo=eo||{},this.storageKey=er,this.storage=eo.storage||window.localStorage,this.pollIntervalMS=eo.pollIntervalMS||100,this.timeoutMS=eo.timeoutMS||2e3};SharedLock.prototype.withLock=function(er,eo,ec){ec||"function"==typeof eo||(ec=eo,eo=null);var eh=ec||new Date().getTime()+"|"+Math.random(),ep=new Date().getTime(),ef=this.storageKey,eg=this.pollIntervalMS,em=this.timeoutMS,ey=this.storage,ev=ef+":X",e_=ef+":Y",ew=ef+":Z",reportError=function(er){eo&&eo(er)},delay=function(er){if(new Date().getTime()-ep>em){tX.error("Timeout waiting for mutex on "+ef+"; clearing lock. ["+eh+"]"),ey.removeItem(ew),ey.removeItem(e_),loop();return}setTimeout(function(){try{er()}catch(er){reportError(er)}},eg*(Math.random()+.1))},waitFor=function(er,eo){er()?eo():delay(function(){waitFor(er,eo)})},getSetY=function(){var er=ey.getItem(e_);if(er&&er!==eh)return!1;if(ey.setItem(e_,eh),ey.getItem(e_)===eh)return!0;if(!localStorageSupported(ey,!0))throw Error("localStorage support dropped while acquiring lock");return!1},loop=function(){ey.setItem(ev,eh),waitFor(getSetY,function(){if(ey.getItem(ev)===eh){criticalSection();return}delay(function(){if(ey.getItem(e_)!==eh){loop();return}waitFor(function(){return!ey.getItem(ew)},criticalSection)})})},criticalSection=function(){ey.setItem(ew,"1");try{er()}finally{ey.removeItem(ew),ey.getItem(e_)===eh&&ey.removeItem(e_),ey.getItem(ev)===eh&&ey.removeItem(ev)}};try{if(localStorageSupported(ey,!0))loop();else throw Error("localStorage support check failed")}catch(er){reportError(er)}};var tY=console_with_prefix("batch"),RequestQueue=function(er,eo){eo=eo||{},this.storageKey=er,this.storage=eo.storage||window.localStorage,this.reportError=eo.errorReporter||tH.bind(tY.error,tY),this.lock=new SharedLock(er,{storage:this.storage}),this.usePersistence=eo.usePersistence,this.pid=eo.pid||null,this.memQueue=[]};RequestQueue.prototype.enqueue=function(er,eo,ec){var eh={id:cheap_guid(),flushAfter:new Date().getTime()+2*eo,payload:er};this.usePersistence?this.lock.withLock(tH.bind(function(){var eo;try{var ep=this.readFromStorage();ep.push(eh),(eo=this.saveToStorage(ep))&&this.memQueue.push(eh)}catch(ec){this.reportError("Error enqueueing item",er),eo=!1}ec&&ec(eo)},this),tH.bind(function(er){this.reportError("Error acquiring storage lock",er),ec&&ec(!1)},this),this.pid):(this.memQueue.push(eh),ec&&ec(!0))},RequestQueue.prototype.fillBatch=function(er){var eo=this.memQueue.slice(0,er);if(this.usePersistence&&eo.length<er){var ec=this.readFromStorage();if(ec.length){var eh={};tH.each(eo,function(er){eh[er.id]=!0});for(var ep=0;ep<ec.length;ep++){var ef=ec[ep];if(new Date().getTime()>ef.flushAfter&&!eh[ef.id]&&(ef.orphaned=!0,eo.push(ef),eo.length>=er))break}}}return eo};var filterOutIDsAndInvalid=function(er,eo){var ec=[];return tH.each(er,function(er){er.id&&!eo[er.id]&&ec.push(er)}),ec};RequestQueue.prototype.removeItemsByID=function(er,eo){var ec={};if(tH.each(er,function(er){ec[er]=!0}),this.memQueue=filterOutIDsAndInvalid(this.memQueue,ec),this.usePersistence){var eh=tH.bind(function(){var eo;try{var eh=this.readFromStorage();if(eh=filterOutIDsAndInvalid(eh,ec),eo=this.saveToStorage(eh)){eh=this.readFromStorage();for(var ep=0;ep<eh.length;ep++){var ef=eh[ep];if(ef.id&&ec[ef.id])return this.reportError("Item not removed from storage"),!1}}}catch(ec){this.reportError("Error removing items",er),eo=!1}return eo},this);this.lock.withLock(function(){var er=eh();eo&&eo(er)},tH.bind(function(er){var ec=!1;if(this.reportError("Error acquiring storage lock",er),!localStorageSupported(this.storage,!0)&&!(ec=eh()))try{this.storage.removeItem(this.storageKey)}catch(er){this.reportError("Error clearing queue",er)}eo&&eo(ec)},this),this.pid)}else eo&&eo(!0)};var updatePayloads=function(er,eo){var ec=[];return tH.each(er,function(er){var eh=er.id;if(eh in eo){var ep=eo[eh];null!==ep&&(er.payload=ep,ec.push(er))}else ec.push(er)}),ec};RequestQueue.prototype.updatePayloads=function(er,eo){this.memQueue=updatePayloads(this.memQueue,er),this.usePersistence?this.lock.withLock(tH.bind(function(){var ec;try{var eh=this.readFromStorage();eh=updatePayloads(eh,er),ec=this.saveToStorage(eh)}catch(eo){this.reportError("Error updating items",er),ec=!1}eo&&eo(ec)},this),tH.bind(function(er){this.reportError("Error acquiring storage lock",er),eo&&eo(!1)},this),this.pid):eo&&eo(!0)},RequestQueue.prototype.readFromStorage=function(){var er;try{(er=this.storage.getItem(this.storageKey))&&(er=tQ(er),tH.isArray(er)||(this.reportError("Invalid storage entry:",er),er=null))}catch(eo){this.reportError("Error retrieving queue",eo),er=null}return er||[]},RequestQueue.prototype.saveToStorage=function(er){try{return this.storage.setItem(this.storageKey,tJ(er)),!0}catch(er){return this.reportError("Error saving queue",er),!1}},RequestQueue.prototype.clear=function(){this.memQueue=[],this.usePersistence&&this.storage.removeItem(this.storageKey)};var t0=console_with_prefix("batch"),RequestBatcher=function(er,eo){this.errorReporter=eo.errorReporter,this.queue=new RequestQueue(er,{errorReporter:tH.bind(this.reportError,this),storage:eo.storage,usePersistence:eo.usePersistence}),this.libConfig=eo.libConfig,this.sendRequest=eo.sendRequestFunc,this.beforeSendHook=eo.beforeSendHook,this.stopAllBatching=eo.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=eo.flushOnlyOnInterval||!1};RequestBatcher.prototype.enqueue=function(er,eo){this.queue.enqueue(er,this.flushInterval,eo)},RequestBatcher.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},RequestBatcher.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},RequestBatcher.prototype.clear=function(){this.queue.clear()},RequestBatcher.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},RequestBatcher.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},RequestBatcher.prototype.scheduleFlush=function(er){this.flushInterval=er,this.stopped||(this.timeoutID=setTimeout(tH.bind(function(){this.stopped||this.flush()},this),this.flushInterval))},RequestBatcher.prototype.flush=function(er){try{if(this.requestInProgress){t0.log("Flush: Request already in progress");return}er=er||{};var eo=this.libConfig.batch_request_timeout_ms,ec=new Date().getTime(),eh=this.batchSize,ep=this.queue.fillBatch(eh),ef=ep.length===eh,eg=[],em={};if(tH.each(ep,function(er){var eo=er.payload;if(this.beforeSendHook&&!er.orphaned&&(eo=this.beforeSendHook(eo)),eo){eo.event&&eo.properties&&(eo.properties=tH.extend({},eo.properties,{mp_sent_by_lib_version:tw.LIB_VERSION}));var ec=!0,eh=er.id;eh?(this.itemIdsSentSuccessfully[eh]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:er,batchSize:ep.length,timesSent:this.itemIdsSentSuccessfully[eh]}),ec=!1):this.reportError("[dupe] found item with no ID",{item:er}),ec&&eg.push(eo)}em[er.id]=eo},this),eg.length<1){this.resetFlush();return}this.requestInProgress=!0;var ey=tH.bind(function(eg){this.requestInProgress=!1;try{var ey=!1;if(er.unloading)this.queue.updatePayloads(em);else if(tH.isObject(eg)&&"timeout"===eg.error&&new Date().getTime()-ec>=eo)this.reportError("Network timeout; retrying"),this.flush();else if(tH.isObject(eg)&&(eg.httpStatusCode>=500||429===eg.httpStatusCode||eg.httpStatusCode<=0&&!isOnline()||"timeout"===eg.error)){var ev=2*this.flushInterval;eg.retryAfter&&(ev=1e3*parseInt(eg.retryAfter,10)||ev),ev=Math.min(6e5,ev),this.reportError("Error; retry in "+ev+" ms"),this.scheduleFlush(ev)}else if(tH.isObject(eg)&&413===eg.httpStatusCode){if(ep.length>1){var e_=Math.max(1,Math.floor(eh/2));this.batchSize=Math.min(this.batchSize,e_,ep.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",ep),this.resetBatchSize(),ey=!0}else ey=!0;ey&&(this.queue.removeItemsByID(tH.map(ep,function(er){return er.id}),tH.bind(function(er){er?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!ef?this.resetFlush():this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this)),tH.each(ep,tH.bind(function(er){var eo=er.id;eo?(this.itemIdsSentSuccessfully[eo]=this.itemIdsSentSuccessfully[eo]||0,this.itemIdsSentSuccessfully[eo]++,this.itemIdsSentSuccessfully[eo]>5&&this.reportError("[dupe] item ID sent too many times",{item:er,batchSize:ep.length,timesSent:this.itemIdsSentSuccessfully[eo]})):this.reportError("[dupe] found item with no ID while removing",{item:er})},this)))}catch(er){this.reportError("Error handling API response",er),this.resetFlush()}},this),ev={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:eo};er.unloading&&(ev.transport="sendBeacon"),t0.log("MIXPANEL REQUEST:",eg),this.sendRequest(eg,ev,ey)}catch(er){this.reportError("Error flushing request queue",er),this.resetFlush()}},RequestBatcher.prototype.reportError=function(er,eo){if(t0.error.apply(t0.error,arguments),this.errorReporter)try{eo instanceof Error||(eo=Error(er)),this.errorReporter(er,eo)}catch(er){t0.error(er)}};var t1=console_with_prefix("recorder"),t2=e3.CompressionStream,t3={batch_size:1e3,batch_flush_interval_ms:1e4,batch_request_timeout_ms:9e4,batch_autostart:!0},t6=new Set([tb.MouseMove,tb.MouseInteraction,tb.Scroll,tb.ViewportResize,tb.Input,tb.TouchMove,tb.MediaInteraction,tb.Drag,tb.Selection]),MixpanelRecorder=function(er){this._mixpanel=er,this._stopRecording=null,this.recEvents=[],this.seqNo=0,this.replayId=null,this.replayStartTime=null,this.sendBatchId=null,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=864e5,this.recordMinMs=0,this._initBatcher()};MixpanelRecorder.prototype._initBatcher=function(){this.batcher=new RequestBatcher("__mprec",{libConfig:t3,sendRequestFunc:tH.bind(this.flushEventsWithOptOut,this),errorReporter:tH.bind(this.reportError,this),flushOnlyOnInterval:!0,usePersistence:!1})},MixpanelRecorder.prototype.get_config=function(er){return this._mixpanel.get_config(er)},MixpanelRecorder.prototype.startRecording=function(er){if(null!==this._stopRecording){t1.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.get_config("record_max_ms"),this.recordMaxMs>864e5&&(this.recordMaxMs=864e5,t1.critical("record_max_ms cannot be greater than 86400000ms. Capping value.")),this.recordMinMs=this.get_config("record_min_ms"),this.recordMinMs>8e3&&(this.recordMinMs=8e3,t1.critical("record_min_ms cannot be greater than 8000ms. Capping value.")),this.recEvents=[],this.seqNo=0,this.replayStartTime=new Date().getTime(),this.replayId=tH.UUID(),er||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var eo=tH.bind(function(){clearTimeout(this.idleTimeoutId),this.idleTimeoutId=setTimeout(tH.bind(function(){t1.log("Idle timeout reached, restarting recording."),this.resetRecording()},this),this.get_config("record_idle_timeout_ms"))},this),ec=this.get_config("record_block_selector");(""===ec||null===ec)&&(ec=void 0),this._stopRecording=record({emit:tH.bind(function(er){this.batcher.enqueue(er),er.type===t_.IncrementalSnapshot&&t6.has(er.data.source)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),eo())},this),blockClass:this.get_config("record_block_class"),blockSelector:ec,collectFonts:this.get_config("record_collect_fonts"),inlineImages:this.get_config("record_inline_images"),maskAllInputs:!0,maskTextClass:this.get_config("record_mask_text_class"),maskTextSelector:this.get_config("record_mask_text_selector")}),eo(),this.maxTimeoutId=setTimeout(tH.bind(this.resetRecording,this),this.recordMaxMs)},MixpanelRecorder.prototype.resetRecording=function(){this.stopRecording(),this.startRecording(!0)},MixpanelRecorder.prototype.stopRecording=function(){null!==this._stopRecording&&(this._stopRecording(),this._stopRecording=null),this.batcher.stopped?this.batcher.clear():(this.batcher.flush(),this.batcher.stop()),this.replayId=null,clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId)},MixpanelRecorder.prototype.flushEventsWithOptOut=function(er,eo,ec){this._flushEvents(er,eo,ec,tH.bind(this._onOptOut,this))},MixpanelRecorder.prototype._onOptOut=function(er){0===er&&(this.recEvents=[],this.stopRecording())},MixpanelRecorder.prototype._sendRequest=function(er,eo,ec,eh){var ep=tH.bind(function(eo,ec){200===eo.status&&this.replayId===er&&this.seqNo++,eh({status:0,httpStatusCode:eo.status,responseBody:ec,retryAfter:eo.headers.get("Retry-After")})},this);e3.fetch(this.get_config("api_host")+"/"+this.get_config("api_routes").record+"?"+new URLSearchParams(eo),{method:"POST",headers:{Authorization:"Basic "+btoa(this.get_config("token")+":"),"Content-Type":"application/octet-stream"},body:ec}).then(function(er){er.json().then(function(eo){ep(er,eo)}).catch(function(er){eh({error:er})})}).catch(function(er){eh({error:er,httpStatusCode:0})})},MixpanelRecorder.prototype._flushEvents=addOptOutCheckMixpanelLib(function(er,eo,ec){let eh=er.length;if(eh>0){var ep=this.replayId,ef=er[0].timestamp;0!==this.seqNo&&this.replayStartTime||(0!==this.seqNo&&this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=ef);var eg=er[eh-1].timestamp-this.replayStartTime,em={distinct_id:String(this._mixpanel.get_distinct_id()),seq:this.seqNo,batch_start_time:ef/1e3,replay_id:ep,replay_length_ms:eg,replay_start_time:this.replayStartTime/1e3},ey=tH.JSONEncode(er),ev=this._mixpanel.get_property("$device_id");ev&&(em.$device_id=ev);var e_=this._mixpanel.get_property("$user_id");if(e_&&(em.$user_id=e_),t2){var ew=new Blob([ey],{type:"application/json"}).stream().pipeThrough(new t2("gzip"));new Response(ew).blob().then(tH.bind(function(er){em.format="gzip",this._sendRequest(ep,em,er,ec)},this))}else em.format="body",this._sendRequest(ep,em,ey,ec)}}),MixpanelRecorder.prototype.reportError=function(er,eo){t1.error.apply(t1.error,arguments);try{eo||er instanceof Error||(er=Error(er)),this.get_config("error_reporter")(er,eo)}catch(er){t1.error(er)}},e3.__mp_recorder=MixpanelRecorder;var DomTracker=function(){};DomTracker.prototype.create_properties=function(){},DomTracker.prototype.event_handler=function(){},DomTracker.prototype.after_track_handler=function(){},DomTracker.prototype.init=function(er){return this.mp=er,this},DomTracker.prototype.track=function(er,eo,ec,eh){var ep=this,ef=tH.dom_query(er);if(0===ef.length){tB.error("The DOM query ("+er+") returned 0 elements");return}return tH.each(ef,function(er){tH.register_event(er,this.override_event,function(er){var ef={},eg=ep.create_properties(ec,this),em=ep.mp.get_config("track_links_timeout");ep.event_handler(er,this,ef),window.setTimeout(ep.track_callback(eh,eg,ef,!0),em),ep.mp.track(eo,eg,ep.track_callback(eh,eg,ef))})},this),!0},DomTracker.prototype.track_callback=function(er,eo,ec,eh){eh=eh||!1;var ep=this;return function(){!ec.callback_fired&&(ec.callback_fired=!0,er&&!1===er(eh,eo)||ep.after_track_handler(eo,ec,eh))}},DomTracker.prototype.create_properties=function(er,eo){return"function"==typeof er?er(eo):tH.extend({},er)};var LinkTracker=function(){this.override_event="click"};tH.inherit(LinkTracker,DomTracker),LinkTracker.prototype.create_properties=function(er,eo){var ec=LinkTracker.superclass.create_properties.apply(this,arguments);return eo.href&&(ec.url=eo.href),ec},LinkTracker.prototype.event_handler=function(er,eo,ec){ec.new_tab=2===er.which||er.metaKey||er.ctrlKey||"_blank"===eo.target,ec.href=eo.href,ec.new_tab||er.preventDefault()},LinkTracker.prototype.after_track_handler=function(er,eo){eo.new_tab||setTimeout(function(){window.location=eo.href},0)};var FormTracker=function(){this.override_event="submit"};tH.inherit(FormTracker,DomTracker),FormTracker.prototype.event_handler=function(er,eo,ec){ec.element=eo,er.preventDefault()},FormTracker.prototype.after_track_handler=function(er,eo){setTimeout(function(){eo.element.submit()},0)};var t4="$set",t5="$set_once",t9="$unset",t7="$add",t8="$append",nn="$union",nr="$remove",ni={set_action:function(er,eo){var ec={},eh={};return tH.isObject(er)?tH.each(er,function(er,eo){this._is_reserved_property(eo)||(eh[eo]=er)},this):eh[er]=eo,ec[t4]=eh,ec},unset_action:function(er){var eo={},ec=[];return tH.isArray(er)||(er=[er]),tH.each(er,function(er){this._is_reserved_property(er)||ec.push(er)},this),eo[t9]=ec,eo},set_once_action:function(er,eo){var ec={},eh={};return tH.isObject(er)?tH.each(er,function(er,eo){this._is_reserved_property(eo)||(eh[eo]=er)},this):eh[er]=eo,ec[t5]=eh,ec},union_action:function(er,eo){var ec={},eh={};return tH.isObject(er)?tH.each(er,function(er,eo){this._is_reserved_property(eo)||(eh[eo]=tH.isArray(er)?er:[er])},this):eh[er]=tH.isArray(eo)?eo:[eo],ec[nn]=eh,ec},append_action:function(er,eo){var ec={},eh={};return tH.isObject(er)?tH.each(er,function(er,eo){this._is_reserved_property(eo)||(eh[eo]=er)},this):eh[er]=eo,ec[t8]=eh,ec},remove_action:function(er,eo){var ec={},eh={};return tH.isObject(er)?tH.each(er,function(er,eo){this._is_reserved_property(eo)||(eh[eo]=er)},this):eh[er]=eo,ec[nr]=eh,ec},delete_action:function(){var er={};return er.$delete="",er}},MixpanelGroup=function(){};tH.extend(MixpanelGroup.prototype,ni),MixpanelGroup.prototype._init=function(er,eo,ec){this._mixpanel=er,this._group_key=eo,this._group_id=ec},MixpanelGroup.prototype.set=addOptOutCheckMixpanelGroup(function(er,eo,ec){var eh=this.set_action(er,eo);return tH.isObject(er)&&(ec=eo),this._send_request(eh,ec)}),MixpanelGroup.prototype.set_once=addOptOutCheckMixpanelGroup(function(er,eo,ec){var eh=this.set_once_action(er,eo);return tH.isObject(er)&&(ec=eo),this._send_request(eh,ec)}),MixpanelGroup.prototype.unset=addOptOutCheckMixpanelGroup(function(er,eo){var ec=this.unset_action(er);return this._send_request(ec,eo)}),MixpanelGroup.prototype.union=addOptOutCheckMixpanelGroup(function(er,eo,ec){tH.isObject(er)&&(ec=eo);var eh=this.union_action(er,eo);return this._send_request(eh,ec)}),MixpanelGroup.prototype.delete=addOptOutCheckMixpanelGroup(function(er){var eo=this.delete_action();return this._send_request(eo,er)}),MixpanelGroup.prototype.remove=addOptOutCheckMixpanelGroup(function(er,eo,ec){var eh=this.remove_action(er,eo);return this._send_request(eh,ec)}),MixpanelGroup.prototype._send_request=function(er,eo){er.$group_key=this._group_key,er.$group_id=this._group_id,er.$token=this._get_config("token");var ec=tH.encodeDates(er);return this._mixpanel._track_or_batch({type:"groups",data:ec,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},eo)},MixpanelGroup.prototype._is_reserved_property=function(er){return"$group_key"===er||"$group_id"===er},MixpanelGroup.prototype._get_config=function(er){return this._mixpanel.get_config(er)},MixpanelGroup.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},MixpanelGroup.prototype.remove=MixpanelGroup.prototype.remove,MixpanelGroup.prototype.set=MixpanelGroup.prototype.set,MixpanelGroup.prototype.set_once=MixpanelGroup.prototype.set_once,MixpanelGroup.prototype.union=MixpanelGroup.prototype.union,MixpanelGroup.prototype.unset=MixpanelGroup.prototype.unset,MixpanelGroup.prototype.toString=MixpanelGroup.prototype.toString;var MixpanelPeople=function(){};tH.extend(MixpanelPeople.prototype,ni),MixpanelPeople.prototype._init=function(er){this._mixpanel=er},MixpanelPeople.prototype.set=addOptOutCheckMixpanelPeople(function(er,eo,ec){var eh=this.set_action(er,eo);return tH.isObject(er)&&(ec=eo),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),eh[t4]=tH.extend({},tH.info.people_properties(),eh[t4]),this._send_request(eh,ec)}),MixpanelPeople.prototype.set_once=addOptOutCheckMixpanelPeople(function(er,eo,ec){var eh=this.set_once_action(er,eo);return tH.isObject(er)&&(ec=eo),this._send_request(eh,ec)}),MixpanelPeople.prototype.unset=addOptOutCheckMixpanelPeople(function(er,eo){var ec=this.unset_action(er);return this._send_request(ec,eo)}),MixpanelPeople.prototype.increment=addOptOutCheckMixpanelPeople(function(er,eo,ec){var eh={},ep={};return tH.isObject(er)?(tH.each(er,function(er,eo){if(!this._is_reserved_property(eo)){if(isNaN(parseFloat(er))){tB.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}ep[eo]=er}},this),ec=eo):(tH.isUndefined(eo)&&(eo=1),ep[er]=eo),eh[t7]=ep,this._send_request(eh,ec)}),MixpanelPeople.prototype.append=addOptOutCheckMixpanelPeople(function(er,eo,ec){tH.isObject(er)&&(ec=eo);var eh=this.append_action(er,eo);return this._send_request(eh,ec)}),MixpanelPeople.prototype.remove=addOptOutCheckMixpanelPeople(function(er,eo,ec){tH.isObject(er)&&(ec=eo);var eh=this.remove_action(er,eo);return this._send_request(eh,ec)}),MixpanelPeople.prototype.union=addOptOutCheckMixpanelPeople(function(er,eo,ec){tH.isObject(er)&&(ec=eo);var eh=this.union_action(er,eo);return this._send_request(eh,ec)}),MixpanelPeople.prototype.track_charge=addOptOutCheckMixpanelPeople(function(er,eo,ec){if(!tH.isNumber(er)&&isNaN(er=parseFloat(er))){tB.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",tH.extend({$amount:er},eo),ec)}),MixpanelPeople.prototype.clear_charges=function(er){return this.set("$transactions",[],er)},MixpanelPeople.prototype.delete_user=function(){if(!this._identify_called()){tB.error("mixpanel.people.delete_user() requires you to call identify() first");return}var er={$delete:this._mixpanel.get_distinct_id()};return this._send_request(er)},MixpanelPeople.prototype.toString=function(){return this._mixpanel.toString()+".people"},MixpanelPeople.prototype._send_request=function(er,eo){er.$token=this._get_config("token"),er.$distinct_id=this._mixpanel.get_distinct_id();var ec=this._mixpanel.get_property("$device_id"),eh=this._mixpanel.get_property("$user_id"),ep=this._mixpanel.get_property("$had_persisted_distinct_id");ec&&(er.$device_id=ec),eh&&(er.$user_id=eh),ep&&(er.$had_persisted_distinct_id=ep);var ef=tH.encodeDates(er);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:ef,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},eo):(this._enqueue(er),tH.isUndefined(eo)||eo(this._get_config("verbose")?{status:-1,error:null}:-1),tH.truncate(ef,255))},MixpanelPeople.prototype._get_config=function(er){return this._mixpanel.get_config(er)},MixpanelPeople.prototype._identify_called=function(){return!0===this._mixpanel._flags.identify_called},MixpanelPeople.prototype._enqueue=function(er){t4 in er?this._mixpanel.persistence._add_to_people_queue(t4,er):t5 in er?this._mixpanel.persistence._add_to_people_queue(t5,er):t9 in er?this._mixpanel.persistence._add_to_people_queue(t9,er):t7 in er?this._mixpanel.persistence._add_to_people_queue(t7,er):t8 in er?this._mixpanel.persistence._add_to_people_queue(t8,er):nr in er?this._mixpanel.persistence._add_to_people_queue(nr,er):nn in er?this._mixpanel.persistence._add_to_people_queue(nn,er):tB.error("Invalid call to _enqueue():",er)},MixpanelPeople.prototype._flush_one_queue=function(er,eo,ec,eh){var ep=this,ef=tH.extend({},this._mixpanel.persistence.load_queue(er)),eg=ef;!tH.isUndefined(ef)&&tH.isObject(ef)&&!tH.isEmptyObject(ef)&&(ep._mixpanel.persistence._pop_from_people_queue(er,ef),ep._mixpanel.persistence.save(),eh&&(eg=eh(ef)),eo.call(ep,eg,function(eo,eh){0===eo&&ep._mixpanel.persistence._add_to_people_queue(er,ef),tH.isUndefined(ec)||ec(eo,eh)}))},MixpanelPeople.prototype._flush=function(er,eo,ec,eh,ep,ef,eg){var em=this;this._flush_one_queue(t4,this.set,er),this._flush_one_queue(t5,this.set_once,eh),this._flush_one_queue(t9,this.unset,ef,function(er){return tH.keys(er)}),this._flush_one_queue(t7,this.increment,eo),this._flush_one_queue(nn,this.union,ep);var ey=this._mixpanel.persistence.load_queue(t8);if(!tH.isUndefined(ey)&&tH.isArray(ey)&&ey.length)for(var ev,append_callback=function(er,eo){0===er&&em._mixpanel.persistence._add_to_people_queue(t8,ev),tH.isUndefined(ec)||ec(er,eo)},e_=ey.length-1;e_>=0;e_--)ev=(ey=this._mixpanel.persistence.load_queue(t8)).pop(),em._mixpanel.persistence.save(),tH.isEmptyObject(ev)||em.append(ev,append_callback);var ew=this._mixpanel.persistence.load_queue(nr);if(!tH.isUndefined(ew)&&tH.isArray(ew)&&ew.length)for(var ex,remove_callback=function(er,eo){0===er&&em._mixpanel.persistence._add_to_people_queue(nr,ex),tH.isUndefined(eg)||eg(er,eo)},ek=ew.length-1;ek>=0;ek--)ex=(ew=this._mixpanel.persistence.load_queue(nr)).pop(),em._mixpanel.persistence.save(),tH.isEmptyObject(ex)||em.remove(ex,remove_callback)},MixpanelPeople.prototype._is_reserved_property=function(er){return"$distinct_id"===er||"$token"===er||"$device_id"===er||"$user_id"===er||"$had_persisted_distinct_id"===er},MixpanelPeople.prototype.set=MixpanelPeople.prototype.set,MixpanelPeople.prototype.set_once=MixpanelPeople.prototype.set_once,MixpanelPeople.prototype.unset=MixpanelPeople.prototype.unset,MixpanelPeople.prototype.increment=MixpanelPeople.prototype.increment,MixpanelPeople.prototype.append=MixpanelPeople.prototype.append,MixpanelPeople.prototype.remove=MixpanelPeople.prototype.remove,MixpanelPeople.prototype.union=MixpanelPeople.prototype.union,MixpanelPeople.prototype.track_charge=MixpanelPeople.prototype.track_charge,MixpanelPeople.prototype.clear_charges=MixpanelPeople.prototype.clear_charges,MixpanelPeople.prototype.delete_user=MixpanelPeople.prototype.delete_user,MixpanelPeople.prototype.toString=MixpanelPeople.prototype.toString;var no="__mps",nd="__mpso",np="__mpus",ng="__mpa",nm="__mpap",ny="__mpr",nv="__mpu",n_="$people_distinct_id",nb="__alias",nw="__timers",nx=[no,nd,np,ng,nm,ny,nv,n_,nb,nw],MixpanelPersistence=function(er){this.props={},this.campaign_params_saved=!1,er.persistence_name?this.name="mp_"+er.persistence_name:this.name="mp_"+er.token+"_mixpanel";var eo=er.persistence;"cookie"!==eo&&"localStorage"!==eo&&(tB.critical("Unknown persistence type "+eo+"; falling back to cookie"),eo=er.persistence="cookie"),"localStorage"===eo&&tH.localStorage.is_supported()?this.storage=tH.localStorage:this.storage=tH.cookie,this.load(),this.update_config(er),this.upgrade(),this.save()};MixpanelPersistence.prototype.properties=function(){var er={};return this.load(),tH.each(this.props,function(eo,ec){tH.include(nx,ec)||(er[ec]=eo)}),er},MixpanelPersistence.prototype.load=function(){if(!this.disabled){var er=this.storage.parse(this.name);er&&(this.props=tH.extend({},er))}},MixpanelPersistence.prototype.upgrade=function(){var er,eo;this.storage===tH.localStorage?(er=tH.cookie.parse(this.name),tH.cookie.remove(this.name),tH.cookie.remove(this.name,!0),er&&this.register_once(er)):this.storage===tH.cookie&&(eo=tH.localStorage.parse(this.name),tH.localStorage.remove(this.name),eo&&this.register_once(eo))},MixpanelPersistence.prototype.save=function(){this.disabled||this.storage.set(this.name,tH.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},MixpanelPersistence.prototype.load_prop=function(er){return this.load(),this.props[er]},MixpanelPersistence.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},MixpanelPersistence.prototype.clear=function(){this.remove(),this.props={}},MixpanelPersistence.prototype.register_once=function(er,eo,ec){return!!tH.isObject(er)&&(void 0===eo&&(eo="None"),this.expire_days=void 0===ec?this.default_expiry:ec,this.load(),tH.each(er,function(er,ec){this.props.hasOwnProperty(ec)&&this.props[ec]!==eo||(this.props[ec]=er)},this),this.save(),!0)},MixpanelPersistence.prototype.register=function(er,eo){return!!tH.isObject(er)&&(this.expire_days=void 0===eo?this.default_expiry:eo,this.load(),tH.extend(this.props,er),this.save(),!0)},MixpanelPersistence.prototype.unregister=function(er){this.load(),er in this.props&&(delete this.props[er],this.save())},MixpanelPersistence.prototype.update_search_keyword=function(er){this.register(tH.info.searchInfo(er))},MixpanelPersistence.prototype.update_referrer_info=function(er){this.register_once({$initial_referrer:er||"$direct",$initial_referring_domain:tH.info.referringDomain(er)||"$direct"},"")},MixpanelPersistence.prototype.get_referrer_info=function(){return tH.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},MixpanelPersistence.prototype.update_config=function(er){this.default_expiry=this.expire_days=er.cookie_expiration,this.set_disabled(er.disable_persistence),this.set_cookie_domain(er.cookie_domain),this.set_cross_site(er.cross_site_cookie),this.set_cross_subdomain(er.cross_subdomain_cookie),this.set_secure(er.secure_cookie)},MixpanelPersistence.prototype.set_disabled=function(er){this.disabled=er,this.disabled?this.remove():this.save()},MixpanelPersistence.prototype.set_cookie_domain=function(er){er!==this.cookie_domain&&(this.remove(),this.cookie_domain=er,this.save())},MixpanelPersistence.prototype.set_cross_site=function(er){er!==this.cross_site&&(this.cross_site=er,this.remove(),this.save())},MixpanelPersistence.prototype.set_cross_subdomain=function(er){er!==this.cross_subdomain&&(this.cross_subdomain=er,this.remove(),this.save())},MixpanelPersistence.prototype.get_cross_subdomain=function(){return this.cross_subdomain},MixpanelPersistence.prototype.set_secure=function(er){er!==this.secure&&(this.secure=!!er,this.remove(),this.save())},MixpanelPersistence.prototype._add_to_people_queue=function(er,eo){var ec=this._get_queue_key(er),eh=eo[er],ep=this._get_or_create_queue(t4),ef=this._get_or_create_queue(t5),eg=this._get_or_create_queue(t9),em=this._get_or_create_queue(t7),ey=this._get_or_create_queue(nn),ev=this._get_or_create_queue(nr,[]),e_=this._get_or_create_queue(t8,[]);ec===no?(tH.extend(ep,eh),this._pop_from_people_queue(t7,eh),this._pop_from_people_queue(nn,eh),this._pop_from_people_queue(t9,eh)):ec===nd?(tH.each(eh,function(er,eo){eo in ef||(ef[eo]=er)}),this._pop_from_people_queue(t9,eh)):ec===np?tH.each(eh,function(er){tH.each([ep,ef,em,ey],function(eo){er in eo&&delete eo[er]}),tH.each(e_,function(eo){er in eo&&delete eo[er]}),eg[er]=!0}):ec===ng?(tH.each(eh,function(er,eo){eo in ep?ep[eo]+=er:(eo in em||(em[eo]=0),em[eo]+=er)},this),this._pop_from_people_queue(t9,eh)):ec===nv?(tH.each(eh,function(er,eo){tH.isArray(er)&&(eo in ey||(ey[eo]=[]),ey[eo]=ey[eo].concat(er))}),this._pop_from_people_queue(t9,eh)):ec===ny?(ev.push(eh),this._pop_from_people_queue(t8,eh)):ec===nm&&(e_.push(eh),this._pop_from_people_queue(t9,eh)),tB.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),tB.log(eo),this.save()},MixpanelPersistence.prototype._pop_from_people_queue=function(er,eo){var ec=this.props[this._get_queue_key(er)];tH.isUndefined(ec)||tH.each(eo,function(eo,eh){er===t8||er===nr?tH.each(ec,function(er){er[eh]===eo&&delete er[eh]}):delete ec[eh]},this)},MixpanelPersistence.prototype.load_queue=function(er){return this.load_prop(this._get_queue_key(er))},MixpanelPersistence.prototype._get_queue_key=function(er){return er===t4?no:er===t5?nd:er===t9?np:er===t7?ng:er===t8?nm:er===nr?ny:er===nn?nv:void tB.error("Invalid queue:",er)},MixpanelPersistence.prototype._get_or_create_queue=function(er,eo){var ec=this._get_queue_key(er);return eo=tH.isUndefined(eo)?{}:eo,this.props[ec]||(this.props[ec]=eo)},MixpanelPersistence.prototype.set_event_timer=function(er,eo){var ec=this.load_prop(nw)||{};ec[er]=eo,this.props[nw]=ec,this.save()},MixpanelPersistence.prototype.remove_event_timer=function(er){var eo=(this.load_prop(nw)||{})[er];return tH.isUndefined(eo)||(delete this.props[nw][er],this.save()),eo};var load_extra_bundle=function(er,eo){throw Error(er+" not available in this build.")},IDENTITY_FUNC=function(er){return er},NOOP_FUNC=function(){},nk="mixpanel",nS="base64",nC="$device:",nI=e3.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,nE=!nI&&-1===tR.indexOf("MSIE")&&-1===tR.indexOf("Mozilla"),nT=null;tA.sendBeacon&&(nT=function(){return tA.sendBeacon.apply(tA,arguments)});var nN={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},nA={api_host:"https://api-js.mixpanel.com",api_routes:nN,api_method:"POST",api_transport:"XHR",api_payload_format:nS,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:NOOP_FUNC,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:NOOP_FUNC,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_collect_fonts:!1,record_idle_timeout_ms:18e5,record_inline_images:!1,record_mask_text_class:RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:864e5,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},nO=!1,MixpanelLib=function(){},create_mplib=function(er,eo,ec){var eh,ep=ec===nk?e4:e4[ec];if(ep&&0===e6)eh=ep;else{if(ep&&!tH.isArray(ep)){tB.error("You have already initialized "+ec);return}eh=new MixpanelLib}if(eh._cached_groups={},eh._init(er,eo,ec),eh.people=new MixpanelPeople,eh.people._init(eh),!eh.get_config("skip_first_touch_marketing")){var ef=tH.info.campaignParams(null),eg={},em=!1;tH.each(ef,function(er,eo){eg["initial_"+eo]=er,er&&(em=!0)}),em&&eh.people.set_once(eg)}return tw.DEBUG=tw.DEBUG||eh.get_config("debug"),!tH.isUndefined(ep)&&tH.isArray(ep)&&(eh._execute_array.call(eh.people,ep.people),eh._execute_array(ep)),eh};MixpanelLib.prototype.init=function(er,eo,ec){if(tH.isUndefined(ec)){this.report_error("You must name your new library: init(token, config, name)");return}if(ec===nk){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var eh=create_mplib(er,eo,ec);return e4[ec]=eh,eh._loaded(),eh},MixpanelLib.prototype._init=function(er,eo,ec){eo=eo||{},this.__loaded=!0,this.config={};var eh={};if(!("api_payload_format"in eo)&&(eo.api_host||nA.api_host).match(/\.mixpanel\.com/)&&(eh.api_payload_format="json"),this.set_config(tH.extend({},nA,eh,eo,{name:ec,token:er,callback_fn:(ec===nk?ec:nk+"."+ec)+"._jsc"})),this._jsc=NOOP_FUNC,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(tH.localStorage.is_supported(!0)&&nI){if(this.init_batchers(),nT&&e3.addEventListener){var ep=tH.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);e3.addEventListener("pagehide",function(er){er.persisted&&ep()}),e3.addEventListener("visibilitychange",function(){"hidden"===tO.visibilityState&&ep()})}}else this._batch_requests=!1,tB.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),tH.each(this.get_batcher_configs(),function(er){tB.log("Clearing batch queue "+er.queue_key),tH.localStorage.remove(er.queue_key)})}this.persistence=this.cookie=new MixpanelPersistence(this.config),this.unpersisted_superprops={},this._gdpr_init();var ef=tH.UUID();this.get_distinct_id()||this.register_once({distinct_id:nC+ef,$device_id:ef},"");var eg=this.get_config("track_pageview");eg&&this._init_url_change_tracking(eg),this.get_config("record_sessions_percent")>0&&100*Math.random()<=this.get_config("record_sessions_percent")&&this.start_session_recording()},MixpanelLib.prototype.start_session_recording=addOptOutCheckMixpanelLib(function(){if(!e3.MutationObserver){tB.critical("Browser does not support MutationObserver; skipping session recording");return}var er=tH.bind(function(){this._recorder=this._recorder||new e3.__mp_recorder(this),this._recorder.startRecording()},this);tH.isUndefined(e3.__mp_recorder)?load_extra_bundle(this.get_config("recorder_src"),er):er()}),MixpanelLib.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():tB.critical("Session recorder module not loaded")},MixpanelLib.prototype.get_session_recording_properties=function(){var er={};if(this._recorder){var eo=this._recorder.replayId;eo&&(er.$mp_replay_id=eo)}return er},MixpanelLib.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var er=tH.info.campaignParams(null);tH.each(er,(function(er,eo){this.unregister(eo)}).bind(this))}},MixpanelLib.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(tO.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(tH.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(tO.referrer)},MixpanelLib.prototype._dom_loaded=function(){tH.each(this.__dom_loaded_queue,function(er){this._track_dom.apply(this,er)},this),this.has_opted_out_tracking()||tH.each(this.__request_queue,function(er){this._send_request.apply(this,er)},this),delete this.__dom_loaded_queue,delete this.__request_queue},MixpanelLib.prototype._track_dom=function(er,eo){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!nO)return this.__dom_loaded_queue.push([er,eo]),!1;var ec=new er().init(this);return ec.track.apply(ec,eo)},MixpanelLib.prototype._init_url_change_tracking=function(er){var eo="";if(this.track_pageview()&&(eo=tH.info.currentUrl()),tH.include(["full-url","url-with-path-and-query-string","url-with-path"],er)){e3.addEventListener("popstate",function(){e3.dispatchEvent(new Event("mp_locationchange"))}),e3.addEventListener("hashchange",function(){e3.dispatchEvent(new Event("mp_locationchange"))});var ec=e3.history.pushState;"function"==typeof ec&&(e3.history.pushState=function(er,eo,eh){ec.call(e3.history,er,eo,eh),e3.dispatchEvent(new Event("mp_locationchange"))});var eh=e3.history.replaceState;"function"==typeof eh&&(e3.history.replaceState=function(er,eo,ec){eh.call(e3.history,er,eo,ec),e3.dispatchEvent(new Event("mp_locationchange"))}),e3.addEventListener("mp_locationchange",(function(){var ec=tH.info.currentUrl(),eh=!1;"full-url"===er?eh=ec!==eo:"url-with-path-and-query-string"===er?eh=ec.split("#")[0]!==eo.split("#")[0]:"url-with-path"===er&&(eh=ec.split("#")[0].split("?")[0]!==eo.split("#")[0].split("?")[0]),eh&&this.track_pageview()&&(eo=ec)}).bind(this))}},MixpanelLib.prototype._prepare_callback=function(er,eo){if(tH.isUndefined(er))return null;if(nI)return function(ec){er(ec,eo)};var ec=this._jsc,eh=""+Math.floor(1e8*Math.random()),ep=this.get_config("callback_fn")+"["+eh+"]";return ec[eh]=function(ep){delete ec[eh],er(ep,eo)},ep},MixpanelLib.prototype._send_request=function(er,eo,ec,eh){var ep=!0;if(nE)return this.__request_queue.push(arguments),ep;var ef={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},eg=null;!eh&&(tH.isFunction(ec)||"string"==typeof ec)&&(eh=ec,ec=null),ec=tH.extend(ef,ec||{}),nI||(ec.method="GET");var em="POST"===ec.method,ey=nT&&em&&"sendbeacon"===ec.transport.toLowerCase(),ev=ec.verbose;eo.verbose&&(ev=!0),this.get_config("test")&&(eo.test=1),ev&&(eo.verbose=1),this.get_config("img")&&(eo.img=1),!nI&&(eh?eo.callback=eh:(ev||this.get_config("test"))&&(eo.callback="(function(){})")),eo.ip=this.get_config("ip")?1:0,eo._=new Date().getTime().toString(),em&&(eg="data="+encodeURIComponent(eo.data),delete eo.data),er+="?"+tH.HTTPBuildQuery(eo);var e_=this;if("img"in eo){var ew=tO.createElement("img");ew.src=er,tO.body.appendChild(ew)}else if(ey){try{ep=nT(er,eg)}catch(er){e_.report_error(er),ep=!1}try{eh&&eh(ep?1:0)}catch(er){e_.report_error(er)}}else if(nI)try{var ex=new XMLHttpRequest;ex.open(ec.method,er,!0);var ek=this.get_config("xhr_headers");if(em&&(ek["Content-Type"]="application/x-www-form-urlencoded"),tH.each(ek,function(er,eo){ex.setRequestHeader(eo,er)}),ec.timeout_ms&&void 0!==ex.timeout){ex.timeout=ec.timeout_ms;var eS=new Date().getTime()}ex.withCredentials=!0,ex.onreadystatechange=function(){if(4===ex.readyState){if(200===ex.status){if(eh){if(ev){try{er=tH.JSONDecode(ex.responseText)}catch(eo){if(e_.report_error(eo),!ec.ignore_json_errors)return;er=ex.responseText}eh(er)}else eh(Number(ex.responseText))}}else if(eo=ex.timeout&&!ex.status&&new Date().getTime()-eS>=ex.timeout?"timeout":"Bad HTTP status: "+ex.status+" "+ex.statusText,e_.report_error(eo),eh){if(ev){var er,eo,ep=ex.responseHeaders||{};eh({status:0,httpStatusCode:ex.status,error:eo,retryAfter:ep["Retry-After"]})}else eh(0)}}},ex.send(eg)}catch(er){e_.report_error(er),ep=!1}else{var eC=tO.createElement("script");eC.type="text/javascript",eC.async=!0,eC.defer=!0,eC.src=er;var eI=tO.getElementsByTagName("script")[0];eI.parentNode.insertBefore(eC,eI)}return ep},MixpanelLib.prototype._execute_array=function(er){var eo,ec=[],eh=[],ep=[];tH.each(er,function(er){er&&(eo=er[0],tH.isArray(eo)?ep.push(er):"function"==typeof er?er.call(this):tH.isArray(er)&&"alias"===eo?ec.push(er):tH.isArray(er)&&-1!==eo.indexOf("track")&&"function"==typeof this[eo]?ep.push(er):eh.push(er))},this);var execute=function(er,eo){tH.each(er,function(er){if(tH.isArray(er[0])){var ec=eo;tH.each(er,function(er){ec=ec[er[0]].apply(ec,er.slice(1))})}else this[er[0]].apply(this,er.slice(1))},eo)};execute(ec,this),execute(eh,this),execute(ep,this)},MixpanelLib.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},MixpanelLib.prototype.get_batcher_configs=function(){var er="__mpq_"+this.get_config("token"),eo=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+eo.track,queue_key:er+"_ev"},people:{type:"people",endpoint:"/"+eo.engage,queue_key:er+"_pp"},groups:{type:"groups",endpoint:"/"+eo.groups,queue_key:er+"_gr"}},this._batcher_configs},MixpanelLib.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var er=tH.bind(function(er){return new RequestBatcher(er.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:tH.bind(function(eo,ec,eh){this._send_request(this.get_config("api_host")+er.endpoint,this._encode_data_for_request(eo),ec,this._prepare_callback(eh,eo))},this),beforeSendHook:tH.bind(function(eo){return this._run_hook("before_send_"+er.type,eo)},this),stopAllBatchingFunc:tH.bind(this.stop_batch_senders,this),usePersistence:!0})},this),eo=this.get_batcher_configs();this.request_batchers={events:er(eo.events),people:er(eo.people),groups:er(eo.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()},MixpanelLib.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,tH.each(this.request_batchers,function(er){er.start()}))},MixpanelLib.prototype.stop_batch_senders=function(){this._batch_requests=!1,tH.each(this.request_batchers,function(er){er.stop(),er.clear()})},MixpanelLib.prototype.push=function(er){this._execute_array([er])},MixpanelLib.prototype.disable=function(er){void 0===er?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(er)},MixpanelLib.prototype._encode_data_for_request=function(er){var eo=tH.JSONEncode(er);return this.get_config("api_payload_format")===nS&&(eo=tH.base64Encode(eo)),{data:eo}},MixpanelLib.prototype._track_or_batch=function(er,eo){var ec=tH.truncate(er.data,255),eh=er.endpoint,ep=er.batcher,ef=er.should_send_immediately,eg=er.send_request_options||{};eo=eo||NOOP_FUNC;var em=!0,ey=tH.bind(function(){return(eg.skip_hooks||(ec=this._run_hook("before_send_"+er.type,ec)),ec)?(tB.log("MIXPANEL REQUEST:"),tB.log(ec),this._send_request(eh,this._encode_data_for_request(ec),eg,this._prepare_callback(eo,ec))):null},this);return this._batch_requests&&!ef?ep.enqueue(ec,function(er){er?eo(1,ec):ey()}):em=ey(),em&&ec},MixpanelLib.prototype.track=addOptOutCheckMixpanelLib(function(er,eo,ec,eh){eh||"function"!=typeof ec||(eh=ec,ec=null);var ep=(ec=ec||{}).transport;ep&&(ec.transport=ep);var ef=ec.send_immediately;if("function"!=typeof eh&&(eh=NOOP_FUNC),tH.isUndefined(er)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(er)){eh(0);return}(eo=tH.extend({},eo)).token=this.get_config("token");var eg=this.persistence.remove_event_timer(er);if(!tH.isUndefined(eg)){var em=new Date().getTime()-eg;eo.$duration=parseFloat((em/1e3).toFixed(3))}this._set_default_superprops();var ey=this.get_config("track_marketing")?tH.info.marketingParams():{};eo=tH.extend({},tH.info.properties({mp_loader:this.get_config("mp_loader")}),ey,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),eo);var ev=this.get_config("property_blacklist");tH.isArray(ev)?tH.each(ev,function(er){delete eo[er]}):this.report_error("Invalid value for property_blacklist config: "+ev);var e_={event:er,properties:eo};return this._track_or_batch({type:"events",data:e_,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:ef,send_request_options:ec},eh)}),MixpanelLib.prototype.set_group=addOptOutCheckMixpanelLib(function(er,eo,ec){tH.isArray(eo)||(eo=[eo]);var eh={};return eh[er]=eo,this.register(eh),this.people.set(er,eo,ec)}),MixpanelLib.prototype.add_group=addOptOutCheckMixpanelLib(function(er,eo,ec){var eh=this.get_property(er),ep={};return void 0===eh?(ep[er]=[eo],this.register(ep)):-1===eh.indexOf(eo)&&(eh.push(eo),ep[er]=eh,this.register(ep)),this.people.union(er,eo,ec)}),MixpanelLib.prototype.remove_group=addOptOutCheckMixpanelLib(function(er,eo,ec){var eh=this.get_property(er);if(void 0!==eh){var ep=eh.indexOf(eo);ep>-1&&(eh.splice(ep,1),this.register({group_key:eh})),0===eh.length&&this.unregister(er)}return this.people.remove(er,eo,ec)}),MixpanelLib.prototype.track_with_groups=addOptOutCheckMixpanelLib(function(er,eo,ec,eh){var ep=tH.extend({},eo||{});return tH.each(ec,function(er,eo){null!=er&&(ep[eo]=er)}),this.track(er,ep,eh)}),MixpanelLib.prototype._create_map_key=function(er,eo){return er+"_"+JSON.stringify(eo)},MixpanelLib.prototype._remove_group_from_cache=function(er,eo){delete this._cached_groups[this._create_map_key(er,eo)]},MixpanelLib.prototype.get_group=function(er,eo){var ec=this._create_map_key(er,eo),eh=this._cached_groups[ec];return(void 0===eh||eh._group_key!==er||eh._group_id!==eo)&&((eh=new MixpanelGroup)._init(this,er,eo),this._cached_groups[ec]=eh),eh},MixpanelLib.prototype.track_pageview=addOptOutCheckMixpanelLib(function(er,eo){"object"!=typeof er&&(er={});var ec=(eo=eo||{}).event_name||"$mp_web_page_view",eh=tH.extend(tH.info.mpPageViewProperties(),tH.info.campaignParams(),tH.info.clickParams()),ep=tH.extend({},eh,er);return this.track(ec,ep)}),MixpanelLib.prototype.track_links=function(){return this._track_dom.call(this,LinkTracker,arguments)},MixpanelLib.prototype.track_forms=function(){return this._track_dom.call(this,FormTracker,arguments)},MixpanelLib.prototype.time_event=function(er){if(tH.isUndefined(er)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(er)||this.persistence.set_event_timer(er,new Date().getTime())};var nP={persistent:!0},options_for_register=function(er){var eo;return eo=tH.isObject(er)?er:tH.isUndefined(er)?{}:{days:er},tH.extend({},nP,eo)};MixpanelLib.prototype.register=function(er,eo){var ec=options_for_register(eo);ec.persistent?this.persistence.register(er,ec.days):tH.extend(this.unpersisted_superprops,er)},MixpanelLib.prototype.register_once=function(er,eo,ec){var eh=options_for_register(ec);eh.persistent?this.persistence.register_once(er,eo,eh.days):(void 0===eo&&(eo="None"),tH.each(er,function(er,ec){this.unpersisted_superprops.hasOwnProperty(ec)&&this.unpersisted_superprops[ec]!==eo||(this.unpersisted_superprops[ec]=er)},this))},MixpanelLib.prototype.unregister=function(er,eo){(eo=options_for_register(eo)).persistent?this.persistence.unregister(er):delete this.unpersisted_superprops[er]},MixpanelLib.prototype._register_single=function(er,eo){var ec={};ec[er]=eo,this.register(ec)},MixpanelLib.prototype.identify=function(er,eo,ec,eh,ep,ef,eg,em){var ey=this.get_distinct_id();if(er&&ey!==er){if("string"==typeof er&&0===er.indexOf(nC))return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:er})}this.get_property("$device_id")||this.register_once({$had_persisted_distinct_id:!0,$device_id:ey},""),er!==ey&&er!==this.get_property(nb)&&(this.unregister(nb),this.register({distinct_id:er})),this._flags.identify_called=!0,this.people._flush(eo,ec,eh,ep,ef,eg,em),er!==ey&&this.track("$identify",{distinct_id:er,$anon_distinct_id:ey},{skip_hooks:!0})},MixpanelLib.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var er=tH.UUID();this.register_once({distinct_id:nC+er,$device_id:er},"")},MixpanelLib.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},MixpanelLib.prototype.alias=function(er,eo){if(er===this.get_property(n_))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var ec=this;return(tH.isUndefined(eo)&&(eo=this.get_distinct_id()),er!==eo)?(this._register_single(nb,er),this.track("$create_alias",{alias:er,distinct_id:eo},{skip_hooks:!0},function(){ec.identify(er)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(er),-1)},MixpanelLib.prototype.name_tag=function(er){this._register_single("mp_name_tag",er)},MixpanelLib.prototype.set_config=function(er){tH.isObject(er)&&(tH.extend(this.config,er),er.batch_size&&tH.each(this.request_batchers,function(er){er.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),tw.DEBUG=tw.DEBUG||this.get_config("debug"))},MixpanelLib.prototype.get_config=function(er){return this.config[er]},MixpanelLib.prototype._run_hook=function(er){var eo=(this.config.hooks[er]||IDENTITY_FUNC).apply(this,tI.call(arguments,1));return void 0===eo&&(this.report_error(er+" hook did not return a value"),eo=null),eo},MixpanelLib.prototype.get_property=function(er){return this.persistence.load_prop([er])},MixpanelLib.prototype.toString=function(){var er=this.get_config("name");return er!==nk&&(er=nk+"."+er),er},MixpanelLib.prototype._event_is_disabled=function(er){return tH.isBlockedUA(tR)||this._flags.disable_all_events||tH.include(this.__disabled_events,er)},MixpanelLib.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_tracking_persistence_type")&&tH.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||tH.cookie.get("mp_optout"))&&(tH.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},MixpanelLib.prototype._gdpr_update_persistence=function(er){var eo;if(er&&er.clear_persistence)eo=!0;else{if(!er||!er.enable_persistence)return;eo=!1}this.get_config("disable_persistence")||this.persistence.disabled===eo||this.persistence.set_disabled(eo),eo?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()},MixpanelLib.prototype._gdpr_call_func=function(er,eo){return eo=tH.extend({track:tH.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},eo),tH.localStorage.is_supported()||(eo.persistence_type="cookie"),er(this.get_config("token"),{track:eo.track,trackEventName:eo.track_event_name,trackProperties:eo.track_properties,persistenceType:eo.persistence_type,persistencePrefix:eo.cookie_prefix,cookieDomain:eo.cookie_domain,cookieExpiration:eo.cookie_expiration,crossSiteCookie:eo.cross_site_cookie,crossSubdomainCookie:eo.cross_subdomain_cookie,secureCookie:eo.secure_cookie,ignoreDnt:eo.ignore_dnt})},MixpanelLib.prototype.opt_in_tracking=function(er){er=tH.extend({enable_persistence:!0},er),this._gdpr_call_func(optIn,er),this._gdpr_update_persistence(er)},MixpanelLib.prototype.opt_out_tracking=function(er){(er=tH.extend({clear_persistence:!0,delete_user:!0},er)).delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(optOut,er),this._gdpr_update_persistence(er)},MixpanelLib.prototype.has_opted_in_tracking=function(er){return this._gdpr_call_func(hasOptedIn,er)},MixpanelLib.prototype.has_opted_out_tracking=function(er){return this._gdpr_call_func(hasOptedOut,er)},MixpanelLib.prototype.clear_opt_in_out_tracking=function(er){er=tH.extend({enable_persistence:!0},er),this._gdpr_call_func(clearOptInOut,er),this._gdpr_update_persistence(er)},MixpanelLib.prototype.report_error=function(er,eo){tB.error.apply(tB.error,arguments);try{eo||er instanceof Error||(er=Error(er)),this.get_config("error_reporter")(er,eo)}catch(er){tB.error(er)}},MixpanelLib.prototype.init=MixpanelLib.prototype.init,MixpanelLib.prototype.reset=MixpanelLib.prototype.reset,MixpanelLib.prototype.disable=MixpanelLib.prototype.disable,MixpanelLib.prototype.time_event=MixpanelLib.prototype.time_event,MixpanelLib.prototype.track=MixpanelLib.prototype.track,MixpanelLib.prototype.track_links=MixpanelLib.prototype.track_links,MixpanelLib.prototype.track_forms=MixpanelLib.prototype.track_forms,MixpanelLib.prototype.track_pageview=MixpanelLib.prototype.track_pageview,MixpanelLib.prototype.register=MixpanelLib.prototype.register,MixpanelLib.prototype.register_once=MixpanelLib.prototype.register_once,MixpanelLib.prototype.unregister=MixpanelLib.prototype.unregister,MixpanelLib.prototype.identify=MixpanelLib.prototype.identify,MixpanelLib.prototype.alias=MixpanelLib.prototype.alias,MixpanelLib.prototype.name_tag=MixpanelLib.prototype.name_tag,MixpanelLib.prototype.set_config=MixpanelLib.prototype.set_config,MixpanelLib.prototype.get_config=MixpanelLib.prototype.get_config,MixpanelLib.prototype.get_property=MixpanelLib.prototype.get_property,MixpanelLib.prototype.get_distinct_id=MixpanelLib.prototype.get_distinct_id,MixpanelLib.prototype.toString=MixpanelLib.prototype.toString,MixpanelLib.prototype.opt_out_tracking=MixpanelLib.prototype.opt_out_tracking,MixpanelLib.prototype.opt_in_tracking=MixpanelLib.prototype.opt_in_tracking,MixpanelLib.prototype.has_opted_out_tracking=MixpanelLib.prototype.has_opted_out_tracking,MixpanelLib.prototype.has_opted_in_tracking=MixpanelLib.prototype.has_opted_in_tracking,MixpanelLib.prototype.clear_opt_in_out_tracking=MixpanelLib.prototype.clear_opt_in_out_tracking,MixpanelLib.prototype.get_group=MixpanelLib.prototype.get_group,MixpanelLib.prototype.set_group=MixpanelLib.prototype.set_group,MixpanelLib.prototype.add_group=MixpanelLib.prototype.add_group,MixpanelLib.prototype.remove_group=MixpanelLib.prototype.remove_group,MixpanelLib.prototype.track_with_groups=MixpanelLib.prototype.track_with_groups,MixpanelLib.prototype.start_batch_senders=MixpanelLib.prototype.start_batch_senders,MixpanelLib.prototype.stop_batch_senders=MixpanelLib.prototype.stop_batch_senders,MixpanelLib.prototype.start_session_recording=MixpanelLib.prototype.start_session_recording,MixpanelLib.prototype.stop_session_recording=MixpanelLib.prototype.stop_session_recording,MixpanelLib.prototype.get_session_recording_properties=MixpanelLib.prototype.get_session_recording_properties,MixpanelLib.prototype.DEFAULT_API_ROUTES=nN,MixpanelPersistence.prototype.properties=MixpanelPersistence.prototype.properties,MixpanelPersistence.prototype.update_search_keyword=MixpanelPersistence.prototype.update_search_keyword,MixpanelPersistence.prototype.update_referrer_info=MixpanelPersistence.prototype.update_referrer_info,MixpanelPersistence.prototype.get_cross_subdomain=MixpanelPersistence.prototype.get_cross_subdomain,MixpanelPersistence.prototype.clear=MixpanelPersistence.prototype.clear;var nM={},extend_mp=function(){tH.each(nM,function(er,eo){eo!==nk&&(e4[eo]=er)}),e4._=tH},nR=(load_extra_bundle=function(er,eo){eo()},e6=0,(e4=new MixpanelLib).init=function(er,eo,ec){if(ec)return e4[ec]||(e4[ec]=nM[ec]=create_mplib(er,eo,ec),e4[ec]._loaded()),e4[ec];var eh=e4;nM[nk]?eh=nM[nk]:er&&((eh=create_mplib(er,eo,nk))._loaded(),nM[nk]=eh),e4=eh,1===e6&&(e3[nk]=e4),extend_mp()},e4.init(),function(){function dom_loaded_handler(){dom_loaded_handler.done||(dom_loaded_handler.done=!0,nO=!0,nE=!1,tH.each(nM,function(er){er._dom_loaded()}))}if(tO.addEventListener)"complete"===tO.readyState?dom_loaded_handler():tO.addEventListener("DOMContentLoaded",dom_loaded_handler,!1);else if(tO.attachEvent){tO.attachEvent("onreadystatechange",dom_loaded_handler);var er=!1;try{er=null===e3.frameElement}catch(er){}tO.documentElement.doScroll&&er&&function do_scroll_check(){try{tO.documentElement.doScroll("left")}catch(er){setTimeout(do_scroll_check,1);return}dom_loaded_handler()}()}tH.register_event(e3,"load",dom_loaded_handler,!0)}(),e4)},28858:function(er,eo,ec){"use strict";ec.d(eo,{KV:function(){return createWrapper},ju:function(){return em}});var eh,ep=ec(67294),ef=ec(9473),eg=ec(11163),__assign=function(){return(__assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)},__awaiter=function(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})},__generator=function(er,eo){var ec,eh,ep,ef,eg={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]};return ef={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(ef[Symbol.iterator]=function(){return this}),ef;function verb(ef){return function(em){return function(ef){if(ec)throw TypeError("Generator is already executing.");for(;eg;)try{if(ec=1,eh&&(ep=2&ef[0]?eh.return:ef[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,ef[1])).done)return ep;switch(eh=0,ep&&(ef=[2&ef[0],ep.value]),ef[0]){case 0:case 1:ep=ef;break;case 4:return eg.label++,{value:ef[1],done:!1};case 5:eg.label++,eh=ef[1],ef=[0];continue;case 7:ef=eg.ops.pop(),eg.trys.pop();continue;default:if(!(ep=(ep=eg.trys).length>0&&ep[ep.length-1])&&(6===ef[0]||2===ef[0])){eg=0;continue}if(3===ef[0]&&(!ep||ef[1]>ep[0]&&ef[1]<ep[3])){eg.label=ef[1];break}if(6===ef[0]&&eg.label<ep[1]){eg.label=ep[1],ep=ef;break}if(ep&&eg.label<ep[2]){eg.label=ep[2],eg.ops.push(ef);break}ep[2]&&eg.ops.pop(),eg.trys.pop();continue}ef=eo.call(er,eg)}catch(er){ef=[6,er],eh=0}finally{ec=ep=0}if(5&ef[0])throw ef[1];return{value:ef[0]?ef[1]:void 0,done:!0}}([ef,em])}}},__rest=function(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec},em="__NEXT_REDUX_WRAPPER_HYDRATE__",getIsServer=function(){return"undefined"==typeof window},getDeserializedState=function(er,eo){var ec=(void 0===eo?{}:eo).deserializeState;return ec?ec(er):er},getSerializedState=function(er,eo){var ec=(void 0===eo?{}:eo).serializeState;return ec?ec(er):er},initStore=function(er){var eo,ec=er.makeStore,ep=er.context,ef=void 0===ep?{}:ep,createStore=function(){return ec(ef)};if(getIsServer()){var eg=(null==ef?void 0:ef.req)||(null===(eo=null==ef?void 0:ef.ctx)||void 0===eo?void 0:eo.req);return eg?(eg.__nextReduxWrapperStore||(eg.__nextReduxWrapperStore=createStore()),eg.__nextReduxWrapperStore):createStore()}return eh||(eh=createStore()),eh},createWrapper=function(er,eo){void 0===eo&&(eo={});var makeProps=function(ec){var eh=ec.callback,ep=ec.context,ef=ec.addStoreToContext,eg=void 0!==ef&&ef;return __awaiter(void 0,void 0,void 0,function(){var ec,ef,em,ey,ev;return __generator(this,function(e_){switch(e_.label){case 0:if(ec=initStore({context:ep,makeStore:er}),eo.debug&&console.log("1. getProps created store with state",ec.getState()),eg&&(ep.ctx?ep.ctx.store=ec:ep.store=ec),!(ey=ef=eh&&eh(ec)))return[3,2];return[4,ef(ep)];case 1:ey=e_.sent(),e_.label=2;case 2:return em=ey||{},eo.debug&&console.log("3. getProps after dispatches has store state",ec.getState()),ev=ec.getState(),[2,{initialProps:em,initialState:getIsServer()?getSerializedState(ev,eo):ev}]}})})},getStaticProps=function(er){return function(eo){return __awaiter(void 0,void 0,void 0,function(){var ec,eh,ep;return __generator(this,function(ef){switch(ef.label){case 0:return[4,makeProps({callback:er,context:eo})];case 1:return eh=(ec=ef.sent()).initialProps,ep=ec.initialState,[2,__assign(__assign({},eh),{props:__assign(__assign({},eh.props),{initialState:ep})})]}})})}},hydrate=function(er,ec){ec&&er.dispatch({type:em,payload:getDeserializedState(ec,eo)})},hydrateOrchestrator=function(er,eo,ec,eh,ep){var ef;ec?(hydrate(er,eo),hydrate(er,ec)):(eh||ep||eo)&&hydrate(er,null!==(ef=null!=eh?eh:ep)&&void 0!==ef?ef:eo)},useHybridHydrate=function(er,eo,ec,eh,ef){var em=(0,eg.useRouter)().events,ey=(0,ep.useRef)(!0);(0,ep.useEffect)(function(){var handleStart=function(){ey.current=!0};return null==em||em.on("routeChangeStart",handleStart),function(){null==em||em.off("routeChangeStart",handleStart)}},[em]),(0,ep.useMemo)(function(){ey.current&&(hydrateOrchestrator(er,eo,ec,eh,ef),ey.current=!1)},[er,eo,ec,eh,ef])},useWrappedStore=function(ec,eh){void 0===eh&&(eh="useWrappedStore");var ef,eg,em,ey,ev,e_,ew=ec.initialState,ex=ec.initialProps,ek=__rest(ec,["initialState","initialProps"]),eS=(null==ek?void 0:ek.__N_SSG)?null===(ef=null==ek?void 0:ek.pageProps)||void 0===ef?void 0:ef.initialState:null,eC=(null==ek?void 0:ek.__N_SSP)?null===(eg=null==ek?void 0:ek.pageProps)||void 0===eg?void 0:eg.initialState:null,eI=eS||eC?null:null!==(ey=null===(em=null==ek?void 0:ek.pageProps)||void 0===em?void 0:em.initialState)&&void 0!==ey?ey:null;eo.debug&&console.log("4.",eh,"created new store with",{giapState:ew,gspState:eS,gsspState:eC,gippState:eI});var eE=(0,ep.useMemo)(function(){return initStore({makeStore:er})},[]);useHybridHydrate(eE,ew,eS,eC,eI);var eT=ek;return ex&&ex.pageProps&&(eT.pageProps=__assign(__assign({},ex.pageProps),ek.pageProps)),(null===(ev=null==ek?void 0:ek.pageProps)||void 0===ev?void 0:ev.initialState)&&(eT=__assign(__assign({},ek),{pageProps:__assign({},ek.pageProps)}),delete eT.pageProps.initialState),(null===(e_=null==eT?void 0:eT.pageProps)||void 0===e_?void 0:e_.initialProps)&&(eT.pageProps=__assign(__assign({},eT.pageProps),eT.pageProps.initialProps),delete eT.pageProps.initialProps),{store:eE,props:__assign(__assign({},ex),eT)}};return{getServerSideProps:function(er){return function(eo){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(ec){switch(ec.label){case 0:return[4,getStaticProps(er)(eo)];case 1:return[2,ec.sent()]}})})}},getStaticProps:getStaticProps,getInitialAppProps:function(er){return function(eo){return __awaiter(void 0,void 0,void 0,function(){var ec,eh,ep;return __generator(this,function(ef){switch(ef.label){case 0:return[4,makeProps({callback:er,context:eo,addStoreToContext:!0})];case 1:return eh=(ec=ef.sent()).initialProps,ep=ec.initialState,[2,__assign(__assign({},eh),{initialState:ep})]}})})}},getInitialPageProps:function(er){return function(eo){return __awaiter(void 0,void 0,void 0,function(){return __generator(this,function(ec){switch(ec.label){case 0:if("getState"in eo)return[2,er&&er(eo)];return[4,makeProps({callback:er,context:eo,addStoreToContext:!0})];case 1:return[2,ec.sent()]}})})}},withRedux:function(er){console.warn("/!\\ You are using legacy implementation. Please update your code: use createWrapper() and wrapper.useWrappedStore().");var WrappedComponent=function(eo){var ec=useWrappedStore(eo,WrappedComponent.displayName),eh=ec.store,eg=ec.props;return ep.createElement(ef.zt,{store:eh},ep.createElement(er,__assign({},eg)))};return WrappedComponent.displayName="withRedux(".concat(er.displayName||er.name||"Component",")"),"getInitialProps"in er&&(WrappedComponent.getInitialProps=er.getInitialProps),WrappedComponent},useWrappedStore:useWrappedStore}}},83454:function(er,eo,ec){"use strict";var eh,ep;er.exports=(null==(eh=ec.g.process)?void 0:eh.env)&&"object"==typeof(null==(ep=ec.g.process)?void 0:ep.env)?ec.g.process:ec(77663)},6840:function(er,eo,ec){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return ec(69774)}])},5479:function(er,eo,ec){"use strict";ec.d(eo,{ur:function(){return ampIdentifyUser},L7:function(){return ampTrackOnboarding},yh:function(){return ampTrackUserAutoLogin},h1:function(){return ampTrackUserLogin},mr:function(){return ampTrackUserLogout},Bd:function(){return ampTrackUserSignup},Z5:function(){return ampTrackVisitor},UK:function(){return initAmplitude},ed:function(){return resetAmplitude}});var eh,ep,ef,eg,em,ey,ev,e_,ew,ex,ek,eS,eC,eI,eE,eT,eN,__assign=function(){return(__assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function __awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function __generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}function __values(er){var eo="function"==typeof Symbol&&Symbol.iterator,ec=eo&&er[eo],eh=0;if(ec)return ec.call(er);if(er&&"number"==typeof er.length)return{next:function(){return er&&eh>=er.length&&(er=void 0),{value:er&&er[eh++],done:!er}}};throw TypeError(eo?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}function __spreadArray(er,eo,ec){if(ec||2==arguments.length)for(var eh,ep=0,ef=eo.length;ep<ef;ep++)!eh&&ep in eo||(eh||(eh=Array.prototype.slice.call(eo,0,ep)),eh[ep]=eo[ep]);return er.concat(eh||Array.prototype.slice.call(eo))}"function"==typeof SuppressedError&&SuppressedError,(eh=ew||(ew={}))[eh.None=0]="None",eh[eh.Error=1]="Error",eh[eh.Warn=2]="Warn",eh[eh.Verbose=3]="Verbose",eh[eh.Debug=4]="Debug";var getClientLogConfig=function(er){return function(){var eo=__assign({},er.config);return{logger:eo.loggerProvider,logLevel:eo.logLevel}}},getValueByStringPath=function(er,eo){var ec,eh;eo=(eo=eo.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"");try{for(var ep=__values(eo.split(".")),ef=ep.next();!ef.done;ef=ep.next()){var eg=ef.value;if(!(eg in er))return;er=er[eg]}}catch(er){ec={error:er}}finally{try{ef&&!ef.done&&(eh=ep.return)&&eh.call(ep)}finally{if(ec)throw ec.error}}return er},getClientStates=function(er,eo){return function(){var ec,eh,ep={};try{for(var ef=__values(eo),eg=ef.next();!eg.done;eg=ef.next()){var em=eg.value;ep[em]=getValueByStringPath(er,em)}}catch(er){ec={error:er}}finally{try{eg&&!eg.done&&(eh=ef.return)&&eh.call(ef)}finally{if(ec)throw ec.error}}return ep}},debugWrapper=function(er,eo,ec,eh,ep){return void 0===ep&&(ep=null),function(){for(var ef=[],eg=0;eg<arguments.length;eg++)ef[eg]=arguments[eg];var em=ec(),ey=em.logger,ev=em.logLevel;if(ev&&ev<ew.Debug||!ev||!ey)return er.apply(ep,ef);var e_={type:"invoke public method",name:eo,args:ef,stacktrace:(Error().stack||"").split("\n").slice(3).map(function(er){return er.trim()}),time:{start:new Date().toISOString()},states:{}};eh&&e_.states&&(e_.states.before=eh());var ex=er.apply(ep,ef);return ex&&ex.promise?ex.promise.then(function(){eh&&e_.states&&(e_.states.after=eh()),e_.time&&(e_.time.end=new Date().toISOString()),ey.debug(JSON.stringify(e_,null,2))}):(eh&&e_.states&&(e_.states.after=eh()),e_.time&&(e_.time.end=new Date().toISOString()),ey.debug(JSON.stringify(e_,null,2))),ex}},tslib_es6_extendStatics=function(er,eo){return(tslib_es6_extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(er,eo){er.__proto__=eo}||function(er,eo){for(var ec in eo)Object.prototype.hasOwnProperty.call(eo,ec)&&(er[ec]=eo[ec])})(er,eo)};function tslib_es6_extends(er,eo){if("function"!=typeof eo&&null!==eo)throw TypeError("Class extends value "+String(eo)+" is not a constructor or null");function __(){this.constructor=er}tslib_es6_extendStatics(er,eo),er.prototype=null===eo?Object.create(eo):(__.prototype=eo.prototype,new __)}var tslib_es6_assign=function(){return(tslib_es6_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function tslib_es6_awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function tslib_es6_generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}"function"==typeof SuppressedError&&SuppressedError;var returnWrapper=function(er){return{promise:er||Promise.resolve()}};(ep=ex||(ex={})).Unknown="unknown",ep.Skipped="skipped",ep.Success="success",ep.RateLimit="rate_limit",ep.PayloadTooLarge="payload_too_large",ep.Invalid="invalid",ep.Failed="failed",ep.Timeout="Timeout",ep.SystemError="SystemError";var eA="".concat("AMP","_unsent"),eO="https://api2.amplitude.com/2/httpapi",chunk=function(er,eo){var ec=Math.max(eo,1);return er.reduce(function(er,eo,eh){var ep=Math.floor(eh/ec);return er[ep]||(er[ep]=[]),er[ep].push(eo),er},[])},buildResult=function(er,eo,ec){return void 0===eo&&(eo=0),void 0===ec&&(ec=ex.Unknown),{event:er,code:eo,message:ec}},eP="Amplitude Logger ",eM=function(){function Logger(){this.logLevel=ew.None}return Logger.prototype.disable=function(){this.logLevel=ew.None},Logger.prototype.enable=function(er){void 0===er&&(er=ew.Warn),this.logLevel=er},Logger.prototype.log=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];this.logLevel<ew.Verbose||console.log("".concat(eP,"[Log]: ").concat(er.join(" ")))},Logger.prototype.warn=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];this.logLevel<ew.Warn||console.warn("".concat(eP,"[Warn]: ").concat(er.join(" ")))},Logger.prototype.error=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];this.logLevel<ew.Error||console.error("".concat(eP,"[Error]: ").concat(er.join(" ")))},Logger.prototype.debug=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];this.logLevel<ew.Debug||console.log("".concat(eP,"[Debug]: ").concat(er.join(" ")))},Logger}(),getDefaultConfig=function(){return{flushMaxRetries:12,flushQueueSize:200,flushIntervalMillis:1e4,instanceName:"$default_instance",logLevel:ew.Warn,loggerProvider:new eM,offline:!1,optOut:!1,serverUrl:eO,serverZone:"US",useBatch:!1}},eR=function(){function Config(er){this._optOut=!1;var eo,ec,eh,ep,ef=getDefaultConfig();this.apiKey=er.apiKey,this.flushIntervalMillis=null!==(eo=er.flushIntervalMillis)&&void 0!==eo?eo:ef.flushIntervalMillis,this.flushMaxRetries=er.flushMaxRetries||ef.flushMaxRetries,this.flushQueueSize=er.flushQueueSize||ef.flushQueueSize,this.instanceName=er.instanceName||ef.instanceName,this.loggerProvider=er.loggerProvider||ef.loggerProvider,this.logLevel=null!==(ec=er.logLevel)&&void 0!==ec?ec:ef.logLevel,this.minIdLength=er.minIdLength,this.plan=er.plan,this.ingestionMetadata=er.ingestionMetadata,this.offline=void 0!==er.offline?er.offline:ef.offline,this.optOut=null!==(eh=er.optOut)&&void 0!==eh?eh:ef.optOut,this.serverUrl=er.serverUrl,this.serverZone=er.serverZone||ef.serverZone,this.storageProvider=er.storageProvider,this.transportProvider=er.transportProvider,this.useBatch=null!==(ep=er.useBatch)&&void 0!==ep?ep:ef.useBatch,this.loggerProvider.enable(this.logLevel);var eg=createServerConfig(er.serverUrl,er.serverZone,er.useBatch);this.serverZone=eg.serverZone,this.serverUrl=eg.serverUrl}return Object.defineProperty(Config.prototype,"optOut",{get:function(){return this._optOut},set:function(er){this._optOut=er},enumerable:!1,configurable:!0}),Config}(),createServerConfig=function(er,eo,ec){if(void 0===er&&(er=""),void 0===eo&&(eo=getDefaultConfig().serverZone),void 0===ec&&(ec=getDefaultConfig().useBatch),er)return{serverUrl:er,serverZone:void 0};var eh,ep=["US","EU"].includes(eo)?eo:getDefaultConfig().serverZone;return{serverZone:ep,serverUrl:(eh=ec,"EU"===ep?eh?"https://api.eu.amplitude.com/batch":"https://api.eu.amplitude.com/2/httpapi":eh?"https://api2.amplitude.com/batch":eO)}},eD=function(){function RequestMetadata(){this.sdk={metrics:{histogram:{}}}}return RequestMetadata.prototype.recordHistogram=function(er,eo){this.sdk.metrics.histogram[er]=eo},RequestMetadata}(),UUID=function(er){return er?(er^16*Math.random()>>er/4).toString(16):(String(1e7)+String(-1e3)+String(-4e3)+String(-8e3)+String(-1e11)).replace(/[018]/g,UUID)};function getResponseBodyString(er){var eo="";try{"body"in er&&(eo=JSON.stringify(er.body,null,2))}catch(er){}return eo}var ej=function(){function Destination(){this.name="amplitude",this.type="destination",this.retryTimeout=1e3,this.throttleTimeout=3e4,this.storageKey="",this.scheduled=null,this.queue=[]}return Destination.prototype.setup=function(er){var eo;return __awaiter(this,void 0,void 0,function(){var ec,eh=this;return __generator(this,function(ep){switch(ep.label){case 0:return this.config=er,this.storageKey="".concat(eA,"_").concat(this.config.apiKey.substring(0,10)),[4,null===(eo=this.config.storageProvider)||void 0===eo?void 0:eo.get(this.storageKey)];case 1:return(ec=ep.sent())&&ec.length>0&&Promise.all(ec.map(function(er){return eh.execute(er)})).catch(),[2,Promise.resolve(void 0)]}})})},Destination.prototype.execute=function(er){var eo=this;return er.insert_id||(er.insert_id=UUID()),new Promise(function(ec){eo.addToQueue({event:er,attempts:0,callback:function(er){return ec(er)},timeout:0})})},Destination.prototype.getTryableList=function(er){var eo=this;return er.filter(function(er){return er.attempts<eo.config.flushMaxRetries?(er.attempts+=1,!0):(eo.fulfillRequest([er],500,"Event rejected due to exceeded retry count"),!1)})},Destination.prototype.scheduleTryable=function(er,eo){var ec=this;void 0===eo&&(eo=!1),er.forEach(function(er){if(eo&&(ec.queue=ec.queue.concat(er)),0===er.timeout){ec.schedule(ec.config.flushIntervalMillis);return}setTimeout(function(){er.timeout=0,ec.schedule(0)},er.timeout)})},Destination.prototype.addToQueue=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];var ec=this.getTryableList(er);this.scheduleTryable(ec,!0),this.saveEvents()},Destination.prototype.schedule=function(er){var eo=this;this.scheduled||this.config.offline||(this.scheduled=setTimeout(function(){eo.flush(!0).then(function(){eo.queue.length>0&&eo.schedule(er)})},er))},Destination.prototype.flush=function(er){return void 0===er&&(er=!1),__awaiter(this,void 0,void 0,function(){var eo,ec,eh=this;return __generator(this,function(ep){switch(ep.label){case 0:if(this.config.offline)return this.config.loggerProvider.debug("Skipping flush while offline."),[2];return eo=[],ec=[],this.queue.forEach(function(er){return 0===er.timeout?eo.push(er):ec.push(er)}),this.scheduled&&(clearTimeout(this.scheduled),this.scheduled=null),[4,Promise.all(chunk(eo,this.config.flushQueueSize).map(function(eo){return eh.send(eo,er)}))];case 1:return ep.sent(),this.scheduleTryable(ec),[2]}})})},Destination.prototype.send=function(er,eo){return void 0===eo&&(eo=!0),__awaiter(this,void 0,void 0,function(){var ec,eh,ep,ef;return __generator(this,function(eg){switch(eg.label){case 0:if(!this.config.apiKey)return[2,this.fulfillRequest(er,400,"Event rejected due to missing API key")];ec={api_key:this.config.apiKey,events:er.map(function(er){var eo=er.event;return eo.extra,function(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec}(eo,["extra"])}),options:{min_id_length:this.config.minIdLength},client_upload_time:new Date().toISOString(),request_metadata:this.config.requestMetadata},this.config.requestMetadata=new eD,eg.label=1;case 1:return eg.trys.push([1,3,,4]),eh=createServerConfig(this.config.serverUrl,this.config.serverZone,this.config.useBatch).serverUrl,[4,this.config.transportProvider.send(eh,ec)];case 2:if(null===(ep=eg.sent()))return this.fulfillRequest(er,0,"Unexpected error occurred"),[2];if(!eo)return"body"in ep?this.fulfillRequest(er,ep.statusCode,"".concat(ep.status,": ").concat(getResponseBodyString(ep))):this.fulfillRequest(er,ep.statusCode,ep.status),[2];return this.handleResponse(ep,er),[3,4];case 3:var em;return ef=(em=eg.sent())instanceof Error?em.message:String(em),this.config.loggerProvider.error(ef),this.handleResponse({status:ex.Failed,statusCode:0},er),[3,4];case 4:return[2]}})})},Destination.prototype.handleResponse=function(er,eo){var ec=er.status;switch(ec){case ex.Success:this.handleSuccessResponse(er,eo);break;case ex.Invalid:this.handleInvalidResponse(er,eo);break;case ex.PayloadTooLarge:this.handlePayloadTooLargeResponse(er,eo);break;case ex.RateLimit:this.handleRateLimitResponse(er,eo);break;default:this.config.loggerProvider.warn("{code: 0, error: \"Status '".concat(ec,"' provided for ").concat(eo.length,' events"}')),this.handleOtherResponse(eo)}},Destination.prototype.handleSuccessResponse=function(er,eo){this.fulfillRequest(eo,er.statusCode,"Event tracked successfully")},Destination.prototype.handleInvalidResponse=function(er,eo){var ec=this;if(er.body.missingField||er.body.error.startsWith("Invalid API key")){this.fulfillRequest(eo,er.statusCode,er.body.error);return}var eh=__spreadArray(__spreadArray(__spreadArray(__spreadArray([],__read(Object.values(er.body.eventsWithInvalidFields)),!1),__read(Object.values(er.body.eventsWithMissingFields)),!1),__read(Object.values(er.body.eventsWithInvalidIdLengths)),!1),__read(er.body.silencedEvents),!1).flat(),ep=new Set(eh),ef=eo.filter(function(eo,eh){if(ep.has(eh)){ec.fulfillRequest([eo],er.statusCode,er.body.error);return}return!0});ef.length>0&&this.config.loggerProvider.warn(getResponseBodyString(er));var eg=this.getTryableList(ef);this.scheduleTryable(eg)},Destination.prototype.handlePayloadTooLargeResponse=function(er,eo){if(1===eo.length){this.fulfillRequest(eo,er.statusCode,er.body.error);return}this.config.loggerProvider.warn(getResponseBodyString(er)),this.config.flushQueueSize/=2;var ec=this.getTryableList(eo);this.scheduleTryable(ec)},Destination.prototype.handleRateLimitResponse=function(er,eo){var ec=this,eh=Object.keys(er.body.exceededDailyQuotaUsers),ep=Object.keys(er.body.exceededDailyQuotaDevices),ef=er.body.throttledEvents,eg=new Set(eh),em=new Set(ep),ey=new Set(ef),ev=eo.filter(function(eo,eh){if(eo.event.user_id&&eg.has(eo.event.user_id)||eo.event.device_id&&em.has(eo.event.device_id)){ec.fulfillRequest([eo],er.statusCode,er.body.error);return}return ey.has(eh)&&(eo.timeout=ec.throttleTimeout),!0});ev.length>0&&this.config.loggerProvider.warn(getResponseBodyString(er));var e_=this.getTryableList(ev);this.scheduleTryable(e_)},Destination.prototype.handleOtherResponse=function(er){var eo=this,ec=er.map(function(er){return er.timeout=er.attempts*eo.retryTimeout,er}),eh=this.getTryableList(ec);this.scheduleTryable(eh)},Destination.prototype.fulfillRequest=function(er,eo,ec){this.removeEvents(er),er.forEach(function(er){return er.callback(buildResult(er.event,eo,ec))})},Destination.prototype.saveEvents=function(){if(this.config.storageProvider){var er=this.queue.map(function(er){return er.event});this.config.storageProvider.set(this.storageKey,er)}},Destination.prototype.removeEvents=function(er){this.queue=this.queue.filter(function(eo){return!er.some(function(er){return er.event.insert_id===eo.event.insert_id})}),this.saveEvents()},Destination}();(ef=ek||(ek={})).SET="$set",ef.SET_ONCE="$setOnce",ef.ADD="$add",ef.APPEND="$append",ef.PREPEND="$prepend",ef.REMOVE="$remove",ef.PREINSERT="$preInsert",ef.POSTINSERT="$postInsert",ef.UNSET="$unset",ef.CLEAR_ALL="$clearAll",(eg=eS||(eS={})).REVENUE_PRODUCT_ID="$productId",eg.REVENUE_QUANTITY="$quantity",eg.REVENUE_PRICE="$price",eg.REVENUE_TYPE="$revenueType",eg.REVENUE="$revenue",(em=eC||(eC={})).IDENTIFY="$identify",em.GROUP_IDENTIFY="$groupidentify",em.REVENUE="revenue_amount";var isValidObject=function(er){if(Object.keys(er).length>1e3)return!1;for(var eo in er){var ec=er[eo];if(!isValidProperties(eo,ec))return!1}return!0},isValidProperties=function(er,eo){var ec,eh;if("string"!=typeof er)return!1;if(Array.isArray(eo)){var ep=!0;try{for(var ef=__values(eo),eg=ef.next();!eg.done;eg=ef.next()){var em=eg.value;if(Array.isArray(em))return!1;if("object"==typeof em)ep=ep&&isValidObject(em);else if(!["number","string"].includes(typeof em))return!1;if(!ep)return!1}}catch(er){ec={error:er}}finally{try{eg&&!eg.done&&(eh=ef.return)&&eh.call(ef)}finally{if(ec)throw ec.error}}}else if(null==eo)return!1;else if("object"==typeof eo)return isValidObject(eo);else if(!["number","string","boolean"].includes(typeof eo))return!1;return!0},eL=function(){function Identify(){this._propertySet=new Set,this._properties={}}return Identify.prototype.getUserProperties=function(){return __assign({},this._properties)},Identify.prototype.set=function(er,eo){return this._safeSet(ek.SET,er,eo),this},Identify.prototype.setOnce=function(er,eo){return this._safeSet(ek.SET_ONCE,er,eo),this},Identify.prototype.append=function(er,eo){return this._safeSet(ek.APPEND,er,eo),this},Identify.prototype.prepend=function(er,eo){return this._safeSet(ek.PREPEND,er,eo),this},Identify.prototype.postInsert=function(er,eo){return this._safeSet(ek.POSTINSERT,er,eo),this},Identify.prototype.preInsert=function(er,eo){return this._safeSet(ek.PREINSERT,er,eo),this},Identify.prototype.remove=function(er,eo){return this._safeSet(ek.REMOVE,er,eo),this},Identify.prototype.add=function(er,eo){return this._safeSet(ek.ADD,er,eo),this},Identify.prototype.unset=function(er){return this._safeSet(ek.UNSET,er,"-"),this},Identify.prototype.clearAll=function(){return this._properties={},this._properties[ek.CLEAR_ALL]="-",this},Identify.prototype._safeSet=function(er,eo,ec){if(this._validate(er,eo,ec)){var eh=this._properties[er];return void 0===eh&&(eh={},this._properties[er]=eh),eh[eo]=ec,this._propertySet.add(eo),!0}return!1},Identify.prototype._validate=function(er,eo,ec){return!(void 0!==this._properties[ek.CLEAR_ALL]||this._propertySet.has(eo))&&(er===ek.ADD?"number"==typeof ec:er===ek.UNSET||er===ek.REMOVE||isValidProperties(eo,ec))},Identify}(),eU=function(){function Revenue(){this.productId="",this.quantity=1,this.price=0}return Revenue.prototype.setProductId=function(er){return this.productId=er,this},Revenue.prototype.setQuantity=function(er){return er>0&&(this.quantity=er),this},Revenue.prototype.setPrice=function(er){return this.price=er,this},Revenue.prototype.setRevenueType=function(er){return this.revenueType=er,this},Revenue.prototype.setRevenue=function(er){return this.revenue=er,this},Revenue.prototype.setEventProperties=function(er){return isValidObject(er)&&(this.properties=er),this},Revenue.prototype.getEventProperties=function(){var er=this.properties?__assign({},this.properties):{};return er[eS.REVENUE_PRODUCT_ID]=this.productId,er[eS.REVENUE_QUANTITY]=this.quantity,er[eS.REVENUE_PRICE]=this.price,er[eS.REVENUE_TYPE]=this.revenueType,er[eS.REVENUE]=this.revenue,er},Revenue}(),eF=function(){function Timeline(er){this.client=er,this.queue=[],this.applying=!1,this.plugins=[]}return Timeline.prototype.register=function(er,eo){var ec,eh;return __awaiter(this,void 0,void 0,function(){return __generator(this,function(ep){switch(ep.label){case 0:if(this.plugins.some(function(eo){return eo.name===er.name}))return eo.loggerProvider.warn("Plugin with name ".concat(er.name," already exists, skipping registration")),[2];return void 0===er.name&&(er.name=UUID(),eo.loggerProvider.warn("Plugin name is undefined. \n      Generating a random UUID for plugin name: ".concat(er.name,". \n      Set a name for the plugin to prevent it from being added multiple times."))),er.type=null!==(ec=er.type)&&void 0!==ec?ec:"enrichment",[4,null===(eh=er.setup)||void 0===eh?void 0:eh.call(er,eo,this.client)];case 1:return ep.sent(),this.plugins.push(er),[2]}})})},Timeline.prototype.deregister=function(er){var eo;return __awaiter(this,void 0,void 0,function(){var ec,eh;return __generator(this,function(ep){switch(ep.label){case 0:return ec=this.plugins.findIndex(function(eo){return eo.name===er}),eh=this.plugins[ec],this.plugins.splice(ec,1),[4,null===(eo=eh.teardown)||void 0===eo?void 0:eo.call(eh)];case 1:return ep.sent(),[2]}})})},Timeline.prototype.reset=function(er){this.applying=!1,this.plugins.map(function(er){var eo;return null===(eo=er.teardown)||void 0===eo?void 0:eo.call(er)}),this.plugins=[],this.client=er},Timeline.prototype.push=function(er){var eo=this;return new Promise(function(ec){eo.queue.push([er,ec]),eo.scheduleApply(0)})},Timeline.prototype.scheduleApply=function(er){var eo=this;this.applying||(this.applying=!0,setTimeout(function(){eo.apply(eo.queue.shift()).then(function(){eo.applying=!1,eo.queue.length>0&&eo.scheduleApply(0)})},er))},Timeline.prototype.apply=function(er){return __awaiter(this,void 0,void 0,function(){var eo,ec,eh,ep,ef,eg,em,ey,ev,e_,ew,ex,ek,eS;return __generator(this,function(eC){switch(eC.label){case 0:if(!er)return[2];eo=__read(er,1)[0],ec=__read(er,2)[1],eh=this.plugins.filter(function(er){return"before"===er.type}),eC.label=1;case 1:eC.trys.push([1,6,7,8]),ef=(ep=__values(eh)).next(),eC.label=2;case 2:if(ef.done)return[3,5];if(!(eg=ef.value).execute)return[3,4];return[4,eg.execute(__assign({},eo))];case 3:if(null===(em=eC.sent()))return ec({event:eo,code:0,message:""}),[2];eo=em,eC.label=4;case 4:return ef=ep.next(),[3,2];case 5:return[3,8];case 6:return ew={error:eC.sent()},[3,8];case 7:try{ef&&!ef.done&&(ex=ep.return)&&ex.call(ep)}finally{if(ew)throw ew.error}return[7];case 8:ey=this.plugins.filter(function(er){return"enrichment"===er.type||void 0===er.type}),eC.label=9;case 9:eC.trys.push([9,14,15,16]),e_=(ev=__values(ey)).next(),eC.label=10;case 10:if(e_.done)return[3,13];if(!(eg=e_.value).execute)return[3,12];return[4,eg.execute(__assign({},eo))];case 11:if(null===(em=eC.sent()))return ec({event:eo,code:0,message:""}),[2];eo=em,eC.label=12;case 12:return e_=ev.next(),[3,10];case 13:return[3,16];case 14:return ek={error:eC.sent()},[3,16];case 15:try{e_&&!e_.done&&(eS=ev.return)&&eS.call(ev)}finally{if(ek)throw ek.error}return[7];case 16:return Promise.all(this.plugins.filter(function(er){return"destination"===er.type}).map(function(er){var ec=__assign({},eo);return er.execute(ec).catch(function(er){return buildResult(ec,0,String(er))})})).then(function(er){var eh=__read(er,1)[0]||buildResult(eo,100,"Event not tracked, no destination plugins on the instance");ec(eh)}),[2]}})})},Timeline.prototype.flush=function(){return __awaiter(this,void 0,void 0,function(){var er,eo=this;return __generator(this,function(ec){switch(ec.label){case 0:return er=this.queue,this.queue=[],[4,Promise.all(er.map(function(er){return eo.apply(er)}))];case 1:return ec.sent(),[4,Promise.all(this.plugins.filter(function(er){return"destination"===er.type}).map(function(er){return er.flush&&er.flush()}))];case 2:return ec.sent(),[2]}})})},Timeline}(),createIdentifyEvent=function(er,eo){return __assign(__assign({},eo),{event_type:eC.IDENTIFY,user_properties:er.getUserProperties()})},createGroupIdentifyEvent=function(er,eo,ec,eh){var ep;return __assign(__assign({},eh),{event_type:eC.GROUP_IDENTIFY,group_properties:ec.getUserProperties(),groups:((ep={})[er]=eo,ep)})},createGroupEvent=function(er,eo,ec){var eh,ep=new eL;return ep.set(er,eo),__assign(__assign({},ec),{event_type:eC.IDENTIFY,user_properties:ep.getUserProperties(),groups:((eh={})[er]=eo,eh)})},eV=function(){function AmplitudeCore(er){void 0===er&&(er="$default"),this.initializing=!1,this.isReady=!1,this.q=[],this.dispatchQ=[],this.logEvent=this.track.bind(this),this.timeline=new eF(this),this.name=er}return AmplitudeCore.prototype._init=function(er){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(eo){switch(eo.label){case 0:return this.config=er,this.timeline.reset(this),[4,this.runQueuedFunctions("q")];case 1:return eo.sent(),this.isReady=!0,[2]}})})},AmplitudeCore.prototype.runQueuedFunctions=function(er){return __awaiter(this,void 0,void 0,function(){var eo,ec,eh,ep,ef,eg;return __generator(this,function(em){switch(em.label){case 0:eo=this[er],this[er]=[],em.label=1;case 1:em.trys.push([1,8,9,10]),eh=(ec=__values(eo)).next(),em.label=2;case 2:if(eh.done)return[3,7];if(!((ep=(0,eh.value)())&&"promise"in ep))return[3,4];return[4,ep.promise];case 3:return em.sent(),[3,6];case 4:return[4,ep];case 5:em.sent(),em.label=6;case 6:return eh=ec.next(),[3,2];case 7:return[3,10];case 8:return ef={error:em.sent()},[3,10];case 9:try{eh&&!eh.done&&(eg=ec.return)&&eg.call(ec)}finally{if(ef)throw ef.error}return[7];case 10:if(!this[er].length)return[3,12];return[4,this.runQueuedFunctions(er)];case 11:em.sent(),em.label=12;case 12:return[2]}})})},AmplitudeCore.prototype.track=function(er,eo,ec){var eh=__assign(__assign(__assign({},"string"==typeof er?{event_type:er}:er),ec),eo&&{event_properties:eo});return returnWrapper(this.dispatch(eh))},AmplitudeCore.prototype.identify=function(er,eo){var ec=createIdentifyEvent(er,eo);return returnWrapper(this.dispatch(ec))},AmplitudeCore.prototype.groupIdentify=function(er,eo,ec,eh){var ep=createGroupIdentifyEvent(er,eo,ec,eh);return returnWrapper(this.dispatch(ep))},AmplitudeCore.prototype.setGroup=function(er,eo,ec){var eh=createGroupEvent(er,eo,ec);return returnWrapper(this.dispatch(eh))},AmplitudeCore.prototype.revenue=function(er,eo){var ec=__assign(__assign({},eo),{event_type:eC.REVENUE,event_properties:er.getEventProperties()});return returnWrapper(this.dispatch(ec))},AmplitudeCore.prototype.add=function(er){return this.isReady?this._addPlugin(er):(this.q.push(this._addPlugin.bind(this,er)),returnWrapper())},AmplitudeCore.prototype._addPlugin=function(er){return returnWrapper(this.timeline.register(er,this.config))},AmplitudeCore.prototype.remove=function(er){return this.isReady?this._removePlugin(er):(this.q.push(this._removePlugin.bind(this,er)),returnWrapper())},AmplitudeCore.prototype._removePlugin=function(er){return returnWrapper(this.timeline.deregister(er))},AmplitudeCore.prototype.dispatchWithCallback=function(er,eo){if(!this.isReady)return eo(buildResult(er,0,"Client not initialized"));this.process(er).then(eo)},AmplitudeCore.prototype.dispatch=function(er){return __awaiter(this,void 0,void 0,function(){var eo=this;return __generator(this,function(ec){return this.isReady?[2,this.process(er)]:[2,new Promise(function(ec){eo.dispatchQ.push(eo.dispatchWithCallback.bind(eo,er,ec))})]})})},AmplitudeCore.prototype.process=function(er){return __awaiter(this,void 0,void 0,function(){var eo,ec;return __generator(this,function(eh){switch(eh.label){case 0:if(eh.trys.push([0,2,,3]),this.config.optOut)return[2,buildResult(er,0,"Event skipped due to optOut config")];return[4,this.timeline.push(er)];case 1:return 200===(eo=eh.sent()).code?this.config.loggerProvider.log(eo.message):100===eo.code?this.config.loggerProvider.warn(eo.message):this.config.loggerProvider.error(eo.message),[2,eo];case 2:return ec=String(eh.sent()),this.config.loggerProvider.error(ec),[2,eo=buildResult(er,0,ec)];case 3:return[2]}})})},AmplitudeCore.prototype.setOptOut=function(er){if(!this.isReady){this.q.push(this._setOptOut.bind(this,!!er));return}this._setOptOut(er)},AmplitudeCore.prototype._setOptOut=function(er){this.config.optOut=!!er},AmplitudeCore.prototype.flush=function(){return returnWrapper(this.timeline.flush())},AmplitudeCore}(),tslib_tslib_es6_extendStatics=function(er,eo){return(tslib_tslib_es6_extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(er,eo){er.__proto__=eo}||function(er,eo){for(var ec in eo)Object.prototype.hasOwnProperty.call(eo,ec)&&(er[ec]=eo[ec])})(er,eo)},tslib_tslib_es6_assign=function(){return(tslib_tslib_es6_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function tslib_tslib_es6_rest(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec}function tslib_tslib_es6_awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function tslib_tslib_es6_generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}function tslib_tslib_es6_read(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}"function"==typeof SuppressedError&&SuppressedError;var isTrackingEnabled=function(er,eo){return"boolean"==typeof er?er:(null==er?void 0:er[eo])!==!1},isAttributionTrackingEnabled=function(er){return isTrackingEnabled(er,"attribution")},isPageViewTrackingEnabled=function(er){return isTrackingEnabled(er,"pageViews")},isSessionTrackingEnabled=function(er){return isTrackingEnabled(er,"sessions")},isElementInteractionsEnabled=function(er){return"boolean"==typeof er?er:"object"==typeof er&&(!0===er.elementInteractions||"object"==typeof er.elementInteractions)},getElementInteractionsConfig=function(er){if(isElementInteractionsEnabled(er.autocapture)&&"object"==typeof er.autocapture&&"object"==typeof er.autocapture.elementInteractions)return er.autocapture.elementInteractions},getPageViewTrackingConfig=function(er){var eo,trackOn=function(){return!1},ec=void 0,eh=er.pageCounter;return isPageViewTrackingEnabled(er.defaultTracking)&&(trackOn=void 0,eo=void 0,er.defaultTracking&&"object"==typeof er.defaultTracking&&er.defaultTracking.pageViews&&"object"==typeof er.defaultTracking.pageViews&&("trackOn"in er.defaultTracking.pageViews&&(trackOn=er.defaultTracking.pageViews.trackOn),"trackHistoryChanges"in er.defaultTracking.pageViews&&(ec=er.defaultTracking.pageViews.trackHistoryChanges),"eventType"in er.defaultTracking.pageViews&&er.defaultTracking.pageViews.eventType&&(eo=er.defaultTracking.pageViews.eventType))),{trackOn:trackOn,trackHistoryChanges:ec,eventType:eo,pageCounter:eh}},eH="dclid",eB="fbclid",eq="gbraid",ez="gclid",eW="ko_click_id",e$="li_fat_id",eG="msclkid",eK="rtd_cid",eZ="ttclid",eJ="twclid",eQ="wbraid",eX={utm_campaign:void 0,utm_content:void 0,utm_id:void 0,utm_medium:void 0,utm_source:void 0,utm_term:void 0,referrer:void 0,referring_domain:void 0,dclid:void 0,gbraid:void 0,gclid:void 0,fbclid:void 0,ko_click_id:void 0,li_fat_id:void 0,msclkid:void 0,rtd_cid:void 0,ttclid:void 0,twclid:void 0,wbraid:void 0},domainWithoutSubdomain=function(er){var eo=er.split(".");return eo.length<=2?er:eo.slice(eo.length-2,eo.length).join(".")},isNewCampaign=function(er,eo,ec,eh){void 0===eh&&(eh=!0),er.referrer;var ep=er.referring_domain,ef=tslib_tslib_es6_rest(er,["referrer","referring_domain"]),eg=eo||{},em=(eg.referrer,eg.referring_domain),ey=tslib_tslib_es6_rest(eg,["referrer","referring_domain"]);if(isExcludedReferrer(ec.excludeReferrers,er.referring_domain)||!eh&&Object.values(er).every(function(er){return!er})&&eo)return!1;var ev=JSON.stringify(ef)!==JSON.stringify(ey),e_=domainWithoutSubdomain(ep||"")!==domainWithoutSubdomain(em||"");return!eo||ev||e_},isExcludedReferrer=function(er,eo){return void 0===er&&(er=[]),void 0===eo&&(eo=""),er.some(function(er){return er instanceof RegExp?er.test(eo):er===eo})},getDefaultExcludedReferrers=function(er){var eo=er;return eo?(eo.startsWith(".")&&(eo=eo.substring(1)),[new RegExp("".concat(eo.replace(".","\\."),"$"))]):[]},getGlobalScope=function(){var er="ampIntegrationContext";return"undefined"!=typeof globalThis&&void 0!==globalThis[er]?globalThis[er]:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==ec.g?ec.g:void 0},getQueryParams=function(){var er,eo=getGlobalScope();return(null===(er=null==eo?void 0:eo.location)||void 0===er?void 0:er.search)?eo.location.search.substring(1).split("&").filter(Boolean).reduce(function(er,eo){var ec=eo.split("=",2),eh=tryDecodeURIComponent(ec[0]),ep=tryDecodeURIComponent(ec[1]);return ep&&(er[eh]=ep),er},{}):{}},tryDecodeURIComponent=function(er){void 0===er&&(er="");try{return decodeURIComponent(er)}catch(er){return""}},eY=function(){function CampaignParser(){}return CampaignParser.prototype.parse=function(){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_tslib_es6_generator(this,function(er){return[2,tslib_tslib_es6_assign(tslib_tslib_es6_assign(tslib_tslib_es6_assign(tslib_tslib_es6_assign({},eX),this.getUtmParam()),this.getReferrer()),this.getClickIds())]})})},CampaignParser.prototype.getUtmParam=function(){var er=getQueryParams();return{utm_campaign:er.utm_campaign,utm_content:er.utm_content,utm_id:er.utm_id,utm_medium:er.utm_medium,utm_source:er.utm_source,utm_term:er.utm_term}},CampaignParser.prototype.getReferrer=function(){var er,eo,ec={referrer:void 0,referring_domain:void 0};try{ec.referrer=document.referrer||void 0,ec.referring_domain=null!==(eo=null===(er=ec.referrer)||void 0===er?void 0:er.split("/")[2])&&void 0!==eo?eo:void 0}catch(er){}return ec},CampaignParser.prototype.getClickIds=function(){var er,eo=getQueryParams();return(er={})[eH]=eo[eH],er[eB]=eo[eB],er[eq]=eo[eq],er[ez]=eo[ez],er[eW]=eo[eW],er[e$]=eo[e$],er[eG]=eo[eG],er[eK]=eo[eK],er[eZ]=eo[eZ],er[eJ]=eo[eJ],er[eQ]=eo[eQ],er},CampaignParser}(),isNewSession=function(er,eo){return void 0===eo&&(eo=Date.now()),Date.now()-eo>er},e0=function(){function WebAttribution(er,eo){var ec,eh,ep;this.shouldTrackNewCampaign=!1,this.options=tslib_tslib_es6_assign({initialEmptyValue:"EMPTY",resetSessionOnNewCampaign:!1,excludeReferrers:getDefaultExcludedReferrers(null===(ec=eo.cookieOptions)||void 0===ec?void 0:ec.domain)},er),this.storage=eo.cookieStorage,this.storageKey=(eh=eo.apiKey,void 0===ep&&(ep=10),["AMP","MKTG",eh.substring(0,ep)].filter(Boolean).join("_")),this.currentCampaign=eX,this.sessionTimeout=eo.sessionTimeout,this.lastEventTime=eo.lastEventTime,eo.loggerProvider.log("Installing web attribution tracking.")}return WebAttribution.prototype.init=function(){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var er,eo;return tslib_tslib_es6_generator(this,function(ec){switch(ec.label){case 0:return[4,this.fetchCampaign()];case 1:if(eo=tslib_tslib_es6_read.apply(void 0,[ec.sent(),2]),this.currentCampaign=eo[0],this.previousCampaign=eo[1],er=!this.lastEventTime||isNewSession(this.sessionTimeout,this.lastEventTime),!isNewCampaign(this.currentCampaign,this.previousCampaign,this.options,er))return[3,3];return this.shouldTrackNewCampaign=!0,[4,this.storage.set(this.storageKey,this.currentCampaign)];case 2:ec.sent(),ec.label=3;case 3:return[2]}})})},WebAttribution.prototype.fetchCampaign=function(){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_tslib_es6_generator(this,function(er){switch(er.label){case 0:return[4,Promise.all([new eY().parse(),this.storage.get(this.storageKey)])];case 1:return[2,er.sent()]}})})},WebAttribution.prototype.generateCampaignEvent=function(er){this.shouldTrackNewCampaign=!1;var eo,ec,eh=(eo=this.currentCampaign,ec=this.options,createIdentifyEvent(Object.entries(tslib_tslib_es6_assign(tslib_tslib_es6_assign({},eX),eo)).reduce(function(er,eo){var eh,ep=tslib_tslib_es6_read(eo,2),ef=ep[0],eg=ep[1];return(er.setOnce("initial_".concat(ef),null!==(eh=null!=eg?eg:ec.initialEmptyValue)&&void 0!==eh?eh:"EMPTY"),eg)?er.set(ef,eg):er.unset(ef)},new eL)));return er&&(eh.event_id=er),eh},WebAttribution.prototype.shouldSetSessionIdOnNewCampaign=function(){return this.shouldTrackNewCampaign&&!!this.options.resetSessionOnNewCampaign},WebAttribution}(),e1=function(){function ApplicationContextProviderImpl(){}return ApplicationContextProviderImpl.prototype.getApplicationContext=function(){return{versionName:this.versionName,language:getLanguage(),platform:"Web",os:void 0,deviceModel:void 0}},ApplicationContextProviderImpl}(),getLanguage=function(){return"undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language)||""},e2=function(){function EventBridgeImpl(){this.queue=[]}return EventBridgeImpl.prototype.logEvent=function(er){this.receiver?this.receiver(er):this.queue.length<512&&this.queue.push(er)},EventBridgeImpl.prototype.setEventReceiver=function(er){this.receiver=er,this.queue.length>0&&(this.queue.forEach(function(eo){er(eo)}),this.queue=[])},EventBridgeImpl}(),analytics_connector_esm_assign=function(){return(analytics_connector_esm_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)},isEqual=function(er,eo){var ec=typeof er;if(ec!==typeof eo)return!1;for(var eh=0,ep=["string","number","boolean","undefined"];eh<ep.length;eh++)if(ep[eh]===ec)return er===eo;if(null==er&&null==eo)return!0;if(null==er||null==eo||er.length!==eo.length)return!1;var ef=Array.isArray(er),eg=Array.isArray(eo);if(ef!==eg)return!1;if(ef&&eg){for(var em=0;em<er.length;em++)if(!isEqual(er[em],eo[em]))return!1}else{if(!isEqual(Object.keys(er).sort(),Object.keys(eo).sort()))return!1;var ey=!0;return Object.keys(er).forEach(function(ec){isEqual(er[ec],eo[ec])||(ey=!1)}),ey}return!0};Object.entries||(Object.entries=function(er){for(var eo=Object.keys(er),ec=eo.length,eh=Array(ec);ec--;)eh[ec]=[eo[ec],er[eo[ec]]];return eh});var e3=function(){function IdentityStoreImpl(){this.identity={userProperties:{}},this.listeners=new Set}return IdentityStoreImpl.prototype.editIdentity=function(){var er=this,eo=analytics_connector_esm_assign({},this.identity.userProperties),ec=analytics_connector_esm_assign(analytics_connector_esm_assign({},this.identity),{userProperties:eo});return{setUserId:function(er){return ec.userId=er,this},setDeviceId:function(er){return ec.deviceId=er,this},setUserProperties:function(er){return ec.userProperties=er,this},setOptOut:function(er){return ec.optOut=er,this},updateUserProperties:function(er){for(var eo=ec.userProperties||{},eh=0,ep=Object.entries(er);eh<ep.length;eh++){var ef=ep[eh],eg=ef[0],em=ef[1];switch(eg){case"$set":for(var ey=0,ev=Object.entries(em);ey<ev.length;ey++){var e_=ev[ey],ew=e_[0],ex=e_[1];eo[ew]=ex}break;case"$unset":for(var ek=0,eS=Object.keys(em);ek<eS.length;ek++){var ew=eS[ek];delete eo[ew]}break;case"$clearAll":eo={}}}return ec.userProperties=eo,this},commit:function(){return er.setIdentity(ec),this}}},IdentityStoreImpl.prototype.getIdentity=function(){return analytics_connector_esm_assign({},this.identity)},IdentityStoreImpl.prototype.setIdentity=function(er){var eo=analytics_connector_esm_assign({},this.identity);this.identity=analytics_connector_esm_assign({},er),isEqual(eo,this.identity)||this.listeners.forEach(function(eo){eo(er)})},IdentityStoreImpl.prototype.addIdentityListener=function(er){this.listeners.add(er)},IdentityStoreImpl.prototype.removeIdentityListener=function(er){this.listeners.delete(er)},IdentityStoreImpl}(),e6="undefined"!=typeof globalThis?globalThis:void 0!==ec.g?ec.g:self,e4=function(){function AnalyticsConnector(){this.identityStore=new e3,this.eventBridge=new e2,this.applicationContextProvider=new e1}return AnalyticsConnector.getInstance=function(er){return e6.analyticsConnectorInstances||(e6.analyticsConnectorInstances={}),e6.analyticsConnectorInstances[er]||(e6.analyticsConnectorInstances[er]=new AnalyticsConnector),e6.analyticsConnectorInstances[er]},AnalyticsConnector}(),getAnalyticsConnector=function(er){return void 0===er&&(er="$default_instance"),e4.getInstance(er)},setConnectorUserId=function(er,eo){getAnalyticsConnector(eo).identityStore.editIdentity().setUserId(er).commit()},setConnectorDeviceId=function(er,eo){getAnalyticsConnector(eo).identityStore.editIdentity().setDeviceId(er).commit()},e5=function(){function IdentityEventSender(){this.name="identity",this.type="before",this.identityStore=getAnalyticsConnector().identityStore}return IdentityEventSender.prototype.execute=function(er){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var eo;return tslib_tslib_es6_generator(this,function(ec){return(eo=er.user_properties)&&this.identityStore.editIdentity().updateUserProperties(eo).commit(),[2,er]})})},IdentityEventSender.prototype.setup=function(er){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_tslib_es6_generator(this,function(eo){return er.instanceName&&(this.identityStore=getAnalyticsConnector(er.instanceName).identityStore),[2]})})},IdentityEventSender}(),convertProxyObjectToRealObject=function(er,eo){for(var ec=0;ec<eo.length;ec++){var eh=eo[ec],ep=eh.name,ef=eh.args,eg=eh.resolve,em=er&&er[ep];if("function"==typeof em){var ey=em.apply(er,ef);"function"==typeof eg&&eg(null==ey?void 0:ey.promise)}}return er},isInstanceProxy=function(er){return er&&void 0!==er._q},language_getLanguage=function(){if("undefined"==typeof navigator)return"";var er,eo,ec,eh,ep=navigator.userLanguage;return null!==(eh=null!==(ec=null!==(eo=null===(er=navigator.languages)||void 0===er?void 0:er[0])&&void 0!==eo?eo:navigator.language)&&void 0!==ec?ec:ep)&&void 0!==eh?eh:""},e9=function(){function Context(){this.name="@amplitude/plugin-context-browser",this.type="before",this.library="amplitude-ts/".concat("2.11.8"),"undefined"!=typeof navigator&&(this.userAgent=navigator.userAgent)}return Context.prototype.setup=function(er){return this.config=er,Promise.resolve(void 0)},Context.prototype.execute=function(er){var eo,ec;return tslib_es6_awaiter(this,void 0,void 0,function(){var eh,ep,ef;return tslib_es6_generator(this,function(eg){return eh=new Date().getTime(),ep=null!==(eo=this.config.lastEventId)&&void 0!==eo?eo:-1,ef=null!==(ec=er.event_id)&&void 0!==ec?ec:ep+1,this.config.lastEventId=ef,er.time||(this.config.lastEventTime=eh),[2,tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign(tslib_es6_assign({user_id:this.config.userId,device_id:this.config.deviceId,session_id:this.config.sessionId,time:eh},this.config.appVersion&&{app_version:this.config.appVersion}),this.config.trackingOptions.platform&&{platform:"Web"}),this.config.trackingOptions.language&&{language:language_getLanguage()}),this.config.trackingOptions.ipAddress&&{ip:"$remote"}),{insert_id:UUID(),partner_id:this.config.partnerId,plan:this.config.plan}),this.config.ingestionMetadata&&{ingestion_metadata:{source_name:this.config.ingestionMetadata.sourceName,source_version:this.config.ingestionMetadata.sourceVersion}}),er),{event_id:ef,library:this.library,user_agent:this.userAgent})]})})},Context}(),e7=function(){function MemoryStorage(){this.memoryStorage=new Map}return MemoryStorage.prototype.isEnabled=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(er){return[2,!0]})})},MemoryStorage.prototype.get=function(er){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(eo){return[2,this.memoryStorage.get(er)]})})},MemoryStorage.prototype.getRaw=function(er){return __awaiter(this,void 0,void 0,function(){var eo;return __generator(this,function(ec){switch(ec.label){case 0:return[4,this.get(er)];case 1:return[2,(eo=ec.sent())?JSON.stringify(eo):void 0]}})})},MemoryStorage.prototype.set=function(er,eo){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(ec){return this.memoryStorage.set(er,eo),[2]})})},MemoryStorage.prototype.remove=function(er){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(eo){return this.memoryStorage.delete(er),[2]})})},MemoryStorage.prototype.reset=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(er){return this.memoryStorage.clear(),[2]})})},MemoryStorage}(),getCookieName=function(er,eo,ec){return void 0===eo&&(eo=""),void 0===ec&&(ec=10),["AMP",eo,er.substring(0,ec)].filter(Boolean).join("_")},e8=function(){function CookieStorage(er){this.options=tslib_tslib_es6_assign({},er)}return CookieStorage.prototype.isEnabled=function(){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var er,eo;return tslib_tslib_es6_generator(this,function(ec){switch(ec.label){case 0:if(!getGlobalScope())return[2,!1];CookieStorage.testValue=String(Date.now()),er=new CookieStorage(this.options),eo="AMP_TEST",ec.label=1;case 1:return ec.trys.push([1,4,5,7]),[4,er.set(eo,CookieStorage.testValue)];case 2:return ec.sent(),[4,er.get(eo)];case 3:return[2,ec.sent()===CookieStorage.testValue];case 4:return ec.sent(),[2,!1];case 5:return[4,er.remove(eo)];case 6:return ec.sent(),[7];case 7:return[2]}})})},CookieStorage.prototype.get=function(er){var eo;return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var ec,eh;return tslib_tslib_es6_generator(this,function(ep){switch(ep.label){case 0:return[4,this.getRaw(er)];case 1:if(!(ec=ep.sent()))return[2,void 0];try{if(eh=null!==(eo=decodeCookiesAsDefault(ec))&&void 0!==eo?eo:decodeCookiesWithDoubleUrlEncoding(ec),void 0===eh)return console.error("Amplitude Logger [Error]: Failed to decode cookie value for key: ".concat(er,", value: ").concat(ec)),[2,void 0];return[2,JSON.parse(eh)]}catch(eo){return console.error("Amplitude Logger [Error]: Failed to parse cookie value for key: ".concat(er,", value: ").concat(ec)),[2,void 0]}return[2]}})})},CookieStorage.prototype.getRaw=function(er){var eo,ec;return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var eh,ep;return tslib_tslib_es6_generator(this,function(ef){return(ep=(null!==(ec=null===(eo=null==(eh=getGlobalScope())?void 0:eh.document)||void 0===eo?void 0:eo.cookie.split("; "))&&void 0!==ec?ec:[]).find(function(eo){return 0===eo.indexOf(er+"=")}))?[2,ep.substring(er.length+1)]:[2,void 0]})})},CookieStorage.prototype.set=function(er,eo){var ec;return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var eh,ep,ef,eg,em,ey,ev;return tslib_tslib_es6_generator(this,function(e_){try{eh=null!==(ec=this.options.expirationDays)&&void 0!==ec?ec:0,ep=null!==eo?eh:-1,ef=void 0,ep&&((eg=new Date).setTime(eg.getTime()+864e5*ep),ef=eg),em="".concat(er,"=").concat(btoa(encodeURIComponent(JSON.stringify(eo)))),ef&&(em+="; expires=".concat(ef.toUTCString())),em+="; path=/",this.options.domain&&(em+="; domain=".concat(this.options.domain)),this.options.secure&&(em+="; Secure"),this.options.sameSite&&(em+="; SameSite=".concat(this.options.sameSite)),(ey=getGlobalScope())&&(ey.document.cookie=em)}catch(eo){ev=eo instanceof Error?eo.message:String(eo),console.error("Amplitude Logger [Error]: Failed to set cookie for key: ".concat(er,". Error: ").concat(ev))}return[2]})})},CookieStorage.prototype.remove=function(er){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_tslib_es6_generator(this,function(eo){switch(eo.label){case 0:return[4,this.set(er,null)];case 1:return eo.sent(),[2]}})})},CookieStorage.prototype.reset=function(){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_tslib_es6_generator(this,function(er){return[2]})})},CookieStorage}(),decodeCookiesAsDefault=function(er){try{return decodeURIComponent(atob(er))}catch(er){return}},decodeCookiesWithDoubleUrlEncoding=function(er){try{return decodeURIComponent(atob(decodeURIComponent(er)))}catch(er){return}},tr=function(){function BaseTransport(){}return BaseTransport.prototype.send=function(er,eo){return Promise.resolve(null)},BaseTransport.prototype.buildResponse=function(er){if("object"!=typeof er)return null;var eo,ec,eh,ep,ef,eg,em,ey,ev,e_,ew,ek,eS,eC,eI,eE,eT,eN,eA,eO,eP,eM,eR=er.code||0,eD=this.buildStatus(eR);switch(eD){case ex.Success:return{status:eD,statusCode:eR,body:{eventsIngested:null!==(eo=er.events_ingested)&&void 0!==eo?eo:0,payloadSizeBytes:null!==(ec=er.payload_size_bytes)&&void 0!==ec?ec:0,serverUploadTime:null!==(eh=er.server_upload_time)&&void 0!==eh?eh:0}};case ex.Invalid:return{status:eD,statusCode:eR,body:{error:null!==(ep=er.error)&&void 0!==ep?ep:"",missingField:null!==(ef=er.missing_field)&&void 0!==ef?ef:"",eventsWithInvalidFields:null!==(eg=er.events_with_invalid_fields)&&void 0!==eg?eg:{},eventsWithMissingFields:null!==(em=er.events_with_missing_fields)&&void 0!==em?em:{},eventsWithInvalidIdLengths:null!==(ey=er.events_with_invalid_id_lengths)&&void 0!==ey?ey:{},epsThreshold:null!==(ev=er.eps_threshold)&&void 0!==ev?ev:0,exceededDailyQuotaDevices:null!==(e_=er.exceeded_daily_quota_devices)&&void 0!==e_?e_:{},silencedDevices:null!==(ew=er.silenced_devices)&&void 0!==ew?ew:[],silencedEvents:null!==(ek=er.silenced_events)&&void 0!==ek?ek:[],throttledDevices:null!==(eS=er.throttled_devices)&&void 0!==eS?eS:{},throttledEvents:null!==(eC=er.throttled_events)&&void 0!==eC?eC:[]}};case ex.PayloadTooLarge:return{status:eD,statusCode:eR,body:{error:null!==(eI=er.error)&&void 0!==eI?eI:""}};case ex.RateLimit:return{status:eD,statusCode:eR,body:{error:null!==(eE=er.error)&&void 0!==eE?eE:"",epsThreshold:null!==(eT=er.eps_threshold)&&void 0!==eT?eT:0,throttledDevices:null!==(eN=er.throttled_devices)&&void 0!==eN?eN:{},throttledUsers:null!==(eA=er.throttled_users)&&void 0!==eA?eA:{},exceededDailyQuotaDevices:null!==(eO=er.exceeded_daily_quota_devices)&&void 0!==eO?eO:{},exceededDailyQuotaUsers:null!==(eP=er.exceeded_daily_quota_users)&&void 0!==eP?eP:{},throttledEvents:null!==(eM=er.throttled_events)&&void 0!==eM?eM:[]}};case ex.Timeout:default:return{status:eD,statusCode:eR}}},BaseTransport.prototype.buildStatus=function(er){return er>=200&&er<300?ex.Success:429===er?ex.RateLimit:413===er?ex.PayloadTooLarge:408===er?ex.Timeout:er>=400&&er<500?ex.Invalid:er>=500?ex.Failed:ex.Unknown},BaseTransport}(),to=function(er){function FetchTransport(){return null!==er&&er.apply(this,arguments)||this}return!function(er,eo){if("function"!=typeof eo&&null!==eo)throw TypeError("Class extends value "+String(eo)+" is not a constructor or null");function __(){this.constructor=er}tslib_tslib_es6_extendStatics(er,eo),er.prototype=null===eo?Object.create(eo):(__.prototype=eo.prototype,new __)}(FetchTransport,er),FetchTransport.prototype.send=function(er,eo){return tslib_tslib_es6_awaiter(this,void 0,void 0,function(){var ec,eh,ep;return tslib_tslib_es6_generator(this,function(ef){switch(ef.label){case 0:if("undefined"==typeof fetch)throw Error("FetchTransport is not supported");return ec={headers:{"Content-Type":"application/json",Accept:"*/*"},body:JSON.stringify(eo),method:"POST"},[4,fetch(er,ec)];case 1:return[4,(eh=ef.sent()).text()];case 2:ep=ef.sent();try{return[2,this.buildResponse(JSON.parse(ep))]}catch(er){return[2,this.buildResponse({code:eh.status})]}return[2]}})})},FetchTransport}(tr),ta=function(){function BrowserStorage(er){this.storage=er}return BrowserStorage.prototype.isEnabled=function(){return tslib_es6_awaiter(this,void 0,void 0,function(){var er,eo,ec;return tslib_es6_generator(this,function(eh){switch(eh.label){case 0:if(!this.storage)return[2,!1];er=String(Date.now()),eo=new BrowserStorage(this.storage),ec="AMP_TEST",eh.label=1;case 1:return eh.trys.push([1,4,5,7]),[4,eo.set(ec,er)];case 2:return eh.sent(),[4,eo.get(ec)];case 3:return[2,eh.sent()===er];case 4:return eh.sent(),[2,!1];case 5:return[4,eo.remove(ec)];case 6:return eh.sent(),[7];case 7:return[2]}})})},BrowserStorage.prototype.get=function(er){return tslib_es6_awaiter(this,void 0,void 0,function(){var eo;return tslib_es6_generator(this,function(ec){switch(ec.label){case 0:return ec.trys.push([0,2,,3]),[4,this.getRaw(er)];case 1:if(!(eo=ec.sent()))return[2,void 0];return[2,JSON.parse(eo)];case 2:return ec.sent(),console.error("[Amplitude] Error: Could not get value from storage"),[2,void 0];case 3:return[2]}})})},BrowserStorage.prototype.getRaw=function(er){var eo;return tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_es6_generator(this,function(ec){return[2,(null===(eo=this.storage)||void 0===eo?void 0:eo.getItem(er))||void 0]})})},BrowserStorage.prototype.set=function(er,eo){var ec;return tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_es6_generator(this,function(eh){try{null===(ec=this.storage)||void 0===ec||ec.setItem(er,JSON.stringify(eo))}catch(er){}return[2]})})},BrowserStorage.prototype.remove=function(er){var eo;return tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_es6_generator(this,function(ec){try{null===(eo=this.storage)||void 0===eo||eo.removeItem(er)}catch(er){}return[2]})})},BrowserStorage.prototype.reset=function(){var er;return tslib_es6_awaiter(this,void 0,void 0,function(){return tslib_es6_generator(this,function(eo){try{null===(er=this.storage)||void 0===er||er.clear()}catch(er){}return[2]})})},BrowserStorage}(),tc=function(er){function LocalStorage(eo){var ec,eh=this;return(eh=er.call(this,null===(ec=getGlobalScope())||void 0===ec?void 0:ec.localStorage)||this).loggerProvider=null==eo?void 0:eo.loggerProvider,eh}return tslib_es6_extends(LocalStorage,er),LocalStorage.prototype.set=function(eo,ec){var eh;return tslib_es6_awaiter(this,void 0,void 0,function(){var ep;return tslib_es6_generator(this,function(ef){switch(ef.label){case 0:if(!(Array.isArray(ec)&&ec.length>1e3))return[3,2];return ep=ec.length-1e3,[4,er.prototype.set.call(this,eo,ec.slice(0,1e3))];case 1:return ef.sent(),null===(eh=this.loggerProvider)||void 0===eh||eh.error("Failed to save ".concat(ep," events because the queue length exceeded ").concat(1e3,".")),[3,4];case 2:return[4,er.prototype.set.call(this,eo,ec)];case 3:ef.sent(),ef.label=4;case 4:return[2]}})})},LocalStorage}(ta),td=function(er){function SessionStorage(){var eo;return er.call(this,null===(eo=getGlobalScope())||void 0===eo?void 0:eo.sessionStorage)||this}return tslib_es6_extends(SessionStorage,er),SessionStorage}(ta),tp=function(er){function XHRTransport(){var eo=null!==er&&er.apply(this,arguments)||this;return eo.state={done:4},eo}return tslib_es6_extends(XHRTransport,er),XHRTransport.prototype.send=function(er,eo){return tslib_es6_awaiter(this,void 0,void 0,function(){var ec=this;return tslib_es6_generator(this,function(eh){return[2,new Promise(function(eh,ep){"undefined"==typeof XMLHttpRequest&&ep(Error("XHRTransport is not supported."));var ef=new XMLHttpRequest;ef.open("POST",er,!0),ef.onreadystatechange=function(){if(ef.readyState===ec.state.done){var er=ef.responseText;try{eh(ec.buildResponse(JSON.parse(er)))}catch(er){eh(ec.buildResponse({code:ef.status}))}}},ef.setRequestHeader("Content-Type","application/json"),ef.setRequestHeader("Accept","*/*"),ef.send(JSON.stringify(eo))})]})})},XHRTransport}(tr),tf=function(er){function SendBeaconTransport(){return null!==er&&er.apply(this,arguments)||this}return tslib_es6_extends(SendBeaconTransport,er),SendBeaconTransport.prototype.send=function(er,eo){return tslib_es6_awaiter(this,void 0,void 0,function(){var ec=this;return tslib_es6_generator(this,function(eh){return[2,new Promise(function(eh,ep){var ef=getGlobalScope();if(!(null==ef?void 0:ef.navigator.sendBeacon))throw Error("SendBeaconTransport is not supported");try{var eg=JSON.stringify(eo);if(ef.navigator.sendBeacon(er,JSON.stringify(eo)))return eh(ec.buildResponse({code:200,events_ingested:eo.events.length,payload_size_bytes:eg.length,server_upload_time:Date.now()}));return eh(ec.buildResponse({code:500}))}catch(er){ep(er)}})]})})},SendBeaconTransport}(tr),parseTime=function(er){var eo=parseInt(er,32);if(!isNaN(eo))return eo},decode=function(er){if(atob&&escape&&er)try{return decodeURIComponent(escape(atob(er)))}catch(er){return}},tg="[Amplitude]",tm="".concat(tg," Form Started"),ty="".concat(tg," Form Submitted"),tv="".concat(tg," File Downloaded"),t_="session_start",tb="session_end",tw="".concat(tg," File Extension"),tx="".concat(tg," File Name"),tk="".concat(tg," Link ID"),tS="".concat(tg," Link Text"),tC="".concat(tg," Link URL"),tI="".concat(tg," Form ID"),tE="".concat(tg," Form Name"),tT="".concat(tg," Form Destination"),tN="cookie",tA=function(er){function BrowserConfig(eo,ec,eh,ep,ef,eg,em,ey,ev,e_,ex,ek,eS,eC,eI,eE,eT,eN,eA,eO,eP,eR,eD,ej,eL,eU,eF,eV,eH,eB,eq,ez,eW,e$){void 0===eh&&(eh=new e7),void 0===ep&&(ep={domain:"",expiration:365,sameSite:"Lax",secure:!1,upgrade:!0}),void 0===ey&&(ey=1e3),void 0===ev&&(ev=5),void 0===e_&&(e_=30),void 0===ex&&(ex=tN),void 0===eE&&(eE=new eM),void 0===eT&&(eT=ew.Warn),void 0===eA&&(eA=!1),void 0===eO&&(eO=!1),void 0===eD&&(eD=""),void 0===ej&&(ej="US"),void 0===eU&&(eU=18e5),void 0===eF&&(eF=new tc({loggerProvider:eE})),void 0===eV&&(eV={ipAddress:!0,language:!0,platform:!0}),void 0===eH&&(eH="fetch"),void 0===eB&&(eB=!1),void 0===eq&&(eq=!1);var eG=er.call(this,{apiKey:eo,storageProvider:eF,transportProvider:createTransport(eH)})||this;return eG.apiKey=eo,eG.appVersion=ec,eG.cookieOptions=ep,eG.defaultTracking=ef,eG.autocapture=eg,eG.flushIntervalMillis=ey,eG.flushMaxRetries=ev,eG.flushQueueSize=e_,eG.identityStorage=ex,eG.ingestionMetadata=ek,eG.instanceName=eS,eG.loggerProvider=eE,eG.logLevel=eT,eG.minIdLength=eN,eG.offline=eA,eG.partnerId=eP,eG.plan=eR,eG.serverUrl=eD,eG.serverZone=ej,eG.sessionTimeout=eU,eG.storageProvider=eF,eG.trackingOptions=eV,eG.transport=eH,eG.useBatch=eB,eG.fetchRemoteConfig=eq,eG._optOut=!1,eG._cookieStorage=eh,eG.deviceId=em,eG.lastEventId=eC,eG.lastEventTime=eI,eG.optOut=eO,eG.sessionId=eL,eG.pageCounter=eW,eG.userId=ez,eG.debugLogsEnabled=e$,eG.loggerProvider.enable(e$?ew.Debug:eG.logLevel),eG}return tslib_es6_extends(BrowserConfig,er),Object.defineProperty(BrowserConfig.prototype,"cookieStorage",{get:function(){return this._cookieStorage},set:function(er){this._cookieStorage!==er&&(this._cookieStorage=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"deviceId",{get:function(){return this._deviceId},set:function(er){this._deviceId!==er&&(this._deviceId=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"userId",{get:function(){return this._userId},set:function(er){this._userId!==er&&(this._userId=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"sessionId",{get:function(){return this._sessionId},set:function(er){this._sessionId!==er&&(this._sessionId=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"optOut",{get:function(){return this._optOut},set:function(er){this._optOut!==er&&(this._optOut=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"lastEventTime",{get:function(){return this._lastEventTime},set:function(er){this._lastEventTime!==er&&(this._lastEventTime=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"lastEventId",{get:function(){return this._lastEventId},set:function(er){this._lastEventId!==er&&(this._lastEventId=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"pageCounter",{get:function(){return this._pageCounter},set:function(er){this._pageCounter!==er&&(this._pageCounter=er,this.updateStorage())},enumerable:!1,configurable:!0}),Object.defineProperty(BrowserConfig.prototype,"debugLogsEnabled",{set:function(er){this._debugLogsEnabled!==er&&(this._debugLogsEnabled=er,this.updateStorage())},enumerable:!1,configurable:!0}),BrowserConfig.prototype.updateStorage=function(){var er={deviceId:this._deviceId,userId:this._userId,sessionId:this._sessionId,optOut:this._optOut,lastEventTime:this._lastEventTime,lastEventId:this._lastEventId,pageCounter:this._pageCounter,debugLogsEnabled:this._debugLogsEnabled};this.cookieStorage.set(getCookieName(this.apiKey),er)},BrowserConfig}(eR),createCookieStorage=function(er,eo){switch(void 0===er&&(er=tN),void 0===eo&&(eo={}),er){case"localStorage":return new tc;case"sessionStorage":return new td;case"none":return new e7;default:return new e8(tslib_es6_assign(tslib_es6_assign({},eo),{expirationDays:eo.expiration}))}},createTransport=function(er){return"xhr"===er?new tp:"beacon"===er?new tf:new to},node_modules_tslib_tslib_es6_assign=function(){return(node_modules_tslib_tslib_es6_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function node_modules_tslib_tslib_es6_awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function node_modules_tslib_tslib_es6_generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}function node_modules_tslib_tslib_es6_read(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}function node_modules_tslib_tslib_es6_spreadArray(er,eo,ec){if(ec||2==arguments.length)for(var eh,ep=0,ef=eo.length;ep<ef;ep++)!eh&&ep in eo||(eh||(eh=Array.prototype.slice.call(eo,0,ep)),eh[ep]=eo[ep]);return er.concat(eh||Array.prototype.slice.call(eo))}"function"==typeof SuppressedError&&SuppressedError;var omitUndefined=function(er){var eo={};for(var ec in er){var eh=er[ec];eh&&(eo[ec]=eh)}return eo},pageViewTrackingPlugin=function(er){void 0===er&&(er={});var eo,ec,eh,ep=getGlobalScope(),ef=void 0,eg=er.trackOn,em=er.trackHistoryChanges,ey=er.eventType,ev=void 0===ey?"[Amplitude] Page Viewed":ey,getDecodeURI=function(er){var eo=er;try{eo=decodeURI(er)}catch(er){null==ef||ef.error("Malformed URI sequence: ",er)}return eo},createPageViewEvent=function(){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,eo,ec;return node_modules_tslib_tslib_es6_generator(this,function(eh){switch(eh.label){case 0:return er=getDecodeURI("undefined"!=typeof location&&location.href||""),ec={event_type:ev},eo=[{}],[4,getCampaignParams()];case 1:return[2,(ec.event_properties=node_modules_tslib_tslib_es6_assign.apply(void 0,[node_modules_tslib_tslib_es6_assign.apply(void 0,eo.concat([eh.sent()])),{"[Amplitude] Page Domain":"undefined"!=typeof location&&location.hostname||"","[Amplitude] Page Location":er,"[Amplitude] Page Path":"undefined"!=typeof location&&getDecodeURI(location.pathname)||"","[Amplitude] Page Title":"undefined"!=typeof document&&document.title||"","[Amplitude] Page URL":er.split("?")[0]}]),ec)]}})})},shouldTrackOnPageLoad=function(){return void 0===eg||"function"==typeof eg&&eg()},e_="undefined"!=typeof location?location.href:null,trackHistoryPageView=function(){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,ec,eh,ep;return node_modules_tslib_tslib_es6_generator(this,function(eg){switch(eg.label){case 0:if(ec=shouldTrackHistoryPageView(em,er=location.href,e_||"")&&shouldTrackOnPageLoad(),e_=er,!ec)return[3,4];if(null==ef||ef.log("Tracking page view event"),null!=eo)return[3,1];return[3,3];case 1:return ep=(eh=eo).track,[4,createPageViewEvent()];case 2:ep.apply(eh,[eg.sent()]),eg.label=3;case 3:eg.label=4;case 4:return[2]}})})},trackHistoryPageViewWrapper=function(){trackHistoryPageView()};return{name:"@amplitude/plugin-page-view-tracking-browser",type:"enrichment",setup:function(er,eg){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var em,ey;return node_modules_tslib_tslib_es6_generator(this,function(ev){switch(ev.label){case 0:if(eo=eg,eh=er,(ef=er.loggerProvider).log("Installing @amplitude/plugin-page-view-tracking-browser"),ep&&(ep.addEventListener("popstate",trackHistoryPageViewWrapper),ec=ep.history.pushState,ep.history.pushState=new Proxy(ep.history.pushState,{apply:function(er,eo,ec){var eh=node_modules_tslib_tslib_es6_read(ec,3),ep=eh[0],ef=eh[1],eg=eh[2];er.apply(eo,[ep,ef,eg]),trackHistoryPageView()}})),!shouldTrackOnPageLoad())return[3,2];return ef.log("Tracking page view event"),ey=(em=eo).track,[4,createPageViewEvent()];case 1:ey.apply(em,[ev.sent()]),ev.label=2;case 2:return[2]}})})},execute:function(er){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var eo;return node_modules_tslib_tslib_es6_generator(this,function(ec){switch(ec.label){case 0:if(!("attribution"===eg&&isCampaignEvent(er)))return[3,2];return null==ef||ef.log("Enriching campaign event to page view event with campaign parameters"),[4,createPageViewEvent()];case 1:eo=ec.sent(),er.event_type=eo.event_type,er.event_properties=node_modules_tslib_tslib_es6_assign(node_modules_tslib_tslib_es6_assign({},er.event_properties),eo.event_properties),ec.label=2;case 2:return eh&&er.event_type===ev&&(eh.pageCounter=eh.pageCounter?eh.pageCounter+1:1,er.event_properties=node_modules_tslib_tslib_es6_assign(node_modules_tslib_tslib_es6_assign({},er.event_properties),{"[Amplitude] Page Counter":eh.pageCounter})),[2,er]}})})},teardown:function(){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){return node_modules_tslib_tslib_es6_generator(this,function(er){return ep&&(ep.removeEventListener("popstate",trackHistoryPageViewWrapper),ec&&(ep.history.pushState=ec)),[2]})})}}},getCampaignParams=function(){return node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var er;return node_modules_tslib_tslib_es6_generator(this,function(eo){switch(eo.label){case 0:return er=omitUndefined,[4,new eY().parse()];case 1:return[2,er.apply(void 0,[eo.sent()])]}})})},isCampaignEvent=function(er){if("$identify"===er.event_type&&er.user_properties){var eo=er.user_properties,ec=eo[ek.SET]||{},eh=eo[ek.UNSET]||{},ep=node_modules_tslib_tslib_es6_spreadArray(node_modules_tslib_tslib_es6_spreadArray([],node_modules_tslib_tslib_es6_read(Object.keys(ec)),!1),node_modules_tslib_tslib_es6_read(Object.keys(eh)),!1);return Object.keys(eX).every(function(er){return ep.includes(er)})}return!1},shouldTrackHistoryPageView=function(er,eo,ec){if("pathOnly"===er){if(""==ec)return!0;var eh=new URL(eo),ep=new URL(ec);return eh.origin+eh.pathname!==ep.origin+ep.pathname}return eo!==ec},formInteractionTracking=function(){var er,eo=[],addEventListener=function(er,ec,eh){er.addEventListener(ec,eh),eo.push({element:er,type:ec,handler:eh})},removeClickListeners=function(){eo.forEach(function(er){var eo=er.element,ec=er.type,eh=er.handler;null==eo||eo.removeEventListener(ec,eh)}),eo=[]};return{name:"@amplitude/plugin-form-interaction-tracking-browser",type:"enrichment",setup:function(eo,ec){return tslib_es6_awaiter(void 0,void 0,void 0,function(){var eh;return tslib_es6_generator(this,function(ep){return null===(eh=getGlobalScope())||void 0===eh||eh.addEventListener("load",function(){if(!ec){eo.loggerProvider.warn("Form interaction tracking requires a later version of @amplitude/analytics-browser. Form interaction events are not tracked.");return}if("undefined"!=typeof document){var addFormInteractionListener=function(er){var eo=!1;addEventListener(er,"change",function(){var eh;eo||ec.track(tm,((eh={})[tI]=stringOrUndefined(er.id),eh[tE]=stringOrUndefined(er.name),eh[tT]=er.action,eh)),eo=!0}),addEventListener(er,"submit",function(){var eh,ep;eo||ec.track(tm,((eh={})[tI]=stringOrUndefined(er.id),eh[tE]=stringOrUndefined(er.name),eh[tT]=er.action,eh)),ec.track(ty,((ep={})[tI]=stringOrUndefined(er.id),ep[tE]=stringOrUndefined(er.name),ep[tT]=er.action,ep)),eo=!1})};Array.from(document.getElementsByTagName("form")).forEach(addFormInteractionListener),"undefined"!=typeof MutationObserver&&(er=new MutationObserver(function(er){er.forEach(function(er){er.addedNodes.forEach(function(er){"FORM"===er.nodeName&&addFormInteractionListener(er),"querySelectorAll"in er&&"function"==typeof er.querySelectorAll&&Array.from(er.querySelectorAll("form")).map(addFormInteractionListener)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(er){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(eo){return[2,er]})})},teardown:function(){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(eo){return null==er||er.disconnect(),removeClickListeners(),[2]})})}}},stringOrUndefined=function(er){if("string"==typeof er)return er},fileDownloadTracking=function(){var er,eo=[],addEventListener=function(er,ec,eh){er.addEventListener(ec,eh),eo.push({element:er,type:ec,handler:eh})},removeClickListeners=function(){eo.forEach(function(er){var eo=er.element,ec=er.type,eh=er.handler;null==eo||eo.removeEventListener(ec,eh)}),eo=[]};return{name:"@amplitude/plugin-file-download-tracking-browser",type:"enrichment",setup:function(eo,ec){return tslib_es6_awaiter(void 0,void 0,void 0,function(){var eh;return tslib_es6_generator(this,function(ep){return null===(eh=getGlobalScope())||void 0===eh||eh.addEventListener("load",function(){if(!ec){eo.loggerProvider.warn("File download tracking requires a later version of @amplitude/analytics-browser. File download events are not tracked.");return}if("undefined"!=typeof document){var addFileDownloadListener=function(er){try{eo=new URL(er.href,window.location.href)}catch(er){return}var eo,ep=eh.exec(eo.href),ef=null==ep?void 0:ep[1];ef&&addEventListener(er,"click",function(){var eh;ef&&ec.track(tv,((eh={})[tw]=ef,eh[tx]=eo.pathname,eh[tk]=er.id,eh[tS]=er.text,eh[tC]=er.href,eh))})},eh=/\.(pdf|xlsx?|docx?|txt|rtf|csv|exe|key|pp(s|t|tx)|7z|pkg|rar|gz|zip|avi|mov|mp4|mpe?g|wmv|midi?|mp3|wav|wma)(\?.+)?$/;Array.from(document.getElementsByTagName("a")).forEach(addFileDownloadListener),"undefined"!=typeof MutationObserver&&(er=new MutationObserver(function(er){er.forEach(function(er){er.addedNodes.forEach(function(er){"A"===er.nodeName&&addFileDownloadListener(er),"querySelectorAll"in er&&"function"==typeof er.querySelectorAll&&Array.from(er.querySelectorAll("a")).map(addFileDownloadListener)})})})).observe(document.body,{subtree:!0,childList:!0})}}),[2]})})},execute:function(er){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(eo){return[2,er]})})},teardown:function(){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(eo){return null==er||er.disconnect(),removeClickListeners(),[2]})})}}},tO=!1,detNotify=function(er){tO||void 0!==er.defaultTracking||(er.loggerProvider.warn("`options.defaultTracking` is set to undefined. This implicitly configures your Amplitude instance to track Page Views, Sessions, File Downloads, and Form Interactions. You can suppress this warning by explicitly setting a value to `options.defaultTracking`. The value must either be a boolean, to enable and disable all default events, or an object, for advanced configuration. For example:\n\namplitude.init(<YOUR_API_KEY>, {\n  defaultTracking: true,\n});\n\nVisit https://www.docs.developers.amplitude.com/data/sdks/browser-2/#tracking-default-events for more details."),tO=!0)},networkConnectivityCheckerPlugin=function(){var er=getGlobalScope(),eo=[],addNetworkListener=function(ec,eh){er&&(er.addEventListener(ec,eh),eo.push({type:ec,handler:eh}))},removeNetworkListeners=function(){eo.forEach(function(eo){var ec=eo.type,eh=eo.handler;er&&er.removeEventListener(ec,eh)}),eo=[]};return{name:"@amplitude/plugin-network-checker-browser",type:"before",setup:function(er,eo){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(ec){return"undefined"==typeof navigator?(er.loggerProvider.debug("Network connectivity checker plugin is disabled because navigator is not available."),er.offline=!1):(er.offline=!navigator.onLine,addNetworkListener("online",function(){er.loggerProvider.debug("Network connectivity changed to online."),er.offline=!1,setTimeout(function(){eo.flush()},er.flushIntervalMillis)}),addNetworkListener("offline",function(){er.loggerProvider.debug("Network connectivity changed to offline."),er.offline=!0})),[2]})})},teardown:function(){return tslib_es6_awaiter(void 0,void 0,void 0,function(){return tslib_es6_generator(this,function(er){return removeNetworkListeners(),[2]})})}}},analytics_remote_config_node_modules_tslib_tslib_es6_assign=function(){return(analytics_remote_config_node_modules_tslib_tslib_es6_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function analytics_remote_config_node_modules_tslib_tslib_es6_generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}"function"==typeof SuppressedError&&SuppressedError,(ey=eI||(eI={})).US="US",ey.EU="EU";var tP="Remote config fetch rejected due to timeout after 5 seconds",tM="Unexpected error occurred",tR=function(){function RemoteConfigFetch(er){var eo=er.localConfig,ec=er.configKeys,eh=this;this.retryTimeout=1e3,this.attempts=0,this.sessionTargetingMatch=!1,this.metrics={},this.getRemoteConfig=function(er,eo,ec){return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(eh,void 0,void 0,function(){var eh,ep,ef;return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(eg){switch(eg.label){case 0:return eh=Date.now(),[4,this.fetchWithTimeout(ec)];case 1:if((ep=eg.sent())&&(ef=ep.configs&&ep.configs[er]))return this.metrics.fetchTimeAPISuccess=Date.now()-eh,[2,ef[eo]];return this.metrics.fetchTimeAPIFail=Date.now()-eh,[2,void 0]}})})},this.fetchWithTimeout=function(er){return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(eh,void 0,void 0,function(){var eo,ec,eh;return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(ep){switch(ep.label){case 0:return eo=new AbortController,ec=setTimeout(function(){return eo.abort()},5e3),[4,this.fetchRemoteConfig(eo.signal,er)];case 1:return eh=ep.sent(),clearTimeout(ec),[2,eh]}})})},this.fetchRemoteConfig=function(er,eo){return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(eh,void 0,void 0,function(){var ec,eh,ep,ef,eg,em,ey,ev,e_,ew,ek;return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(eS){switch(eS.label){case 0:if(eo===this.lastFetchedSessionId&&this.attempts>=this.localConfig.flushMaxRetries)return[2,this.completeRequest({err:"Remote config fetch rejected due to exceeded retry count"})];if(er.aborted)return[2,this.completeRequest({err:tP})];eo!==this.lastFetchedSessionId&&(this.lastFetchedSessionId=eo,this.attempts=0),eS.label=1;case 1:eS.trys.push([1,3,,4]),ec=new URLSearchParams({api_key:this.localConfig.apiKey});try{for(ep=(eh=function(er){var eo="function"==typeof Symbol&&Symbol.iterator,ec=eo&&er[eo],eh=0;if(ec)return ec.call(er);if(er&&"number"==typeof er.length)return{next:function(){return er&&eh>=er.length&&(er=void 0),{value:er&&er[eh++],done:!er}}};throw TypeError(eo?"Object is not iterable.":"Symbol.iterator is not defined.")}(this.configKeys)).next();!ep.done;ep=eh.next())ef=ep.value,ec.append("config_keys",ef)}catch(er){e_={error:er}}finally{try{ep&&!ep.done&&(ew=eh.return)&&ew.call(eh)}finally{if(e_)throw e_.error}}return eo&&ec.set("session_id",String(eo)),eg={headers:{Accept:"*/*"},method:"GET"},em="".concat(this.getServerUrl(),"?").concat(ec.toString()),this.attempts+=1,[4,fetch(em,analytics_remote_config_node_modules_tslib_tslib_es6_assign(analytics_remote_config_node_modules_tslib_tslib_es6_assign({},eg),{signal:er}))];case 2:if(null===(ey=eS.sent()))return[2,this.completeRequest({err:tM})];switch(new tr().buildStatus(ey.status)){case ex.Success:return this.attempts=0,[2,this.parseAndStoreConfig(ey)];case ex.Failed:return[2,this.retryFetch(er,eo)];default:return[2,this.completeRequest({err:"Network error occurred, remote config fetch failed"})]}return[3,4];case 3:if(ev=eS.sent(),er.aborted)return[2,this.completeRequest({err:tP})];return[2,this.completeRequest({err:null!==(ek=ev.message)&&void 0!==ek?ek:tM})];case 4:return[2]}})})},this.retryFetch=function(er,eo){return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(eh,void 0,void 0,function(){var ec=this;return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(eh){switch(eh.label){case 0:return[4,new Promise(function(er){return setTimeout(er,ec.attempts*ec.retryTimeout)})];case 1:return eh.sent(),[2,this.fetchRemoteConfig(er,eo)]}})})},this.parseAndStoreConfig=function(er){return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(eh,void 0,void 0,function(){var eo;return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(ec){switch(ec.label){case 0:return[4,er.json()];case 1:return eo=ec.sent(),this.completeRequest({success:"Remote config successfully fetched"}),[2,eo]}})})},this.localConfig=eo,this.configKeys=ec}return RemoteConfigFetch.prototype.getServerUrl=function(){return this.localConfig.serverZone===eI.STAGING?"https://sr-client-cfg.stag2.amplitude.com/config":this.localConfig.serverZone===eI.EU?"https://sr-client-cfg.eu.amplitude.com/config":"https://sr-client-cfg.amplitude.com/config"},RemoteConfigFetch.prototype.completeRequest=function(er){var eo=er.err,ec=er.success;if(eo)throw Error(eo);ec&&this.localConfig.loggerProvider.log(ec)},RemoteConfigFetch}(),esm_createRemoteConfigFetch=function(er){var eo=er.localConfig,ec=er.configKeys;return analytics_remote_config_node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){return analytics_remote_config_node_modules_tslib_tslib_es6_generator(this,function(er){return[2,new tR({localConfig:eo,configKeys:ec})]})})},tD=function(){function BrowserJoinedConfigGenerator(er){this.config=er,this.config.loggerProvider.debug("Local configuration before merging with remote config",JSON.stringify(this.config,null,2))}return BrowserJoinedConfigGenerator.prototype.initialize=function(){return tslib_es6_awaiter(this,void 0,void 0,function(){var er;return tslib_es6_generator(this,function(eo){switch(eo.label){case 0:return er=this,[4,esm_createRemoteConfigFetch({localConfig:this.config,configKeys:["analyticsSDK"]})];case 1:return er.remoteConfigFetch=eo.sent(),[2]}})})},BrowserJoinedConfigGenerator.prototype.generateJoinedConfig=function(){var er,eo,ec,eh;return tslib_es6_awaiter(this,void 0,void 0,function(){var ep,ef,eg;return tslib_es6_generator(this,function(em){switch(em.label){case 0:if(em.trys.push([0,3,,4]),!(ef=this.remoteConfigFetch))return[3,2];return[4,this.remoteConfigFetch.getRemoteConfig("analyticsSDK","browserSDK",this.config.sessionId)];case 1:ef=em.sent(),em.label=2;case 2:return ep=ef,this.config.loggerProvider.debug("Remote configuration:",JSON.stringify(ep,null,2)),ep&&"autocapture"in ep&&("boolean"==typeof ep.autocapture&&(this.config.autocapture=ep.autocapture),"object"==typeof ep.autocapture&&(void 0===this.config.autocapture&&(this.config.autocapture=ep.autocapture),"boolean"==typeof this.config.autocapture&&(this.config.autocapture=tslib_es6_assign({attribution:this.config.autocapture,fileDownloads:this.config.autocapture,formInteractions:this.config.autocapture,pageViews:this.config.autocapture,sessions:this.config.autocapture,elementInteractions:this.config.autocapture},ep.autocapture)),"object"==typeof this.config.autocapture&&(this.config.autocapture=tslib_es6_assign(tslib_es6_assign({},this.config.autocapture),ep.autocapture))),this.config.defaultTracking=this.config.autocapture),this.config.loggerProvider.debug("Joined configuration: ",JSON.stringify(this.config,null,2)),null!==(er=(eh=this.config).requestMetadata)&&void 0!==er||(eh.requestMetadata=new eD),(null===(eo=this.remoteConfigFetch)||void 0===eo?void 0:eo.metrics.fetchTimeAPISuccess)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_success",this.remoteConfigFetch.metrics.fetchTimeAPISuccess),(null===(ec=this.remoteConfigFetch)||void 0===ec?void 0:ec.metrics.fetchTimeAPIFail)&&this.config.requestMetadata.recordHistogram("remote_config_fetch_time_API_fail",this.remoteConfigFetch.metrics.fetchTimeAPIFail),[3,4];case 3:return eg=em.sent(),this.config.loggerProvider.error("Failed to fetch remote configuration because of error: ",eg),[3,4];case 4:return[2,this.config]}})})},BrowserJoinedConfigGenerator}(),plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign=function(){return(plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function plugin_autocapture_browser_node_modules_tslib_tslib_es6_awaiter(er,eo,ec,eh){return new(ec||(ec=Promise))(function(ep,ef){function fulfilled(er){try{step(eh.next(er))}catch(er){ef(er)}}function rejected(er){try{step(eh.throw(er))}catch(er){ef(er)}}function step(er){var eo;er.done?ep(er.value):((eo=er.value)instanceof ec?eo:new ec(function(er){er(eo)})).then(fulfilled,rejected)}step((eh=eh.apply(er,eo||[])).next())})}function plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(er,eo){var ec,eh,ep,ef={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]},eg=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return eg.next=verb(0),eg.throw=verb(1),eg.return=verb(2),"function"==typeof Symbol&&(eg[Symbol.iterator]=function(){return this}),eg;function verb(em){return function(ey){return function(em){if(ec)throw TypeError("Generator is already executing.");for(;eg&&(eg=0,em[0]&&(ef=0)),ef;)try{if(ec=1,eh&&(ep=2&em[0]?eh.return:em[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,em[1])).done)return ep;switch(eh=0,ep&&(em=[2&em[0],ep.value]),em[0]){case 0:case 1:ep=em;break;case 4:return ef.label++,{value:em[1],done:!1};case 5:ef.label++,eh=em[1],em=[0];continue;case 7:em=ef.ops.pop(),ef.trys.pop();continue;default:if(!(ep=(ep=ef.trys).length>0&&ep[ep.length-1])&&(6===em[0]||2===em[0])){ef=0;continue}if(3===em[0]&&(!ep||em[1]>ep[0]&&em[1]<ep[3])){ef.label=em[1];break}if(6===em[0]&&ef.label<ep[1]){ef.label=ep[1],ep=em;break}if(ep&&ef.label<ep[2]){ef.label=ep[2],ef.ops.push(em);break}ep[2]&&ef.ops.pop(),ef.trys.pop();continue}em=eo.call(er,ef)}catch(er){em=[6,er],eh=0}finally{ec=ep=0}if(5&em[0])throw em[1];return{value:em[0]?em[1]:void 0,done:!0}}([em,ey])}}}function plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(er){var eo="function"==typeof Symbol&&Symbol.iterator,ec=eo&&er[eo],eh=0;if(ec)return ec.call(er);if(er&&"number"==typeof er.length)return{next:function(){return er&&eh>=er.length&&(er=void 0),{value:er&&er[eh++],done:!er}}};throw TypeError(eo?"Object is not iterable.":"Symbol.iterator is not defined.")}function plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}function plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray(er,eo,ec){if(ec||2==arguments.length)for(var eh,ep=0,ef=eo.length;ep<ef;ep++)!eh&&ep in eo||(eh||(eh=Array.prototype.slice.call(eo,0,ep)),eh[ep]=eo[ep]);return er.concat(eh||Array.prototype.slice.call(eo))}"function"==typeof SuppressedError&&SuppressedError;var tj=["a","button","input","select","textarea","label","video","audio",'[contenteditable="true" i]',"[data-amp-default-track]",".amp-default-track"],tL=["div","span","h1","h2","h3","h4","h5","h6"],tU="[Amplitude] Element Clicked",tF="[Amplitude] Element Tag",tV="[Amplitude] Element Text",tH="[Amplitude] Element Selector",tB="[Amplitude] Page URL",tq="https://app.amplitude.com",tz={US:tq,EU:"https://app.eu.amplitude.com",STAGING:"https://apps.stag2.amplitude.com"},tW="amp-visual-tagging-selector-highlight",rxjs_node_modules_tslib_tslib_es6_extendStatics=function(er,eo){return(rxjs_node_modules_tslib_tslib_es6_extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(er,eo){er.__proto__=eo}||function(er,eo){for(var ec in eo)Object.prototype.hasOwnProperty.call(eo,ec)&&(er[ec]=eo[ec])})(er,eo)};function rxjs_node_modules_tslib_tslib_es6_extends(er,eo){if("function"!=typeof eo&&null!==eo)throw TypeError("Class extends value "+String(eo)+" is not a constructor or null");function __(){this.constructor=er}rxjs_node_modules_tslib_tslib_es6_extendStatics(er,eo),er.prototype=null===eo?Object.create(eo):(__.prototype=eo.prototype,new __)}function rxjs_node_modules_tslib_tslib_es6_generator(er,eo){var ec,eh,ep,ef,eg={label:0,sent:function(){if(1&ep[0])throw ep[1];return ep[1]},trys:[],ops:[]};return ef={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(ef[Symbol.iterator]=function(){return this}),ef;function verb(ef){return function(em){return function(ef){if(ec)throw TypeError("Generator is already executing.");for(;eg;)try{if(ec=1,eh&&(ep=2&ef[0]?eh.return:ef[0]?eh.throw||((ep=eh.return)&&ep.call(eh),0):eh.next)&&!(ep=ep.call(eh,ef[1])).done)return ep;switch(eh=0,ep&&(ef=[2&ef[0],ep.value]),ef[0]){case 0:case 1:ep=ef;break;case 4:return eg.label++,{value:ef[1],done:!1};case 5:eg.label++,eh=ef[1],ef=[0];continue;case 7:ef=eg.ops.pop(),eg.trys.pop();continue;default:if(!(ep=(ep=eg.trys).length>0&&ep[ep.length-1])&&(6===ef[0]||2===ef[0])){eg=0;continue}if(3===ef[0]&&(!ep||ef[1]>ep[0]&&ef[1]<ep[3])){eg.label=ef[1];break}if(6===ef[0]&&eg.label<ep[1]){eg.label=ep[1],ep=ef;break}if(ep&&eg.label<ep[2]){eg.label=ep[2],eg.ops.push(ef);break}ep[2]&&eg.ops.pop(),eg.trys.pop();continue}ef=eo.call(er,eg)}catch(er){ef=[6,er],eh=0}finally{ec=ep=0}if(5&ef[0])throw ef[1];return{value:ef[0]?ef[1]:void 0,done:!0}}([ef,em])}}}function rxjs_node_modules_tslib_tslib_es6_values(er){var eo="function"==typeof Symbol&&Symbol.iterator,ec=eo&&er[eo],eh=0;if(ec)return ec.call(er);if(er&&"number"==typeof er.length)return{next:function(){return er&&eh>=er.length&&(er=void 0),{value:er&&er[eh++],done:!er}}};throw TypeError(eo?"Object is not iterable.":"Symbol.iterator is not defined.")}function rxjs_node_modules_tslib_tslib_es6_read(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}function rxjs_node_modules_tslib_tslib_es6_spreadArray(er,eo,ec){if(ec||2==arguments.length)for(var eh,ep=0,ef=eo.length;ep<ef;ep++)!eh&&ep in eo||(eh||(eh=Array.prototype.slice.call(eo,0,ep)),eh[ep]=eo[ep]);return er.concat(eh||Array.prototype.slice.call(eo))}function rxjs_node_modules_tslib_tslib_es6_await(er){return this instanceof rxjs_node_modules_tslib_tslib_es6_await?(this.v=er,this):new rxjs_node_modules_tslib_tslib_es6_await(er)}var isArrayLike=function(er){return er&&"number"==typeof er.length&&"function"!=typeof er};function isFunction_isFunction(er){return"function"==typeof er}function isPromise(er){return isFunction_isFunction(null==er?void 0:er.then)}function createErrorClass(er){var eo=er(function(er){Error.call(er),er.stack=Error().stack});return eo.prototype=Object.create(Error.prototype),eo.prototype.constructor=eo,eo}var t$=createErrorClass(function(er){return function(eo){er(this),this.message=eo?eo.length+" errors occurred during unsubscription:\n"+eo.map(function(er,eo){return eo+1+") "+er.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=eo}});function arrRemove(er,eo){if(er){var ec=er.indexOf(eo);0<=ec&&er.splice(ec,1)}}var tG=function(){var er;function Subscription(er){this.initialTeardown=er,this.closed=!1,this._parentage=null,this._finalizers=null}return Subscription.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var er,eo,ec,eh,ep,ef=this._parentage;if(ef){if(this._parentage=null,Array.isArray(ef))try{for(var eg=rxjs_node_modules_tslib_tslib_es6_values(ef),em=eg.next();!em.done;em=eg.next())em.value.remove(this)}catch(eo){er={error:eo}}finally{try{em&&!em.done&&(eo=eg.return)&&eo.call(eg)}finally{if(er)throw er.error}}else ef.remove(this)}var ey=this.initialTeardown;if(isFunction_isFunction(ey))try{ey()}catch(er){ep=er instanceof t$?er.errors:[er]}var ev=this._finalizers;if(ev){this._finalizers=null;try{for(var e_=rxjs_node_modules_tslib_tslib_es6_values(ev),ew=e_.next();!ew.done;ew=e_.next()){var ex=ew.value;try{execFinalizer(ex)}catch(er){ep=null!=ep?ep:[],er instanceof t$?ep=rxjs_node_modules_tslib_tslib_es6_spreadArray(rxjs_node_modules_tslib_tslib_es6_spreadArray([],rxjs_node_modules_tslib_tslib_es6_read(ep)),rxjs_node_modules_tslib_tslib_es6_read(er.errors)):ep.push(er)}}}catch(er){ec={error:er}}finally{try{ew&&!ew.done&&(eh=e_.return)&&eh.call(e_)}finally{if(ec)throw ec.error}}}if(ep)throw new t$(ep)}},Subscription.prototype.add=function(er){var eo;if(er&&er!==this){if(this.closed)execFinalizer(er);else{if(er instanceof Subscription){if(er.closed||er._hasParent(this))return;er._addParent(this)}(this._finalizers=null!==(eo=this._finalizers)&&void 0!==eo?eo:[]).push(er)}}},Subscription.prototype._hasParent=function(er){var eo=this._parentage;return eo===er||Array.isArray(eo)&&eo.includes(er)},Subscription.prototype._addParent=function(er){var eo=this._parentage;this._parentage=Array.isArray(eo)?(eo.push(er),eo):eo?[eo,er]:er},Subscription.prototype._removeParent=function(er){var eo=this._parentage;eo===er?this._parentage=null:Array.isArray(eo)&&arrRemove(eo,er)},Subscription.prototype.remove=function(er){var eo=this._finalizers;eo&&arrRemove(eo,er),er instanceof Subscription&&er._removeParent(this)},Subscription.EMPTY=((er=new Subscription).closed=!0,er),Subscription}();function isSubscription(er){return er instanceof tG||er&&"closed"in er&&isFunction_isFunction(er.remove)&&isFunction_isFunction(er.add)&&isFunction_isFunction(er.unsubscribe)}function execFinalizer(er){isFunction_isFunction(er)?er():er.unsubscribe()}tG.EMPTY;var tK={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},tZ={setTimeout:function(er,eo){for(var ec=[],eh=2;eh<arguments.length;eh++)ec[eh-2]=arguments[eh];var ep=tZ.delegate;return(null==ep?void 0:ep.setTimeout)?ep.setTimeout.apply(ep,rxjs_node_modules_tslib_tslib_es6_spreadArray([er,eo],rxjs_node_modules_tslib_tslib_es6_read(ec))):setTimeout.apply(void 0,rxjs_node_modules_tslib_tslib_es6_spreadArray([er,eo],rxjs_node_modules_tslib_tslib_es6_read(ec)))},clearTimeout:function(er){var eo=tZ.delegate;return((null==eo?void 0:eo.clearTimeout)||clearTimeout)(er)},delegate:void 0};function reportUnhandledError(er){tZ.setTimeout(function(){var eo=tK.onUnhandledError;if(eo)eo(er);else throw er})}function noop(){}var tJ=createNotification("C",void 0,void 0);function createNotification(er,eo,ec){return{kind:er,value:eo,error:ec}}var tQ=null,tX=function(er){function Subscriber(eo){var ec=er.call(this)||this;return ec.isStopped=!1,eo?(ec.destination=eo,isSubscription(eo)&&eo.add(ec)):ec.destination=t2,ec}return rxjs_node_modules_tslib_tslib_es6_extends(Subscriber,er),Subscriber.create=function(er,eo,ec){return new t1(er,eo,ec)},Subscriber.prototype.next=function(er){this.isStopped?handleStoppedNotification(createNotification("N",er,void 0),this):this._next(er)},Subscriber.prototype.error=function(er){this.isStopped?handleStoppedNotification(createNotification("E",void 0,er),this):(this.isStopped=!0,this._error(er))},Subscriber.prototype.complete=function(){this.isStopped?handleStoppedNotification(tJ,this):(this.isStopped=!0,this._complete())},Subscriber.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,er.prototype.unsubscribe.call(this),this.destination=null)},Subscriber.prototype._next=function(er){this.destination.next(er)},Subscriber.prototype._error=function(er){try{this.destination.error(er)}finally{this.unsubscribe()}},Subscriber.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},Subscriber}(tG),tY=Function.prototype.bind;function bind(er,eo){return tY.call(er,eo)}var t0=function(){function ConsumerObserver(er){this.partialObserver=er}return ConsumerObserver.prototype.next=function(er){var eo=this.partialObserver;if(eo.next)try{eo.next(er)}catch(er){handleUnhandledError(er)}},ConsumerObserver.prototype.error=function(er){var eo=this.partialObserver;if(eo.error)try{eo.error(er)}catch(er){handleUnhandledError(er)}else handleUnhandledError(er)},ConsumerObserver.prototype.complete=function(){var er=this.partialObserver;if(er.complete)try{er.complete()}catch(er){handleUnhandledError(er)}},ConsumerObserver}(),t1=function(er){function SafeSubscriber(eo,ec,eh){var ep,ef,eg=er.call(this)||this;return isFunction_isFunction(eo)||!eo?ep={next:null!=eo?eo:void 0,error:null!=ec?ec:void 0,complete:null!=eh?eh:void 0}:eg&&tK.useDeprecatedNextContext?((ef=Object.create(eo)).unsubscribe=function(){return eg.unsubscribe()},ep={next:eo.next&&bind(eo.next,ef),error:eo.error&&bind(eo.error,ef),complete:eo.complete&&bind(eo.complete,ef)}):ep=eo,eg.destination=new t0(ep),eg}return rxjs_node_modules_tslib_tslib_es6_extends(SafeSubscriber,er),SafeSubscriber}(tX);function handleUnhandledError(er){tK.useDeprecatedSynchronousErrorHandling?tK.useDeprecatedSynchronousErrorHandling&&tQ&&(tQ.errorThrown=!0,tQ.error=er):reportUnhandledError(er)}function handleStoppedNotification(er,eo){var ec=tK.onStoppedNotification;ec&&tZ.setTimeout(function(){return ec(er,eo)})}var t2={closed:!0,next:noop,error:function(er){throw er},complete:noop},t3="function"==typeof Symbol&&Symbol.observable||"@@observable";function identity(er){return er}var t6=function(){function Observable(er){er&&(this._subscribe=er)}return Observable.prototype.lift=function(er){var eo=new Observable;return eo.source=this,eo.operator=er,eo},Observable.prototype.subscribe=function(er,eo,ec){var eh,ep=this,ef=(eh=er)&&eh instanceof tX||eh&&isFunction_isFunction(eh.next)&&isFunction_isFunction(eh.error)&&isFunction_isFunction(eh.complete)&&isSubscription(eh)?er:new t1(er,eo,ec);return function(er){if(tK.useDeprecatedSynchronousErrorHandling){var eo=!tQ;if(eo&&(tQ={errorThrown:!1,error:null}),er(),eo){var ec=tQ,eh=ec.errorThrown,ep=ec.error;if(tQ=null,eh)throw ep}}else er()}(function(){var er=ep.operator,eo=ep.source;ef.add(er?er.call(ef,eo):eo?ep._subscribe(ef):ep._trySubscribe(ef))}),ef},Observable.prototype._trySubscribe=function(er){try{return this._subscribe(er)}catch(eo){er.error(eo)}},Observable.prototype.forEach=function(er,eo){var ec=this;return new(eo=getPromiseCtor(eo))(function(eo,eh){var ep=new t1({next:function(eo){try{er(eo)}catch(er){eh(er),ep.unsubscribe()}},error:eh,complete:eo});ec.subscribe(ep)})},Observable.prototype._subscribe=function(er){var eo;return null===(eo=this.source)||void 0===eo?void 0:eo.subscribe(er)},Observable.prototype[t3]=function(){return this},Observable.prototype.pipe=function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];return(0===er.length?identity:1===er.length?er[0]:function(eo){return er.reduce(function(er,eo){return eo(er)},eo)})(this)},Observable.prototype.toPromise=function(er){var eo=this;return new(er=getPromiseCtor(er))(function(er,ec){var eh;eo.subscribe(function(er){return eh=er},function(er){return ec(er)},function(){return er(eh)})})},Observable.create=function(er){return new Observable(er)},Observable}();function getPromiseCtor(er){var eo;return null!==(eo=null!=er?er:tK.Promise)&&void 0!==eo?eo:Promise}function isAsyncIterable(er){return Symbol.asyncIterator&&isFunction_isFunction(null==er?void 0:er[Symbol.asyncIterator])}function createInvalidObservableTypeError(er){return TypeError("You provided "+(null!==er&&"object"==typeof er?"an invalid object":"'"+er+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var t4="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function isIterable(er){return isFunction_isFunction(null==er?void 0:er[t4])}function readableStreamLikeToAsyncGenerator(er){return function(er,eo,ec){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var eh,ep=ec.apply(er,eo||[]),ef=[];return eh={},verb("next"),verb("throw"),verb("return"),eh[Symbol.asyncIterator]=function(){return this},eh;function verb(er){ep[er]&&(eh[er]=function(eo){return new Promise(function(ec,eh){ef.push([er,eo,ec,eh])>1||resume(er,eo)})})}function resume(er,eo){try{var ec;(ec=ep[er](eo)).value instanceof rxjs_node_modules_tslib_tslib_es6_await?Promise.resolve(ec.value.v).then(fulfill,reject):settle(ef[0][2],ec)}catch(er){settle(ef[0][3],er)}}function fulfill(er){resume("next",er)}function reject(er){resume("throw",er)}function settle(er,eo){er(eo),ef.shift(),ef.length&&resume(ef[0][0],ef[0][1])}}(this,arguments,function(){var eo,ec,eh;return rxjs_node_modules_tslib_tslib_es6_generator(this,function(ep){switch(ep.label){case 0:eo=er.getReader(),ep.label=1;case 1:ep.trys.push([1,,9,10]),ep.label=2;case 2:return[4,rxjs_node_modules_tslib_tslib_es6_await(eo.read())];case 3:if(eh=(ec=ep.sent()).value,!ec.done)return[3,5];return[4,rxjs_node_modules_tslib_tslib_es6_await(void 0)];case 4:return[2,ep.sent()];case 5:return[4,rxjs_node_modules_tslib_tslib_es6_await(eh)];case 6:return[4,ep.sent()];case 7:return ep.sent(),[3,2];case 8:return[3,10];case 9:return eo.releaseLock(),[7];case 10:return[2]}})})}function isReadableStreamLike(er){return isFunction_isFunction(null==er?void 0:er.getReader)}function innerFrom(er){if(er instanceof t6)return er;if(null!=er){if(isFunction_isFunction(er[t3]))return new t6(function(eo){var ec=er[t3]();if(isFunction_isFunction(ec.subscribe))return ec.subscribe(eo);throw TypeError("Provided object does not correctly implement Symbol.observable")});if(isArrayLike(er))return new t6(function(eo){for(var ec=0;ec<er.length&&!eo.closed;ec++)eo.next(er[ec]);eo.complete()});if(isPromise(er))return new t6(function(eo){er.then(function(er){eo.closed||(eo.next(er),eo.complete())},function(er){return eo.error(er)}).then(null,reportUnhandledError)});if(isAsyncIterable(er))return fromAsyncIterable(er);if(isIterable(er))return new t6(function(eo){var ec,eh;try{for(var ep=rxjs_node_modules_tslib_tslib_es6_values(er),ef=ep.next();!ef.done;ef=ep.next()){var eg=ef.value;if(eo.next(eg),eo.closed)return}}catch(er){ec={error:er}}finally{try{ef&&!ef.done&&(eh=ep.return)&&eh.call(ep)}finally{if(ec)throw ec.error}}eo.complete()});if(isReadableStreamLike(er))return fromAsyncIterable(readableStreamLikeToAsyncGenerator(er))}throw createInvalidObservableTypeError(er)}function fromAsyncIterable(er){return new t6(function(eo){(function(er,eo){var ec,eh,ep,ef,eg,em,ey,ev;return eg=this,em=void 0,ey=void 0,ev=function(){var eg;return rxjs_node_modules_tslib_tslib_es6_generator(this,function(em){switch(em.label){case 0:em.trys.push([0,5,6,11]),ec=function(er){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var eo,ec=er[Symbol.asyncIterator];return ec?ec.call(er):(er=rxjs_node_modules_tslib_tslib_es6_values(er),eo={},verb("next"),verb("throw"),verb("return"),eo[Symbol.asyncIterator]=function(){return this},eo);function verb(ec){eo[ec]=er[ec]&&function(eo){return new Promise(function(eh,ep){(function(er,eo,ec,eh){Promise.resolve(eh).then(function(eo){er({value:eo,done:ec})},eo)})(eh,ep,(eo=er[ec](eo)).done,eo.value)})}}}(er),em.label=1;case 1:return[4,ec.next()];case 2:if((eh=em.sent()).done)return[3,4];if(eg=eh.value,eo.next(eg),eo.closed)return[2];em.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return ep={error:em.sent()},[3,11];case 6:if(em.trys.push([6,,9,10]),!(eh&&!eh.done&&(ef=ec.return)))return[3,8];return[4,ef.call(ec)];case 7:em.sent(),em.label=8;case 8:return[3,10];case 9:if(ep)throw ep.error;return[7];case 10:return[7];case 11:return eo.complete(),[2]}})},new(ey||(ey=Promise))(function(er,eo){function fulfilled(er){try{step(ev.next(er))}catch(er){eo(er)}}function rejected(er){try{step(ev.throw(er))}catch(er){eo(er)}}function step(eo){var ec;eo.done?er(eo.value):((ec=eo.value)instanceof ey?ec:new ey(function(er){er(ec)})).then(fulfilled,rejected)}step((ev=ev.apply(eg,em||[])).next())})})(er,eo).catch(function(er){return eo.error(er)})})}function operate(er){return function(eo){if(isFunction_isFunction(null==eo?void 0:eo.lift))return eo.lift(function(eo){try{return er(eo,this)}catch(er){this.error(er)}});throw TypeError("Unable to lift unknown Observable type")}}function createOperatorSubscriber(er,eo,ec,eh,ep){return new t5(er,eo,ec,eh,ep)}var t5=function(er){function OperatorSubscriber(eo,ec,eh,ep,ef,eg){var em=er.call(this,eo)||this;return em.onFinalize=ef,em.shouldUnsubscribe=eg,em._next=ec?function(er){try{ec(er)}catch(er){eo.error(er)}}:er.prototype._next,em._error=ep?function(er){try{ep(er)}catch(er){eo.error(er)}finally{this.unsubscribe()}}:er.prototype._error,em._complete=eh?function(){try{eh()}catch(er){eo.error(er)}finally{this.unsubscribe()}}:er.prototype._complete,em}return rxjs_node_modules_tslib_tslib_es6_extends(OperatorSubscriber,er),OperatorSubscriber.prototype.unsubscribe=function(){var eo;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var ec=this.closed;er.prototype.unsubscribe.call(this),ec||null===(eo=this.onFinalize)||void 0===eo||eo.call(this)}},OperatorSubscriber}(tX);function map(er,eo){return operate(function(ec,eh){var ep=0;ec.subscribe(createOperatorSubscriber(eh,function(ec){eh.next(er.call(eo,ec,ep++))}))})}function executeSchedule(er,eo,ec,eh,ep){void 0===eh&&(eh=0),void 0===ep&&(ep=!1);var ef=eo.schedule(function(){ec(),ep?er.add(this.schedule(null,eh)):this.unsubscribe()},eh);if(er.add(ef),!ep)return ef}function mergeMap(er,eo,ec){return(void 0===ec&&(ec=1/0),isFunction_isFunction(eo))?mergeMap(function(ec,eh){return map(function(er,ep){return eo(ec,er,eh,ep)})(innerFrom(er(ec,eh)))},ec):("number"==typeof eo&&(ec=eo),operate(function(eo,eh){var ep,ef,eg,em,ey,ev,e_,ew,ex,ek,eS,eC;return ep=ec,ev=[],e_=0,ew=0,ex=!1,ek=function(){!ex||ev.length||e_||eh.complete()},eS=function(er){return e_<ep?eC(er):ev.push(er)},eC=function(eo){eg&&eh.next(eo),e_++;var ec=!1;innerFrom(er(eo,ew++)).subscribe(createOperatorSubscriber(eh,function(er){null==ef||ef(er),eg?eS(er):eh.next(er)},function(){ec=!0},void 0,function(){if(ec)try{for(e_--;ev.length&&e_<ep;)!function(){var er=ev.shift();em?executeSchedule(eh,em,function(){return eC(er)}):eC(er)}();ek()}catch(er){eh.error(er)}}))},eo.subscribe(createOperatorSubscriber(eh,eS,function(){ex=!0,ek()})),function(){null==ey||ey()}}))}var t9=Array.isArray,t7=["addListener","removeListener"],t8=["addEventListener","removeEventListener"],nn=["on","off"];function fromEvent(er,eo,ec,eh){if(isFunction_isFunction(ec)&&(eh=ec,ec=void 0),eh)return fromEvent(er,eo,ec).pipe((ep=eh,map(function(er){return t9(er)?ep.apply(void 0,rxjs_node_modules_tslib_tslib_es6_spreadArray([],rxjs_node_modules_tslib_tslib_es6_read(er))):ep(er)})));var ep,ef=rxjs_node_modules_tslib_tslib_es6_read(isFunction_isFunction(er.addEventListener)&&isFunction_isFunction(er.removeEventListener)?t8.map(function(eh){return function(ep){return er[eh](eo,ep,ec)}}):isFunction_isFunction(er.addListener)&&isFunction_isFunction(er.removeListener)?t7.map(toCommonHandlerRegistry(er,eo)):isFunction_isFunction(er.on)&&isFunction_isFunction(er.off)?nn.map(toCommonHandlerRegistry(er,eo)):[],2),eg=ef[0],em=ef[1];if(!eg&&isArrayLike(er))return mergeMap(function(er){return fromEvent(er,eo,ec)})(innerFrom(er));if(!eg)throw TypeError("Invalid event target");return new t6(function(er){var handler=function(){for(var eo=[],ec=0;ec<arguments.length;ec++)eo[ec]=arguments[ec];return er.next(1<eo.length?eo:eo[0])};return eg(handler),function(){return em(handler)}})}function toCommonHandlerRegistry(er,eo){return function(ec){return function(eh){return er[ec](eo,eh)}}}function bottomUpSearch(er,eo,ec){for(var eh=null,ep=[],ef=er,eg=0;ef&&"break"!==function(){var er,em,ey,ev,e_=maybe((er=ef.getAttribute("id"))&&eE.idName(er)?{name:"#"+CSS.escape(er),penalty:0}:null)||maybe.apply(void 0,plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(Array.from(ef.attributes).filter(function(er){return eE.attr(er.name,er.value)}).map(function(er){return{name:"[".concat(CSS.escape(er.name),'="').concat(CSS.escape(er.value),'"]'),penalty:.5}})),!1))||maybe.apply(void 0,plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(Array.from(ef.classList).filter(eE.className).map(function(er){return{name:"."+CSS.escape(er),penalty:1}})),!1))||maybe((em=ef.tagName.toLowerCase(),eE.tagName(em)?{name:em,penalty:2}:null))||[any()],ew=function(er){var eo=er.parentNode;if(!eo)return null;var ec=eo.firstChild;if(!ec)return null;for(var eh=0;ec&&(ec.nodeType===Node.ELEMENT_NODE&&eh++,ec!==er);)ec=ec.nextSibling;return eh}(ef);if("all"==eo)ew&&(e_=e_.concat(e_.filter(dispensableNth).map(function(er){return nthChild(er,ew)})));else if("two"==eo)e_=e_.slice(0,1),ew&&(e_=e_.concat(e_.filter(dispensableNth).map(function(er){return nthChild(er,ew)})));else if("one"==eo){var ex=plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(e_=e_.slice(0,1),1)[0];ew&&dispensableNth(ex)&&(e_=[nthChild(ex,ew)])}else"none"==eo&&(e_=[any()],ew&&(e_=[nthChild(e_[0],ew)]));try{for(var ek=(ey=void 0,plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(e_)),eS=ek.next();!eS.done;eS=ek.next()){var ex=eS.value;ex.level=eg}}catch(er){ey={error:er}}finally{try{eS&&!eS.done&&(ev=ek.return)&&ev.call(ek)}finally{if(ey)throw ey.error}}if(ep.push(e_),ep.length>=eE.seedMinLength&&(eh=findUniquePath(ep,ec)))return"break";ef=ef.parentElement,eg++}(););return(eh||(eh=findUniquePath(ep,ec)),!eh&&ec)?ec():eh}function findUniquePath(er,eo){if(er.reduce(function(er,eo){return er*eo.length},1)>eE.threshold)return eo?eo():null;var ec,eh,ep=sort(function combinations(er,eo){var ec,eh,ep,ef,eg;return void 0===eo&&(eo=[]),plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(this,function(em){switch(em.label){case 0:if(!(er.length>0))return[3,9];em.label=1;case 1:em.trys.push([1,6,7,8]),eh=(ec=plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(er[0])).next(),em.label=2;case 2:if(eh.done)return[3,5];return ep=eh.value,[5,plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(combinations(er.slice(1,er.length),eo.concat(ep)))];case 3:em.sent(),em.label=4;case 4:return eh=ec.next(),[3,2];case 5:return[3,8];case 6:return ef={error:em.sent()},[3,8];case 7:try{eh&&!eh.done&&(eg=ec.return)&&eg.call(ec)}finally{if(ef)throw ef.error}return[7];case 8:return[3,11];case 9:return[4,eo];case 10:em.sent(),em.label=11;case 11:return[2]}})}(er));try{for(var ef=plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(ep),eg=ef.next();!eg.done;eg=ef.next()){var em=eg.value;if(unique(em))return em}}catch(er){ec={error:er}}finally{try{eg&&!eg.done&&(eh=ef.return)&&eh.call(ef)}finally{if(ec)throw ec.error}}return null}function selector(er){for(var eo=er[0],ec=eo.name,eh=1;eh<er.length;eh++){var ep=er[eh].level||0;ec=eo.level===ep-1?"".concat(er[eh].name," > ").concat(ec):"".concat(er[eh].name," ").concat(ec),eo=er[eh]}return ec}function penalty(er){return er.map(function(er){return er.penalty}).reduce(function(er,eo){return er+eo},0)}function unique(er){var eo=selector(er);switch(eT.querySelectorAll(eo).length){case 0:throw Error("Can't select any node with this selector: ".concat(eo));case 1:return!0;default:return!1}}function any(){return{name:"*",penalty:3}}function nthChild(er,eo){return{name:er.name+":nth-child(".concat(eo,")"),penalty:er.penalty+1}}function dispensableNth(er){return"html"!==er.name&&!er.name.startsWith("#")}function maybe(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];var ec=er.filter(notEmpty);return ec.length>0?ec:null}function notEmpty(er){return null!=er}function sort(er){return plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er),!1).sort(function(er,eo){return penalty(er)-penalty(eo)})}var nr=["input","select","textarea"],createShouldTrackEvent=function(er,eo){return function(ec,eh){var ep,ef,eg,em=er.pageUrlAllowlist,ey=er.shouldTrackEventResolver,ev=null===(ef=null===(ep=null==eh?void 0:eh.tagName)||void 0===ep?void 0:ep.toLowerCase)||void 0===ef?void 0:ef.call(ep);if(!ev)return!1;if(ey)return ey(ec,eh);if(!isPageUrlAllowed(window.location.href,em))return!1;var e_=String(null==eh?void 0:eh.getAttribute("type"))||"";if("string"==typeof e_)switch(e_.toLowerCase()){case"hidden":case"password":return!1}if(eo&&!eo.some(function(er){var eo;return!!(null===(eo=null==eh?void 0:eh.matches)||void 0===eo?void 0:eo.call(eh,er))}))return!1;switch(ev){case"input":case"select":case"textarea":return"change"===ec||"click"===ec;default:var ew=null===(eg=null==window?void 0:window.getComputedStyle)||void 0===eg?void 0:eg.call(window,eh);if(ew&&"pointer"===ew.getPropertyValue("cursor")&&"click"===ec)return!0;return"click"===ec}}},isNonSensitiveString=function(er){return!(null==er||"string"==typeof er&&(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((er||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(er)))},isNonSensitiveElement=function(er){var eo,ec,eh,ep=null===(ec=null===(eo=null==er?void 0:er.tagName)||void 0===eo?void 0:eo.toLowerCase)||void 0===ec?void 0:ec.call(eo),ef=er instanceof HTMLElement&&(null===(eh=er.getAttribute("contenteditable"))||void 0===eh?void 0:eh.toLowerCase())==="true";return!nr.includes(ep)&&!ef},getText=function(er){var eo="";return isNonSensitiveElement(er)&&er.childNodes&&er.childNodes.length&&er.childNodes.forEach(function(er){var ec="";er&&3===er.nodeType?er.textContent&&(ec=er.textContent):ec=getText(er),eo+=ec.split(/(\s+)/).filter(isNonSensitiveString).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}),eo},getSelector=function(er,eo){var ec,eh,ep="";try{return ep=function(er,eo){if(er.nodeType!==Node.ELEMENT_NODE)throw Error("Can't generate CSS selector for non-element node type.");if("html"===er.tagName.toLowerCase())return"html";var ec,eh={root:document.body,idName:function(er){return!0},className:function(er){return!0},tagName:function(er){return!0},attr:function(er,eo){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};eT=(ec=(eE=plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign(plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign({},eh),eo)).root).nodeType===Node.DOCUMENT_NODE?ec:ec===eh.root?ec.ownerDocument:ec;var ep=bottomUpSearch(er,"all",function(){return bottomUpSearch(er,"two",function(){return bottomUpSearch(er,"one",function(){return bottomUpSearch(er,"none")})})});if(ep){var ef=sort(function optimize(er,eo,ec){var eh,ep,ef;return void 0===ec&&(ec={counter:0,visited:new Map}),plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(this,function(eg){switch(eg.label){case 0:if(!(er.length>2&&er.length>eE.optimizedMinLength))return[3,5];eh=1,eg.label=1;case 1:var em;if(!(eh<er.length-1))return[3,5];if(ec.counter>eE.maxNumberOfTries||(ec.counter+=1,(ep=plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er),!1)).splice(eh,1),ef=selector(ep),ec.visited.has(ef)))return[2];if(!(unique(ep)&&(em=ep,eT.querySelector(selector(em))===eo)))return[3,4];return[4,ep];case 2:return eg.sent(),ec.visited.set(ef,!0),[5,plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(optimize(ep,eo,ec))];case 3:eg.sent(),eg.label=4;case 4:return eh++,[3,1];case 5:return[2]}})}(ep,er));return ef.length>0&&(ep=ef[0]),selector(ep)}throw Error("Selector was not found.")}(er,{className:function(er){return er!==tW},maxNumberOfTries:1e3})}catch(er){eo&&eo.warn("Failed to get selector with finder, use fallback strategy instead: ".concat(er.toString()))}var ef=null===(eh=null===(ec=null==er?void 0:er.tagName)||void 0===ec?void 0:ec.toLowerCase)||void 0===eh?void 0:eh.call(ec);ef&&(ep=ef);var eg=er.getAttribute("id"),em=er.getAttribute("class");if(eg)ep="#".concat(eg);else if(em){var ey=em.split(" ").filter(function(er){return er!==tW}).join(".");ey&&(ep="".concat(ep,".").concat(ey))}return ep},isPageUrlAllowed=function(er,eo){return!eo||!eo.length||eo.some(function(eo){return"string"==typeof eo?er===eo:er.match(eo)})},removeEmptyProperties=function(er){return Object.keys(er).reduce(function(eo,ec){var eh=er[ec];return null==eh||"object"==typeof eh&&0===Object.keys(eh).length||"string"==typeof eh&&0===eh.trim().length||(eo[ec]=eh),eo},{})},getNearestLabel=function(er){var eo,ec=er.parentElement;if(!ec)return"";try{eo=ec.querySelector(":scope>span,h1,h2,h3,h4,h5,h6")}catch(er){eo=null}if(eo){var eh=eo.textContent||"";return isNonSensitiveString(eh)?eh:""}return getNearestLabel(ec)},getClosestElement=function(er,eo){return er?eo.some(function(eo){var ec;return null===(ec=null==er?void 0:er.matches)||void 0===ec?void 0:ec.call(er,eo)})?er:getClosestElement(null==er?void 0:er.parentElement,eo):null},getEventTagProps=function(er,eo){if(!er)return{};var ec,eh,ep,ef=null===(ep=null===(eh=null==er?void 0:er.tagName)||void 0===eh?void 0:eh.toLowerCase)||void 0===ep?void 0:ep.call(eh),eg=getSelector(er,eo);return removeEmptyProperties(((ec={})[tF]=ef,ec[tV]=getText(er),ec[tH]=eg,ec[tB]=window.location.href.split("?")[0],ec))},filterOutNonTrackableEvents=function(er){return null!==er.event.target&&!!er.closestTrackedAncestor},ni=function(){function WindowMessenger(er){var eo=(void 0===er?{}:er).origin,ec=void 0===eo?tq:eo,eh=this;this.endpoint=tq,this.requestCallbacks={},this.onSelect=function(er){eh.notify({action:"element-selected",data:er})},this.onTrack=function(er,eo){"selector-mode-changed"===er?eh.notify({action:"track-selector-mode-changed",data:eo}):"selector-moved"===er&&eh.notify({action:"track-selector-moved",data:eo})},this.endpoint=ec}return WindowMessenger.prototype.notify=function(er){var eo,ec,eh,ep;null===(ec=null===(eo=this.logger)||void 0===eo?void 0:eo.debug)||void 0===ec||ec.call(eo,"Message sent: ",JSON.stringify(er)),null===(ep=null===(eh=window.opener)||void 0===eh?void 0:eh.postMessage)||void 0===ep||ep.call(eh,er,this.endpoint)},WindowMessenger.prototype.sendRequest=function(er,eo,ec){var eh=this;void 0===ec&&(ec={timeout:15e3});var ep="".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),ef={id:ep,action:er,args:eo};return new Promise(function(eo,eg){eh.requestCallbacks[ep]={resolve:eo,reject:eg},eh.notify(ef),(null==ec?void 0:ec.timeout)>0&&setTimeout(function(){eg(Error("".concat(er," timed out (id: ").concat(ep,")"))),delete eh.requestCallbacks[ep]},ec.timeout)})},WindowMessenger.prototype.handleResponse=function(er){var eo;if(!this.requestCallbacks[er.id]){null===(eo=this.logger)||void 0===eo||eo.warn("No callback found for request id: ".concat(er.id));return}this.requestCallbacks[er.id].resolve(er.responseData),delete this.requestCallbacks[er.id]},WindowMessenger.prototype.setup=function(er){var eo=this,ec=void 0===er?{}:er,eh=ec.logger,ep=ec.endpoint,ef=ec.isElementSelectable,eg=ec.cssSelectorAllowlist,em=ec.actionClickAllowlist;this.logger=eh,ep&&this.endpoint===tq&&(this.endpoint=ep);var ey=null;window.addEventListener("message",function(er){if(null===(eh=null===(ec=eo.logger)||void 0===ec?void 0:ec.debug)||void 0===eh||eh.call(ec,"Message received: ",JSON.stringify(er)),eo.endpoint===er.origin){var ec,eh,ep,ev,e_,ew=null==er?void 0:er.data,ex=null==ew?void 0:ew.action;if(ex){if("id"in ew)null===(ev=null===(ep=eo.logger)||void 0===ep?void 0:ep.debug)||void 0===ev||ev.call(ep,"Received Response to previous request: ",JSON.stringify(er)),eo.handleResponse(ew);else if("ping"===ex)eo.notify({action:"pong"});else if("initialize-visual-tagging-selector"===ex){var ek,eS=null==ew?void 0:ew.data;(ek="https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz",new Promise(function(er,eo){var ec;try{var eh=document.createElement("script");eh.type="text/javascript",eh.async=!0,eh.src=ek,eh.addEventListener("load",function(){er({status:!0})},{once:!0}),eh.addEventListener("error",function(){eo({status:!1,message:"Failed to load the script ".concat(ek)})}),null===(ec=document.head)||void 0===ec||ec.appendChild(eh)}catch(er){eo(er)}})).then(function(){var er;ey=null===(er=null==window?void 0:window.amplitudeVisualTaggingSelector)||void 0===er?void 0:er.call(window,{getEventTagProps:getEventTagProps,isElementSelectable:function(er){return!ef||ef((null==eS?void 0:eS.actionType)||"click",er)},onTrack:eo.onTrack,onSelect:eo.onSelect,visualHighlightClass:tW,messenger:eo,cssSelectorAllowlist:eg,actionClickAllowlist:em}),eo.notify({action:"selector-loaded"})}).catch(function(){var er;null===(er=eo.logger)||void 0===er||er.warn("Failed to initialize visual tagging selector")})}else"close-visual-tagging-selector"===ex&&(null===(e_=null==ey?void 0:ey.close)||void 0===e_||e_.call(ey))}}}),this.notify({action:"page-loaded"})},WindowMessenger}(),no=["id","class","style","value","onclick","onchange","oninput","onblur","onsubmit","onfocus","onkeydown","onkeyup","onkeypress","data-reactid","data-react-checksum","data-reactroot"],nd=["type"],np=["svg","path","g"],ng=["password","hidden"];function filter(er,eo){return operate(function(ec,eh){var ep=0;ec.subscribe(createOperatorSubscriber(eh,function(ec){return er.call(eo,ec,ep++)&&eh.next(ec)}))})}var nm=function(er){function Action(eo,ec){return er.call(this)||this}return rxjs_node_modules_tslib_tslib_es6_extends(Action,er),Action.prototype.schedule=function(er,eo){return void 0===eo&&(eo=0),this},Action}(tG),ny={setInterval:function(er,eo){for(var ec=[],eh=2;eh<arguments.length;eh++)ec[eh-2]=arguments[eh];var ep=ny.delegate;return(null==ep?void 0:ep.setInterval)?ep.setInterval.apply(ep,rxjs_node_modules_tslib_tslib_es6_spreadArray([er,eo],rxjs_node_modules_tslib_tslib_es6_read(ec))):setInterval.apply(void 0,rxjs_node_modules_tslib_tslib_es6_spreadArray([er,eo],rxjs_node_modules_tslib_tslib_es6_read(ec)))},clearInterval:function(er){var eo=ny.delegate;return((null==eo?void 0:eo.clearInterval)||clearInterval)(er)},delegate:void 0},nv=function(er){function AsyncAction(eo,ec){var eh=er.call(this,eo,ec)||this;return eh.scheduler=eo,eh.work=ec,eh.pending=!1,eh}return rxjs_node_modules_tslib_tslib_es6_extends(AsyncAction,er),AsyncAction.prototype.schedule=function(er,eo){if(void 0===eo&&(eo=0),this.closed)return this;this.state=er;var ec,eh=this.id,ep=this.scheduler;return null!=eh&&(this.id=this.recycleAsyncId(ep,eh,eo)),this.pending=!0,this.delay=eo,this.id=null!==(ec=this.id)&&void 0!==ec?ec:this.requestAsyncId(ep,this.id,eo),this},AsyncAction.prototype.requestAsyncId=function(er,eo,ec){return void 0===ec&&(ec=0),ny.setInterval(er.flush.bind(er,this),ec)},AsyncAction.prototype.recycleAsyncId=function(er,eo,ec){if(void 0===ec&&(ec=0),null!=ec&&this.delay===ec&&!1===this.pending)return eo;null!=eo&&ny.clearInterval(eo)},AsyncAction.prototype.execute=function(er,eo){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var ec=this._execute(er,eo);if(ec)return ec;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},AsyncAction.prototype._execute=function(er,eo){var ec,eh=!1;try{this.work(er)}catch(er){eh=!0,ec=er||Error("Scheduled action threw falsy error")}if(eh)return this.unsubscribe(),ec},AsyncAction.prototype.unsubscribe=function(){if(!this.closed){var eo=this.id,ec=this.scheduler,eh=ec.actions;this.work=this.state=this.scheduler=null,this.pending=!1,arrRemove(eh,this),null!=eo&&(this.id=this.recycleAsyncId(ec,eo,null)),this.delay=null,er.prototype.unsubscribe.call(this)}},AsyncAction}(nm),n_={now:function(){return(n_.delegate||Date).now()},delegate:void 0},nb=function(){function Scheduler(er,eo){void 0===eo&&(eo=Scheduler.now),this.schedulerActionCtor=er,this.now=eo}return Scheduler.prototype.schedule=function(er,eo,ec){return void 0===eo&&(eo=0),new this.schedulerActionCtor(this,er).schedule(ec,eo)},Scheduler.now=n_.now,Scheduler}(),nw=new(function(er){function AsyncScheduler(eo,ec){void 0===ec&&(ec=nb.now);var eh=er.call(this,eo,ec)||this;return eh.actions=[],eh._active=!1,eh}return rxjs_node_modules_tslib_tslib_es6_extends(AsyncScheduler,er),AsyncScheduler.prototype.flush=function(er){var eo,ec=this.actions;if(this._active){ec.push(er);return}this._active=!0;do if(eo=er.execute(er.state,er.delay))break;while(er=ec.shift());if(this._active=!1,eo){for(;er=ec.shift();)er.unsubscribe();throw eo}},AsyncScheduler}(nb))(nv);function mergeAll(er){return void 0===er&&(er=1/0),mergeMap(identity,er)}var nx=new t6(function(er){return er.complete()});function isScheduler(er){return er&&isFunction_isFunction(er.schedule)}function last(er){return er[er.length-1]}function popScheduler(er){return isScheduler(last(er))?er.pop():void 0}function observeOn(er,eo){return void 0===eo&&(eo=0),operate(function(ec,eh){ec.subscribe(createOperatorSubscriber(eh,function(ec){return executeSchedule(eh,er,function(){return eh.next(ec)},eo)},function(){return executeSchedule(eh,er,function(){return eh.complete()},eo)},function(ec){return executeSchedule(eh,er,function(){return eh.error(ec)},eo)}))})}function subscribeOn(er,eo){return void 0===eo&&(eo=0),operate(function(ec,eh){eh.add(er.schedule(function(){return ec.subscribe(eh)},eo))})}function scheduleAsyncIterable(er,eo){if(!er)throw Error("Iterable cannot be null");return new t6(function(ec){executeSchedule(ec,eo,function(){var eh=er[Symbol.asyncIterator]();executeSchedule(ec,eo,function(){eh.next().then(function(er){er.done?ec.complete():ec.next(er.value)})},0,!0)})})}function from(er,eo){return eo?function(er,eo){if(null!=er){if(isFunction_isFunction(er[t3]))return innerFrom(er).pipe(subscribeOn(eo),observeOn(eo));if(isArrayLike(er))return new t6(function(ec){var eh=0;return eo.schedule(function(){eh===er.length?ec.complete():(ec.next(er[eh++]),ec.closed||this.schedule())})});if(isPromise(er))return innerFrom(er).pipe(subscribeOn(eo),observeOn(eo));if(isAsyncIterable(er))return scheduleAsyncIterable(er,eo);if(isIterable(er))return new t6(function(ec){var eh;return executeSchedule(ec,eo,function(){eh=er[t4](),executeSchedule(ec,eo,function(){var er,eo,ep;try{eo=(er=eh.next()).value,ep=er.done}catch(er){ec.error(er);return}ep?ec.complete():ec.next(eo)},0,!0)}),function(){return isFunction_isFunction(null==eh?void 0:eh.return)&&eh.return()}});if(isReadableStreamLike(er))return scheduleAsyncIterable(readableStreamLikeToAsyncGenerator(er),eo)}throw createInvalidObservableTypeError(er)}(er,eo):innerFrom(er)}function merge(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];var ec=popScheduler(er),eh="number"==typeof last(er)?er.pop():1/0;return er.length?1===er.length?innerFrom(er[0]):mergeAll(eh)(from(er,ec)):nx}function take(er){return er<=0?function(){return nx}:operate(function(eo,ec){var eh=0;eo.subscribe(createOperatorSubscriber(ec,function(eo){++eh<=er&&(ec.next(eo),er<=eh&&ec.complete())}))})}function isValidDate(er){return er instanceof Date&&!isNaN(er)}var nk=createErrorClass(function(er){return function(eo){void 0===eo&&(eo=null),er(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=eo}});function timeoutErrorFactory(er){throw new nk(er)}(ev=eN||(eN={})).ClickObservable="clickObservable",ev.ChangeObservable="changeObservable",ev.NavigateObservable="navigateObservable",ev.MutationObservable="mutationObservable";var autocapturePlugin=function(er){void 0===er&&(er={});var eo,ec,eh,ep=er.dataAttributePrefix,ef=void 0===ep?"data-amp-track-":ep,eg=er.visualTaggingOptions,em=void 0===eg?{enabled:!0,messenger:new ni}:eg;er.cssSelectorAllowlist=null!==(eo=er.cssSelectorAllowlist)&&void 0!==eo?eo:tj,er.actionClickAllowlist=null!==(ec=er.actionClickAllowlist)&&void 0!==ec?ec:tL,er.debounceTime=null!==(eh=er.debounceTime)&&void 0!==eh?eh:0;var ey="@amplitude/plugin-autocapture-browser",ev=[],e_=void 0,createObservables=function(){var er,eo,ec=fromEvent(document,"click",{capture:!0}).pipe(map(function(er){return addAdditionalEventProperties(er,"click")})),eh=fromEvent(document,"change",{capture:!0}).pipe(map(function(er){return addAdditionalEventProperties(er,"change")}));window.navigation&&(eo=fromEvent(window.navigation,"navigate").pipe(map(function(er){return addAdditionalEventProperties(er,"navigate")})));var ep=new t6(function(er){var eo=new MutationObserver(function(eo){er.next(eo)});return eo.observe(document.body,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),function(){return eo.disconnect()}}).pipe(map(function(er){return addAdditionalEventProperties(er,"mutation")}));return(er={})[eN.ClickObservable]=ec,er[eN.ChangeObservable]=eh,er[eN.NavigateObservable]=eo,er[eN.MutationObservable]=ep,er},getEventProperties=function(er,eo){var ec,eh,ep,eg,em=null===(eg=null===(ep=null==eo?void 0:eo.tagName)||void 0===ep?void 0:ep.toLowerCase)||void 0===eg?void 0:eg.call(ep),ey="function"==typeof eo.getBoundingClientRect?eo.getBoundingClientRect():{left:null,top:null},ev=eo.getAttribute("aria-label"),ew=eo.getAttributeNames().reduce(function(er,ec){if(ec.startsWith(ef)){var eh=ec.replace(ef,""),ep=eo.getAttribute(ec);eh&&(er[eh]=ep||"")}return er},{}),ex=getNearestLabel(eo),ek=getSelector(eo,e_),eS=((eh={})["[Amplitude] Element ID"]=eo.getAttribute("id")||"",eh["[Amplitude] Element Class"]=eo.getAttribute("class"),eh["[Amplitude] Element Hierarchy"]=(ec=eo)?function(er,eo){for(var ec=0,eh=0;eh<er.length;eh++){var ep=er[eh];if(null===ep)ec+=4;else{var ef=function ensureUnicodePythonCompatible(er,eo){void 0===eo&&(eo=!1);try{if(null==er){if(eo)return"None";return null}if("string"==typeof er){if(eo){if((er=er.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r")).includes('"'))return"'".concat(er,"'");if(er.includes("'"))return'"'.concat(er.replace(/'/g,"\\'"),'"');return"'".concat(er,"'")}return er}if("boolean"==typeof er)return er?"True":"False";if(Array.isArray(er)){var ec=er.map(function(er){return ensureUnicodePythonCompatible(er,!0)});return"[".concat(ec.join(", "),"]")}else if("object"==typeof er){var eh=Object.entries(er).filter(function(er){var eo=plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er,1)[0];return null!=eo}).map(function(er){var eo=plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er,2),ec=eo[0],eh=eo[1];return"".concat(String(ensureUnicodePythonCompatible(ec,!0)),": ").concat(String(ensureUnicodePythonCompatible(eh,!0)))}),ep="{".concat(eh.join(", "),"}");return ep.includes("\\'")&&(ep=ep.replace(/'/g,"'").replace(/'/g,"\\'")),ep}return er.toString()}catch(er){return null}}(ep);ec+=ef?Array.from(ef).length:4}if(ec>1024)return er.slice(0,eh)}return er}((function(er){var eo=[];if(!er)return eo;eo.push(er);for(var ec=er.parentElement;ec&&"HTML"!==ec.tagName;)eo.push(ec),ec=ec.parentElement;return eo})(ec).map(function(er){return function(er){if(null===er)return null;var eo,ec,eh,ep,ef,eg,em=String(er.tagName).toLowerCase(),ey={tag:em},ev=Array.from(null!==(ep=null===(eh=er.parentElement)||void 0===eh?void 0:eh.children)&&void 0!==ep?ep:[]);ev.length&&(ey.index=ev.indexOf(er),ey.indexOfType=ev.filter(function(eo){return eo.tagName===er.tagName}).indexOf(er));var e_=null===(eg=null===(ef=er.previousElementSibling)||void 0===ef?void 0:ef.tagName)||void 0===eg?void 0:eg.toLowerCase();e_&&(ey.prevSib=String(e_));var ew=er.getAttribute("id");ew&&(ey.id=String(ew));var ex=Array.from(er.classList);ex.length&&(ey.classes=ex);var ek={},eS=Array.from(er.attributes).filter(function(er){return!no.includes(er.name)}),eC=!isNonSensitiveElement(er);if(!ng.includes(String(er.getAttribute("type")))&&!np.includes(em))try{for(var eI=plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(eS),eE=eI.next();!eE.done;eE=eI.next()){var eT=eE.value;(!eC||nd.includes(eT.name))&&(ek[eT.name]=String(eT.value).substring(0,128))}}catch(er){eo={error:er}}finally{try{eE&&!eE.done&&(ec=eI.return)&&ec.call(eI)}finally{if(eo)throw eo.error}}return Object.keys(ek).length&&(ey.attrs=ek),ey}(er)}),0):[],eh[tF]=em,eh[tV]=getText(eo),eh["[Amplitude] Element Position Left"]=null==ey.left?null:Math.round(ey.left),eh["[Amplitude] Element Position Top"]=null==ey.top?null:Math.round(ey.top),eh["[Amplitude] Element Aria Label"]=ev,eh["[Amplitude] Element Attributes"]=ew,eh[tH]=ek,eh["[Amplitude] Element Parent Label"]=ex,eh[tB]=window.location.href.split("?")[0],eh["[Amplitude] Page Title"]="undefined"!=typeof document&&document.title||"",eh["[Amplitude] Viewport Height"]=window.innerHeight,eh["[Amplitude] Viewport Width"]=window.innerWidth,eh);return"a"===em&&"click"===er&&eo instanceof HTMLAnchorElement&&(eS["[Amplitude] Element Href"]=eo.href),removeEmptyProperties(eS)},addAdditionalEventProperties=function(eo,ec){var eh={event:eo,timestamp:Date.now(),type:ec};if(("click"===eh.type||"change"===eh.type)&&null!==eh.event.target){var ep=getClosestElement(eh.event.target,er.cssSelectorAllowlist);ep&&(eh.closestTrackedAncestor=ep,eh.targetElementProperties=getEventProperties(eh.type,ep))}return eh};return{name:ey,type:"enrichment",setup:function(eo,ec){return plugin_autocapture_browser_node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var eh,ep,ef,eg,ew,ex,ek,eS,eC,eI;return plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(this,function(eE){var eT,eN,eA,eO,eP,eM,eR,eD,ej,eL,eU,eF,eV,eH,eB,eq,ez,eW,e$,eG,eK,eZ,eJ,eQ,eX,eY,e0,e1,e2,e3,e6,e4,e5,e9;return e_=eo.loggerProvider,"undefined"==typeof document||(eh=createShouldTrackEvent(er,er.cssSelectorAllowlist),ep=createShouldTrackEvent(er,er.actionClickAllowlist),eN=(eT={allObservables:ef=createObservables(),options:er,amplitude:ec,shouldTrackEvent:eh}).amplitude,eA=eT.allObservables,eO=eT.options,eP=eT.shouldTrackEvent,ej=merge((eM=eA.clickObservable).pipe(operate(function(er,eo){var ec,eh=!1;er.subscribe(createOperatorSubscriber(eo,function(er){var ep=ec;ec=er,eh&&eo.next([ep,er]),eh=!0}))}),filter(function(er){var eo=plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(er,2),ec=eo[0],eh=eo[1],ep=ec.event.target!==eh.event.target,ef=20>=Math.abs(eh.event.screenX-ec.event.screenX)&&20>=Math.abs(eh.event.screenY-ec.event.screenY);return ep&&!ef})),eM.pipe((eR=eO.debounceTime,void 0===eD&&(eD=nw),operate(function(er,eo){var ec=null,eh=null,ep=null,emit=function(){if(ec){ec.unsubscribe(),ec=null;var er=eh;eh=null,eo.next(er)}};function emitWhenIdle(){var er=ep+eR,eh=eD.now();if(eh<er){ec=this.schedule(void 0,er-eh),eo.add(ec);return}emit()}er.subscribe(createOperatorSubscriber(eo,function(er){eh=er,ep=eD.now(),ec||(ec=eD.schedule(emitWhenIdle,eR),eo.add(ec))},function(){emit(),eo.complete()},void 0,function(){eh=ec=null}))})),map(function(){return"timeout"}))),eg=eM.pipe((void 0===eL&&(eL=nw),eU=0,eF=eL,void 0===eU&&(eU=0),void 0===eV&&(eV=nw),eH=-1,null!=eF&&(isScheduler(eF)?eV=eF:eH=eF),eB=new t6(function(er){var eo=isValidDate(eU)?+eU-eV.now():eU;eo<0&&(eo=0);var ec=0;return eV.schedule(function(){er.closed||(er.next(ec++),0<=eH?this.schedule(void 0,eH):er.complete())},eo)}),function delayWhen(er,eo){return eo?function(ec){return function(){for(var er=[],eo=0;eo<arguments.length;eo++)er[eo]=arguments[eo];return mergeAll(1)(from(er,popScheduler(er)))}(eo.pipe(take(1),operate(function(er,eo){er.subscribe(createOperatorSubscriber(eo,noop))})),ec.pipe(delayWhen(er)))}:mergeMap(function(eo,ec){return innerFrom(er(eo,ec)).pipe(take(1),map(function(){return eo}))})}(function(){return eB})),filter(filterOutNonTrackableEvents),filter(function(er){return eP("click",er.closestTrackedAncestor)}),operate(function(er,eo){var ec=[];return er.subscribe(createOperatorSubscriber(eo,function(er){return ec.push(er)},function(){eo.next(ec),eo.complete()})),innerFrom(ej).subscribe(createOperatorSubscriber(eo,function(){var er=ec;ec=[],eo.next(er)},noop)),function(){ec=null}})).subscribe(function(er){var eo,ec,eh=(er.length,tU);try{for(var ep=plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(er),ef=ep.next();!ef.done;ef=ep.next()){var eg=ef.value;null==eN||eN.track(eh,eg.targetElementProperties,{time:eg.timestamp})}}catch(er){eo={error:er}}finally{try{ef&&!ef.done&&(ec=ep.return)&&ec.call(ep)}finally{if(eo)throw eo.error}}}),ev.push(eg),ez=(eq={allObservables:ef,getEventProperties:getEventProperties,amplitude:ec,shouldTrackEvent:eh}).amplitude,eW=eq.allObservables,e$=eq.getEventProperties,eG=eq.shouldTrackEvent,ew=eW.changeObservable.pipe(filter(filterOutNonTrackableEvents),filter(function(er){return eG("change",er.closestTrackedAncestor)})).subscribe(function(er){null==ez||ez.track("[Amplitude] Element Changed",e$("change",er.closestTrackedAncestor))}),ev.push(ew),eZ=(eK={allObservables:ef,options:er,getEventProperties:getEventProperties,amplitude:ec,shouldTrackEvent:eh,shouldTrackActionClick:ep}).amplitude,eJ=eK.allObservables,eQ=eK.options,eX=eK.getEventProperties,eY=eK.shouldTrackEvent,e0=eK.shouldTrackActionClick,e1=eJ.clickObservable,e2=eJ.mutationObservable,e3=eJ.navigateObservable,e6=e1.pipe(filter(function(er){return!eY("click",er.closestTrackedAncestor)}),map(function(er){var eo=getClosestElement(er.event.target,eQ.actionClickAllowlist);return er.closestTrackedAncestor=eo,null!==er.closestTrackedAncestor&&(er.targetElementProperties=eX(er.type,er.closestTrackedAncestor)),er}),filter(filterOutNonTrackableEvents),filter(function(er){return e0("click",er.closestTrackedAncestor)})),e4=[e2],e3&&e4.push(e3),e5=merge.apply(void 0,plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(e4),!1)),ex=e6.pipe(operate(function(er,eo){var ec=null,eh=0,ep=!1,checkComplete=function(){return ep&&!ec&&eo.complete()};er.subscribe(createOperatorSubscriber(eo,function(er){null==ec||ec.unsubscribe();var ep=0,ef=eh++;innerFrom(e5.pipe(take(1),function(er,eo){var ec=isValidDate(er)?{first:er}:"number"==typeof er?{each:er}:er,eh=ec.first,ep=ec.each,ef=ec.with,eg=void 0===ef?timeoutErrorFactory:ef,em=ec.scheduler,ey=void 0===em?null!=eo?eo:nw:em,ev=ec.meta,e_=void 0===ev?null:ev;if(null==eh&&null==ep)throw TypeError("No timeout provided.");return operate(function(er,eo){var ec,ef,em=null,ev=0,startTimer=function(er){ef=executeSchedule(eo,ey,function(){try{ec.unsubscribe(),innerFrom(eg({meta:e_,lastValue:em,seen:ev})).subscribe(eo)}catch(er){eo.error(er)}},er)};ec=er.subscribe(createOperatorSubscriber(eo,function(er){null==ef||ef.unsubscribe(),ev++,eo.next(em=er),ep>0&&startTimer(ep)},void 0,void 0,function(){(null==ef?void 0:ef.closed)||null==ef||ef.unsubscribe(),em=null})),ev||startTimer(null!=eh?"number"==typeof eh?eh:+eh-ey.now():ep)})}({first:500,with:function(){return nx}}),map(function(){return er}))).subscribe(ec=createOperatorSubscriber(eo,function(ec){return eo.next(e9?e9(er,ec,ef,ep++):ec)},function(){ec=null,checkComplete()}))},function(){ep=!0,checkComplete()}))})).subscribe(function(er){null==eZ||eZ.track(tU,eX("click",er.closestTrackedAncestor),{time:er.timestamp})}),ev.push(ex),null===(eC=null==eo?void 0:eo.loggerProvider)||void 0===eC||eC.log("".concat(ey," has been successfully added.")),window.opener&&em.enabled&&(ek=er.cssSelectorAllowlist,eS=er.actionClickAllowlist,null===(eI=em.messenger)||void 0===eI||eI.setup(plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign(plugin_autocapture_browser_node_modules_tslib_tslib_es6_assign({logger:null==eo?void 0:eo.loggerProvider},(null==eo?void 0:eo.serverZone)&&{endpoint:tz[eo.serverZone]}),{isElementSelectable:createShouldTrackEvent(er,plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray(plugin_autocapture_browser_node_modules_tslib_tslib_es6_spreadArray([],plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(ek),!1),plugin_autocapture_browser_node_modules_tslib_tslib_es6_read(eS),!1)),cssSelectorAllowlist:ek,actionClickAllowlist:eS})))),[2]})})},execute:function(er){return plugin_autocapture_browser_node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){return plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(this,function(eo){return[2,er]})})},teardown:function(){return plugin_autocapture_browser_node_modules_tslib_tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,eo,ec,eh;return plugin_autocapture_browser_node_modules_tslib_tslib_es6_generator(this,function(ep){try{for(eo=(er=plugin_autocapture_browser_node_modules_tslib_tslib_es6_values(ev)).next();!eo.done;eo=er.next())eo.value.unsubscribe()}catch(er){ec={error:er}}finally{try{eo&&!eo.done&&(eh=er.return)&&eh.call(er)}finally{if(ec)throw ec.error}}return[2]})})}}},nS={init:debugWrapper((e_=new(function(er){function AmplitudeBrowser(){return null!==er&&er.apply(this,arguments)||this}return tslib_es6_extends(AmplitudeBrowser,er),AmplitudeBrowser.prototype.init=function(er,eo,ec){var eh,ep;return void 0===er&&(er=""),arguments.length>2?(eh=eo,ep=ec):"string"==typeof eo?(eh=eo,ep=void 0):(eh=null==eo?void 0:eo.userId,ep=eo),returnWrapper(this._init(tslib_es6_assign(tslib_es6_assign({},ep),{userId:eh,apiKey:er})))},AmplitudeBrowser.prototype._init=function(eo){var ec,eh,ep;return tslib_es6_awaiter(this,void 0,void 0,function(){var ef,eg,em,ey,ev,e_=this;return tslib_es6_generator(this,function(ew){var ex,ek,eS,eC,eI;switch(ew.label){case 0:if(this.initializing)return[2];return this.initializing=!0,[4,(ex=eo.apiKey,ek=eo,eS=this,void 0===ek&&(ek={}),tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,eo,ec,eh,ep,ef,eg,em,ey,ev,e_,ew,eC,eI,eE,eT,eN,eA,eO,eP,eM,eR,eD,ej,eL,eU,eF,eV,eH,eB,eq,ez,eW,e$,eG,eK,eZ,eJ,eQ,eX,eY,e0,e1;return tslib_es6_generator(this,function(e2){var e3,e6,e4;switch(e2.label){case 0:if(er=ek.identityStorage||tN,eO={},!(er!==tN))return[3,1];return ec="",[3,5];case 1:if(!(null!==(eM=null===(eP=ek.cookieOptions)||void 0===eP?void 0:eP.domain)&&void 0!==eM))return[3,2];return eh=eM,[3,4];case 2:return[4,tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,eo,ec,eh,ep,ef,eg;return tslib_es6_generator(this,function(em){switch(em.label){case 0:return[4,new e8().isEnabled()];case 1:if(!em.sent()||!e3&&("undefined"==typeof location||!location.hostname))return[2,""];for(er=(null!=e3?e3:location.hostname).split("."),eo=[],ec="AMP_TLDTEST",eh=er.length-2;eh>=0;--eh)eo.push(er.slice(eh).join("."));eh=0,em.label=2;case 2:if(!(eh<eo.length))return[3,7];return ef={domain:"."+(ep=eo[eh])},[4,(eg=new e8(ef)).set(ec,1)];case 3:return em.sent(),[4,eg.get(ec)];case 4:if(!em.sent())return[3,6];return[4,eg.remove(ec)];case 5:return em.sent(),[2,"."+ep];case 6:return eh++,[3,2];case 7:return[2,""]}})})];case 3:eh=e2.sent(),e2.label=4;case 4:ec=eh,e2.label=5;case 5:return eo=tslib_es6_assign.apply(void 0,[(eO.domain=ec,eO.expiration=365,eO.sameSite="Lax",eO.secure=!1,eO.upgrade=!0,eO),ek.cookieOptions]),[4,(e6=ep=createCookieStorage(ek.identityStorage,eo),void 0===(e4=null===(eD=null===(eR=ek.cookieOptions)||void 0===eR?void 0:eR.upgrade)||void 0===eD||eD)&&(e4=!0),tslib_es6_awaiter(void 0,void 0,void 0,function(){var er,eo,ec,eh,ep,ef,eg,em,ey;return tslib_es6_generator(this,function(ev){switch(ev.label){case 0:return er="".concat("amp","_").concat(ex.substring(0,6)),[4,e6.getRaw(er)];case 1:if(!(eo=ev.sent()))return[2,{optOut:!1}];if(!e4)return[3,3];return[4,e6.remove(er)];case 2:ev.sent(),ev.label=3;case 3:return eh=(ec=function(er,eo){var ec="function"==typeof Symbol&&er[Symbol.iterator];if(!ec)return er;var eh,ep,ef=ec.call(er),eg=[];try{for(;(void 0===eo||eo-- >0)&&!(eh=ef.next()).done;)eg.push(eh.value)}catch(er){ep={error:er}}finally{try{eh&&!eh.done&&(ec=ef.return)&&ec.call(ef)}finally{if(ep)throw ep.error}}return eg}(eo.split("."),6))[0],ep=ec[1],ef=ec[2],eg=ec[3],em=ec[4],ey=ec[5],[2,{deviceId:eh,userId:decode(ep),sessionId:parseTime(eg),lastEventId:parseTime(ey),lastEventTime:parseTime(em),optOut:!!ef}]}})}))];case 6:return ef=e2.sent(),[4,ep.get(getCookieName(ex))];case 7:return eg=e2.sent(),em=getQueryParams(),ey=null!==(eV=null!==(eF=null!==(eU=null!==(eL=null!==(ej=ek.deviceId)&&void 0!==ej?ej:em.ampDeviceId)&&void 0!==eL?eL:em.deviceId)&&void 0!==eU?eU:null==eg?void 0:eg.deviceId)&&void 0!==eF?eF:ef.deviceId)&&void 0!==eV?eV:UUID(),ev=null!==(eH=null==eg?void 0:eg.lastEventId)&&void 0!==eH?eH:ef.lastEventId,e_=null!==(eB=null==eg?void 0:eg.lastEventTime)&&void 0!==eB?eB:ef.lastEventTime,ew=null!==(ez=null!==(eq=ek.optOut)&&void 0!==eq?eq:null==eg?void 0:eg.optOut)&&void 0!==ez?ez:ef.optOut,eC=null!==(eW=null==eg?void 0:eg.sessionId)&&void 0!==eW?eW:ef.sessionId,eI=null!==(eG=null!==(e$=ek.userId)&&void 0!==e$?e$:null==eg?void 0:eg.userId)&&void 0!==eG?eG:ef.userId,eS.previousSessionDeviceId=null!==(eK=null==eg?void 0:eg.deviceId)&&void 0!==eK?eK:ef.deviceId,eS.previousSessionUserId=null!==(eZ=null==eg?void 0:eg.userId)&&void 0!==eZ?eZ:ef.userId,eE={ipAddress:null===(eQ=null===(eJ=ek.trackingOptions)||void 0===eJ?void 0:eJ.ipAddress)||void 0===eQ||eQ,language:null===(eY=null===(eX=ek.trackingOptions)||void 0===eX?void 0:eX.language)||void 0===eY||eY,platform:null===(e1=null===(e0=ek.trackingOptions)||void 0===e0?void 0:e0.platform)||void 0===e1||e1},eT=null==eg?void 0:eg.pageCounter,eN=null==eg?void 0:eg.debugLogsEnabled,void 0!==ek.autocapture&&(ek.defaultTracking=ek.autocapture),[4,(eA=new tA(ex,ek.appVersion,ep,eo,ek.defaultTracking,ek.autocapture,ey,ek.flushIntervalMillis,ek.flushMaxRetries,ek.flushQueueSize,er,ek.ingestionMetadata,ek.instanceName,ev,e_,ek.loggerProvider,ek.logLevel,ek.minIdLength,ek.offline,ew,ek.partnerId,ek.plan,ek.serverUrl,ek.serverZone,eC,ek.sessionTimeout,ek.storageProvider,eE,ek.transport,ek.useBatch,ek.fetchRemoteConfig,eI,eT,eN)).storageProvider.isEnabled()];case 8:return e2.sent()||(eA.loggerProvider.warn("Storage provider ".concat(eA.storageProvider.constructor.name," is not enabled. Falling back to MemoryStorage.")),eA.storageProvider=new e7),[2,eA]}})}))];case 1:if(ef=ew.sent(),!eo.fetchRemoteConfig)return[3,4];return[4,(eC=ef,tslib_es6_awaiter(void 0,void 0,void 0,function(){var er;return tslib_es6_generator(this,function(eo){switch(eo.label){case 0:return[4,(er=new tD(eC)).initialize()];case 1:return eo.sent(),[2,er]}})}))];case 2:return[4,ew.sent().generateJoinedConfig()];case 3:ef=ew.sent(),ew.label=4;case 4:return[4,er.prototype._init.call(this,ef)];case 5:if(ew.sent(),this.logBrowserOptions(ef),!isAttributionTrackingEnabled(this.config.defaultTracking))return[3,7];return eg=isAttributionTrackingEnabled((eI=this.config).defaultTracking)&&eI.defaultTracking&&"object"==typeof eI.defaultTracking&&eI.defaultTracking.attribution&&"object"==typeof eI.defaultTracking.attribution?tslib_tslib_es6_assign({},eI.defaultTracking.attribution):{},this.webAttribution=new e0(eg,this.config),[4,this.webAttribution.init()];case 6:ew.sent(),ew.label=7;case 7:if(ey=Number.isNaN(Number((em=getQueryParams()).ampSessionId))?void 0:Number(em.ampSessionId),this.setSessionId(null!==(ep=null!==(eh=null!==(ec=eo.sessionId)&&void 0!==ec?ec:ey)&&void 0!==eh?eh:this.config.sessionId)&&void 0!==ep?ep:Date.now()),(ev=getAnalyticsConnector(eo.instanceName)).identityStore.setIdentity({userId:this.config.userId,deviceId:this.config.deviceId}),!(null!==this.config.offline))return[3,9];return[4,this.add(networkConnectivityCheckerPlugin()).promise];case 8:ew.sent(),ew.label=9;case 9:return[4,this.add(new ej).promise];case 10:return ew.sent(),[4,this.add(new e9).promise];case 11:return ew.sent(),[4,this.add(new e5).promise];case 12:if(ew.sent(),detNotify(this.config),!isTrackingEnabled(this.config.defaultTracking,"fileDownloads"))return[3,14];return this.config.loggerProvider.debug("Adding file download tracking plugin"),[4,this.add(fileDownloadTracking()).promise];case 13:ew.sent(),ew.label=14;case 14:if(!isTrackingEnabled(this.config.defaultTracking,"formInteractions"))return[3,16];return this.config.loggerProvider.debug("Adding form interaction plugin"),[4,this.add(formInteractionTracking()).promise];case 15:ew.sent(),ew.label=16;case 16:if(!isPageViewTrackingEnabled(this.config.defaultTracking))return[3,18];return this.config.loggerProvider.debug("Adding page view tracking plugin"),[4,this.add(pageViewTrackingPlugin(getPageViewTrackingConfig(this.config))).promise];case 17:ew.sent(),ew.label=18;case 18:if(!isElementInteractionsEnabled(this.config.autocapture))return[3,20];return this.config.loggerProvider.debug("Adding user interactions plugin (autocapture plugin)"),[4,this.add(autocapturePlugin(getElementInteractionsConfig(this.config))).promise];case 19:ew.sent(),ew.label=20;case 20:return this.initializing=!1,[4,this.runQueuedFunctions("dispatchQ")];case 21:return ew.sent(),ev.eventBridge.setEventReceiver(function(er){e_.track(er.eventType,er.eventProperties)}),[2]}})})},AmplitudeBrowser.prototype.getUserId=function(){var er;return null===(er=this.config)||void 0===er?void 0:er.userId},AmplitudeBrowser.prototype.setUserId=function(er){if(!this.config){this.q.push(this.setUserId.bind(this,er));return}this.config.loggerProvider.debug("function setUserId: ",er),(er!==this.config.userId||void 0===er)&&(this.config.userId=er,setConnectorUserId(er,this.config.instanceName))},AmplitudeBrowser.prototype.getDeviceId=function(){var er;return null===(er=this.config)||void 0===er?void 0:er.deviceId},AmplitudeBrowser.prototype.setDeviceId=function(er){if(!this.config){this.q.push(this.setDeviceId.bind(this,er));return}this.config.loggerProvider.debug("function setDeviceId: ",er),this.config.deviceId=er,setConnectorDeviceId(er,this.config.instanceName)},AmplitudeBrowser.prototype.reset=function(){this.setDeviceId(UUID()),this.setUserId(void 0)},AmplitudeBrowser.prototype.getSessionId=function(){var er;return null===(er=this.config)||void 0===er?void 0:er.sessionId},AmplitudeBrowser.prototype.setSessionId=function(er){var eo,ec=[];if(!this.config)return this.q.push(this.setSessionId.bind(this,er)),returnWrapper(Promise.resolve());if(er===this.config.sessionId)return returnWrapper(Promise.resolve());this.config.loggerProvider.debug("function setSessionId: ",er);var eh=this.getSessionId(),ep=this.config.lastEventTime,ef=null!==(eo=this.config.lastEventId)&&void 0!==eo?eo:-1;this.config.sessionId=er,this.config.lastEventTime=void 0,this.config.pageCounter=0,isSessionTrackingEnabled(this.config.defaultTracking)&&(eh&&ep&&ec.push(this.track(tb,void 0,{device_id:this.previousSessionDeviceId,event_id:++ef,session_id:eh,time:ep+1,user_id:this.previousSessionUserId}).promise),this.config.lastEventTime=this.config.sessionId);var eg=this.trackCampaignEventIfNeeded(++ef,ec);return isSessionTrackingEnabled(this.config.defaultTracking)&&ec.push(this.track(t_,void 0,{event_id:eg?++ef:ef,session_id:this.config.sessionId,time:this.config.lastEventTime}).promise),this.previousSessionDeviceId=this.config.deviceId,this.previousSessionUserId=this.config.userId,returnWrapper(Promise.all(ec))},AmplitudeBrowser.prototype.extendSession=function(){if(!this.config){this.q.push(this.extendSession.bind(this));return}this.config.lastEventTime=Date.now()},AmplitudeBrowser.prototype.setTransport=function(er){if(!this.config){this.q.push(this.setTransport.bind(this,er));return}this.config.transportProvider=createTransport(er)},AmplitudeBrowser.prototype.identify=function(eo,ec){if(isInstanceProxy(eo)){var eh=eo._q;eo._q=[],eo=convertProxyObjectToRealObject(new eL,eh)}return(null==ec?void 0:ec.user_id)&&this.setUserId(ec.user_id),(null==ec?void 0:ec.device_id)&&this.setDeviceId(ec.device_id),er.prototype.identify.call(this,eo,ec)},AmplitudeBrowser.prototype.groupIdentify=function(eo,ec,eh,ep){if(isInstanceProxy(eh)){var ef=eh._q;eh._q=[],eh=convertProxyObjectToRealObject(new eL,ef)}return er.prototype.groupIdentify.call(this,eo,ec,eh,ep)},AmplitudeBrowser.prototype.revenue=function(eo,ec){if(isInstanceProxy(eo)){var eh=eo._q;eo._q=[],eo=convertProxyObjectToRealObject(new eU,eh)}return er.prototype.revenue.call(this,eo,ec)},AmplitudeBrowser.prototype.trackCampaignEventIfNeeded=function(er,eo){if(!this.webAttribution||!this.webAttribution.shouldTrackNewCampaign)return!1;var ec=this.webAttribution.generateCampaignEvent(er);return eo?eo.push(this.track(ec).promise):this.track(ec),this.config.loggerProvider.log("Tracking attribution."),!0},AmplitudeBrowser.prototype.process=function(eo){return tslib_es6_awaiter(this,void 0,void 0,function(){var ec,eh,ep;return tslib_es6_generator(this,function(ef){return ec=Date.now(),eh=isNewSession(this.config.sessionTimeout,this.config.lastEventTime),ep=this.webAttribution&&this.webAttribution.shouldSetSessionIdOnNewCampaign(),eo.event_type===t_||eo.event_type===tb||eo.session_id&&eo.session_id!==this.getSessionId()||(eh||ep?(this.setSessionId(ec),ep&&this.config.loggerProvider.log("Created a new session for new campaign.")):eh||this.trackCampaignEventIfNeeded()),[2,er.prototype.process.call(this,eo)]})})},AmplitudeBrowser.prototype.logBrowserOptions=function(er){try{var eo=tslib_es6_assign(tslib_es6_assign({},er),{apiKey:er.apiKey.substring(0,10)+"********"});this.config.loggerProvider.debug("Initialized Amplitude with BrowserConfig:",JSON.stringify(eo))}catch(er){this.config.loggerProvider.error("Error logging browser config",er)}},AmplitudeBrowser}(eV))).init.bind(e_),"init",getClientLogConfig(e_),getClientStates(e_,["config"])),add:debugWrapper(e_.add.bind(e_),"add",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.plugins"])),remove:debugWrapper(e_.remove.bind(e_),"remove",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.plugins"])),track:debugWrapper(e_.track.bind(e_),"track",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),logEvent:debugWrapper(e_.logEvent.bind(e_),"logEvent",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),identify:debugWrapper(e_.identify.bind(e_),"identify",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),groupIdentify:debugWrapper(e_.groupIdentify.bind(e_),"groupIdentify",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),setGroup:debugWrapper(e_.setGroup.bind(e_),"setGroup",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),revenue:debugWrapper(e_.revenue.bind(e_),"revenue",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),flush:debugWrapper(e_.flush.bind(e_),"flush",getClientLogConfig(e_),getClientStates(e_,["config.apiKey","timeline.queue.length"])),getUserId:debugWrapper(e_.getUserId.bind(e_),"getUserId",getClientLogConfig(e_),getClientStates(e_,["config","config.userId"])),setUserId:debugWrapper(e_.setUserId.bind(e_),"setUserId",getClientLogConfig(e_),getClientStates(e_,["config","config.userId"])),getDeviceId:debugWrapper(e_.getDeviceId.bind(e_),"getDeviceId",getClientLogConfig(e_),getClientStates(e_,["config","config.deviceId"])),setDeviceId:debugWrapper(e_.setDeviceId.bind(e_),"setDeviceId",getClientLogConfig(e_),getClientStates(e_,["config","config.deviceId"])),reset:debugWrapper(e_.reset.bind(e_),"reset",getClientLogConfig(e_),getClientStates(e_,["config","config.userId","config.deviceId"])),getSessionId:debugWrapper(e_.getSessionId.bind(e_),"getSessionId",getClientLogConfig(e_),getClientStates(e_,["config"])),setSessionId:debugWrapper(e_.setSessionId.bind(e_),"setSessionId",getClientLogConfig(e_),getClientStates(e_,["config"])),extendSession:debugWrapper(e_.extendSession.bind(e_),"extendSession",getClientLogConfig(e_),getClientStates(e_,["config"])),setOptOut:debugWrapper(e_.setOptOut.bind(e_),"setOptOut",getClientLogConfig(e_),getClientStates(e_,["config"])),setTransport:debugWrapper(e_.setTransport.bind(e_),"setTransport",getClientLogConfig(e_),getClientStates(e_,["config"]))};nS.add,nS.extendSession,nS.flush,nS.getDeviceId,nS.getSessionId,nS.getUserId,nS.groupIdentify;var nC=nS.identify,nI=nS.init,nE=(nS.logEvent,nS.remove,nS.reset),nT=(nS.revenue,nS.setDeviceId,nS.setGroup,nS.setOptOut,nS.setSessionId,nS.setTransport,nS.setUserId),nN=nS.track;function initAmplitude(){nI("8db1cd33de4ae12d94b5fe8092a71069",{autocapture:!0})}function resetAmplitude(){nE()}function ampIdentifyUser(er){let{uid:eo,email:ec,name:eh,club:ep=!1,github_student:ef=!1}=er,eg=new eL;eg.set("uid",eo),eg.set("email",ec),eg.set("name",eh),ep&&eg.set("club",ep),ef&&eg.set("github_student",ef),nT(ec||eo),nC(eg)}function ampTrackVisitor(){nN("visitor")}function ampTrackUserSignup(){nN("user-signup")}function ampTrackUserLogin(){nN("user-login")}function ampTrackUserAutoLogin(){nN("user-auto-login")}function ampTrackUserLogout(){nN("user-logout")}function ampTrackOnboarding(er){let{eventName:eo}=er;nN(eo)}},18738:function(er,eo,ec){"use strict";ec.d(eo,{CA:function(){return ReactFbqPageView},js:function(){return ReactFbqTrackPurchase}});let eh={};var ep={pixelCode:er=>(eh=function(er){let{id:eo,advancedMatching:ec,title:eh,data:ep}=er,ef='!(function(f, b, e, v, n, t, s) {\n        if (f.fbq) return;\n        n = f.fbq = function() {\n          n.callMethod\n            ? n.callMethod.apply(n, arguments)\n            : n.queue.push(arguments);\n        };\n        if (!f._fbq) f._fbq = n;\n        n.push = n;\n        n.loaded = !0;\n        n.version = "2.0";\n        n.queue = [];\n        t = b.createElement(e);\n        t.async = !0;\n        t.src = v;\n        s = b.getElementsByTagName(e)[0];\n        s.parentNode.insertBefore(t, s);\n      })(\n        window,\n        document,\n        "script",\n        "https://connect.facebook.net/en_US/fbevents.js"\n      );\n      fbq("init", "'.concat(eo,'" ').concat(ec?",".concat(ec):"",");"),eg='fbq("track", "'.concat(eh,'", ').concat(JSON.stringify(ep),");");return{script:ef,noscript:'<img height="1" width="1" style="display:none"\n      src="https://www.facebook.com/tr?id='.concat(eo,'&ev=PageView&noscript=1" />'),pageView:'fbq("track", "PageView");',track:eg}}(er),{script:er=>{let eo=document.createElement("script");return eo.innerHTML=er||eh.script,eo},noScript:()=>{let er=document.createElement("noscript");return er.innerHTML=eh.noscript,er}}),initialize(er){let{id:eo,advancedMatching:ec}=er,eh=this.pixelCode({id:eo,advancedMatching:ec});document.head.insertBefore(eh.script(),document.head.childNodes[0]),document.head.insertBefore(eh.noScript(),document.head.childNodes[0])},pageView(){let er=this.pixelCode({});document.head.insertBefore(er.script(eh.pageView),document.head.childNodes[0])},track(er){let{title:eo,data:ec}=er,ep=this.pixelCode({title:eo,data:ec});document.head.insertBefore(ep.script(eh.track),document.head.childNodes[0])}};function ReactFbqPageView(){let er=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1428382907878082";ep.initialize({id:er}),ep.pageView()}function ReactFbqTrackPurchase(er){let{id:eo="1428382907878082",data:ec}=er;ep.initialize({id:eo}),ep.track({title:"Purchase",data:ec})}},51194:function(er,eo,ec){"use strict";ec.d(eo,{iQ:function(){return activeUserTracker},wc:function(){return addMixpanelUserAndTrackEvent},Mv:function(){return autoLoginTrack},Kk:function(){return challengeTimerEnd},Am:function(){return challengeTimerStart},Eq:function(){return challengeViewed},u7:function(){return clearMixpanel},OX:function(){return engagedActiveUserTracker},$A:function(){return identifyUser},BP:function(){return initMixpanel},nd:function(){return initialLoginTrack},tN:function(){return pageView},rm:function(){return projectViewed},TM:function(){return signUpTrack},XF:function(){return tagGitHubStudent},v2:function(){return track30NitesCompleted},JK:function(){return track30NitesProgress},P5:function(){return track30NitesSignUp},uo:function(){return trackCheckoutError},Fc:function(){return trackCheckoutRedirect},Lo:function(){return trackCodeChallengeView},gm:function(){return trackLandingPageBottomButtonClick},Pl:function(){return trackLandingPageButtonClick},qo:function(){return trackOnboarding},QB:function(){return trackSignUpBtn},C:function(){return trackSignupwall},$6:function(){return trackStartBtnNewPage},kf:function(){return trackSubscriptionSuccess},NA:function(){return trackVisitor}});var eh=ec(83198),ep=ec(92369);async function sendToMixpanel(er,eo){let{auth:ec}=(0,ep.UM)(),eh=ec.currentUser;if(!eh)return;let ef=new URLSearchParams(window.location.search),eg={utm_source:ef.get("utm_source")||void 0,utm_medium:ef.get("utm_medium")||void 0,utm_campaign:ef.get("utm_campaign")||void 0,utm_term:ef.get("utm_term")||void 0,utm_content:ef.get("utm_content")||void 0,id:ef.get("id")||void 0},{email:em,uid:ey,displayName:ev}=eh,e_={distinct_id:em,uid:ey,$email:em,$user_id:em,$browser:navigator.userAgent,$browser_version:navigator.appVersion,$current_url:window.location.href,$device:navigator.platform,$device_id:navigator.userAgent,$initial_referrer:document.referrer?document.referrer:void 0,$initial_referring_domain:document.referrer?new URL(document.referrer).hostname:void 0,$os:navigator.platform,$screen_height:window.screen.height,$screen_width:window.screen.width,...eg},ew={...eo,...e_};fetch("/api/mixpanel",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({event:er,properties:ew})})}function initMixpanel(){eh.Z.init("42b216a79216943f3975d8940878c479",{ignore_dnt:!0,debug:!1,persistence:"localStorage"})}function trackCheckoutError(er){let{error:eo}=er;eh.Z.track("checkout-error",{error:eo})}function trackCheckoutRedirect(er){let{redirect:eo}=er;eo?eh.Z.track("redirected-to-checkout"):eh.Z.track("payment-successful")}function trackSubscriptionSuccess(){eh.Z.track("subscription-successful")}function trackLandingPageButtonClick(){eh.Z.track("landing-page-start-button-click")}function trackLandingPageBottomButtonClick(){eh.Z.track("landing-page-bottom-start-button-click")}function trackVisitor(){eh.Z.track("visitor")}function track30NitesSignUp(){eh.Z.track("30-nites-of-code-sign-up")}function track30NitesProgress(){eh.Z.track("30-nites-of-code-progress")}function track30NitesCompleted(){eh.Z.track("30-nites-of-code-completed")}function addMixpanelUserAndTrackEvent(er){let{user:eo,isUserClubSubscriber:ec,isUserGitHubStudent:ep}=er;(null==eo?void 0:eo.email)&&(null==eo?void 0:eo.uid)&&(eh.Z.identify(null==eo?void 0:eo.email),eh.Z.register({email:null==eo?void 0:eo.email,Email:null==eo?void 0:eo.email,uid:null==eo?void 0:eo.uid,$email:null==eo?void 0:eo.email,$name:null==eo?void 0:eo.displayName}),eh.Z.people.set({Email:eo.email,email:eo.email,$email:null==eo?void 0:eo.email,$name:null==eo?void 0:eo.displayName,uid:null==eo?void 0:eo.uid,created:new Date(eo.metadata.creationTime),last_login:new Date(eo.metadata.lastSignInTime),club:ec,github_student:ep}))}function tagGitHubStudent(){eh.Z.people.set({github_student:!0})}function identifyUser(er){let{email:eo}=er;eo&&eh.Z.identify(eo)}function signUpTrack(er){let{email:eo,provider:ec}=er;eh.Z.identify(eo),eh.Z.track("Sign Up",{distinct_id:eo,provider:ec})}function initialLoginTrack(er){let{email:eo,provider:ec}=er;eh.Z.identify(eo),eh.Z.track("Initial Log In",{distinct_id:eo,provider:ec})}function autoLoginTrack(er){let{user:eo}=er;(null==eo?void 0:eo.email)&&eh.Z.track("Log In",{distinct_id:null==eo?void 0:eo.email})}function pageView(er){let{path:eo}=er;eh.Z.track("Page View",{path:eo})}function challengeViewed(er){let{challengeName:eo}=er;eh.Z.track("".concat(eo," Page Viewed"),{challengeName:eo})}function projectViewed(er){let{projectName:eo}=er;eh.Z.track("".concat(eo," Page Viewed"),{projectName:eo})}function clearMixpanel(er){let{email:eo}=er;eh.Z.track("Log Out",{distinct_id:eo}),eh.Z.reset()}function challengeTimerStart(){eh.Z.time_event("User Challenge Time")}function challengeTimerEnd(er){let{challengeName:eo}=er;eh.Z.track("User Challenge Time",{challengeName:eo})}function activeUserTracker(){eh.Z.track("Active User"),sendToMixpanel("Active User Server")}function engagedActiveUserTracker(){}function trackCodeChallengeView(er){let{challengeName:eo,packName:ec}=er;eh.Z.track("".concat(ec,"-").concat(eo))}function trackSignupwall(er){let{email:eo,provider:ec}=er;eh.Z.track("signup-wall",{email:eo,method:ec})}function trackSignUpBtn(){eh.Z.track("sign-up-buttton-clicked")}function trackStartBtnNewPage(){eh.Z.track("start-py-new-course-page")}function trackOnboarding(er){let{eventName:eo}=er;sendToMixpanel(eo)}eh.Z.init("42b216a79216943f3975d8940878c479",{ignore_dnt:!0,debug:!1,persistence:"localStorage"})},73857:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  all: unset;\n  background: none;\n  border: none;\n  box-sizing: border-box;\n  padding: 10px 16px;\n  padding-top: 8px;\n  height: ",";\n  padding-bottom: 12px;\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  letter-spacing: 0.03rem;\n  cursor:\n    url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n      14 0,\n    pointer;\n\n  a {\n    all: unset;\n  }\n\n  .before {\n    perspective: 1000px;\n    box-sizing: border-box;\n    background: yellow;\n    width: 100%;\n    height: calc(100% - 4px);\n    z-index: 1;\n    left: 0px;\n    top: 0px;\n    padding: 10px 16px;\n    border: none;\n    border-image-outset: 0px;\n    border-image-repeat: stretch;\n    border-image-slice: 2;\n    border-image-width: 4px;\n    border-style: solid;\n    border-width: 0px;\n    border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='black'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n    position: absolute;\n    clip-path: polygon(\n      4px 0px,\n      4px 2px,\n      2px 2px,\n      2px 4px,\n      0px 4px,\n      0px calc(100% - 4px),\n      2px calc(100% - 4px),\n      2px calc(100% - 2px),\n      4px calc(100% - 2px),\n      4px 100%,\n      calc(100% - 4px) 100%,\n      calc(100% - 4px) calc(100% - 2px),\n      calc(100% - 2px) calc(100% - 2px),\n      calc(100% - 2px) calc(100% - 4px),\n      100% calc(100% - 4px),\n      100% calc(100% - 4px),\n      100% 4px,\n      calc(100% - 2px) 4px,\n      calc(100% - 2px) 2px,\n      calc(100% - 4px) 2px,\n      calc(100% - 4px) 0px\n    );\n    transition:\n      0.1s transform,\n      0.1s background;\n\n    ","\n  }\n\n  .after {\n    box-sizing: border-box;\n    background: orange;\n    width: 100%;\n    height: calc(100% - 6px);\n    z-index: 0;\n    left: 0px;\n    top: 6px;\n    border: none;\n    border-image-outset: 0px;\n    border-image-repeat: stretch;\n    border-image-slice: 2;\n    border-image-width: 4px;\n    border-style: solid;\n    border-width: 0px;\n    border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='black'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n    position: absolute;\n    clip-path: polygon(\n      4px 0px,\n      4px 2px,\n      2px 2px,\n      2px 4px,\n      0px 4px,\n      0px calc(100% - 4px),\n      2px calc(100% - 4px),\n      2px calc(100% - 2px),\n      4px calc(100% - 2px),\n      4px 100%,\n      calc(100% - 4px) 100%,\n      calc(100% - 4px) calc(100% - 2px),\n      calc(100% - 2px) calc(100% - 2px),\n      calc(100% - 2px) calc(100% - 4px),\n      100% calc(100% - 4px),\n      100% calc(100% - 4px),\n      100% 4px,\n      calc(100% - 2px) 4px,\n      calc(100% - 2px) 2px,\n      calc(100% - 4px) 2px,\n      calc(100% - 4px) 0px\n    );\n\n    ",'\n  }\n\n  &:active .before {\n    transform: translateY(4px);\n  }\n\n  outline: none;\n  &:focus {\n    outline: none;\n  }\n  .btn-content {\n    display: inline-block;\n    transition: 0.1s transform;\n    user-select: none;\n    color: black;\n    font-family: "PixelGridS", sans-serif;\n    font-weight: 400;\n    font-size: ',"px;\n    line-height: 1.4;\n    position: relative;\n    z-index: 2;\n  }\n\n  &:active .btn-content {\n    transform: translateY(4px);\n    transition: 0.1s transform;\n  }\n\n  ","\n\n  ","\n"]);return _templateObject=function(){return er},er}let eg=ef.default.button.withConfig({componentId:"sc-121fa9db-0"})(_templateObject(),er=>{let{size:eo}=er;return"small"===eo?"42px":"50px"},er=>{let{variant:eo,theme:ec,lightModeOnly:eh}=er;switch(eo){case"blue":return"\n              background: ".concat(ec.colors.palette.blue["500"],";\n              border-color: ").concat(ec.colors.palette.blue["800"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.blue["800"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n          ");case"yellow":return"\n              background: ".concat(ec.colors.palette.yellow["400"],";\n              border-color: ").concat(ec.colors.palette.yellow["700"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.yellow["700"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n          ");case"green":return"\n              background: ".concat(ec.colors.palette.green["400"],";\n              border-color: ").concat(ec.colors.palette.green["700"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.green["700"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n          ");case"red":return"\n              background: ".concat(ec.colors.palette.red["500"],";\n              border-color: ").concat(ec.colors.palette.red["800"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.red["800"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n          ");case"subtle":return"\n              background: ".concat(eh?"#FFFFFF":"light"!==ec.mode?"#0F172A":"#FFFFFF",";\n              border-color: #94A3B8;\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%2394A3B8'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n          ")}},er=>{let{variant:eo,theme:ec,lightModeOnly:eh}=er;switch(eo){case"blue":return"\n              background: ".concat(ec.colors.palette.blue["700"],";\n              border-color: ").concat(ec.colors.palette.blue["800"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.blue["800"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n              ");case"yellow":return"\n              background: ".concat(ec.colors.palette.yellow["600"],";\n              border-color: ").concat(ec.colors.palette.yellow["700"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.yellow["700"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n            ");case"green":return"\n              background: ".concat(ec.colors.palette.green["600"],";\n              border-color: ").concat(ec.colors.palette.green["700"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.green["700"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n              ");case"red":return"\n              background: ".concat(ec.colors.palette.red["700"],";\n              border-color: ").concat(ec.colors.palette.red["800"],";\n              border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23").concat(ec.colors.paletteWithoutHash.red["800"],"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n              ");case"subtle":return"\n              background: ".concat(eh?ec.colors.palette.grey["200"]:"light"===ec.mode?ec.colors.palette.grey["200"]:ec.colors.palette.grey["700"],";\n            border-image-source: url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%2394A3B8'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\");\n              ")}},er=>{let{theme:eo,size:ec}=er;return"small"===ec?eo.fontSize.m:eo.fontSize.l},er=>{let{variant:eo,theme:ec,lightModeOnly:eh}=er;switch(eo){case"blue":return"\n            &:hover .before {\n              background: ".concat(ec.colors.palette.blue["400"],";\n            }\n\n            &:active .before {\n              background: ").concat(ec.colors.palette.blue["600"],";\n            }\n\n            &:active .btn-content {\n                text-shadow: none;\n            }\n\n            .btn-content {\n              color: white;\n              text-shadow: 0 2px 0 ").concat(ec.colors.palette.blue["600"],";\n            }\n        ");case"yellow":return"\n            &:hover .before {\n              background: ".concat(ec.colors.palette.yellow["300"],";\n            }\n\n            &:active .before {\n              background: ").concat(ec.colors.palette.yellow["500"],";\n            }\n            &:active .btn-content {\n                text-shadow: none;\n            }\n            .btn-content {\n              text-shadow: 0 2px 0 ").concat(ec.colors.palette.yellow["500"],";\n            }\n        ");case"green":return"\n\n            &:hover .before {\n              background: ".concat(ec.colors.palette.green["300"],";\n            }\n\n            &:active .before {\n              background: ").concat(ec.colors.palette.green["500"],";\n            }\n            &:active .btn-content {\n                text-shadow: none;\n            }\n            .btn-content {\n              text-shadow: 0 2px 0 ").concat(ec.colors.palette.green["500"],";\n            }\n        ");case"red":return"\n\n            &:hover .before {\n              background: ".concat(ec.colors.palette.red["400"],";\n            }\n\n            &:active .before {\n              background: ").concat(ec.colors.palette.red["600"],";\n            }\n            &:active .btn-content {\n                text-shadow: none;\n            }\n\n            .btn-content {\n                text-shadow: 0 2px 0 ").concat(ec.colors.palette.red["600"],";\n            }\n        ");case"subtle":return"\n            &:hover .before {\n              background: ".concat(eh?ec.colors.palette.grey["100"]:"light"===ec.mode?ec.colors.palette.grey["100"]:ec.colors.palette.grey["800"],";\n            }\n\n            &:active .before {\n              background: ").concat(eh?ec.colors.palette.grey["200"]:"light"===ec.mode?ec.colors.palette.grey["200"]:ec.colors.palette.grey["700"],";\n            }\n            &:active .btn-content {\n                text-shadow: none;\n            }\n\n            .btn-content {\n                color: ").concat(eh?"#020617":"light"===ec.mode?"#020617":"#FFFFFF",";\n                text-shadow: 0 2px 0 ").concat(eh?ec.colors.palette.grey["200"]:"light"===ec.mode?ec.colors.palette.grey["200"]:ec.colors.palette.grey["700"],";\n            }\n        ");default:return""}},er=>{let{disabled:eo,theme:ec}=er;if(eo)return"\n        opacity: 40%;\n        pointer-events: none;\n        "});eo.Z=function(er){let{variant:eo="blue",size:ec="normal",lightModeOnly:eh=!1,disabled:ef,children:em,className:ey,...ev}=er;return(0,ep.jsxs)(eg,{disabled:ef,size:ec,lightModeOnly:eh,variant:eo,className:"".concat(ey," nes-pointer ").concat(ef?"disabled":""),...ev,children:[(0,ep.jsx)("span",{className:"before"}),(0,ep.jsx)("span",{className:"btn-content",children:em}),(0,ep.jsx)("span",{className:"after"})]})}},3649:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  border-image-outset: 0px;\n  border-image-repeat: stretch;\n  border-image-slice: 2;\n  border-image-width: 4px;\n  border-style: solid;\n  border-width: 0px;\n  border-image-source: ",";\n\n  position: relative;\n  clip-path: polygon(\n    4px 0px,\n    4px 2px,\n    2px 2px,\n    2px 4px,\n    0px 4px,\n    0px calc(100% - 4px),\n    2px calc(100% - 4px),\n    2px calc(100% - 2px),\n    4px calc(100% - 2px),\n    4px 100%,\n    calc(100% - 4px) 100%,\n    calc(100% - 4px) calc(100% - 2px),\n    calc(100% - 2px) calc(100% - 2px),\n    calc(100% - 2px) calc(100% - 4px),\n    100% calc(100% - 4px),\n    100% calc(100% - 4px),\n    100% 4px,\n    calc(100% - 2px) 4px,\n    calc(100% - 2px) 2px,\n    calc(100% - 4px) 2px,\n    calc(100% - 4px) 0px\n  );\n"]);return _templateObject=function(){return er},er}let eg=ef.default.div.withConfig({componentId:"sc-f178bd7a-0"})(_templateObject(),er=>{let{borderColor:eo}=er;return"url(\"data:image/svg+xml,%3Csvg width='6' height='6' viewBox='0 0 6 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_183_5329)'%3E%3Cpath d='M2 0H3V1H2V0ZM3 0H4V1H3V0ZM1 1H2V2H1V1ZM4 1H5V2H4V1ZM0 2H1V3H0V2ZM5 2H6V3H5V2ZM0 3H1V4H0V3ZM5 3H6V4H5V3ZM1 4H2V5H1V4ZM4 4H5V5H4V4ZM2 5H3V6H2V5ZM3 5H4V6H3V5Z' fill='%23".concat(eo,"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_183_5329'%3E%3Crect width='6' height='6' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\")")});eo.Z=function(er){let{children:eo,className:ec="",borderColor:eh="000000",...ef}=er;return(0,ep.jsx)(eg,{className:ec,borderColor:eh,...ef,children:eo})}},20759:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  border-image-outset: 0px;\n  border-image-repeat: stretch;\n  border-image-slice: 3;\n  border-image-width: 6px;\n  border-style: solid;\n  border-width: 0px;\n  border-image-source: ",";\n\n  position: relative;\n  clip-path: polygon(\n    6px 0px,\n    6px 2px,\n    4px 2px,\n    4px 4px,\n    2px 4px,\n    2px 6px,\n    0px 6px,\n    0px 8px,\n    0px calc(100% + -6px),\n    2px calc(100% + -6px),\n    2px calc(100% + -4px),\n    4px calc(100% + -4px),\n    4px calc(100% + -2px),\n    6px calc(100% + -2px),\n    6px calc(100% + 0px),\n    8px calc(100% + 0px),\n    calc(100% + -6px) calc(100% - 0px),\n    calc(100% + -6px) calc(100% - 2px),\n    calc(100% + -4px) calc(100% - 2px),\n    calc(100% + -4px) calc(100% - 4px),\n    calc(100% + -2px) calc(100% - 4px),\n    calc(100% + -2px) calc(100% - 6px),\n    calc(100% + 0px) calc(100% - 6px),\n    calc(100% + 0px) calc(100% - 8px),\n    calc(100% - 0px) 6px,\n    calc(100% - 2px) 6px,\n    calc(100% - 2px) 4px,\n    calc(100% - 4px) 4px,\n    calc(100% - 4px) 2px,\n    calc(100% - 6px) 2px,\n    calc(100% - 6px) 0px,\n    calc(100% - 8px) 0px\n  );\n"]);return _templateObject=function(){return er},er}let eg=ef.default.div.withConfig({componentId:"sc-940c1d4e-0"})(_templateObject(),er=>{let{borderColor:eo}=er;return"url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_1310_2574)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 0H3V1H2V2H1V3H0V4V5H1V6H2V7H3V8H4H5V7H6V6H7V5H8V4V3H7V2H6V1H5V0H4ZM5 1V2H6V3H7V4V5H6V6H5V7H4H3V6H2V5H1V4V3H2V2H3V1H4H5Z' fill='%23".concat(eo,"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1310_2574'%3E%3Crect width='8' height='8' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\")")});eo.Z=function(er){let{children:eo,className:ec="",borderColor:eh="000000",...ef}=er;return(0,ep.jsx)(eg,{className:ec,borderColor:eh,...ef,children:eo})}},62626:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  margin: 0 auto;\n  height: 100%;\n\n  "," {\n    max-width: 100%;\n    margin: 0px 16px;\n  }\n  "," {\n    max-width: 100%;\n    margin: 0px 24px;\n  }\n\n  "," {\n    margin: 0 auto;\n    max-width: 1152px;\n  }\n"]);return _templateObject=function(){return er},er}let eg=ef.default.div.withConfig({componentId:"sc-54093850-0"})(_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.md},er=>{let{theme:eo}=er;return eo.breakpoints.lg});eo.Z=function(er){let{children:eo,...ec}=er;return(0,ep.jsx)(eg,{...ec,children:eo})}},47158:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(67294),eg=ec(19521),em=ec(25935),ey=ec(42708);function _templateObject(){let er=(0,eh._)(["\n  0% { opacity: 0; }\n  50% { opacity: 1; }\n  100% { opacity: 0; }\n"]);return _templateObject=function(){return er},er}function _templateObject1(){let er=(0,eh._)(["\n  display: inline-block;\n"]);return _templateObject1=function(){return er},er}function _templateObject2(){let er=(0,eh._)(["\n  color: ",";\n"]);return _templateObject2=function(){return er},er}function _templateObject3(){let er=(0,eh._)(["\n  animation: "," 1s infinite;\n"]);return _templateObject3=function(){return er},er}let ev=(0,eg.keyframes)(_templateObject()),e_=eg.default.h1.withConfig({componentId:"sc-24b2bbb6-0"})(_templateObject1()),ew=eg.default.span.withConfig({componentId:"sc-24b2bbb6-1"})(_templateObject2(),er=>er.theme.colors.text1),ex=eg.default.span.withConfig({componentId:"sc-24b2bbb6-2"})(_templateObject3(),ev);eo.Z=function(er){let{text:eo="",setAction:ec=()=>{},playInViewOnly:eh=!1,typingSpeed:eg=80,disableCursor:ev=!1,...ek}=er,[eS,eC]=(0,ey.YD)({threshold:1}),[eI,eE]=(0,ef.useState)(""),[eT,eN]=(0,ef.useState)(!0);return(0,ef.useEffect)(()=>{if(!eC&&eh)return;let er=setInterval(()=>{eE(eh=>eh===eo?(clearInterval(er),setTimeout(()=>eN(!1),3e3),ec(),eh):eh+eo[eh.length])},eg);return()=>clearInterval(er)},[ec,eo,eC,eh,eg]),(0,ep.jsxs)(e_,{className:"python-typewriter",ref:eS,...ek,children:[(0,ep.jsx)(ew,{children:(0,em.ZP)(eI)}),!ev&&(0,ep.jsxs)(ep.Fragment,{children:[" ",eT&&(0,ep.jsx)(ex,{className:"python-typewriter-cursor",children:"|"})]})]})}},81798:function(er,eo,ec){"use strict";var eh=ec(85893);eo.Z=function(er){let{color:eo="#64748B",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...ec,children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16 5L16 7L14 7L14 5L16 5ZM12 9L12 7L14 7L14 9L12 9ZM10 11L10 9L12 9L12 11L10 11ZM10 13L8 13L8 11L10 11L10 13ZM12 15L12 13L10 13L10 15L12 15ZM12 15L14 15L14 17L12 17L12 15ZM16 19L16 17L14 17L14 19L16 19Z",fill:eo})})}},74347:function(er,eo,ec){"use strict";var eh=ec(85893);eo.Z=function(er){let{fill:eo="black"}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5 5H7V7H5V5ZM9 9H7V7H9V9ZM11 11H9V9H11V11ZM13 11H11V13H9V15H7V17H5V19H7V17H9V15H11V13H13V15H15V17H17V19H19V17H17V15H15V13H13V11ZM15 9V11H13V9H15ZM17 7V9H15V7H17ZM17 7V5H19V7H17Z",fill:"#94A3B8"})})}},83782:function(er,eo,ec){"use strict";var eh=ec(85893);eo.Z=function(er){let{color:eo="#2E1065",...ec}=er;return(0,eh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",children:[(0,eh.jsx)("rect",{width:"1.41429",height:"1.5",transform:"matrix(1 0 0 -1 7.77832 6.75)",fill:"#9F1239"}),(0,eh.jsx)("rect",{width:"1.41429",height:"4.5",transform:"matrix(1 0 0 -1 7.77832 12.75)",fill:"#9F1239"}),(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0213 2.25H4.94991V3.75H3.53562V5.25H2.12134V12.75H3.53562V14.25H4.94991V15.75H12.0213V14.25H13.4356V12.75H14.8499V5.25H13.4356V3.75H12.0213V2.25ZM12.0213 3.75V5.25H13.4356V12.75H12.0213V14.25H4.94991V12.75H3.53562V5.25H4.94991V3.75H12.0213Z",fill:"#9F1239"})]})}},25294:function(er,eo,ec){"use strict";ec.d(eo,{Z:function(){return onBoarding_ObMessage}});var eh=ec(82729),ep=ec(85893),ef=ec(19521),eg=ec(20759),em=ec(26245),ey=ec(9473),icons_TriangleArrow=function(er){let{outLine:eo="#CBD5E1",fill:ec="#F1F5F9",lightModeOnly:eh=!1,...ef}=er,eg=(0,ey.v9)(em.o4)||"dark",ev="dark"===eg;return(0,ep.jsxs)("svg",{width:"22",height:"12",viewBox:"0 0 22 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...ef,children:[(0,ep.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 2H10V4H8V6H6V8H4V10H2V12H20V10H18V8H16V6H14V4H12V2Z",fill:ev?eh?"#F1F5F9":"#1E293B":"#F1F5F9"}),(0,ep.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10 0H12V2H10V0ZM8 4V2H10V4H8ZM6 6V4H8V6H6ZM4 8V6H6V8H4ZM2 10H4V8H2V10ZM2 10V12H0V10H2ZM14 4H12V2H14V4ZM16 6H14V4H16V6ZM18 8H16V6H18V8ZM20 10H18V8H20V10ZM20 10H22V12H20V10Z",fill:ev?eh?"#CBD5E1":"#475569":"#CBD5E1"})]})},ev=ec(47158),e_=ec(45198);function _templateObject(){let er=(0,eh._)(["\n  width: 100%;\n  position: relative;\n  flex: 1;\n\n  &.first-scene {\n    "," {\n      width: 100%;\n      .triangle-arrow {\n        position: absolute;\n        top: -11%;\n        left: 50%;\n        transform: translate(-50%, 2px);\n        z-index: 1;\n      }\n    }\n\n    "," {\n      width: 679px;\n\n      .triangle-arrow {\n        transform: translate(-50%, -1.4px);\n      }\n    }\n  }\n\n  .message-container {\n    background: ",";\n    min-height: 60px;\n    .python-typewriter {\n      all: unset;\n      margin: 0px;\n\n      span {\n        margin: 0px;\n        color: ",';\n        font-family: "PixelGridS";\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 700;\n        line-height: 164%;\n        letter-spacing: 0.48px;\n\n        text-shadow: 0 2px 0\n          ',';\n\n        strong {\n          font-family: "PixelGridM";\n        }\n      }\n\n      .python-typewriter-cursor {\n        display: none;\n      }\n    }\n  }\n\n  .triangle-arrow {\n    position: absolute;\n    left: -15px;\n    top: 50%;\n    transform: translateY(-50%) rotate(-90deg);\n    z-index: 1;\n  }\n']);return _templateObject=function(){return er},er}let ew=ef.default.div.withConfig({componentId:"sc-de2de4c5-0"})(_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["800"]:eo.colors.palette.grey["100"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["50"]:eo.colors.palette.grey["950"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["700"]:eo.colors.palette.grey["200"]});var onBoarding_ObMessage=function(er){let{message:eo,firstScene:ec=!1,height:eh="auto",lightModeOnly:ef=!1,setAction:ex=()=>{}}=er,ek=(0,ey.v9)(em.o4)||"dark",eS=(0,e_.i)(),eC=eS.width<768;return(0,ep.jsxs)(ew,{className:ec||eC?"first-scene":"default-styles",children:[(0,ep.jsx)(icons_TriangleArrow,{className:"triangle-arrow",lightModeOnly:ef}),(0,ep.jsx)(eg.Z,{className:"message-container",borderColor:ef||"dark"!==ek?"CBD5E1":"475569",style:{padding:ec?"24px":"16px",minHeight:ec?"76px":eh},children:(0,ep.jsx)(ev.Z,{text:eo,typingSpeed:25,setAction:()=>ex()})})]},eo)}},94430:function(er,eo,ec){"use strict";ec.d(eo,{Z:function(){return popup_PopupContainer}});var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  border-image-outset: 0px;\n  border-image-repeat: stretch;\n  border-image-slice: 3;\n  border-image-width: 6px;\n  border-style: solid;\n  border-width: 0px;\n  border-image-source: ",";\n\n  position: relative;\n  clip-path: polygon(\n    6px 0px,\n    6px 2px,\n    4px 2px,\n    4px 4px,\n    2px 4px,\n    2px 6px,\n    0px 6px,\n    0px 8px,\n    0px calc(100% + -6px),\n    2px calc(100% + -6px),\n    2px calc(100% + -4px),\n    4px calc(100% + -4px),\n    4px calc(100% + -2px),\n    6px calc(100% + -2px),\n    6px calc(100% + 0px),\n    8px calc(100% + 0px),\n    calc(100% + -6px) calc(100% - 0px),\n    calc(100% + -6px) calc(100% - 2px),\n    calc(100% + -4px) calc(100% - 2px),\n    calc(100% + -4px) calc(100% - 4px),\n    calc(100% + -2px) calc(100% - 4px),\n    calc(100% + -2px) calc(100% - 6px),\n    calc(100% + 0px) calc(100% - 6px),\n    calc(100% + 0px) calc(100% - 8px),\n    calc(100% - 0px) 6px,\n    calc(100% - 2px) 6px,\n    calc(100% - 2px) 4px,\n    calc(100% - 4px) 4px,\n    calc(100% - 4px) 2px,\n    calc(100% - 6px) 2px,\n    calc(100% - 6px) 0px,\n    calc(100% - 8px) 0px\n  );\n"]);return _templateObject=function(){return er},er}let eg=ef.default.dialog.withConfig({componentId:"sc-f909306d-0"})(_templateObject(),er=>{let{borderColor:eo}=er;return"url(\"data:image/svg+xml,%3Csvg width='8' height='8' viewBox='0 0 8 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cg clip-path='url(%23clip0_1310_2574)'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 0H3V1H2V2H1V3H0V4V5H1V6H2V7H3V8H4H5V7H6V6H7V5H8V4V3H7V2H6V1H5V0H4ZM5 1V2H6V3H7V4V5H6V6H5V7H4H3V6H2V5H1V4V3H2V2H3V1H4H5Z' fill='%23".concat(eo,"'/%3E%3C/g%3E%3Cdefs%3E%3CclipPath id='clip0_1310_2574'%3E%3Crect width='8' height='8' fill='white'/%3E%3C/clipPath%3E%3C/defs%3E%3C/svg%3E%0A\")")});var em=ec(74347),ey=ec(26245),ev=ec(9473);function PopupContainer_templateObject(){let er=(0,eh._)(["\n  padding: 10px;\n  height: 100%;\n  max-width: calc(100% - 2rem);\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n\n  background-color: ",";\n\n  .cross-icon {\n    display: flex;\n    justify-content: end;\n    transition-duration: 0px;\n\n    .icon-container {\n      padding: 4px;\n      border-radius: 4px;\n      line-height: 1;\n      transition-duration: 0.2s;\n\n      svg {\n        transition-duration: 0px;\n\n        path {\n          fill: ",";\n        }\n      }\n\n      :hover {\n        background-color: ",";\n\n        svg {\n          path {\n            fill: ",";\n          }\n        }\n      }\n    }\n  }\n\n  .inner-popup-container {\n    padding: 0px 24px 24px 24px;\n  }\n"]);return PopupContainer_templateObject=function(){return er},er}let e_=(0,ef.default)(function(er){let{children:eo,className:ec="",borderColor:eh="000000",...ef}=er;return(0,ep.jsx)(eg,{className:ec,borderColor:eh,...ef,children:eo})}).withConfig({componentId:"sc-f53dcb8d-0"})(PopupContainer_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["950"]:eo.colors.palette.grey["50"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["800"]:eo.colors.palette.grey["100"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.blue["400"]:eo.colors.palette.blue["700"]});var popup_PopupContainer=function(er){let{children:eo,className:ec="",iconAction:eh,...ef}=er,eg=(0,ev.v9)(ey.o4)||"dark";return(0,ep.jsxs)(e_,{borderColor:"dark"===eg?"64748B":"94A3B8",className:ec,children:[(0,ep.jsx)("div",{className:"cross-icon",children:(0,ep.jsx)("div",{className:"icon-container nes-pointer",onClick:()=>eh(),children:(0,ep.jsx)(em.Z,{})})}),(0,ep.jsx)("div",{...ef,className:"inner-popup-container",children:eo})]})}},94206:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  p {\n    margin: 0px;\n  }\n  svg {\n    transform: rotate(-90deg);\n  }\n  circle {\n    transition: stroke-dashoffset 0.25s;\n    transform-origin: center;\n  }\n\n  .percentage-num {\n    color: ",';\n    font-family: "Mulish", sans-serif;\n    font-size: 14px;\n    font-weight: 700;\n    width: fit-content;\n  }\n\n  .complete-circle {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 24px;\n    height: 24px;\n\n    background-color: ',";\n    border-radius: 50%;\n    transform: rotate(90deg);\n  }\n\n  .completed-num {\n    color: ",";\n  }\n"]);return _templateObject=function(){return er},er}let eg=ef.default.div.withConfig({componentId:"sc-d0e54298-0"})(_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.green["800"]:eo.colors.palette.green["200"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.green["200"]:eo.colors.palette.green["800"]});eo.Z=function(er){let{percentage:eo,themeIsDark:ec,completePercentage:eh,percentageText:ef=null}=er,em=2*Math.PI*10;return(0,ep.jsxs)(eg,{children:[eo>=100?(0,ep.jsx)("div",{className:"complete-circle",children:(0,ep.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",children:(0,ep.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M13.5 5H15V6.5H13.5V5ZM12 8V6.5H13.5V8H12ZM10.5 9.5V8H12V9.5H10.5ZM9 11H10.5V9.5H9V11ZM7.5 12.5H9V11H7.5V12.5ZM6 12.5V14H7.5V12.5H6ZM4.5 11H6V12.5H4.5V11ZM4.5 11H3V9.5H4.5V11Z",fill:ec?"#D9F99D":"#3F6212"})})}):(0,ep.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",children:[(0,ep.jsx)("circle",{cx:"12",cy:"12.5",r:10,stroke:ec?"#334155":"#E2E8F0",strokeWidth:"4",fill:"none"}),(0,ep.jsx)("circle",{cx:"12",cy:"12.5",r:10,stroke:"#FACC15",strokeWidth:"4",fill:"none",strokeDasharray:em,strokeDashoffset:em-eo/100*em})]}),(0,ep.jsxs)("p",{className:"percentage-num ".concat(eo>=100&&"completed-num"),style:{minWidth:eh>=10?"31px":""},children:[eo,"% ",ef&&ef]})]})}},14733:function(er,eo,ec){"use strict";var eh=ec(85893);ec(67294);var ep=ec(9473),ef=ec(26245);eo.Z=function(er){let{level:eo,darkOnly:ec=!1}=er,eg=(0,ep.v9)(ef.o4)||"dark",em="dark"===(ec?"dark":eg)?"#CBD5E1":"#475569";function getFillColor(er){return eo>=er?em:"#64748B"}function getFillOpacity(er){return eo>=er?"1":"0.5"}return(0,eh.jsxs)("div",{className:"diff-tag",children:[(0,eh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",children:[(0,eh.jsx)("rect",{width:"3",height:"3",transform:"matrix(1 0 0 -1 3 14)",fill:getFillColor(1),fillOpacity:getFillOpacity(1)}),(0,eh.jsx)("rect",{width:"3",height:"6",transform:"matrix(1 0 0 -1 7.5 14)",fill:getFillColor(2),fillOpacity:getFillOpacity(2)}),(0,eh.jsx)("rect",{width:"3",height:"9",transform:"matrix(1 0 0 -1 12 14)",fill:getFillColor(3),fillOpacity:getFillOpacity(3)})]}),(0,eh.jsx)("p",{children:3===eo?"ADVANCED":2===eo?"INTERMEDIATE":1===eo?"BEGINNER":"NOVICE"})]})}},75128:function(er,eo,ec){"use strict";var eh=ec(82729),ep=ec(85893),ef=ec(19521),eg=ec(41664),em=ec.n(eg),ey=ec(67294),ev=ec(9473),e_=ec(8863),ew=ec(20759),ex=ec(94206),ek=ec(14733),eS=ec(84849),eC=ec(26245);function _templateObject(){let er=(0,eh._)(["\n  a {\n    text-decoration: none;\n  }\n\n  p {\n    margin: 0px;\n  }\n\n  .bottom-card {\n    width: 368px;\n    background-color: ",";\n    height: 310px;\n  }\n\n  .top-card {\n    height: 98.5%;\n\n    background-color: ",";\n    overflow: hidden;\n\n    .image-container {\n      height: 120px;\n      margin: 2px;\n\n      img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n\n        clip-path: polygon(\n          4px 0px,\n          4px 2px,\n          2px 2px,\n          2px 4px,\n          0px 4px,\n          0px 100%,\n          100% 100%,\n          100% calc(100% - 4px),\n          100% calc(100% - 4px),\n          100% 4px,\n          calc(100% - 2px) 4px,\n          calc(100% - 2px) 2px,\n          calc(100% - 4px) 2px,\n          calc(100% - 4px) 0px\n        );\n      }\n    }\n\n    .content-container {\n      padding: 16px 18px;\n      display: flex;\n      flex-direction: column;\n      gap: 4px;\n\n      .course-number {\n        color: ",';\n\n        font-family: "Mulish", sans-serif;\n        font-size: 12px;\n        font-weight: 600;\n        line-height: 150%;\n        letter-spacing: 1.68px;\n        text-transform: uppercase;\n      }\n\n      .course-title {\n        color: ',';\n\n        font-family: "Mulish", sans-serif;\n        font-size: 18px;\n        font-weight: 700;\n\n        span {\n          margin-left: 8px;\n          padding: 5px 12px;\n          border-radius: 100px;\n\n          background: ',";\n\n          color: ",';\n          font-family: "Mulish", sans-serif;\n          font-size: 12px;\n          font-weight: 700;\n          letter-spacing: 1.68px;\n          text-transform: uppercase;\n        }\n      }\n\n      .description {\n        color: ',';\n\n        font-family: "Mulish", sans-serif;\n        font-size: 16px;\n        font-weight: 500;\n\n        overflow: hidden;\n        display: -webkit-box;\n        -webkit-line-clamp: 2;\n        -webkit-box-orient: vertical;\n      }\n    }\n\n    .stats-container {\n      margin-top: 8px;\n      padding: 0px 18px;\n      display: flex;\n      justify-content: space-between;\n\n      .diff-tag {\n        display: flex;\n        height: 25px;\n        padding: 5px 12px;\n        justify-content: center;\n        align-items: center;\n        gap: 8px;\n        border-radius: 100px;\n\n        background: ',";\n        width: fit-content;\n\n        p {\n          color: ",';\n\n          font-family: "Mulish", sans-serif;\n          font-size: 12px;\n          font-weight: 700;\n          letter-spacing: 1.68px;\n          text-transform: uppercase;\n        }\n      }\n    }\n\n    .skeleton-container {\n      margin-top: 8px;\n      padding: 0px 18px;\n    }\n\n    :hover {\n      background: ',";\n    }\n  }\n"]);return _templateObject=function(){return er},er}let eI=ef.default.div.withConfig({componentId:"sc-cf68f008-0"})(_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["800"]:eo.colors.palette.grey["100"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["950"]:"#FFFFFF"},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?"#fff":"#020617"},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.yellow["800"]:eo.colors.palette.yellow["200"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.yellow["200"]:eo.colors.palette.yellow["800"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["800"]:eo.colors.palette.grey["100"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["900"]:eo.colors.palette.grey["100"]});eo.Z=function(er){let{courseName:eo,index:ec=null,cardWidth:eh=368,isLoading:ef,...eg}=er,eE=(0,ev.v9)(eC.o4)||"dark",{bannerImageLink:eT,catalogName:eN,tags:eA,newCourse:eO,courseUrl:eP,description:eM,percentageCompleted:eR}=(0,ev.v9)((0,e_.Gm)({courseName:eo})),[eD,ej]=(0,ey.useState)(0);if((0,ey.useEffect)(()=>{let er;if(0!==eR){if(eR>=100){ej(100);return}return eD<eR&&(er=setTimeout(()=>{ej(er=>Math.min(er+1,eR))},5)),()=>clearTimeout(er)}},[eD,eR,5]),null!=eR)return(0,ep.jsx)(eI,{className:"nes-pointer",children:(0,ep.jsx)(em(),{href:eP,...eg,children:(0,ep.jsx)(ew.Z,{borderColor:"dark"===eE?"475569":"CBD5E1",className:"bottom-card",style:{width:eh},children:(0,ep.jsxs)(ew.Z,{borderColor:"dark"===eE?"475569":"CBD5E1",className:"top-card",children:[(0,ep.jsx)("div",{className:"image-container",children:(0,ep.jsx)("img",{src:eT,alt:"course banner image"})}),(0,ep.jsxs)("div",{className:"content-container",children:[(0,ep.jsxs)("p",{className:"course-number",children:["Course ",null!=ec&&ec+1]}),ef?(0,ep.jsx)(eS.Z,{baseColor:"dark"===eE?"#0F172A":"#F1F5F9",highlightColor:"dark"===eE?"#1E293B":"#F8FAFC"}):(0,ep.jsxs)("p",{className:"course-title",children:[eN," ",eO&&(0,ep.jsx)("span",{children:"NEW!"})]}),(0,ep.jsx)("p",{className:"description",children:ef?(0,ep.jsx)(ep.Fragment,{children:(0,ep.jsx)(eS.Z,{count:2,baseColor:"dark"===eE?"#0F172A":"#F1F5F9",highlightColor:"dark"===eE?"#1E293B":"#F8FAFC"})}):eM})]}),ef?(0,ep.jsx)("div",{className:"skeleton-container",children:(0,ep.jsx)(eS.Z,{height:20,baseColor:"dark"===eE?"#0F172A":"#F1F5F9",highlightColor:"dark"===eE?"#1E293B":"#F8FAFC"})}):(0,ep.jsxs)("div",{className:"stats-container",children:[(0,ep.jsx)(ek.Z,{level:eA.includes("intermediate")?2:1}),0!=eR&&void 0!=eR&&null!=eR&&(0,ep.jsx)(ex.Z,{percentage:eD||0,themeIsDark:"dark"===eE,completePercentage:eR})]})]})})})})}},45198:function(er,eo,ec){"use strict";ec.d(eo,{i:function(){return useWindowSize}});var eh=ec(67294);function useWindowSize(){let[er,eo]=(0,eh.useState)({width:null,height:null});return(0,eh.useLayoutEffect)(()=>{let handleResize=()=>{eo({width:window.innerWidth,height:window.innerHeight})};return handleResize(),window.addEventListener("resize",handleResize),()=>{window.removeEventListener("resize",handleResize)}},[]),er}},36180:function(er,eo,ec){"use strict";var eh=ec(67294);eo.Z=function(er,eo){let[ec,ep]=(0,eh.useState)(er);return(0,eh.useEffect)(()=>{let ec=setTimeout(()=>{ep(er)},eo);return()=>{clearTimeout(ec)}},[er,eo]),ec}},99691:function(er,eo,ec){"use strict";ec.d(eo,{K5:function(){return ev},Kr:function(){return selectAllBlogs},UO:function(){return ef},Vn:function(){return selectBlogsLoadingState},cf:function(){return selectFilterCheckBoxes},nL:function(){return ey}});var eh=ec(77236),ep=ec(28858);let ef=(0,eh.hg)("blogs/fetchFilteredBlogs",async(er,eo)=>{let{blogs:ec}=eo.getState(),{filterCheckBoxes:eh}=ec,ep=Object.entries(eh).filter(function(er){let[,eo]=er;return eo}).map(function(er){let[eo]=er;return eo});try{let er=await fetch("/api/getBlogs",{body:JSON.stringify({filters:JSON.stringify(ep)}),method:"POST"}),{blogsData:eo}=await er.json();return eo}catch(er){console.error(er),eo.rejectWithValue([])}}),eg=(0,eh.oM)({name:"blogs",initialState:{blogs:[],filterCheckBoxes:{Changelog:!1,Events:!1,Challenges:!1,Product:!1,Community:!1,News:!1},loadingBlogs:!0,errors:null},reducers:{setBlogs(er,eo){er.blogs=eo.payload.blogs},updateCheckBox(er,eo){er.filterCheckBoxes[eo.payload.checkboxName]=!er.filterCheckBoxes[eo.payload.checkboxName]},clearFilters(er){er.filterCheckBoxes={Changelog:!1,Events:!1,Challenges:!1,Product:!1,Community:!1,News:!1}}},extraReducers:er=>{er.addCase(ep.ju,(er,eo)=>({...er,...eo.payload.blogs})),er.addCase(ef.pending,er=>{er.loadingBlogs=!0}),er.addCase(ef.fulfilled,(er,eo)=>{er.blogs=eo.payload,er.loadingBlogs=!1}),er.addCase(ef.rejected,(er,eo)=>{er.blogs=[],er.errors=eo.payload,er.loadingBlogs=!1})}});function selectAllBlogs(er){return er.blogs.blogs}function selectFilterCheckBoxes(er){return er.blogs.filterCheckBoxes}function selectBlogsLoadingState(er){return er.blogs.loadingBlogs}let{setBlogs:em,updateCheckBox:ey,clearFilters:ev}=eg.actions;eo.ZP=eg.reducer},95986:function(er,eo,ec){"use strict";ec.d(eo,{Au:function(){return eg},Lu:function(){return selectAllPacks},Nj:function(){return selectPacksRefetch},Rm:function(){return em},jl:function(){return ev},jy:function(){return selectChallengePackActiveFilters},nV:function(){return selectCodeChallengesLoading},ol:function(){return e_},qe:function(){return selectChallengePackFiltersObj},rA:function(){return selectShowSignUpNotification},u3:function(){return selectCurrentPack}});var eh=ec(77236),ep=ec(39828),ef=ec(92369);let eg=(0,eh.hg)("codeChallenges/fetchChallenges",async(er,eo)=>{let{firestore:ec}=(0,ef.UM)();try{var eh;eh=.2>Math.random()?await (0,ep.zN)((0,ep.hJ)(ec,"codeChallengeNarratives")):await (0,ep.PL)((0,ep.hJ)(ec,"codeChallengeNarratives"));let er={};for(let eo of eh.docs){let ec=await (0,ep.PL)((0,ep.hJ)(eo.ref,"challenges"));for(let eh of ec.docs){let ec=eo.data().name,ep=eo.data().tags[0],ef=eh.data();delete ef.createdAt,void 0==er["".concat(ec,"-").concat(ep)]?er["".concat(ec,"-").concat(ep)]={packMetadata:eo.data(),challenges:[ef]}:er["".concat(ec,"-").concat(ep)].challenges.push(ef)}}for(let eo in er){let ec=er[eo].challenges;ec.sort((er,eo)=>er.order-eo.order)}return er}catch(er){return console.error(er),{}}}),em=(0,eh.hg)("codeChallenges/fetchPackMetadata",async(er,eo)=>{let{packName:ec,language:eh}=er,{firestore:eg}=(0,ef.UM)();try{let er=(0,ep.hJ)(eg,"codeChallengeNarratives"),eo=await (0,ep.PL)((0,ep.IO)(er,(0,ep.ar)("name","==",ec))),ef=eo.docs.filter(er=>er.data().tags[0].toLowerCase()===eh.toLowerCase())[0],em=[],ey=await (0,ep.PL)((0,ep.hJ)(ef.ref,"challenges"));for(let er of ey.docs){let eo=er.data();delete eo.createdAt,em.push(eo)}return em.sort((er,eo)=>er.order-eo.order),{packMetadata:ef.data(),challenges:em}}catch(er){return console.error(er),{packMetadta:{},challenges:[]}}}),ey=(0,eh.oM)({name:"codeChallenges",initialState:{loading:!0,refetch:!1,showSignUpNotification:!1,packs:{},currentPack:{packMetadata:{},challenges:[]},filters:{python:!1,html:!1,javascript:!1}},reducers:{updateFilters:(er,eo)=>{er.filters[eo.payload.checkboxName]=!er.filters[eo.payload.checkboxName]},setSignUpNotification:(er,eo)=>{er.showSignUpNotification=eo.payload}},extraReducers:er=>{er.addCase(eg.pending,er=>{er.loading=!0}),er.addCase(eg.fulfilled,(er,eo)=>{er.packs=eo.payload,er.loading=!1,er.refetch=!1}),er.addCase(eg.rejected,(er,eo)=>{er.refetch=!0}),er.addCase(em.pending,er=>{er.loading=!0}),er.addCase(em.fulfilled,(er,eo)=>{er.loading=!1,er.currentPack=eo.payload}),er.addCase(em.rejected,(er,eo)=>{er.refetch=!0})}});eo.ZP=ey.reducer;let{updateFilters:ev,setSignUpNotification:e_}=ey.actions;function selectShowSignUpNotification(er){return er.codeChallenges.showSignUpNotification}function selectCodeChallengesLoading(er){return er.codeChallenges.loading}function selectAllPacks(er){let eo=er.codeChallenges.filters,ec=Object.keys(eo).filter(er=>eo[er]);if(0==ec.length)return er.codeChallenges.packs;let eh=er.codeChallenges.packs,ep={};return Object.entries(eh).forEach(er=>{let[eo,eh]=er,ef=eh.packMetadata;if(!ef)return;let eg=null==ef?void 0:ef.tags;if(!eg)return;let em=eg.some(er=>null==ec?void 0:ec.includes(er.toLowerCase()));em&&(ep[eo]=eh)}),ep}function selectPacksRefetch(er){return er.codeChallenges.refetch}function selectCurrentPack(er){return er.codeChallenges.currentPack}function selectChallengePackFiltersObj(er){return er.codeChallenges.filters}function selectChallengePackActiveFilters(er){let eo=er.codeChallenges.filters;return Object.keys(eo).filter(er=>eo[er])}},29796:function(er,eo,ec){"use strict";ec.d(eo,{AY:function(){return eg},XX:function(){return ep},sk:function(){return selectNotificationCount}});var eh=ec(77236);let ep=(0,eh.hg)("notificationCount/getUserPermissions",(er,eo)=>{let{user:ec}=eo.getState();if(ec.isSignedIn){let er=ec.user.stats.totalXp;if(er>=250)return{status:!0}}return{status:!1}}),ef=(0,eh.oM)({name:"notificationCount",initialState:{notificationCount:0,canUserPost:!1},reducers:{setNotificationCount(er,eo){er.notificationCount=eo.payload}},extraReducers:er=>{er.addCase(ep.fulfilled,(er,eo)=>{er.canUserPost=eo.payload.status})}}),selectNotificationCount=er=>er.notification.notificationCount,{setNotificationCount:eg}=ef.actions;eo.ZP=ef.reducer},38467:function(er,eo,ec){"use strict";ec.d(eo,{$P:function(){return ey},A0:function(){return selectCurrentErrorValue},Ee:function(){return em},X7:function(){return selectCurrentClassStudents},Zv:function(){return ev},hO:function(){return selectSchoolNameAndLocation}});var eh=ec(77236),ep=ec(28858),ef=ec(93352),eg=ec(92369);let em=(0,eh.hg)("educator/addStudentToClass",async(er,eo)=>{let{studentEmail:ec}=er,{getState:eh}=eo,{functions:ep}=(0,eg.UM)(),{schoolName:em,currentClassId:ey,schoolId:ev}=eh().educator,{email:e_}=eh().user,ew=(0,ef.V1)(ep,"addStudentToClass"),{data:ex}=await ew({studentEmail:ec,educatorEmail:e_,classId:ey,schoolName:em,schoolId:ev});if("error"===ex.data)return"user-not-found"===ex.type?eo.rejectWithValue("Student not found."):"student-already-in-class"===ex.type?eo.rejectWithValue("Student already in class. "):eo.rejectWithValue(ex.error);if("success"==ex.data){let er=(0,ef.V1)(ep,"fetchStudentsForAClass"),{data:{students:eo}}=await er({educatorEmail:e_,schoolName:em,classId:ey,schoolId:ev});return{students:eo}}}),ey=(0,eh.hg)("educator/removeStudentFromClass",async(er,eo)=>{let{studentEmail:ec}=er,{getState:eh}=eo,{functions:ep}=(0,eg.UM)(),{schoolName:em,currentClassId:ey,schoolId:ev}=eh().educator,{email:e_}=eh().user,ew=(0,ef.V1)(ep,"removeStudentFromClass"),{data:ex}=await ew({studentEmail:ec,educatorEmail:e_,classId:ey,schoolName:em,schoolId:ev});if("error"===ex.data)return"user-not-found"===ex.type?eo.rejectWithValue("Student not found."):"student-not-in-class"===ex.type?eo.rejectWithValue("Student not in class."):eo.rejectWithValue(ex.data);if("success"===ex.data){let er=(0,ef.V1)(ep,"fetchStudentsForAClass"),{data:{students:eo}}=await er({educatorEmail:e_,schoolName:em,classId:ey,schoolId:ev});return{students:eo}}}),ev=(0,eh.hg)("educator/updateNameLocation",async(er,eo)=>{let{schoolName:ec,schoolLocation:eh}=er;try{let{getState:er}=eo,{schoolId:ep}=er().educator;console.log(ep),console.log(ec),console.log(eh);let ef=await fetch("/api/school/name-loc",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({schoolId:ep,schoolName:ec,schoolLocation:eh})}),eg=await ef.json();if(console.log(eg),ef.ok)return{schoolName:ec,schoolLocation:eh};return eo.rejectWithValue("Error updating school name and location.")}catch(er){return console.log(er),eo.rejectWithValue(er.message)}}),e_=(0,eh.oM)({name:"educator",initialState:{loadingEducator:!0,loadingSchool:!0,loadingClasses:!0,loadingNewClass:!0,loadingNewStudent:!1,loadingCurrentClass:!0,error:null,errorValue:null,isEducator:!1,educatorType:null,educator:null,schoolName:null,schoolLocation:null,educators:[],classes:[],students:[],currentClassId:null,schoolId:null},reducers:{setCurrentSchool(er,eo){er.schoolName=eo.payload.school.schoolName,er.schoolLocation=eo.payload.school.schoolLocation,er.schoolId=eo.payload.school.schoolId},setCurrentClassStudents(er,eo){er.currentClassId=eo.payload.classId,er.students=eo.payload.students},clearErrorValue(er){er.errorValue=null}},extraReducers:er=>{er.addCase(ep.ju,(er,eo)=>({...er,...eo.payload.educator})),er.addCase(em.pending,(er,eo)=>{er.loadingNewStudent=!0}),er.addCase(em.fulfilled,(er,eo)=>{er.loadingNewStudent=!1,er.students=eo.payload.students}),er.addCase(em.rejected,(er,eo)=>{er.loadingNewStudent=!1,er.error=eo.payload,er.errorValue=eo.payload}),er.addCase(ey.pending,(er,eo)=>{er.loadingNewStudent=!0}),er.addCase(ey.fulfilled,(er,eo)=>{er.loadingNewStudent=!1,er.students=eo.payload.students}),er.addCase(ey.rejected,(er,eo)=>{er.loadingNewStudent=!1,er.error=eo.payload,er.errorValue=eo.payload}),er.addCase(ev.pending,(er,eo)=>{er.loadingSchool=!0}),er.addCase(ev.fulfilled,(er,eo)=>{er.loadingSchool=!1,er.schoolName=eo.payload.schoolName,er.schoolLocation=eo.payload.schoolLocation})}}),{setCurrentClassStudents:ew,setCurrentSchool:ex,clearErrorValue:ek}=e_.actions;function selectSchoolNameAndLocation(er){return{schoolName:er.educator.schoolName,schoolLocation:er.educator.schoolLocation}}function selectCurrentClassStudents(er){return er.educator.students}function selectCurrentErrorValue(er){return er.educator.errorValue}eo.ZP=e_.reducer},85673:function(er,eo,ec){"use strict";ec.d(eo,{Cq:function(){return selectRouteHistory},Fp:function(){return ef},K5:function(){return selectEditorTokenResponseStatusCode},KV:function(){return selectCurrentCharacterModels},R3:function(){return selectAllowCodeExecution},Wx:function(){return ew},aB:function(){return selectTierInfo},cF:function(){return ex},cM:function(){return selectCodedexSocials},t1:function(){return selectEditorToken},uA:function(){return selectBuildThemes}});var eh=ec(77236);let ep=(()=>{try{return window.localStorage}catch(er){return null}})(),ef=(0,eh.hg)("global/get-editor-token",async function(er,eo){try{let er=await fetch("/api/fetchEditorToken");if(429===er.status)return console.log("Too many requests, try again later"),eo.rejectWithValue({status:429,message:"Too many requests, try again later"});if(401===er.status)return console.log("Unauthorized"),eo.rejectWithValue({status:401,message:"Unauthorized"});let ec=await er.json(),eh=ec.token;return eh}catch(er){return console.error(er),eo.rejectWithValue("Internal Server Error. If the problem persists after a refreshing the page, kindly contact help@codedex.io")}}),eg={colorMode:"light",editorToken:"",continueFetchingEditorToken:!1,editorResponseMessage:"",triesLeft:null,fetchResponseStatusCode:null,allowCodeExecution:!1,characterModels:["/images/boy.gif","/images/girl.gif","/images/robot.gif","/images/foxboy.gif","/images/foxgirl.gif"],routeHistory:ep&&ep.getItem("routeHistory")?JSON.parse(ep.getItem("routeHistory")||"[]"):[],isCheckingOut:!1,codedexSocials:[{name:"instagram",link:"https://www.instagram.com/codedex.io"},{name:"twitter",link:"https://twitter.com/codedex_io"},{name:"github",link:"https://github.com/codedex-io"},{name:"youtube",link:"https://www.youtube.com/@codedex"},{name:"linkedin",link:"https://www.linkedin.com/company/codedex"},{name:"tiktok",link:"https://www.tiktok.com/@codedex.io",img:!0}],tierInfo:[{tierType:"Free",benefits:[["Early Chapters",!0,"Get access to early chapters of our courses."],["Projects",!0,"Choose from a catalog of real-world projects."],["Community",!0,"Connect with fellow coders in a Discord community."],["Weekly Events",!0,"Join weekly events such as Office Hours, Show & Tells, Game Nites, Watch Parties, and more."],["Project Reviews",!1],["Unlimited AI",!1,"Unlimited access to our Cod\xe9dex AI Bot."],["Certificates",!1],["Forever Access",!1,"Get access to all future courses and updates."]]},{tierType:"Club",benefits:[["Full Courses",!0,"Unlock complete courses such as The Legend of Python."],["Projects",!0,"Choose from a catalog of real-world projects."],["Community",!0,"Connect with fellow coders in a Discord community and level up together."],["Exclusive Events",!0,"Join exclusive events such as LinkedIn Profile & Resume Reviews, Technical Workshops and more."],["Code Mentors",!0,"Get live help from senior devs 24/7 with any coding questions."],["Project Reviews",!0,"Have your checkpoint and final projects reviewed by human experts."],["Unlimited AI",!0,"Unlimited access to our Cod\xe9dex AI Bot."],["Certificates",!0,"Earn certificates for completing courses."]]},{tierType:"4 Life",benefits:[["Lifetime Access",!0,"Get access to all future courses and updates."],["Support The Team",!0,"Be a part of the Cod\xe9dex journey."],["Rare Badge",!0,"Get a special Club 4 Life badge on your User Profile."]]}],buildThemes:{python:{backgroundColor:"#2ea1ff",backgroundImage:"/images/editor/python-grid.svg",logo:"/images/editor/python-logo.png",imageSize:175,title:"Python workspace",internalName:"Python"},"html-css":{backgroundColor:"#ff7740",backgroundImage:"/images/editor/html-grid.svg",logo:"/images/editor/html-logo.png",imageSize:175,title:"Web dev workspace",internalName:"HTML/CSS/JS"},javascript:{backgroundColor:"#f7d524",backgroundImage:"/images/editor/js-grid.svg",logo:"/images/editor/javascript-logo.png",imageSize:175,title:"JavaScript workspace",internalName:"JavaScript"},cpp:{backgroundColor:"#15ACFF",backgroundImage:"/images/editor/cpp-grid.svg",logo:"/images/courses/cpp-logo.svg",imageSize:200,title:"C++ workspace",internalName:"cpp"},react:{backgroundColor:"#15ACFF",backgroundImage:"/images/editor/react-icon-grid.svg",logo:"/images/editor/react-icon.webp",imageSize:200,title:"React workspace",internalName:"React"},java:{backgroundColor:"#f7d524",backgroundImage:"/images/editor/java-grid.svg",logo:"/images/java/java_logo.png",imageSize:200,title:"Java workspace",internalName:"Java"}}},em=(0,eh.oM)({name:"global",initialState:eg,reducers:{toggleColorMode(er,eo){"light"===eo.payload.colorMode?er.colorMode="light":er.colorMode="dark"},enableFetchingEditorToken(er){er.continueFetchingEditorToken=!0},disableFetchingEditorToken(er){er.continueFetchingEditorToken=!1},resetTokenFetchResponseCode(er){er.fetchResponseStatusCode=null},addRouteToHistory(er,eo){if(er.routeHistory.at(-1)!==eo.payload){er.routeHistory.push(eo.payload);let ec=JSON.parse(ep.getItem("routeHistory")||"[]");ec.push(eo.payload),ep.setItem("routeHistory",JSON.stringify(ec))}},removeRouteFromHistory(er,eo){let ec=er.routeHistory.length;if(ec>0){let eo=JSON.parse(ep.getItem("routeHistory")||"[]");eo.splice(ec-1,1),ep.setItem("routeHistory",JSON.stringify(eo)),er.routeHistory=eo}else ep.setItem("routeHistory",JSON.stringify([]))},setIsCheckingOut(er,eo){er.isCheckingOut=eo.payload}},extraReducers:er=>{er.addCase(ef.fulfilled,(er,eo)=>{er.editorToken=eo.payload,er.continueFetchingEditorToken=!0,er.allowCodeExecution=!0}),er.addCase(ef.rejected,(er,eo)=>{er.editorResponseMessage=eo.payload.message,er.fetchResponseStatusCode=eo.payload.status,er.allowCodeExecution=!1})}}),{toggleColorMode:ey,enableFetchingEditorToken:ev,disableFetchingEditorToken:e_,resetTokenFetchResponseCode:ew,addRouteToHistory:ex,removeRouteFromHistory:ek}=em.actions;function selectRouteHistory(er){return er.global.routeHistory}function selectAllowCodeExecution(er){return er.global.allowCodeExecution}function selectEditorTokenResponseStatusCode(er){return er.global.fetchResponseStatusCode}function selectEditorToken(er){return er.global.editorToken}function selectCurrentCharacterModels(er){return er.global.characterModels}function selectCodedexSocials(er){return er.global.codedexSocials}function selectBuildThemes(er){return er.global.buildThemes}function selectTierInfo(er){let{index:eo}=er;return er=>er.global.tierInfo[eo]}eo.ZP=em.reducer},8863:function(er,eo,ec){"use strict";ec.d(eo,{Hq:function(){return ef},ZP:function(){return em},dh:function(){return selectAllCourseDetails},q9:function(){return selectAllCourseProgress},tL:function(){return selectBadgeList},jR:function(){return selectChapterClubStatus},NJ:function(){return selectCourseBaseLink},nf:function(){return selectCourseData},yw:function(){return selectCourseLinks},tp:function(){return selectCourseTags},eC:function(){return selectCourseTotalExercises},EX:function(){return selectCourseTotalXp},I6:function(){return selectCurrentCourseChapter},S$:function(){return selectEditorState},Tl:function(){return selectNumProjectsToComplete},XU:function(){return selectPopupState},W2:function(){return selectPrevNextChallengeLinks},w5:function(){return selectSharebuttons},Gm:function(){return selectSingleCourseDetails}});var eh=ec(77236);let ep={courseDetails:{python:{name:"python",courseUrl:"/python",title:"The Legend of Python",catalogName:"Python",tags:["python","data-science","beginner"],description:"Learn programming fundamentals such as variables, control flow, and loops with the world's most popular and versatile coding language  Python!",community:{available:!0,link:"/community/python",description:"Need Python Help?"},badges:["hello-world","variables","control-flow","loops","lists","functions","classes-and-objects","modules"],shareButton:{"05-snail-mail":"https://twitter.com/intent/tweet?text=Snail+Mail+\uD83D\uDC8C&hashtags=CodedexLetter+@codedex_io","10-currency":"https://twitter.com/intent/tweet?text=Currency+\uD83D\uDCB5&hashtags=CodedexCurrency+@codedex_io","16-sorting-hat":"https://twitter.com/intent/tweet?text=Sorting+Hat&hashtags=CodedexSortingHat+@codedex_io","21-fizz-buzz":"https://twitter.com/intent/tweet?text=Fizz+Buzz+\uD83D\uDC1D&hashtags=CodedexFizzBuzz+@codedex_io","27-bucket-list":"https://twitter.com/intent/tweet?text=Bucket+List+\uD83E\uDEA3&hashtags=CodedexBucketList+@codedex_io","33-drive-thru":"https://twitter.com/intent/tweet?text=Drive-Thru+\uD83C\uDFCE&hashtags=CodedexDriveThru+@codedex_io","38-pokedex":"https://twitter.com/intent/tweet?text=Pok\xe9dex+\uD83D\uDC7E&hashtags=CodedexPokedex+@codedex_io","43-zen-of-python":"https://twitter.com/intent/tweet?text=Zen+of+Python+\uD83D\uDC0D&hashtags=CodedexZenOfPython+@codedex_io"},links:["/python","01-setting-up","02-hello-world","03-pattern","04-initials","05-snail-mail","06-data-types","07-temperature","08-bmi","09-pythagorean","10-currency","11-coin-flip","12-grades","13-ph-levels","14-magic-8-ball","15-the-cyclone","16-sorting-hat","17-enter-pin","18-guess-number","19-detention","20-99-bottles","21-fizz-buzz","22-grocery","23-to-do","24-inventory","25-reading-list","26-mixtape","27-bucket-list","28-dry","29-fortune-cookie","30-mars-orbiter","31-calculator","32-stonks","33-drive-thru","34-restaurants","35-bobs-burgers","36-favorite-cities","37-bank-accounts","38-pokedex","39-slot-machine","40-solar-system","41-countdown","42-forty-two","43-zen-of-python","final-project"],bannerImageLink:"/images/python/python-animated.gif",chapters:[{chapterIndex:0,chapterName:"Hello World",chapterDescription:"Learn how to write your first line of Python by printing messages to the terminal.",challenges:["Setting Up","Hello World","Pattern","Initials","Snail Mail"],titleImage:"/images/badges/python/hello-world.png",signUpPopups:["setting-up","pattern"],isComplete:!0,xP:[10,10,10,15,15],internalChapterName:"hello-world",internalChallengeNames:["setting-up","hello-world","pattern","initials","snail-mail"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/setup-local-env.png",articleLink:"/projects/set-up-your-local-environment-in-python",description:"Set Up Your Local Development Environment with Python"}],editorState:{"setting-up":{enabled:!0},"hello-world":{enabled:!0},pattern:{enabled:!0},initials:{enabled:!0},"snail-mail":{enabled:!0}}},{chapterIndex:1,chapterName:"Variables",chapterDescription:"Create variables and learn about data types, arithmetic operators, and user input.",challenges:["Data Types","Temperature","BMI","Pythagorean","Currency"],titleImage:"/images/badges/python/variables.png",isComplete:!0,xP:[15,15,15,15,20],internalChapterName:"variables",signUpPopups:["data-types","bmi"],internalChallengeNames:["data-types","temperature","bmi","pythagorean","currency"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/errors-in-python.png",articleLink:"/python/bonus/errors-in-python",description:"Errors in Python"}],editorState:{"data-types":{enabled:!0},temperature:{enabled:!0},bmi:{enabled:!0},pythagorean:{enabled:!0},currency:{enabled:!0}}},{chapterIndex:2,chapterName:"Control Flow",chapterDescription:'Explore how programs "make decisions" with if/else statements, relational operators, *and* logical operators.',challenges:["Coin Flip","Grades","pH Levels","Magic 8 Ball","The Cyclone","Sorting Hat"],titleImage:"/images/badges/python/control-flow.png",isComplete:!0,xP:[10,10,15,15,15,15],internalChapterName:"control-flow",internalChallengeNames:["coin-flip","grades","ph-levels","magic-8-ball","the-cyclone","sorting-hat"],signUpPopups:["coin-flip","ph-levels"],challengePack:{imageLink:"/images/courses/articleScreenshots/food-ratings.png",articleLink:"/challenges/control-flow/food-ratings",description:"Control Flow",internalChallengeLinks:["food-ratings","high-school-grades","snapple-facts","seasons","planet-weights"],packXp:50},editorState:{"coin-flip":{enabled:!0},grades:{enabled:!0},"ph-levels":{enabled:!0},"magic-8-ball":{enabled:!0},"the-cyclone":{enabled:!0},"sorting-hat":{enabled:!0}},bonusArticle:[{imageLink:"/images/courses/articleScreenshots/nested-if-python.png",articleLink:"/python/bonus/nested-control-statements",description:"Nested If Statements"}]},{chapterIndex:3,chapterName:"Loops",chapterDescription:"Repeat a block of code with while loops and for loops over, and over, and over again.",challenges:["Enter PIN","Guess Number","Detention","99 Bottles","Fizz Buzz"],titleImage:"/images/badges/python/loops.png",isComplete:!0,xP:[10,15,15,20,25],internalChapterName:"loops",internalChallengeNames:["enter-pin","guess-number","detention","99-bottles","fizz-buzz"],signUpPopups:["enter-pin","detention"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/python-nested-loops.png",articleLink:"/python/bonus/nested-loops",description:"Nested Loops"}],challengePack:{imageLink:"/images/courses/articleScreenshots/python-countdown.png",articleLink:"/challenges/loops/new-year-countdown",description:"Loops",internalChallengeLinks:["are-we-there-yet","new-year-countdown","dice-roll","asterisks","sum-of-squares"],packXp:50},editorState:{"enter-pin":{enabled:!0},"guess-number":{enabled:!0},detention:{enabled:!0},"99-bottles":{enabled:!0},"fizz-buzz":{enabled:!0}}},{type:"checkpoint-project",chapterName:"Checkpoint Project",isClub:!0,challenges:["Area Calculator","Rock Paper Scissors","Terminal Adventure"],chapterDescription:"Practice your Python chops with a checkpoint project! Choose from one of three projects and when you're done, submit your code for review by one of our mentors.",internalChallengeNames:["area-calculator","rock-paper-scissors","terminal-adventure-game"]},{chapterIndex:4,chapterName:"Lists",chapterDescription:"Store different items in lists and learn to use built-in functions and methods.",titleImage:"/images/badges/python/lists.png",isClub:!0,challenges:["Grocery","To-Do","Inventory","Reading","Mixtape","Bucket List"],isComplete:!0,xP:[10,15,15,15,15,20],internalChapterName:"lists",internalChallengeNames:["grocery","to-do","inventory","reading-list","mixtape","bucket-list"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/python-nested-lists.png",articleLink:"/python/bonus/nested-lists",description:"Nested Lists"}],challengePack:{imageLink:"/images/courses/articleScreenshots/python-list.png",articleLink:"/challenges/lists/the-oscars",description:"Lists",internalChallengeLinks:["wishlist","lottery","the-oscars","split-the-bill","dna"],packXp:50},editorState:{grocery:{enabled:!0},"to-do":{enabled:!0},inventory:{enabled:!0},"reading-list":{enabled:!0},mixtape:{enabled:!0},"bucket-list":{enabled:!0}}},{chapterIndex:5,chapterName:"Functions",chapterDescription:"Define and call a function  reusable block of code that performs a specific task.",titleImage:"/images/badges/python/functions.png",isComplete:!0,isClub:!0,challenges:["D.R.Y.","Fortune Cookie","Mars Orbiter","Calculator","Stonks","Drive-Thru"],xP:[10,15,15,15,15,20],internalChapterName:"functions",internalChallengeNames:["dry","fortune-cookie","mars-orbiter","calculator","stonks","drive-thru"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/intro-to-lambda.png",articleLink:"/python/bonus/lambda-in-python",description:"Intro to Lambda"}],challengePack:{imageLink:"/images/courses/articleScreenshots/kda-functions.png",articleLink:"/challenges/functions/kda-ratio",description:"Functions",internalChallengeLinks:["james-bond","average-number","kda-ratio","moon-phases","dog-years"],packXp:35},editorState:{dry:{enabled:!0},"fortune-cookie":{enabled:!0},"mars-orbiter":{enabled:!0},calculator:{enabled:!0},stonks:{enabled:!0},"drive-thru":{enabled:!0}}},{chapterIndex:6,chapterName:"Classes & Objects",chapterDescription:"Create your own data types and use them to model everyday objects with unique characteristics and behaviors.",titleImage:"/images/badges/python/classes-and-objects.png",isComplete:!0,isClub:!0,challenges:["Restaurants","Bob's Burgers","Favorite Cities","Bank Accounts","Pok\xe9dex"],xP:[15,15,15,15,20],internalChapterName:"classes-and-objects",internalChallengeNames:["restaurants","bobs-burgers","favorite-cities","bank-accounts","pokedex"],editorState:{restaurants:{enabled:!0},"bobs-burgers":{enabled:!0},"favorite-cities":{enabled:!0},"bank-accounts":{enabled:!0},pokedex:{enabled:!0}}},{chapterIndex:7,chapterName:"Modules",chapterDescription:"Import built-in modules and learn how to create our own.",isComplete:!0,isClub:!0,titleImage:"/images/badges/python/modules.png",challenges:["Slot Machine","Solar System","Countdown","Forty Two","Zen of Python"],xP:[15,15,20,20,50],internalChapterName:"modules",internalChallengeNames:["slot-machine","solar-system","countdown","forty-two","zen-of-python"],editorState:{"slot-machine":{enabled:!0},"birthday-card":{enabled:!0},countdown:{enabled:!0},"solar-system":{enabled:!0},"forty-two":{enabled:!0},"zen-of-python":{enabled:!0}}},{type:"final-project",chapterName:"Final Project",isClub:!0,chapterDescription:"Ready to start building? Use the skills you've gained throughout the course to build out a fully-fledged Python project! When you're done, submit it for review by a code mentor."},{type:"certificate-tracker",chapterName:"Course Certificate",isClub:!0}]},html:{name:"html",courseUrl:"/html",title:"The Origins I: HTML",catalogName:"HTML",tags:["web-dev","beginner"],description:"Create your first website with HTML, the building blocks of the web and dive into the world of web development.",community:{available:!0,link:"/community/web-dev",description:"Need HTML Help?"},links:["/html","01-shooting-star","02-elemental","03-newspaper","04-corporate-talk","05-sous-chef","06-lost-pet","07-favorite-band","08-blueprint","09-family-tree","10-craigslist-ad","11-wiki-article","12-lorem-ipsum","13-power-rangers","14-myspace-top-8","15-google","16-sign-up-v1","17-sign-up-v2","18-rsvp","19-contact-us","20-welp","21-personal-blog","22-the-header","23-main-footer","24-blog-posts","25-figures","26-final-touches","final-project"],badges:["elements","structure","forms","semantic-html"],shareButton:{"07-favorite-band":"https://twitter.com/intent/tweet?text=Favorite+Band+Website+\uD83C\uDFB8&hashtags=Cod\xe9dexFavoriteBand&hashtags=HTML+@codedex_io","14-myspace-top-8":"https://twitter.com/intent/tweet?text=MySpace+Top+8+\uD83C\uDF10&hashtags=Cod\xe9dexMySpaceTop8&hashtags=HTML+@codedex_io","20-welp":"https://twitter.com/intent/tweet?text=Welp+\uD83C\uDF38&hashtags=Cod\xe9dexWelp&hashtags=HTML+@codedex_io","26-final-touches":"https://twitter.com/intent/tweet?text=Final+Touches+\uD83C\uDFA8&hashtags=Cod\xe9dexFinalTouches&hashtags=HTML+@codedex_io"},bannerImageLink:"/images/html-header.png",chapters:[{chapterIndex:0,chapterName:"Elements",chapterDescription:"Create your first web page by learning about basic elements and tags.",challenges:["Shooting Star","Elemental","Newspaper","Corporate Talk","Sous-Chef","Lost Pet","Favorite Band"],titleImage:"/images/badges/html/elements.png",isComplete:!0,xP:[10,10,10,10,15,15,20],internalChapterName:"elements",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/html-developer-tools.png",articleLink:"/html/bonus/developer-tools",description:"Developer Tools"}],internalChallengeNames:["shooting-star","elemental","newspaper","corporate-talk","sous-chef","lost-pet","favorite-band"],signUpPopups:["shooting-star","newspaper"],badgeImage:"/images/badges/html/elements.png",editorState:{"shooting-star":{enabled:!0},elemental:{enabled:!0},newspaper:{enabled:!0},"corporate-talk":{enabled:!0},"sous-chef":{enabled:!0},"lost-pet":{enabled:!0},"favorite-band":{enabled:!0}}},{chapterIndex:1,chapterName:"Structure",chapterDescription:"Learn more about HTML structure, attributes, and classes vs id.",challenges:["Blueprint","Family Tree","Craigslist Ad","Wiki Article","Lorem Ipsum","Power Rangers","MySpace Top 8"],titleImage:"/images/badges/html/structure.png",isComplete:!0,xP:[10,15,15,15,15,20,25],internalChapterName:"structure",internalChallengeNames:["blueprint","family-tree","craigslist-ad","wiki-article","lorem-ipsum","power-rangers","myspace-top-8"],signUpPopups:["blueprint","craigslist-ad"],badgeImage:"/images/badges/html/structure.png",editorState:{blueprint:{enabled:!0},"family-tree":{enabled:!0},"craigslist-ad":{enabled:!0},"wiki-article":{enabled:!0},"lorem-ipsum":{enabled:!0},"power-rangers":{enabled:!0},"myspace-top-8":{enabled:!0}}},{chapterIndex:2,chapterName:"Forms",chapterDescription:"Take input from the user with forms.",challenges:["Google","Sign Up v1","Sign Up v2","RSVP","Contact Us","Welp"],badgeImage:"/images/badges/html/forms.png",titleImage:"/images/badges/html/forms.png",isComplete:!0,isClub:!0,xP:[15,15,10,20,15,25],internalChapterName:"forms",internalChallengeNames:["google","sign-up-v1","sign-up-v2","rsvp","contact-us","welp"],editorState:{google:{enabled:!0},"sign-up-v1":{enabled:!0},"sign-up-v2":{enabled:!0},rsvp:{enabled:!0},"contact-us":{enabled:!0},welp:{enabled:!0}}},{chapterIndex:3,chapterName:"Semantic HTML",chapterDescription:"Improve the foundation of any web page with semantic elements.",challenges:["Personal Blog","The Header","Main Footers","Blog Posts","Figures","Final Touches"],titleImage:"/images/badges/html/semantic-html.png",isComplete:!0,isClub:!0,xP:[15,15,20,20,25,30],internalChapterName:"semantic-html",internalChallengeNames:["personal-blog","the-header","main-footer","blog-posts","figures","final-touches"],badgeImage:"/images/badges/html/semantic-html.png",editorState:{"personal-blog":{enabled:!0},"the-header":{enabled:!0},"main-footer":{enabled:!0},"blog-posts":{enabled:!0},figures:{enabled:!0},"final-touches":{enabled:!0}}},{type:"final-project",chapterName:"Final Project",isClub:!0,chapterDescription:"Ready to start building? Use the skills you've gained throughout the course to build out a fully-fledged HTML project! When you're done, submit it for review by a code mentor."},{type:"certificate-tracker",chapterName:"Course Certificate",isClub:!0}]},css:{name:"css",courseUrl:"/css",title:"The Origins II: CSS",catalogName:"CSS",badges:["selectors","properties","box-model","layout"],tags:["web-dev","creative","beginner"],description:"Learn to use CSS selectors and properties to stylize your HTML pages with colors, fonts, sizing, layouts, and more!",community:{available:!0,link:"/community/web-dev",description:"Need CSS Help?"},shareButton:{"05-concert-flyer":"https://twitter.com/intent/tweet?text=Concert+Flyer+\uD83C\uDFA4&hashtags=Cod\xe9dexConcertFlyer+@codedex_io","12-invitation":"https://twitter.com/intent/tweet?text=Cod\xe9dex+invitiation+\uD83D\uDCE8&hashtags=Cod\xe9dexInvitation+@codedex_io","18-local-library":"https://twitter.com/intent/tweet?text=Local+Library+\uD83D\uDCDA&hashtags=Cod\xe9dexLocalLibrary+@codedex_io","25-art-gallery":"https://twitter.com/intent/tweet?text=Art+Gallery+\uD83D\uDDBC&hashtags=Cod\xe9dexArtGallery+@codedex_io"},links:["/css","01-picasso","02-syntax","03-selectors-1","04-selectors-2","05-concert-flyer","06-rainbow","07-measurements","08-five-families","09-spellcheck","10-wallpaper","11-shorthands","12-invitation","13-inspection","14-profile-status","15-wiggle-room","16-spaced-out","17-make-it-count","18-local-library","19-lines-and-blocks","20-go-with-the-flow","21-its-all-relative","22-absolute-removal","23-fixed-banner","24-sticky-elements","25-art-gallery","final-project"],bannerImageLink:"/images/css/banner-v2.webp",chapters:[{chapterIndex:0,chapterName:"Selectors",chapterDescription:"Learn how to use CSS selectors to start stylizing your HTML page.",challenges:["Picasso","Syntax","Selectors Pt. 1","Selectors Pt. 2","Concert Flyer"],isComplete:!0,xP:[10,10,15,15,20],internalChapterName:"selectors",internalChallengeNames:["picasso","syntax","selectors-1","selectors-2","concert-flyer"],badgeImage:"/images/badges/css/selectors.png",titleImage:"/images/badges/css/selectors.png",signUpPopups:["picasso","selectors-1"],editorState:{picasso:{enabled:!0},syntax:{enabled:!0},"selectors-1":{enabled:!0},"selectors-2":{enabled:!0},"concert-flyer":{enabled:!0}},bonusArticle:[{imageLink:"/images/courses/articleScreenshots/css-pseudo.png",articleLink:"/css/bonus/pseudo-elements-in-css",description:"Pseudo-elements"}]},{chapterIndex:1,chapterName:"Properties",chapterDescription:"Implement common CSS properties like color, image sizing, and font.",challenges:["Rainbow","Measurements","Five Families","Spellcheck","Wallpaper","Shorthands","Invitation"],isComplete:!0,xP:[10,10,15,15,20,20,25],internalChapterName:"properties",internalChallengeNames:["rainbow","measurements","five-families","spellcheck","wallpaper","shorthands","invitation"],signUpPopups:["rainbow","five-families"],badgeImage:"/images/badges/css/properties.png",titleImage:"/images/badges/css/properties.png",editorState:{rainbow:{enabled:!0},measurements:{enabled:!0},"five-families":{enabled:!0},spellcheck:{enabled:!0},wallpaper:{enabled:!0},shorthands:{enabled:!0},invitation:{enabled:!0}},bonusArticle:[{imageLink:"/images/courses/articleScreenshots/css-psuedo-classes.png",articleLink:"/css/bonus/pseudo-classes-in-css",description:"Pseudo-classes"}]},{chapterIndex:2,chapterName:"Box Model",chapterDescription:"Interact with the Box Model to manipulate elements.",challenges:["Inspection","Profile Status","Wiggle Room","Spaced Out","Make It Count","Local Library"],isComplete:!0,isClub:!0,xP:[15,15,15,15,15,15],internalChapterName:"box-model",internalChallengeNames:["inspection","profile-status","wiggle-room","spaced-out","make-it-count","local-library"],badgeImage:"/images/badges/css/box-model.png",titleImage:"/images/badges/css/box-model.png",editorState:{inspection:{enabled:!0},"profile-status":{enabled:!0},"wiggle-room":{enabled:!0},"spaced-out":{enabled:!0},"make-it-count":{enabled:!0},"local-library":{enabled:!0}}},{chapterIndex:3,chapterName:"Layout",chapterDescription:"Learn about layout properties, flow, and controlling element position.",challenges:["Lines & Blocks","Go With The Flow","It's Relative","Absolute Removal","Fixed Banner","Sticky Elements","Art Gallery"],isClub:!0,isComplete:!0,xP:[15,15,15,20,20,25,30],internalChapterName:"layout",internalChallengeNames:["lines-and-blocks","go-with-the-flow","its-all-relative","absolute-removal","fixed-banner","sticky-elements","art-gallery"],badgeImage:"/images/badges/css/layout.png",titleImage:"/images/badges/css/layout.png",editorState:{"lines-and-blocks":{enabled:!0},"go-with-the-flow":{enabled:!0},"its-all-relative":{enabled:!0},"absolute-removal":{enabled:!0},"fixed-banner":{enabled:!0},"sticky-elements":{enabled:!0},"art-gallery":{enabled:!0}}},{type:"final-project",chapterName:"Final Project",isClub:!0,chapterDescription:"Ready to start building? Use the skills you've gained throughout the course to build out a fully-fledged CSS project! When you're done, submit it for review by a code mentor."},{type:"certificate-tracker",chapterName:"Course Certificate",isClub:!0}]},javascript:{name:"javascript",courseUrl:"/javascript",title:"The Origins III: JavaScript",catalogName:"JavaScript",tags:["web-dev","beginner"],description:"Learn variables, loops, functions, and events to start building interactive web apps with the programming language of the web  JavaScript!",community:{available:!0,link:"/community/javascript",description:"Need JavaScript Help?"},badges:["the-console","variables","conditionals","loops","arrays","functions","objects","trifecta"],shareButton:{"05-receipt":"https://twitter.com/intent/tweet?text=Receipt+\uD83E\uDDFE&hashtags=CodedexReceipt+@codedex_io","10-planet-weight":"https://twitter.com/intent/tweet?text=Planet+Weight+\uD83E\uDE90&hashtags=CodedexPlanetWeight+@codedex_io","17-rock-paper-scissors":"https://twitter.com/intent/tweet?text=Rock+Paper+Scissors+&hashtags=CodedexRockPaperScissors+@codedex_io","22-based-numbers":"https://twitter.com/intent/tweet?text=Based+Numbers+\uD83D\uDD22&hashtags=CodedexBasedNumbers+@codedex_io","28-dna":"https://twitter.com/intent/tweet?text=DNA+\uD83E\uDDEC&hashtags=CodedexDNA+@codedex_io","33-palindrome":"https://twitter.com/intent/tweet?text=Palindrome+\uD83D\uDD01&hashtags=CodedexPalindrome+@codedex_io","38-round-trip":"https://twitter.com/intent/tweet?text=Round+Trip+\uD83D\uDE97&hashtags=CodedexRoundTrip+@codedex_io","44-cap-that":"https://twitter.com/intent/tweet?text=Cap+That+\uD83E\uDDE2&hashtags=CodedexCapThat+@codedex_io"},links:["/javascript","01-setting-up","02-the-console","03-letter-tree","04-secret-recipe","05-receipt","06-let-const","07-data-types","08-temperature","09-bmi","10-planet-weight","11-coin-flip","12-good-morning","13-good-afternoon","14-ph-levels","15-magic-8-ball","16-air-quality-index","17-rock-paper-scissors","18-duck-duck-goose","19-lucky-number","20-not-tell-lies","21-even-the-odds","22-based-numbers","23-five-boroughs","24-grocery-trip","25-times-tables","26-music-playlist","27-wheres-waldo","28-dna","29-greetings","30-blast-off","31-e-mc-2","32-clout","33-palindrome","34-pizza-party","35-dream-car","36-pokemon","37-animal-farm","38-round-trip","39-green-light-go","40-the-dom","41-hotline-bling","42-mood-ring","43-chill-pill","44-cap-that","final-project"],bannerImageLink:"/images/javascript/banner.webp",chapters:[{chapterIndex:0,chapterName:"The Console",chapterDescription:"Learn how to write your first line of JavaScript by logging messages to the console.",challenges:["Setting Up","The Console","Letter Tree","Secret Recipe","Receipt"],titleImage:"",isComplete:!0,isClub:!1,xP:[10,10,10,10,15],internalChapterName:"the-console",internalChallengeNames:["setting-up","the-console","letter-tree","secret-recipe","receipt"],signUpPopups:["setting-up","letter-tree"],badgeImage:"",editorState:{"setting-up":{enabled:!0},"the-console":{enabled:!0},"letter-tree":{enabled:!0},"secret-recipe":{enabled:!0},receipt:{enabled:!0}},bonusArticle:[{imageLink:"/images/courses/articleScreenshots/js-in-the-browser.png",articleLink:"/javascript/bonus/javascript-on-the-browser",description:"JavaScript on the Browser"}]},{chapterIndex:1,chapterName:"Variables",chapterDescription:"Create variables and learn about data types, and arithmetic operators.",challenges:["Let & Const","Data Types","Temperature","BMI","Planet Weight"],titleImage:"",isComplete:!0,isClub:!1,xP:[15,15,15,15,20],internalChapterName:"variables",internalChallengeNames:["let-const","data-types","temperature","bmi","planet-weight"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/errors-in-js.png",articleLink:"/javascript/bonus/errors-in-javascript",description:"Errors in JavaScript"}],signUpPopups:["let-const","temperature"],badgeImage:"",editorState:{"let-const":{enabled:!0},"data-types":{enabled:!0},temperature:{enabled:!0},bmi:{enabled:!0},"planet-weight":{enabled:!0}}},{chapterIndex:2,chapterName:"Conditionals",chapterDescription:"Use logical operators to control the order of program execution. ",challenges:["Coin Flip","Good Morning","Good Afternoon","pH Levels","Magic 8 Ball","Air Quality","R-P-S"],titleImage:"",isComplete:!0,signUpPopups:["coin-flip","good-afternoon"],xP:[10,15,15,15,15,20,20],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/js-nested-if.png",articleLink:"/javascript/bonus/nested-conditionals",description:"Nested If Statements"},{imageLink:"/images/courses/articleScreenshots/js-ternary.png",articleLink:"/javascript/bonus/ternary-operators-in-javascript",description:"Ternary Operators"}],internalChapterName:"conditionals",internalChallengeNames:["coin-flip","good-morning","good-afternoon","ph-levels","magic-8-ball","air-quality-index","rock-paper-scissors"],badgeImage:"",editorState:{"coin-flip":{enabled:!0},"good-morning":{enabled:!0},"good-afternoon":{enabled:!0},"ph-levels":{enabled:!0},"magic-8-ball":{enabled:!0},"air-quality-index":{enabled:!0},"rock-paper-scissors":{enabled:!0}}},{chapterIndex:3,chapterName:"Loops",chapterDescription:"Repeat a block of code with while loops and for loops over, and over, and over again.",challenges:["Duck Duck Goose","Lucky Number","Not Tell Lies","Even the Odds","Based Numbers"],titleImage:"",isComplete:!0,xP:[10,10,15,20,25],internalChapterName:"loops",internalChallengeNames:["duck-duck-goose","lucky-number","not-tell-lies","even-the-odds","based-numbers"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/js-loops.png",articleLink:"/javascript/bonus/nested-loops-in-javascript",description:"Nested Loops"}],signUpPopups:["duck-duck-goose","not-tell-lies"],badgeImage:"",editorState:{"duck-duck-goose":{enabled:!0},"lucky-number":{enabled:!0},"not-tell-lies":{enabled:!0},"even-the-odds":{enabled:!0},"based-numbers":{enabled:!0}}},{type:"checkpoint-project",chapterName:"Checkpoint Project",isClub:!0,chapterDescription:"Practice your JavaScript chops with a checkpoint project! Choose from one of three projects and when you're done, submit your code for review by one of our mentors.",challenges:["Fizz Buzz","Horoscope","Leap Year Checker"],internalChallengeNames:["fizz-buzz","horoscope","leap-year-checker"]},{chapterIndex:5,chapterName:"Arrays",chapterDescription:"Learn how to create, access, and update an array. ",challenges:["Five Boroughs","Grocery Trip","Times Tables","Music Playlist","Where's Waldo","DNA"],titleImage:"",isComplete:!0,isClub:!0,xP:[10,10,15,20,20,25],internalChapterName:"arrays",internalChallengeNames:["five-boroughs","grocery-trip","times-tables","music-playlist","wheres-waldo","dna"],badgeImage:"",editorState:{"five-boroughs":{enabled:!0},"grocery-trip":{enabled:!0},"times-tables":{enabled:!0},"music-playlist":{enabled:!0},"wheres-waldo":{enabled:!0},dna:{enabled:!0}}},{chapterIndex:6,chapterName:"Functions",chapterDescription:"Define and call a function  reusable block of code that performs a specific task.",challenges:["Greetings","Blast Off","E=mc\xb2","Clout","Palindrome"],titleImage:"",isComplete:!0,isClub:!0,xP:[15,20,20,20,25],internalChapterName:"functions",internalChallengeNames:["greetings","blast-off","e-mc-2","clout","palindrome"],bonusArticle:[{imageLink:"/images/courses/articleScreenshots/js-arrow-functions.png",articleLink:"/javascript/bonus/arrow-functions-in-javascript",description:"Arrow Functions"}],badgeImage:"",editorState:{greetings:{enabled:!0},"blast-off":{enabled:!0},"e-mc-2":{enabled:!0},clout:{enabled:!0},palindrome:{enabled:!0}}},{chapterIndex:7,chapterName:"Objects",chapterDescription:"Create a data type and use them to model everyday objects with unique characteristics and behaviors.",challenges:["Pizza Party","Dream Car","Pok\xe9mon","Animal Farm","Round Trip"],titleImage:"",isComplete:!0,isClub:!0,xP:[15,15,20,20,25],internalChapterName:"objects",internalChallengeNames:["pizza-party","dream-car","pokemon","animal-farm","round-trip"],badgeImage:"",editorState:{"pizza-party":{enabled:!0},"dream-car":{enabled:!0},pokemon:{enabled:!0},"animal-farm":{enabled:!0},"round-trip":{enabled:!0}}},{chapterIndex:8,chapterName:"Trifecta",chapterDescription:"It's time to put HTML, CSS, and JavaScript all together!",challenges:["Green Light Go!","The DOM","Hotline Bling","Mood Ring","Chill Pill","Cap That"],titleImage:"",isComplete:!1,isClub:!0,xP:[15,15,20,20,25,50],internalChapterName:"trifecta",internalChallengeNames:["green-light-go","the-dom","hotline-bling","mood-ring","chill-pill","cap-that"],badgeImage:"",editorState:{"green-light-go":{enabled:!0},"the-dom":{enabled:!0},"hotline-bling":{enabled:!0},"mood-ring":{enabled:!0},"chill-pill":{enabled:!0},"cap-that":{enabled:!0}}},{type:"final-project",chapterName:"Final Project",isClub:!0,chapterDescription:"Ready to start building? Use the skills you've gained throughout the course to build out a fully-fledged JavaScript project! When you're done, submit it for review by a code mentor."},{type:"certificate-tracker",chapterName:"Course Certificate",isClub:!0}]},"command-line":{name:"command-line",courseUrl:"/command-line",title:"Command Line (Expansion)",catalogName:"Command Line",badges:["navigation","manipulation"],tags:["tools","beginner"],description:"Learn to navigate and manipulate your computer filesystem with the command line! Master the command line with Cod\xe9dex -- for free!",community:{available:!1,link:"/community/"},links:["/command-line","01-in-the-beginning","02-filesystem","03-moving-day","04-house-tour","05-clean-slate","06-scavenger-hunt","07-recipes","08-cuisine-type","09-grilled-cheese","10-move-around","11-copy-that","12-music-playlists"],shareButton:{},bannerImageLink:"https://i.imgur.com/If0k6Qj.gif",chapters:[{chapterIndex:0,chapterName:"Navigation",chapterDescription:"Explore the command line on your own machine.",challenges:["Beginning...","Filesystem","Moving Day","House Tour","Clean Slate","Scavenger Hunt"],titleImage:"",isComplete:!0,isClub:!1,xP:[10,10,10,15,15,20],internalChapterName:"navigation",internalChallengeNames:["in-the-beginning","filesystem","moving-day","house-tour","clean-slate","scavenger-hunt"],signUpPopups:["in-the-beginning","moving-day"],badgeImage:"/images/badges/command-line/navigation.png",editorState:{"in-the-beginning":{enabled:!0},filesystem:{enabled:!0},"moving-day":{enabled:!0},"house-tour":{enabled:!0},"clean-slate":{enabled:!0},"scavenger-hunt":{enabled:!0}}},{chapterIndex:1,chapterName:"Manipulation",chapterDescription:"Manipulate the contents of a filesystem.",challenges:["Recipes","Cuisine Type","Grilled Cheese","Move Around","Copy That","Music Playlists"],titleImage:"",isComplete:!1,isClub:!1,xP:[15,15,15,15,15,20],internalChapterName:"manipulation",internalChallengeNames:["recipes","cuisine-type","grilled-cheese","move-around","copy-that","music-playlists"],badgeImage:"/images/badges/command-line/manipulation.png",editorState:{recipes:{enabled:!0},"cuisine-type":{enabled:!0},"grilled-cheese":{enabled:!0},"move-around":{enabled:!0},"copy-that":{enabled:!0},"music-playlists":{enabled:!0}}}]},"git-github":{name:"git-github",courseUrl:"/git-github",title:"GIT & GITHUB (EXPANSION)",catalogName:"Git & GitHub",badges:["your-first-repo","exploring-repos"],tags:["tools","intermediate"],description:'Learn to use Git for version control, and GitHub to collaborate on projects, track code changes, and contribute to open-source projects. <br /> Prerequisite: <a href="/command-line"><strong>Command Line</strong></a>',community:{available:!1,link:"/community/"},links:["/git-github","01-introduction","02-repositories","03-git-commands","04-git-workflow","05-local-push","06-read-me","07-git-clone","08-branch-out","09-git-and-teams","10-merges","11-pull-requests","12-yearbook"],shareButton:{"06-read-me":"https://twitter.com/intent/tweet?text=Read+Me+\uD83D\uDCD6&hashtags=CodedexReadMe+@codedex_io","12-yearbook":"https://twitter.com/intent/tweet?text=Yearbook+\uD83D\uDDD3&hashtags=CodedexYearbook+@codedex_io"},bannerImageLink:"https://cdn.wallpapersafari.com/26/68/CK7JQZ.jpg",chapters:[{chapterIndex:0,chapterName:"Your First Repo",chapterDescription:"Create your first repository using the command line to store and share your code.",challenges:["Introduction","Repositories","Git Commands","Git Workflow","Local Push","Read Me"],titleImage:"",isComplete:!0,isClub:!1,xP:[10,10,10,15,15,20],internalChapterName:"your-first-repo",internalChallengeNames:["introduction","repositories","git-commands","git-workflow","local-push","read-me"],signUpPopups:["introduction","git-workflow"],badgeImage:"/images/badges/git-github/your-first-repo.png",editorState:{introduction:{enabled:!0},repositories:{enabled:!0},gitCommands:{enabled:!0},"git-workflow":{enabled:!0},"local-push":{enabled:!0},"read-me":{enabled:!0}}},{chapterIndex:1,chapterName:"Exploring Repos",chapterDescription:"Learn how to collaborate with others on a repo, naviagate merge conflicts, and create your first pull request.",challenges:["Git Clone","Branch Out","Git & Teams","Merges","Pull Requests","Yearbook"],titleImage:"",isComplete:!0,isClub:!1,xP:[10,15,15,15,15,15],internalChapterName:"exploring-repos",internalChallengeNames:["git-clone","branch-out","git-and-teams","merges","pull-requests","yearbook"],badgeImage:"/images/badges/git-github/exploring-repos.png",editorState:{"git-clone":{enabled:!0},"branch-out":{enabled:!0},"git-and-teams":{enabled:!0},merges:{enabled:!0},"pull-requests":{enabled:!0},yearbook:{enabled:!0}}}]},"framework-valley-react":{name:"framework-valley-react",courseUrl:"/react",title:"Framework Valley: React",catalogName:"React",tags:["web-dev","intermediate"],description:"Get introduced to React, an open-source JavaScript-based web development library originally created at Facebook. Learn to code React with Cod\xe9dex -- for free!",community:{available:!1,link:"/community/",description:"Need React Help?"},badges:["first-react-app","jsx-&-components","props-&-state","events","forms","hooks","data-fetching","routing"],shareButton:{"05-social-post":"https://twitter.com/intent/tweet?text=Social+Post+\uD83D\uDCF1&hashtags=CodedexSocialPost+@codedex_io","10-hot-takes-pt-2":"https://twitter.com/intent/tweet?text=Hot+Takes+Pt+2+\uD83D\uDD25&hashtags=CodedexHotTakes+@codedex_io","15-trending-now":"https://twitter.com/intent/tweet?text=Trending+Now+\uD83D\uDCC8&hashtags=CodedexTrendingNow+@codedex_io"},links:["/react","01-first-reaction","02-our-workstation","03-writing-react","04-building-blocks","05-social-post","06-band-tour","07-embedded-js","08-travel-gallery","09-hot-takes-pt-1","10-hot-takes-pt-2","11-giving-props","12-notifications","13-stopwatch","14-quiz","15-trending-now","16-online-shopping","17-tooltips","18-a-focus-in-art","19-noise-levels","20-waterfest","21-newsletter","22-high-score-i","23-high-score-ii","24-animal-rescue","25-haiku","26-travel-log","27-cookie-clicker","28-color-effects-i","29-color-effects-ii","30-barbenheimer","31-kanban-board","32-our-universe","33-now-loading","34-i-am-error","35-data-evolution","36-book-finder","37-know-your-routes","38-bowser","39-paper-route","40-link-to-the-path","41-ponoplayer"],bannerImageLink:"/images/framework-valley-react/banner.gif",chapters:[{chapterIndex:0,chapterName:"First React App",chapterDescription:"Learn about the early fundamentals of React, and create your first component.",challenges:["First Reaction","Our Workstation","Writing React","Building Blocks","Social Post"],titleImage:"",signUpPopups:["first-reaction","writing-react"],isComplete:!0,isClub:!1,xP:[10,10,15,20,20],internalChapterName:"first-react-app",internalChallengeNames:["first-reaction","our-workstation","writing-react","building-blocks","social-post"],badgeImage:"/images/badges/earth_badge.png",type:"",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/create-a-react-app-with-vite.png",articleLink:"/projects/create-a-react-app-with-vite",description:"Create a React App with Vite"}]},{chapterIndex:1,chapterName:"JSX & Components",chapterDescription:"Use JSX, HTML-like JavaScript code, to render pages.",challenges:["Band Tour","Embedded JS","Travel Gallery","Hot Takes Pt. 1","Hot Takes Pt. 2"],titleImage:"",signUpPopups:["band-tour","travel-gallery"],isComplete:!0,isClub:!1,xP:[15,15,20,20,25],internalChapterName:"jsx-&-components",internalChallengeNames:["band-tour","embedded-js","travel-gallery","hot-takes-pt-1","hot-takes-pt-2"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[],type:""},{chapterIndex:2,chapterName:"Props & State",chapterDescription:"Learn about props, and how state changes over time in a React component. ",challenges:["Giving Props","Notifications","Stopwatch","Quiz","Trending Now"],titleImage:"",signUpPopups:["giving-props","stopwatch"],isComplete:!0,isClub:!1,xP:[15,20,20,25,25],internalChapterName:"props-&-state",internalChallengeNames:["giving-props","notifications","stopwatch","quiz","trending-now"],badgeImage:"",bonusArticle:[],type:""},{chapterIndex:3,chapterName:"Events",chapterDescription:"Use common event types like hovering and clicking to add interaction to a React application.",challenges:["Online Shopping","Tooltips","A Focus in Art","Noise Levels","WaterFest"],titleImage:"",signUpPopups:["online-shopping","waterfest"],isComplete:!0,isClub:!1,xP:[15,20,20,25,30],internalChapterName:"events",internalChallengeNames:["online-shopping","tooltips","a-focus-in-art","noise-levels","waterfest"],badgeImage:"",bonusArticle:[],type:""},{type:"checkpoint-project",chapterName:"Checkpoint Project",isClub:!0,chapterDescription:"Practice your React chops with a checkpoint project! Choose from one of three projects and when you're done, submit your code for review by one of our mentors.",challenges:["Color Picker","Progress Bar","Quote Generator"],internalChallengeNames:["color-picker","progress-bar","quote-generator"]},{chapterIndex:4,chapterName:"Forms",chapterDescription:"Build Forms effecticely in React to manage data entry. ",challenges:["Newsletter","High Score I","High Score II","Animal Rescue","Haiku","Travel Log"],titleImage:"",signUpPopups:["high-score-i","travel-log"],isComplete:!0,isClub:!0,xP:[20,20,25,25,25,30],internalChapterName:"forms",internalChallengeNames:["newsletter","high-score-i","high-score-ii","animal-rescue","haiku","travel-log"],badgeImage:"",bonusArticle:[],type:""},{chapterIndex:5,chapterName:"Hooks",chapterDescription:"Learn about common hooks in React like useEffect, useState, and useContext.",challenges:["Cookie Clicker","Color Effects I","Color Effects II","Barbenheimer","Kanban Board"],titleImage:"",signUpPopups:["cookie-clicker","barbenheimer"],isComplete:!0,isClub:!0,xP:[20,20,20,20,30],internalChapterName:"hooks",internalChallengeNames:["cookie-clicker","color-effects-i","color-effects-ii","barbenheimer","kanban-board"],badgeImage:"",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/useref-article.png",articleLink:"/react/bonus/useref",description:"useRef()"}],type:""},{chapterIndex:6,chapterName:"Data Fetching",chapterDescription:"Learn how to efficently fetch data with an API using React hooks. ",challenges:["Our Universe","Now Loading","I Am Error","Data Evolution","Book Finder"],titleImage:"",signUpPopups:["Now Loading"],isComplete:!0,isClub:!0,xP:[20,25,25,30,35],internalChapterName:"data-fetching",internalChallengeNames:["our-universe","now-loading","i-am-error","data-evolution","book-finder"],badgeImage:"",bonusArticle:[],type:""},{chapterIndex:7,chapterName:"Routing",chapterDescription:"Complete your React journey and create routes to other pages in your application.",challenges:["Know Your Routes","Bowser","Paper Route","Link to the Path","PonoPlayer"],titleImage:"",signUpPopups:["our-universe"],isComplete:!0,isClub:!0,xP:[25,30,35,35,40],internalChapterName:"routing",internalChallengeNames:["know-your-routes","bowser","paper-route","link-to-the-path","ponoplayer"],badgeImage:"",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/react-usenavigate.png",articleLink:"/react/bonus/usenavigate",description:"useNavigate()"}],type:""},{type:"final-project",chapterName:"Final Project",isClub:!0,chapterDescription:"Ready to start building? Use the skills you've gained throughout the course to build out a fully-fledged React project! When you're done, submit it for review by a code mentor."},{type:"certificate-tracker",chapterName:"Course Certificate",isClub:!0}]},"intermediate-python":{name:"intermediate-python",courseUrl:"/intermediate-python",title:"Intermediate Python",catalogName:"Intermediate Python",tags:["python","intermediate","data-science"],description:"Begin learning intermediate Python with data structures.",community:{available:!0,link:"/community/python",description:"Need Python Help?"},badges:["data-structures","file-and-error-handling","functional-programming","testing"],shareButton:{"05-post-game-stats":"https://twitter.com/intent/tweet?text=Post+Game+Stats+\uD83D\uDCCA&hashtags=CodedexPostGameStats+@codedex_io","10-packing-list":"https://twitter.com/intent/tweet?text=Packing+List+\uD83D\uDCE6&hashtags=CodedexPackingList+@codedex_io","15-so-random":"https://twitter.com/intent/tweet?text=So+Random+\uD83C\uDFB2&hashtags=CodedexSoRandom+@codedex_io","20-caffeinated":"https://twitter.com/intent/tweet?text=Caffeinated+&hashtags=CodedexCaffeinated+@codedex_io"},links:["/intermediate-python","01-hi-bestie","02-find-my-friends","03-met-museum","04-fruit-cart","05-post-game-stats","06-dear-diary","07-the-file-realm","08-uncharted-files","09-bestsellers","10-packing-list","11-full-circle","12-hola","13-grammys","14-mental-math","15-so-random","16-test-run","17-assertions","18-unexpected","19-wealth-manager","20-caffeinated"],bannerImageLink:"/images/numpy/banner.gif",chapters:[{chapterIndex:0,chapterName:"Data Structures",chapterDescription:"Store data in tuples, dictionaries, and sets.",challenges:["Hi Bestie!","Find My Friends","Met Museum","Fruit Cart","Post Game Stats"],titleImage:"/images/badges/intermediate-python/data-structures.png",signUpPopups:["hi-bestie","met-museum"],isComplete:!0,xP:[10,10,10,15,15],internalChapterName:"data-structures",internalChallengeNames:["hi-bestie","find-my-friends","met-museum","fruit-cart","post-game-stats"],badgeImage:"/images/badges/intermediate-python/data-structures.png",editorState:{"hi-bestie":{enabled:!0},"find-my-friends":{enabled:!0},"met-museum":{enabled:!0},"fruit-cart":{enabled:!0},"post-game-stats":{enabled:!0}}},{chapterIndex:1,chapterName:"File I/O",chapterDescription:"Save and read to a file using file input & output.",challenges:["Dear Diary","The File Realm","Uncharted Files","Bestsellers","Packing List"],titleImage:"/images/badges/intermediate-python/file-and-error-handling.png",signUpPopups:["dear-diary","uncharted-files"],isComplete:!0,xP:[10,10,10,10,10],internalChapterName:"file-and-error-handling",internalChallengeNames:["dear-diary","the-file-realm","uncharted-files","bestsellers","packing-list"],badgeImage:"/images/badges/intermediate-python/file-and-error-handling.png",editorState:{"dear-diary":{enabled:!0},"the-file-realm":{enabled:!0},"uncharted-files":{enabled:!0},bestsellers:{enabled:!0},"packing-list":{enabled:!0}}},{chapterIndex:2,chapterName:"Functional Programming",chapterDescription:"Write code that is easier to understand, test, and maintain with functional programming.",challenges:["Full Circle","Hola","Grammys","Mental Math","So Random"],titleImage:"/images/badges/intermediate-python/file-and-error-handling.png",signUpPopups:["full-circle","grammys"],isComplete:!0,xP:[10,10,10,10,10],internalChapterName:"functional-programming",internalChallengeNames:["full-circle","hola","grammys","mental-math","so-random"],badgeImage:"/images/badges/intermediate-python/functional-programming.png",editorState:{"full-circle":{enabled:!0},hola:{enabled:!0},grammys:{enabled:!0},"mental-math":{enabled:!0},"so-random":{enabled:!0}},bonusArticle:[{imageLink:"/images/courses/articleScreenshots/decorators-and-generators.png",articleLink:"/python/bonus/decorators-and-generators",description:"Decorators & Generators"}]},{chapterIndex:3,chapterName:"Testing",chapterDescription:"Learn how to write basic unit tests in Python.",challenges:["Test Run","Assertions","Unexpected","Wealth Manager","Caffeinated"],titleImage:"",signUpPopups:["test-run","unexpected"],isComplete:!0,xP:[15,20,25,25,30],internalChapterName:"testing",internalChallengeNames:["test-run","assertions","unexpected","wealth-manager","caffeinated"],badgeImage:"/images/badges/intermediate-python/testing.png",editorState:{"test-run":{enabled:!0},assertions:{enabled:!0},unexpected:{enabled:!0},"wealth-manager":{enabled:!0},caffeinated:{enabled:!0}},bonusArticle:[]}]},numpy:{name:"numpy",courseUrl:"/numpy",title:"NumPy",catalogName:"NumPy",badges:["dear-data","basic-operations"],tags:["python","data-science","intermediate"],description:"Learn the fundamentals of data manipulation using NumPy! Learn to code using NumPy with Cod\xe9dex -- for free!",community:{available:!1,link:"/community"},shareButton:{"06-dear-data":"https://twitter.com/intent/tweet?text=Dear+Data+\uD83D\uDCCA&hashtags=CodedexDearData+@codedex_io","11-titanic":"https://twitter.com/intent/tweet?text=Titanic+\uD83D\uDEA2&hashtags=CodedexTitanic+@codedex_io"},links:["/numpy","01-the-notebook","02-import","03-notifications","04-population","05-bad-eggs","06-dear-data","07-tallest-building","08-walking-steps","09-shape-of-you","10-halleys-comet","11-titanic"],bannerImageLink:"/images/intermediate-python/intermediate-python.gif",chapters:[{chapterIndex:0,chapterName:"Dear Data",chapterDescription:"Store large amounts of numbers in 1D arrays and 2D arrays.",challenges:["The Notebook","Import","Notifications","Population","Bad Eggs","Dear Data"],titleImage:"",signUpPopups:["the-notebook","notifications"],isComplete:!0,isClub:!1,xP:[10,10,15,15,15,15],internalChapterName:"dear-data",internalChallengeNames:["the-notebook","import","notifications","population","bad-eggs","dear-data"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[],type:""},{chapterIndex:1,chapterName:"Basic Operations",chapterDescription:"Perform calculations using math operations and math functions on datasets.",challenges:["Tallest Building","Walking Steps","Shape of You","Halley's Comet","Titanic"],titleImage:"",signUpPopups:["tallest-building","shape-of-you"],isComplete:!0,isClub:!1,xP:[15,15,15,15,20],internalChapterName:"basic-operations",internalChallengeNames:["tallest-building","walking-steps","shape-of-you","halleys-comet","titanic"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[],type:""}]},sql:{name:"sql",courseUrl:"/sql",title:"SQL",badges:["queries","aggregates","new-table"],tags:["beginner","data-science"],catalogName:"SQL",description:"Learn database basics, queries, calculations, and more to start managing and analyzing data like a pro.",community:{available:!1,link:"/community"},shareButton:{"08-nyc-restaurants":"https://twitter.com/intent/tweet?text=NYC+Restaurants+\uD83C\uDF7D&hashtags=CodedexRestaurants+@codedex_io","15-video-games":"https://twitter.com/intent/tweet?text=Video+Games+\uD83C\uDFAE&hashtags=CodedexVideoGames+@codedex_io","21-bffs":"https://twitter.com/intent/tweet?text=BFFs+\uD83D\uDC6F&hashtags=CodedexBFFs+@codedex_io"},links:["/sql","01-introduction","02-select","03-streaming-wars","04-rotten-tomatoes","05-like","06-golden-age","07-order-by","08-nyc-restaurants","09-music-playlist","10-counting-rows","11-old-&-new","12-total-playtime","13-billboard-hot-100","14-group-by","15-video-games","16-create-table","17-insert-into","18-alter-table","19-update-set","20-delete-from","21-bffs"],bannerImageLink:"/images/sql/sqlbanner.gif",chapters:[{chapterIndex:0,chapterName:"Queries",chapterDescription:"Write queries that the database understands using a shows table.",challenges:["Introduction","Select","Streaming Wars","Rotten Tomatoes","Like","Golden Age","ORDER BY","NYC Restaurants"],titleImage:"",signUpPopups:["introduction","streaming-wars"],isComplete:!0,isClub:!1,xP:[10,10,10,15,15,20,20,20],internalChapterName:"queries",internalChallengeNames:["introduction","select","streaming-wars","rotten-tomatoes","like","golden-age","order-by","nyc-restaurants"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/sql-bonus.png",articleLink:"/sql/bonus/relational-databases",description:"Relational Databases"}],type:""},{chapterIndex:1,chapterName:"Aggregates",chapterDescription:"Perform math calculations uisng aggregate functions.",challenges:["Music Playlist","Counting Rows","Old & New","Total Playtime","Billboard 100","GROUP BY","Video Games"],titleImage:"",signUpPopups:["music-playlist","old-&-new"],isComplete:!0,isClub:!1,xP:[10,15,15,15,15,20,20],internalChapterName:"aggregates",internalChallengeNames:["music-playlist","counting-rows","old-&-new","total-playtime","billboard-hot-100","group-by","video-games"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[],type:""},{chapterIndex:2,chapterName:"New Table",chapterDescription:"Create a new table and add/update/delete data.",challenges:["Create Table","Insert Into","Alter Table","Update Set","Delete From","Bffs"],titleImage:"",signUpPopups:["create-table","alter-table"],isComplete:!0,isClub:!0,xP:[10,10,10,10,10,15],internalChapterName:"new-table",internalChallengeNames:["create-table","insert-into","alter-table","update-set","delete-from","bffs"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[],type:""},{chapterIndex:3,chapterName:"Multiple Tables",chapterDescription:"Multiple Tables chapter coming soon!",type:"coming-soon",isClub:!0}]},"intermediate-javascript":{name:"intermediate-javascript",courseUrl:"/intermediate-javascript",title:"Intermediate JavaScript",catalogName:"Intermediate JavaScript",badges:["ecmascript","async-js"],tags:["web-dev","intermediate"],description:"Unleash the power of JavaScript with asynchronous programming.",community:{available:!0,link:"/community/javascript",description:"Need JavaScript Help?"},shareButton:{"06-reading-lists":"https://twitter.com/intent/tweet?text=Reading+Lists+\uD83D\uDCDA&hashtags=CodedexReadingLists+@codedex_io","12-cosmic-birthday":"https://twitter.com/intent/tweet?text=Cosmic+Birthday+\uD83C\uDF82&hashtags=CodedexCosmicBirthday+@codedex_io"},links:["/intermediate-javascript","01-introduction","02-arrow-logic","03-99-bottles","04-most-streamed-songs","05-pack-your-bags","06-reading-lists","07-on-the-side","08-subscribe-button","09-random-numbers","10-jokebook","11-trivia-night","12-cosmic-birthday"],bannerImageLink:"https://i.redd.it/pixel-lakes-sunny-and-sunset-pixel-art-landscape-series-v0-3vciy9e2f0sb1.jpg?width=3840&format=pjpg&auto=webp&s=aba19dac3ecb5f9dcb51ef0459ca40654ab5bbcd",chapters:[{chapterIndex:0,chapterName:"ECMAScript",chapterDescription:"Explore how modern JavaScript lets you write functions and declarations more efficiently.",challenges:["Introduction","Arrow Logic","99 Bottles","Most Streamed Songs","Pack Your Bags","Reading Lists"],titleImage:"/images/badges/python/hello-world.png",signUpPopups:["arrow-logic","pack-your-bags"],isComplete:!0,isClub:!1,xP:[10,10,15,15,15,15],internalChapterName:"ecmascript",editorState:{introduction:{enabled:!0},"arrow-logic":{enabled:!0},"99-bottles":{enabled:!0},"most-streamed-songs":{enabled:!0},"pack-your-bags":{enabled:!0},"reading-lists":{enabled:!0}},internalChallengeNames:["introduction","arrow-logic","99-bottles","most-streamed-songs","pack-your-bags","reading-lists"],badgeImage:"/images/badges/earth_badge.png",bonusArticle:[]},{chapterIndex:1,chapterName:"Async JS",chapterDescription:"Create asynchronus functions to practice data fetching. ",challenges:["On The Side","Subscribe Button","Random Numbers","Jokebook","Trivia Night","Cosmic Birthday"],titleImage:"/images/badges/intermediate-javascript/async-js.png",signUpPopups:["on-the-side","jokebook"],isComplete:!0,isClub:!1,xP:[10,15,15,15,20,25],internalChapterName:"async-js",editorState:{"on-the-side":{enabled:!0},"subscribe-button":{enabled:!0},"random-numbers":{enabled:!0},jokebook:{enabled:!0},"trivia-night":{enabled:!0},"cosmic-birthday":{enabled:!0}},internalChallengeNames:["on-the-side","subscribe-button","random-numbers","jokebook","trivia-night","cosmic-birthday"],badgeImage:"/images/badges/intermediate-javascript/async-js.png",bonusArticle:[]}]},"gen-ai":{name:"gen-ai",courseUrl:"/gen-ai",title:"Gen AI",catalogName:"Gen AI",badges:["language-models"],description:"Dive into the fundamentals of Generative AI and machine learning.",community:{available:!1,link:"/community/"},shareButton:{"08-vibes":"https://twitter.com/intent/tweet?text=Vibes+\uD83C\uDFB6&hashtags=CodedexVibes+@codedex_io"},links:["/gen-ai","01-gen-ai","02-language-models","03-tokenization","04-n-grams","05-text-classification","06-machine-translation","07-spell-check","08-vibes"],newCourse:!1,tags:["creative","intermediate","python"],bannerImageLink:"/images/gen-ai/genaicourseimage.png",chapters:[{chapterIndex:0,chapterName:"Language Models",chapterDescription:"Learn about the fundamentals of Generative AI, and understand language models in different contexts.",challenges:["Gen AI","Language Models","Tokenization","N-grams","Text Classification","Machine Translation","Spell Check","Vibes"],titleImage:"",signUpPopups:["gen-ai","tokenization"],isComplete:!0,isClub:!1,xP:[10,10,10,10,10,10,10,10],internalChapterName:"language-models",internalChallengeNames:["gen-ai","language-models","tokenization","n-grams","text-classification","machine-translation","spell-check","vibes"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:1,chapterName:"Coming Soon",chapterDescription:"Chapter 2 of Gen AI coming soon!",type:"coming-soon"}]},p5js:{name:"p5js",courseUrl:"/p5js",title:"p5.js",catalogName:"p5.js",badges:["canvas-elements"],description:"P5.js is a JavaScript library that makes coding accessible for artists, designers, and beginners.",community:{available:!1,link:"/community/"},shareButton:{"06-breakout":"https://twitter.com/intent/tweet?text=I+just+completed+the+Breakout+challenge+on+Cod\xe9dex!+\uD83C\uDF89&hashtags=CodedexBreakout+@codedex_io"},links:["/p5js","01-your-first-canvas","02-brat-summer","03-the-shape-tool","04-motion-picture","05-wasd","06-breakout"],tags:["web-dev","creative","intermediate"],newCourse:!1,bannerImageLink:"/images/p5/p5courseimage.gif",chapters:[{chapterIndex:0,chapterName:"Canvas Elements",chapterDescription:"Learn the fundamentals of the p5.js library to get started with creating interactive and colorful one-pagers.",challenges:["Your First Canvas","Brat Summer","The Shape Tool","Motion Picture","WASD","Breakout"],titleImage:"",signUpPopups:["your-first-canvas","the-shape-tool"],isComplete:!0,isClub:!1,xP:[10,10,15,15,15,20],internalChapterName:"canvas-elements",internalChallengeNames:["your-first-canvas","brat-summer","the-shape-tool","motion-picture","wasd","breakout"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:1,chapterName:"Coming Soon",chapterDescription:"Chapter 2 of p5.js coming soon!",type:"coming-soon"}]},cpp:{name:"cpp",courseUrl:"/cpp",title:"C++",badges:["hello-world","variables","conditionals"],catalogName:"C++",description:"Learn C++ and master object-oriented programming and data structures!",community:{available:!1,link:"/community/"},shareButton:{"05-sign-bunny":"https://twitter.com/intent/tweet?text=Sign+Bunny+\uD83D\uDC30&hashtags=CodedexSignBunny+@codedex_io","12-cat-years":"https://twitter.com/intent/tweet?text=Cat+Years+\uD83D\uDC31&hashtags=CodedexCatYears+@codedex_io"},links:["/cpp","01-the-program","02-howdy","03-see-ya-later-alligator","04-ouija-board","05-sign-bunny","06-data-types","07-declaration-of-independence","08-ipo","09-temperature","10-knighthood","11-mom","12-cat-years","13-coin-flip","14-fever","15-levels-and-ranks","16-fortune-cookie","17-voting","18-trivia-quiz"],bannerImageLink:"/images/cpp/cpp-header.png",newCourse:!0,tags:["cpp","beginner"],chapters:[{chapterIndex:0,chapterName:"Hello World",chapterDescription:"Learn how to write your first line of C++ by outputting messages to the terminal.",challenges:["The Program","Howdy","See Ya Later Alligator","Ouija Board","Sign Bunny"],titleImage:"",signUpPopups:["the-program","see-ya-later-alligator"],isComplete:!0,isClub:!1,xP:[10,10,10,15,15],internalChapterName:"hello-world",bonusArticle:[{imageLink:"/images/courses/articleScreenshots/cpp.png",articleLink:"/cpp/bonus/compile-execute",description:"Compile & Execute"}],internalChallengeNames:["the-program","howdy","see-ya-later-alligator","ouija-board","sign-bunny"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:1,chapterName:"Variables",chapterDescription:"Create variables and learn about data types, arithmetic operators, and user input.",challenges:["Data Types","Declaration of Independence","IPO","Temperature","Knighthood","MoM","Cat Years"],titleImage:"",signUpPopups:["data-types","ipo"],isComplete:!0,isClub:!1,xP:[10,10,15,15,15,15,15],internalChapterName:"variables",internalChallengeNames:["data-types","declaration-of-independence","ipo","temperature","knighthood","mom","cat-years"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:2,chapterName:"Conditionals",chapterDescription:"Use logical operators to control the order of program execution.",challenges:["Coin Flip","Fever","Levels and Ranks","Fortune Cookie","Voting","Trivia Quiz"],titleImage:"",signUpPopups:["coin-flip","levels-and-ranks"],isComplete:!0,isClub:!1,xP:[10,15,15,15,15,20],internalChapterName:"conditionals",internalChallengeNames:["coin-flip","fever","levels-and-ranks","fortune-cookie","voting","trivia-quiz"],badgeImage:"/images/badges/earth_badge.png",type:""}]},java:{name:"java",courseUrl:"/java",title:"Java",badges:["hello-world","variables","control-flow","loops"],catalogName:"Java",description:"Master Java by exploring object-oriented programming and essential data structures, building skills to create efficient and scalable applications!",community:{available:!1,link:"/community/"},shareButton:{"05-music-wrapped":"https://twitter.com/intent/tweet?text=Music+Wrapped+\uD83C\uDFB5&hashtags=CodedexMusic+@codedex_io"},links:["/java","01-first-program","02-hello-world","03-cooking-mama","04-error-logs","05-music-wrapped","06-storage-box","07-id-card","08-operation-0","09-escape-room","10-club-penguin","11-oatmeal","12-cat-owner","13-dog-owner","14-rollercoaster","15-coffee-order","16-rainbow-nums","17-all-the-while","18-affirmations","19-hit-the-breaks","20-playing-cards"],bannerImageLink:"https://goldpenguin.org/wp-content/uploads/2024/03/sunset.png",newCourse:!0,tags:["java","beginner"],chapters:[{chapterIndex:0,chapterName:"Hello World",chapterDescription:"Learn the basics of Java and write your first program!",challenges:["First Program","Hello World","Cooking Mama","Error Logs","Music Wrapped"],titleImage:"",signUpPopups:["first-program","cooking-mama"],isComplete:!0,isClub:!1,xP:[10,10,10,10,10],internalChapterName:"hello-world",bonusArticle:[],internalChallengeNames:["first-program","hello-world","cooking-mama","error-logs","music-wrapped"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:1,chapterName:"Variables",chapterDescription:"Create variables and learn about data types.",challenges:["Storage Box","ID Card","Operation 0","Escape Room","Club Penguin"],titleImage:"",signUpPopups:["storage-box","operation-0"],isComplete:!0,isClub:!1,xP:[10,10,10,10,10],internalChapterName:"variables",internalChallengeNames:["storage-box","id-card","operation-0","escape-room","club-penguin"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:2,chapterName:"Control Flow",chapterDescription:'Explore how programs "make decisions" with if/else statements, relational operators, *and* logical operators.',challenges:["Oatmeal","Cat Owner","Dog Owner","Rollercoaster","Coffee Order"],titleImage:"",signUpPopups:["oatmeal","dog-owner"],isComplete:!0,isClub:!1,xP:[10,10,10,10,15],internalChapterName:"control-flow",internalChallengeNames:["oatmeal","cat-owner","dog-owner","rollercoaster","coffee-order"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:3,chapterName:"Loops",chapterDescription:"Repeat a block of code with while loops and for loops over, and over, and over again.",challenges:["Rainbow Nums","All the While","Affirmations","Hit the Breaks","Playing Cards"],titleImage:"",signUpPopups:["rainbow-nums","affirmations"],isComplete:!0,isClub:!1,xP:[10,10,10,10,15],internalChapterName:"loops",internalChallengeNames:["rainbow-nums","all-the-while","affirmations","hit-the-breaks","playing-cards"],badgeImage:"/images/badges/earth_badge.png",type:""},{chapterIndex:4,chapterName:"Coming Soon",chapterDescription:"Chapter 4 of Java coming soon!",type:"coming-soon"}]}},courseTags:[{internalName:"python",displayName:"Python"},{internalName:"web-dev",displayName:"Web Development"},{internalName:"data-science",displayName:"Data Science"},{internalName:"tools",displayName:"Tools"},{internalName:"creative",displayName:"Creative Coding"},{internalName:"beginner",displayName:"Beginner"},{internalName:"intermediate",displayName:"Intermediate"}]},ef=Object.keys(ep.courseDetails),eg=(0,eh.oM)({name:"language",initialState:ep,reducers:{}});function selectPopupState(er){let{courseName:eo,challengeName:ec}=er;return ec=ec.replace(/^[0-9]*-/,""),function(er){var eh;let ep=null===(eh=er.language.courseDetails[eo].chapters.find(function(er){var eo;return null===(eo=er.internalChallengeNames)||void 0===eo?void 0:eo.includes(ec)}))||void 0===eh?void 0:eh.signUpPopups;return ep||null}}function selectChapterClubStatus(er){let{courseName:eo,challengeName:ec}=er;return function(er){let eh=er.language.courseDetails[eo],{chapters:ep}=eh,ef=ep.find(function(er){return er.internalChallengeNames.includes(ec)});return ef.isClub}}function selectCourseData(er){return function(eo){return eo.language.courseDetails[er]}}function selectBadgeList(er){return function(eo){let{badges:ec}=eo.language.courseDetails[er];return ec}}function selectEditorState(er){let{chapterName:eo,challengeName:ec,courseName:eh="python"}=er;return function(er){let ep=er.language.courseDetails[eh],{chapters:ef}=ep,eg=ef.find(function(er){return er.internalChapterName===eo}),em=eg.editorState[ec];return em}}function selectPrevNextChallengeLinks(er){let{currentChallengeLink:eo,courseName:ec="python"}=er;return function(er){let eh=er.language.courseDetails[ec],ep=eh.courseUrl,{links:ef}=eh,eg=ef.findIndex(function(er){return er===eo}),em=eg-1,ey=ep;0!==em&&(ey="".concat(ep,"/").concat(ef[em]));let ev=null,e_=null,ew=null;return eg<ef.length-1&&(ew=(e_=ef[ev=eg+1]).replace(/^[0-9]*-/,"")),{currentIndex:eg,previousIndex:em,nextIndex:ev,previousChallengeLink:ey,nextChallengeLink:e_,nextChallengeNameForDispatch:ew}}}function selectCourseLinks(er){let{courseName:eo}=er;return function(er){return er.language.courseDetails[eo].links}}function selectSharebuttons(er){return function(eo){return eo.language.courseDetails[er].shareButton}}function selectCourseTotalXp(er){let{courseName:eo}=er;return function(er){try{let eh=er.language.courseDetails[eo].chapters,ep=0;for(var ec in eh){let er=eh[ec].xP;if(er){let eo=er.reduce((er,eo)=>er+eo,0);ep+=eo}}return ep}catch(er){return 0}}}function selectCourseTotalExercises(er){let{courseName:eo}=er;return function(er){let ec=er.language.courseDetails[eo].chapters,eh=0,ep=["checkpoint-project","final-project","certificate-tracker","coming-soon"];for(var ef in ec){if(ep.includes(ec[ef].type))continue;let er=ec[ef].internalChallengeNames;eh+=er.length}return eh}}function selectAllCourseProgress(er){let eo=[],ec=er.language.courseDetails;for(var eh in ec){var ep,ef,eg,em;let ec="git-github"!=eh?er.language.courseDetails[eh].title:"Git & GitHub (Expansion)",ey=er.language.courseDetails[eh].bannerImageLink,ev=(null===(em=er.user)||void 0===em?void 0:null===(eg=em.user)||void 0===eg?void 0:null===(ef=eg.stats)||void 0===ef?void 0:null===(ep=ef.courseXp[eh])||void 0===ep?void 0:ep.courseXp)||0,e_=function(eo){let ec=er.language.courseDetails[eo].chapters,eh=0;for(var ep in ec){let er=ec[ep].xP;if(er){let eo=er.reduce((er,eo)=>er+eo,0);eh+=eo}}return eh}(eh);eo.push({key:eh,courseTitle:ec,courseBannerImage:ey,userProgress:ev,courseTotalXp:e_})}return eo}function selectCourseBaseLink(er){return function(eo){var ec;return null===(ec=eo.language.courseDetails[er])||void 0===ec?void 0:ec.courseUrl}}function selectSingleCourseDetails(er){let{courseName:eo}=er;return function(er){var ec,eh,ep,ef;let eg=null===(ef=er.user)||void 0===ef?void 0:null===(ep=ef.user)||void 0===ep?void 0:null===(eh=ep.stats)||void 0===eh?void 0:null===(ec=eh.courseXp[eo])||void 0===ec?void 0:ec.courseXp,em=selectCourseTotalXp({courseName:eo})(er),ey=isNaN(eg)||isNaN(em)||0===em?0:Math.round(eg/em*100),{courseUrl:ev,newCourse:e_=null,tags:ew,bannerImageLink:ex,catalogName:ek,description:eS,links:eC}=er.language.courseDetails[eo];return{bannerImageLink:ex,catalogName:ek,description:eS,tags:ew,newCourse:e_,courseUrl:ev,percentageCompleted:ey,firstExercise:eC[1]}}}function selectCurrentCourseChapter(er){let eo=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(ec){return ec.language.courseDetails[er].chapters.at(eo)}}function selectCourseTags(er){return er.language.courseTags}function selectAllCourseDetails(er){let eo=er.language.courseDetails,ec=[];return Object.keys(eo).forEach(function(eo,eh){let{tags:ep,newCourse:ef}=er.language.courseDetails[eo],eg={internlName:eo,tags:ep};ef?ec.unshift(eg):ec.push(eg)}),ec}function selectNumProjectsToComplete(er){let{courseName:eo}=er;return function(er){let ec=["checkpoint-project","final-project"],eh=er.language.courseDetails[eo].chapters,ep=eh.filter(er=>ec.includes(er.type)).length;return ep}}var em=eg.reducer},88023:function(er,eo,ec){"use strict";ec.d(eo,{ZP:function(){return e_},sr:function(){return selectFirstThreeProjects},Bn:function(){return selectOtherProjectsByAuthor},f0:function(){return selectProjectsBasedOnTag},AQ:function(){return selectProjectsFromList},$p:function(){return selectSearchTerm},a0:function(){return selectTags},HH:function(){return em}});var eh=ec(77236),ep=ec(87243);let ef=(0,eh.hg)("projects/fetchUserBookmarkedProjects",async function(er,eo){let{user:{user:ec}={}}=eo.getState(),{uid:eh=""}=ec;if(eh){let er=await (0,ep.w)({uid:eh});return er}return null}),eg=(0,eh.oM)({name:"projects",initialState:{projects:[{title:"Build a Word Guessing Game",author:"Daniel Li",authorAvatar:"/images/projects/authors/daniel-li.png",tags:["Python","Beginner"],image:"/images/projects/card_images/word-game.png",link:"/projects/build-a-word-guessing-game-with-python",projectInternalTitle:"build-a-word-guessing-game-with-python"},{title:"Build Tic-Tac-Toe With JavaScript",author:"Daniel Li",authorAvatar:"/images/projects/authors/daniel-li.png",tags:["JavaScript","Beginner"],image:"/images/projects/card_images/tictactoe.png",link:"/projects/build-tic-tac-toe-with-javascript",projectInternalTitle:"build-tic-tac-toe-with-javascript"},{title:"Build a 3D Model with Three.js",author:"Ellie Popoca",authorAvatar:"/images/projects/authors/ellie-popoca.png",tags:["JavaScript","Intermediate","HTML"],image:"/images/projects/card_images/Threejs Project Card.png",link:"/projects/build-an-interactive-3d-model-with-threejs",projectInternalTitle:"build-an-interactive-3d-model-with-threejs"},{title:"Generate AI Art with Krea.AI",author:"Katherin Solis",authorAvatar:"/images/projects/authors/katherin_solis.png",tags:["Beginner","AI"],image:"/images/projects/card_images/Generate AI Art with Krea.AI.png",link:"/projects/generate-ai-art-with-krea-ai",projectInternalTitle:"generate-ai-art-with-krea-ai"},{title:"Generate a Poem with Google Gemini",author:"Katherin Solis",authorAvatar:"/images/projects/authors/katherin_solis.png",tags:["JavaScript","AI","Intermediate"],image:"/images/projects/card_images/generate-a-poem-with-google-gemini.png",link:"/projects/generate-a-poem-with-google-gemini",projectInternalTitle:"generate-a-poem-with-google-gemini"},{title:"Build a Search Engine with Exa",author:"Ellie Popoca",authorAvatar:"/images/projects/authors/ellie-popoca.png",tags:["Python","AI","Advanced"],image:"/images/projects/card_images/exa-ai.png",link:"/projects/build-a-custom-search-engine-with-exa-ai",projectInternalTitle:"build-a-custom-search-engine-with-exa-ai"},{title:"Create a React App with Vite",author:"Brandon Dusch",authorAvatar:"/images/projects/authors/brandon.jpg",tags:["React","Intermediate","JavaScript"],image:"/images/projects/card_images/publish-vite.png",link:"/projects/create-a-react-app-with-vite",projectInternalTitle:"create-a-react-app-with-vite"},{title:"Run a Website Locally with HTML",author:"Brandon Dusch",authorAvatar:"/images/projects/authors/brandon.jpg",tags:["HTML","Beginner"],image:"/images/projects/card_images/local-html.png",link:"/projects/run-a-website-locally-with-html",projectInternalTitle:"run-a-website-locally-with-html"},{title:"Album Finder with Spotify API",author:"Ellie Popoca",authorAvatar:"/images/projects/authors/ellie-popoca.png",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/spotify.jpg",link:"/projects/build-an-album-finder-with-spotify-api",projectInternalTitle:"build-an-album-finder-with-spotify-api"},{title:"Predict Prices with Linear Regression",author:"Katherin Solis",authorAvatar:"/images/projects/authors/katherin_solis.png",tags:["Data Science","Intermediate","Python"],image:"/images/projects/card_images/linear-regression.jpg",link:"/projects/predict-home-prices-with-python-and-linear-regression",projectInternalTitle:"predict-home-prices-with-python-and-linear-regression"},{title:"VR Solar System with A-Frame",author:"Tara Tran",authorAvatar:"/images/projects/authors/tara_tran.png",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/create-a-vr-solar-system-with-a-frame.png",link:"/projects/create-a-vr-solar-system-with-a-frame",projectInternalTitle:"create-a-vr-solar-system-with-a-frame"},{title:"Create a To-Do List App with JavaScript",author:"Shadeira Nesmith",authorAvatar:"/images/projects/authors/shadeira-nesmith.png",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/create-a-to-do-list-app-with-html-css-js.png",link:"/projects/create-a-to-do-list-app-with-html-css-js",projectInternalTitle:"create-a-to-do-list-app-with-html-css-js"},{title:"Debug Your Web App in VS Code",author:"Michael Wiltfong",authorAvatar:"/images/projects/authors/michael-wiltfong.png",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/debug-card.png",link:"/projects/debug-your-web-app-in-vs-code",projectInternalTitle:"debug-your-web-app-in-vs-code"},{title:"Deploy a Website with Vercel",author:"Ellie Popoca",authorAvatar:"/images/projects/authors/ellie-popoca.png",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/deploy-vercel-project.png",link:"/projects/deploy-a-website-with-vercel",projectInternalTitle:"deploy-a-website-with-vercel"},{title:"Build a Soundboard with p5.js",author:"Ellie Popoca",authorAvatar:"/images/projects/authors/ellie-popoca.png",tags:["JavaScript","Beginner"],image:"/images/projects/card_images/p5.gif",link:"/projects/build-an-interactive-soundboard-with-p5js",projectInternalTitle:"build-an-interactive-soundboard-with-p5js"},{title:"Weather with HTML, CSS, & JS",author:"Brandon Dusch",authorAvatar:"/images/projects/authors/brandon.jpg",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/view-weather-with-html-css-js.png",link:"/projects/view-weather-with-html-css-js",projectInternalTitle:"view-weather-with-html-css-js"},{title:"Build a Chat App With Socket.IO",author:"Dharma Jethva",authorAvatar:"/images/projects/authors/dharma-jethva.jpg",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/chatapp-with-socket-io.png",link:"/projects/build-a-chat-app-with-socket-io",projectInternalTitle:"build-a-chat-app-with-socket-io"},{title:"Analyze Best Selling Books with Pandas",author:"Grace Peters",authorAvatar:"/images/projects/authors/grace-peters-chatgpt.png",tags:["Data Science","Python","Intermediate"],image:"/images/projects/card_images/analyze-best-selling-books-with-pandas.png",link:"/projects/analyze-spreadsheet-data-with-pandas-chatgpt",projectInternalTitle:"analyze-spreadsheet-data-with-pandas-chatgpt"},{title:"Convert Roman Numerals in Python",author:"Daniel Li",authorAvatar:"/images/projects/authors/daniel-li.png",tags:["Python","Beginner"],image:"/images/projects/card_images/convert-roman-numerals-with-python.png",link:"/projects/convert-roman-numerals-with-python",projectInternalTitle:"convert-roman-numerals-with-python"},{title:"Build a Flappy Bird Clone With Phaser",author:"David Verghese",authorAvatar:"/images/projects/authors/david-verghese.jpg",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/build-a-flappy-bird-clone-with-phaser.png",link:"/projects/build-a-flappy-bird-clone-with-phaser",projectInternalTitle:"build-a-flappy-bird-clone-with-phaser"},{title:"Build a Pomodoro App with JavaScript",author:"Dana Lee",authorAvatar:"/images/projects/authors/dana-lee.jpg",tags:["JavaScript","Intermediate"],image:"/images/projects/card_images/build-a-pomodoro-app-with-html-css-js.png",link:"/projects/build-a-pomodoro-app-with-html-css-js",projectInternalTitle:"build-a-pomodoro-app-with-html-css-js"},{title:"Build a Discord Bot with Python",author:"Hong Jeon",authorAvatar:"/images/projects/authors/hong_jeon.jpg",tags:["Python","Intermediate"],image:"/images/projects/card_images/build-a-discord-bot-with-python.png",link:"/projects/build-a-discord-bot-with-python",projectInternalTitle:"build-a-discord-bot-with-python"},{title:"Generate a Blog with OpenAI",author:"Asiqur Rahman",authorAvatar:"/images/projects/authors/asiqur_rahman.png",tags:["AI","Python","Intermediate"],image:"/images/projects/card_images/generate-a-blog-with-openai.png",link:"/projects/generate-a-blog-with-openai",projectInternalTitle:"generate-a-blog-with-openai"},{title:"Create a GIF with Python",internalTempTitleForOtherSuggestion:"Create a GIF with Python",author:"Sonny Li",internalAuthorName:"sonnynomnom",authorAvatar:"/images/projects/authors/sonny_avatar.png",tags:["Python","Beginner"],image:"/images/projects/card_images/create-a-gif-with-python.png",link:"/projects/create-a-gif-with-python",projectInternalTitle:"create-a-gif-with-python"},{title:"Build Pong with PyGame",author:"ThousandthStar",authorAvatar:"/images/projects/authors/ThousandthStar.png",tags:["Python","Advanced"],image:"/images/projects/card_images/build-pong-with-pygame.png",link:"/projects/build-pong-with-pygame",projectInternalTitle:"build-pong-with-pygame"},{title:"Automate Secret Santa Emails",internalTempTitleForOtherSuggestion:"Automate Secret Santa Emails with SMTP",author:"Jerry Zhu",internalAuthorName:"Jerry Zhu",authorAvatar:"/images/projects/authors/jerry_zhu.jpg",tags:["Python","Intermediate"],image:"/images/projects/card_images/automate-secret-santa-emails-with-smtp.png",link:"/projects/automate-secret-santa-emails-with-smtp",projectInternalTitle:"automate-secret-santa-emails-with-smtp"},{title:"Set Up Local Dev Env with Python",author:"Jerry Zhu",internalAuthorName:"Jerry Zhu",internalTempTitleForOtherSuggestion:"Set Up Your Local Development Environment with Python",authorAvatar:"/images/projects/authors/jerry_zhu.jpg",tags:["Python","Beginner"],image:"/images/projects/card_images/set-up-local-dev-environment-with-python.png",link:"/projects/set-up-your-local-environment-in-python",projectInternalTitle:"set-up-your-local-environment-in-python"},{title:"Web Scrape Amazon with BS4",author:"Ashutosh Krishna",authorAvatar:"/images/projects/authors/ashutosh_krishna.jpg",tags:["Data Science","Python","Intermediate"],image:"/images/projects/card_images/web-scrape-amazon-with-beautiful-soup.png",link:"/projects/web-scrape-amazon-with-beautiful-soup",projectInternalTitle:"web-scrape-amazon-with-beautiful-soup"},{title:"Generate a QR Code with Python",internalTempTitleForOtherSuggestion:"Generate a QR Code with Python",author:"Jerry Zhu",internalAuthorName:"Jerry Zhu",authorAvatar:"/images/projects/authors/jerry_zhu.jpg",tags:["Python","Beginner"],image:"/images/projects/card_images/generate-a-qr-code-with-python.png",link:"/projects/generate-a-qr-code-with-python",projectInternalTitle:"generate-a-qr-code-with-python"},{title:"Animate Fireworks with JavaScript",author:"Olga Ivanova",authorAvatar:"/images/projects/authors/olga_ivanova.png",tags:["JavaScript","Advanced"],image:"/images/projects/card_images/fireworks-with-javascript-and-canvas.png",projectInternalTitle:"animate-fireworks-with-javascript-and-canvas",link:"/projects/animate-fireworks-with-javascript-and-canvas"},{title:"Detect Hotdog With Hugging Face",author:"Dev Docs",authorAvatar:"/images/projects/authors/dev-docs.png",tags:["AI","Python","Intermediate"],image:"/images/projects/card_images/detect-hotdog-with-hugging-face.png",link:"/projects/detect-hotdog-with-hugging-face",projectInternalTitle:"detect-hotdog-with-hugging-face"},{title:"Visualize YouTube Data with Plotly",author:"Miracle Awonuga",authorAvatar:"/images/projects/authors/miracle_awonuga.jpg",tags:["Data Science","Python","Beginner"],image:"/images/projects/card_images/visualize-youtube-data-with-plotly.png",link:"/projects/visualize-youtube-data-with-plotly",projectInternalTitle:"visualize-youtube-data-with-plotly"},{title:"50 Terminal Project Ideas with Python",internalTempTitleForOtherSuggestion:"50 Terminal Project Ideas with Python",author:"Sonny Li",internalAuthorName:"sonnynomnom",authorAvatar:"/images/projects/authors/sonny_avatar.png",tags:["Python","Beginner"],image:"/images/projects/card_images/50-terminal-project-ideas-with-python.png",link:"/projects/50-terminal-project-ideas-using-python",projectInternalTitle:"50-terminal-project-ideas-using-python"}],searchTerm:"",filterCheckBoxes:{Python:!1,Beginner:!1,Intermediate:!1,Advanced:!1,Javascript:!1,AI:!1,"Data Science":!1,React:!1,Bookmarks:!1},tags:["Python","HTML","JavaScript","React","AI","Data Science","Beginner","Intermediate","Advanced"],newest:{title:"Generate a Poem with Google Gemini",author:"Katherin Solis",expectedReleaseDate:"06/12/2024"},bookmarkedProjects:[]},reducers:{updateSearchTerm(er,eo){er.searchTerm=eo.payload},updateCheckBox(er,eo){er.filterCheckBoxes[eo.payload.checkboxName]=!er.filterCheckBoxes[eo.payload.checkboxName]},clearAllFilters(er){er.filterCheckBoxes={Python:!1,Beginner:!1,Intermediate:!1,Advanced:!1,Javascript:!1,Bookmarks:!1,AI:!1,"Data Science":!1,React:!1}}},extraReducers:er=>{er.addCase(ef.pending,function(er,eo){}),er.addCase(ef.fulfilled,function(er,eo){er.bookmarkedProjects=eo.payload})}});function selectSearchTerm(er){return er.projects.searchTerm}function selectTags(er){return er.projects.tags}function selectFirstThreeProjects(er){return er.projects.projects.slice(0,3)}function selectOtherProjectsByAuthor(er){let{authorName:eo,projectTitle:ec}=er;return function(er){let eh=er.projects.projects,ep=eh.filter(er=>{let eh=ec.toLowerCase();try{var ep;let ec=(er.internalAuthorName===eo||er.author.toLowerCase()===eo.toLowerCase())&&!(null===(ep=er.link)||void 0===ep?void 0:ep.toLowerCase().includes(eh));return ec}catch(er){return!1}});return ep}}function selectProjectsFromList(er){let{projectsToSelect:eo}=er;return function(er){let ec=er.projects.projects;return eo.map(er=>ec.find(eo=>eo.projectInternalTitle===er))}}function selectProjectsBasedOnTag(er){let{tags:eo}=er;return function(er){let ec=er.projects.projects;return ec.filter(er=>eo.every(eo=>{var ec;return null==er?void 0:null===(ec=er.tags)||void 0===ec?void 0:ec.includes(eo)}))}}let{updateSearchTerm:em,updateCheckBox:ey,clearAllFilters:ev}=eg.actions;var e_=eg.reducer},61764:function(er,eo,ec){"use strict";ec.d(eo,{M:function(){return selectTeam}});var eh=ec(77236);let ep=(0,eh.oM)({name:"team",initialState:[{name:"@sonny",username:"@sonny",title:"Founder & Chief Vibes Officer",socials:[{name:"github",link:"https://github.com/sonnynomnom"},{name:"twitter",link:"https://twitter.com/sonnynomnom"},{name:"instagram",link:"https://www.instagram.com/sonnynomnom"},{name:"twitch",link:"https://www.twitch.tv/sonnynomnom"},{name:"gmail",link:"mailto:sonny@codedex.io"}],images:{animated:"/images/team/sonny_avatar.png",real:"/images/team/baby-sonny.png"}},{name:"@dharma",username:"@dharma",title:"Founding Engineer",socials:[{name:"github",link:"https://github.com/Goku-kun"},{name:"twitter",link:"https://twitter.com/coder_kun_"},{name:"linkedin",link:"https://www.linkedin.com/in/dharma-kun/"}],images:{animated:"/images/team/dharma_avatar.png",real:"/images/team/baby-dharma.png"}},{name:"@asiqur",username:"@asiqur",title:"Software Engineer",socials:[{name:"github",link:"https://github.com/asiqurrahman"},{name:"twitter",link:"https://twitter.com/Asiqur14"},{name:"linkedin",link:"https://www.linkedin.com/in/asiqurrahman13/"}],images:{animated:"/images/team/asiqur_animated.png",real:"/images/team/baby-asiqur.png"}},{name:"@lillian",username:"@lilybird",title:"Head of Operations",socials:[{name:"github",link:"https://github.com/Lilybird1"},{name:"twitter",link:"https://twitter.com/lillian_mcveigh"},{name:"linkedin",link:"https://www.linkedin.com/in/lillian-mcveigh/"},{name:"gmail",link:"mailto:lillian@codedex.io"}],images:{animated:"images/team/lil_animated.png",real:"/images/team/baby-lil.png"}},{name:"@naomi",username:"@naomixlee",title:"Social Media Manager",socials:[{name:"instagram",link:"https://www.instagram.com/naomixlee"},{name:"linkedin",link:"https://www.linkedin.com/in/naomixlee/"},{name:"gmail",link:"mailto:naomixlee22@gmail.com"}],images:{animated:"/images/team/naomi_animated.png",real:"/images/team/baby-naomi.png"}},{name:"@eric",username:"@intelagense",title:"Community Manager",socials:[{name:"github",link:"https://github.com/intelagense"},{name:"twitter",link:"https://twitter.com/intelagense"},{name:"linkedin",link:"https://www.linkedin.com/in/eric-wynn-romere/"}],images:{animated:"/images/team/eric_animated.png",real:"/images/team/baby-eric.png"}},{name:"@ellie",username:"@ellie",title:"Curriculum Developer",socials:[{name:"twitter",link:"https://twitter.com/exrlla"},{name:"linkedin",link:"https://www.linkedin.com/in/elliepopoca/"}],images:{animated:"/images/team/ellie_animated.png",real:"/images/team/baby-ellie.png"}},{name:"@jackie",username:"@jackie",title:"Sr. Product Designer",socials:[{name:"twitter",link:"https://x.com/jackieis_online"},{name:"linkedin",link:"https://www.linkedin.com/in/jackieleeliu/"}],images:{animated:"/images/team/jackie_animated.webp",real:"/images/team/jackie_real.webp"}},{name:"@colin",username:"@colin",title:"Email Marketing Associate",socials:[],images:{animated:"/images/team/colin_animated.webp",real:"/images/team/colin_baby.jpeg"}},{name:"@mochi",username:"@mochi",title:"Team Mascot",socials:[],images:{animated:"/images/mochi_avatar.png",real:"/images/team/mochi-real.png"}}],reducers:{}});function selectTeam(er){return er.team}eo.Z=ep.reducer},26245:function(er,eo,ec){"use strict";ec.d(eo,{o2:function(){return ex},xG:function(){return ek},ZP:function(){return eH},BT:function(){return eO},aK:function(){return eT},T:function(){return eA},ef:function(){return selectAllUnlockableItems},RI:function(){return selectCourseXp},$u:function(){return selectCurrentCharacterModelIndex},ZQ:function(){return selectCurrentStreak},nU:function(){return selectCurrentXp},fb:function(){return selectGeneralAssemblyStudentStatus},Ao:function(){return selectIsLoadingUser},e8:function(){return selectIsPaypal},ot:function(){return selectIsUserSignedIn},_L:function(){return selectLoadingForUserAvatar},Nq:function(){return selectLoadingStateForUserSlice},sg:function(){return selectLoadingWhileUpdatingProfile},XU:function(){return selectPopupState},zv:function(){return selectRefetchUser},IC:function(){return selectSignedInUser},Ub:function(){return selectUnlockableItem},S5:function(){return selectUserAdminStatus},Vv:function(){return selectUserBio},xF:function(){return selectUserClubStatus},Vl:function(){return selectUserCodeEditorTheme},o4:function(){return selectUserColorMode},I_:function(){return selectUserEmail},r:function(){return selectUserFirstName},Uq:function(){return selectUserLastName},He:function(){return selectUserLocation},zr:function(){return selectUserName},zL:function(){return selectUserPausedStatus},TQ:function(){return selectUserProfileImage},Sv:function(){return selectUserSchool},cK:function(){return selectUserSkillset},EU:function(){return selectUserSocials},f8:function(){return selectUserUid},xp:function(){return selectUserUidIfSignedIn},zJ:function(){return selectUserWork},I:function(){return selectUsersName},ix:function(){return eF},i5:function(){return ew},Ii:function(){return eC},I0:function(){return eP},J:function(){return ev},ck:function(){return eM},BA:function(){return eR}});var eh=ec(77236),ep=ec(47922),ef=ec(42696),eg=ec(99445),em=ec(48645);let ey={35:"duck",65:"editorColorThemes",150:"aiBot"},ev=(0,eh.hg)("user/popup",async function(er,eo){try{let{type:eo,status:ec,properties:eh}=er;return{type:eo,status:ec,properties:eh}}catch(er){console.error("Error while updating popup data")}}),e_=(0,eh.hg)("user/onBoarding",async function(er,eo){try{return er}catch(er){console.error("Error while updating onboarding data")}}),ew=(0,eh.hg)("user/toggleColorMode",async function(er,eo){let{colorMode:ec}=er,eh=eo.getState(),{isSignedIn:ef}=eh.user;if(window.localStorage.setItem("colorMode",ec),!ef)return{colorMode:ec};{let{uid:er}=eh.user.user;try{await (0,ep.x5)({colorMode:ec,uid:er})}catch(er){console.error(er)}return{colorMode:ec}}});(0,eh.hg)("user/showModal",async function(er){});let ex=(0,eh.hg)("user/addXp",async function(er,eo){var ec,eh;let{xP:ef,challengeName:eg,chapterName:em,courseName:ey}=er,{user:ev}=eo.getState(),{isSignedIn:e_}=ev;if(eo.dispatch(eA({totalXp:null===(eh=ev.user)||void 0===eh?void 0:null===(ec=eh.stats)||void 0===ec?void 0:ec.totalXp})),!e_)return{xP:ef,courseName:ey,challengeName:eg,chapterName:em,isSignedIn:!1};{let er=ev.user,{uid:eo}=er;return await (0,ep.Vu)({uid:eo,courseName:ey,chapterName:em,challengeName:eg,xP:ef}),{xP:ef,courseName:ey,chapterName:em,challengeName:eg,isSignedIn:!0}}}),ek=(0,eh.hg)("user/streak",async function(er,eo){let{user:ec}=eo.getState(),{isSignedIn:eh}=ec;if(!eh)return{noUpdate:!0,currentStreak:1,longestStreak:1,datesVisited:[]};{let er=ec.user,{uid:eo}=er,{currentStreak:eh,longestStreak:ef,datesVisited:eg}=await (0,ep.z2)({uid:eo});return{currentStreak:eh,longestStreak:ef,datesVisited:eg}}}),eS=(0,eh.hg)("user/updateUsername",async function(er,eo){let{username:ec}=er,{user:eh}=eo.getState();if(!eh.isSignedIn)return{username:"Your name"};{let{uid:er}=eh.user;try{localStorage.setItem("username",ec),await (0,ep.$q)({username:ec,uid:er})}catch(er){console.log("Failed to update username")}return{username:ec}}}),eC=(0,eh.hg)("user/updateCharacterModel",async function(er,eo){let{characterModelIndex:ec}=er,{user:eh}=eo.getState();if(!eh.isSignedIn)return{characterModelIndex:ec};{let{uid:er}=eh.user;try{return await (0,ep.Oq)({characterModelIndex:ec,uid:er}),{characterModelIndex:ec}}catch(er){console.log("Failed to update user character model!")}}}),eI=(0,eh.hg)("user/clubPausedStatus",async function(er){try{let er=await (0,em.JC)();return er}catch(er){return console.error(er),!1}}),eE=(0,eh.hg)("user/clubStatus",async function(er){try{let er=await (0,ef.F)();return er}catch(er){return console.error(er),er}}),eT=(0,eh.hg)("user/isAdminStatus",async function(er){try{let er=await (0,em.i5)();return er}catch(er){return console.error(er),!1}}),eN=(0,eh.hg)("user/isEducatorStatus",async function(er){try{let er=await (0,em.Rb)();if("free"===er||"paid"===er)return!0}catch(er){return!1}}),eA=(0,eh.hg)("user/getUnlockableItems",async function(er){let{uid:eo,totalXp:ec}=er;try{let er=function(er){let{uid:eo,totalXp:ec}=er;if(!ec)return{duck:!1,editorColorThemes:!1,aiBot:!1};try{let er={};for(let eo in ey)ec>=Number(eo)?er[ey[eo]]=!0:er[ey[eo]]=!1;return er}catch(er){return{duck:!1,editorColorThemes:!1,aiBot:!1}}}({uid:eo,totalXp:ec});return er}catch(er){return console.error(er),{aiBot:!1,duck:!1,editorColorThemes:!1}}}),eO=(0,eh.hg)("user/fetchUser",async function(er,eo){try{var ec,eh;if(!er)return eo.rejectWithValue({refetchUser:!0});let ef=await (0,ep.PR)(er);if(!ef.user||(eo.dispatch(eE()),eo.dispatch((0,eg.e)({uid:null==er?void 0:er.uid})),eo.dispatch(eT()),eo.dispatch(eN()),eo.dispatch(eI()),eo.dispatch(eA({uid:null==er?void 0:er.uid,totalXp:null==ef?void 0:null===(eh=ef.user)||void 0===eh?void 0:null===(ec=eh.stats)||void 0===ec?void 0:ec.totalXp})),!ef.user))return eo.rejectWithValue({refetchUser:!0});{localStorage.setItem("photoURL",ef.user.photoURL||""),localStorage.setItem("username",ef.user.username||"");let er=await (0,em.sS)(),eo=await (0,em.Pv)();return{user:ef.user,isPaypal:er,isGeneralAssemblyStudent:eo}}}catch(er){return console.error(er),eo.rejectWithValue({refetchUser:!0})}}),eP=(0,eh.hg)("user/updateCodeEditorTheme",async function(er,eo){let{codeEditorTheme:ec}=er;try{let{user:er}=eo.getState();if(!er.isSignedIn)return{codeEditorTheme:ec};{let{uid:eo}=er.user;return await (0,ep.HI)({uid:eo,codeEditorTheme:ec}),localStorage.setItem("codeEditorTheme",ec),{codeEditorTheme:ec}}}catch(er){console.error("Error while updating code editor theme."),console.error(er)}}),eM=(0,eh.hg)("user/updateProfile",async function(er,eo){let{data:ec}=er;try{let{user:er}=eo.getState();if(!er.isSignedIn)return null;{let{uid:eo}=er.user;return await (0,ep.jr)({uid:eo,data:ec}),ec}}catch(er){console.error("Thunk error: something went wrong while updating user's socials")}}),eR=(0,eh.hg)("user/updateAvatar",async function(er,eo){let{file:ec}=er;try{let{user:er}=eo.getState();if(!er.isSignedIn)return{photoURL:"/images/default-profile-pic.jpg"};{let{uid:eo}=er.user,{photoURL:eh}=await (0,ep.RO)({uid:eo,file:ec});if(eh)return{photoURL:eh};return{photoURL:"/images/default-profile-pic.jpg"}}}catch(er){console.error(er),console.error("Something went wrong in the thunk while updating user avatar.")}}),eD=function(){{let er=localStorage.getItem("colorMode");return er||"dark"}}(),ej={popup:{type:"",status:"hide",properties:{}},onboarding:{state:"idle",currentStep:0,totalSteps:0,properties:{}},isSignedIn:!1,isClub:!1,isPaused:!1,isAdmin:!1,isEducator:!1,isPaypalUser:!1,isGeneralAssemblyStudent:!1,refetchUser:!1,unlockableItems:{aiBot:{unlocked:!1,item:"aiBot",imageLink:"/images/unlockableItems/ai-bot-sprite.png",xpToUnlock:150},duck:{unlocked:!1,item:"duck",imageLink:"/images/unlockableItems/RubberDuck.png",xpToUnlock:35},editorColorThemes:{unlocked:!1,item:"editorColorThemes",imageLink:"/images/unlockableItems/editor-theme-brush.png",xpToUnlock:65}},user:{firstName:"coder",lastName:"friend",name:"user",username:"",uniqueUsername:"your-name",email:null,emailVerified:null,photoURL:null,uid:null,colorMode:eD,codeEditorTheme:"tomorrow-night-blue",roles:{isFree:!0,isCommunity:!1,isWorkshop:!1,isTrial:!1},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,socials:null,stats:{achievements:[],totalXp:0,courseXp:{python:{courseName:"python",courseXp:0},html:{courseName:"html",courseXp:0},css:{courseName:"css",courseXp:0},javascript:{courseName:"javascript",courseXp:0},"command-line":{courseName:"command-line",courseXp:0},"git-github":{courseName:"git-github",courseXp:0}},streaks:{currentStreak:1,longestStreak:1,datesVisited:[]},characterModelIndex:0},bio:"",school:"",work:"",location:"",skillset:[],metadata:{creationTime:""}},isLoadingUser:!1,error:{status:!1,message:{description:"",metadata:""}},loading:!1,loadingImage:!1},eL=(0,eh.oM)({name:"user",initialState:ej,reducers:{setSignIn(er,eo){er.user=eo.payload.user,er.isSignedIn=eo.payload.isSignedIn},setSignOut(er){er.user=ej.user,er.isSignedIn=!1,er.isClub=!1},setLoadingUser(er,eo){er.isLoadingUser=eo.payload.status}},extraReducers:er=>{er.addCase(ev.fulfilled,function(er,eo){er.popup=eo.payload}),er.addCase(e_.fulfilled,function(er,eo){er.onboarding=eo.payload}),er.addCase(eI.fulfilled,function(er,eo){er.isPaused=eo.payload}),er.addCase(eA.fulfilled,function(er,eo){for(let ec in eo.payload)er.unlockableItems[ec].unlocked=eo.payload[ec]}),er.addCase(eg.e.pending,function(er,eo){"object"!=typeof er.user.integrations&&(er.user.integrations={})}),er.addCase(eg.e.fulfilled,function(er,eo){er.user.integrations={...er.user.integrations,discord:eo.payload}}),er.addCase(eg.e.rejected,function(er,eo){"object"!=typeof er.user.integrations?er.user.integrations={discord:null}:er.user.integrations={...er.user.integrations,discord:null}}),er.addCase(ew.fulfilled,function(er,eo){er.user.colorMode=eo.payload.colorMode}),er.addCase(ew.rejected,function(er,eo){"light"===er.user.colorMode?er.user.colorMode="dark":er.user.colorMode="light"}),er.addCase(ex.pending,function(er,eo){er.loading=!0}),er.addCase(ex.fulfilled,function(er,eo){er.user.stats.totalXp+=Number(eo.payload.xP);let ec=er.user.stats.courseXp[eo.payload.courseName];ec?er.user.stats.courseXp[eo.payload.courseName].courseXp+=Number(eo.payload.xP):er.user.stats.courseXp[eo.payload.courseName]={courseName:eo.payload.courseName,courseXp:Number(eo.payload.xP)},er.loading=!1}),er.addCase(ex.rejected,function(er,eo){er.error.status=!0,er.error.message.description="Failed to add XP!"}),er.addCase(ek.fulfilled,function(er,eo){er.user.stats.streaks.currentStreak=eo.payload.currentStreak,er.user.stats.streaks.longestStreak=eo.payload.longestStreak,er.user.stats.streaks.datesVisited=eo.payload.datesVisited}),er.addCase(eS.pending,function(er,eo){}),er.addCase(eS.fulfilled,function(er,eo){er.user.username=eo.payload.username}),er.addCase(eS.rejected,function(er,eo){er.user.username="Your name",er.error.message.description="Problem with username update",er.error.status=!0}),er.addCase(eC.fulfilled,function(er,eo){er.user.stats.characterModelIndex=eo.payload.characterModelIndex}),er.addCase(eO.pending,function(er,eo){er.isLoadingUser=!0,er.error.status=!1}),er.addCase(eO.fulfilled,function(er,eo){var ec,eh;er.user=eo.payload.user,er.isPaypalUser=null===(ec=eo.payload)||void 0===ec?void 0:ec.isPaypal,er.isGeneralAssemblyStudent=null===(eh=eo.payload)||void 0===eh?void 0:eh.isGeneralAssemblyStudent,er.isSignedIn=!0,er.isLoadingUser=!1,er.refetchUser=!1}),er.addCase(eO.rejected,function(er,eo){er.error.message={metadata:eo.payload,description:"failed to fetch user from firebase"},er.error.status=!0,er.refetchUser=!0}),er.addCase(eE.pending,function(er,eo){er.isLoadingUser=!0}),er.addCase(eE.fulfilled,function(er,eo){er.isClub=eo.payload,er.isLoadingUser=!1}),er.addCase(eE.rejected,function(er,eo){er.isLoadingUser=!1,er.error.message={metadata:eo.payload,description:"failed to fetch user club status"},er.error.status=!0}),er.addCase(eT.pending,function(er,eo){er.isLoadingUser=!0}),er.addCase(eT.fulfilled,function(er,eo){er.isAdmin=eo.payload,er.isLoadingUser=!1}),er.addCase(eT.rejected,function(er,eo){er.isLoadingUser=!1,er.error.message={metadata:eo.payload,description:"failed to fetch user club status"},er.error.status=!0}),er.addCase(eN.fulfilled,function(er,eo){er.isEducator=eo.payload}),er.addCase(eP.fulfilled,function(er,eo){er.user.codeEditorTheme=eo.payload.codeEditorTheme}),er.addCase(eP.rejected,function(er,eo){er.user.codeEditorTheme="clouds"}),er.addCase(eM.pending,function(er,eo){er.loading=!0}),er.addCase(eM.fulfilled,function(er,eo){er.loading=!1,er.user={...er.user,...eo.payload,socials:{github:eo.payload.github,linkedin:eo.payload.linkedin,twitter:eo.payload.twitter}}}),er.addCase(eM.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Something went wrong while updating social links."}),er.addCase(eR.pending,function(er,eo){er.loadingImage=!0}),er.addCase(eR.fulfilled,function(er,eo){var ec;(null==eo?void 0:null===(ec=eo.payload)||void 0===ec?void 0:ec.photoURL)&&(er.user.photoURL=eo.payload.photoURL),er.loadingImage=!1}),er.addCase(eR.rejected,function(er,eo){er.loadingImage=!1,er.error.status=!0,er.error.message.description="Something went wrong while updating user avatar",er.user.photoURL="/images/default-profile-pic.jpg"})}}),{setSignIn:eU,setSignOut:eF,setLoadingUser:eV}=eL.actions;var eH=eL.reducer;function selectCurrentXp(er){try{var eo,ec,eh;return null===(eh=er.user)||void 0===eh?void 0:null===(ec=eh.user)||void 0===ec?void 0:null===(eo=ec.stats)||void 0===eo?void 0:eo.totalXp}catch(er){return 0}}function selectRefetchUser(er){return er.user.refetchUser}function selectCourseXp(er){let{courseName:eo}=er;return er=>{try{var ec,eh,ep,ef;return null===(ef=er.user)||void 0===ef?void 0:null===(ep=ef.user)||void 0===ep?void 0:null===(eh=ep.stats)||void 0===eh?void 0:null===(ec=eh.courseXp[eo])||void 0===ec?void 0:ec.courseXp}catch(er){return 0}}}function selectIsPaypal(er){return er.user.isPaypalUser}function selectUserName(er){try{var eo,ec,eh,ep;if(null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.username)return null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.username;return""}catch(er){return""}}function selectCurrentStreak(er){try{var eo,ec,eh,ep;let ef=null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:null===(ec=eh.stats)||void 0===ec?void 0:null===(eo=ec.streaks)||void 0===eo?void 0:eo.currentStreak;if(!ef)return 0;return ef}catch(er){return 0}}function selectIsUserSignedIn(er){try{return er.user.isSignedIn}catch(er){return!1}}function selectUserUidIfSignedIn(er){try{let eo=selectIsUserSignedIn(er);if(eo)return er.user.user.uid;return null}catch(er){return""}}function selectSignedInUser(er){try{return er.user.user}catch(er){return null}}function selectLoadingStateForUserSlice(er){try{return er.user.loading}catch(er){return!1}}function selectIsLoadingUser(er){try{return er.user.isLoadingUser}catch(er){return!1}}function selectCurrentCharacterModelIndex(er){try{return er.user.user.stats.characterModelIndex}catch(er){return 0}}function selectUserClubStatus(er){try{return er.user.isClub}catch(er){return!1}}function selectUserUid(er){try{if(er.user.isSignedIn)return er.user.user.uid;return null}catch(er){return null}}function selectUserCodeEditorTheme(er){try{{var eo,ec,eh,ep,ef,eg;let em=localStorage.getItem("codeEditorTheme");if(!em)return localStorage.setItem("codeEditorTheme",(null===(ep=er.user.user)||void 0===ep?void 0:ep.codeEditorTheme)||"tomorrow-night-blue"),(null===(eg=er.user)||void 0===eg?void 0:null===(ef=eg.user)||void 0===ef?void 0:ef.codeEditorTheme)||"tomorrow-night-blue";if(er.user.isSignedIn&&em!==(null===(eo=er.user.user)||void 0===eo?void 0:eo.codeEditorTheme))return localStorage.setItem("codeEditorTheme",null===(ec=er.user.user)||void 0===ec?void 0:ec.codeEditorTheme),(null===(eh=er.user.user)||void 0===eh?void 0:eh.codeEditorTheme)||"tomorrow-night-blue";return em}}catch(er){return"tomorrow-night-blue"}}function selectUserSocials(er){try{if(!er.user.isSignedIn)return null;{var eo,ec;let eh=null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.socials;if(!eh)return null;return eh}}catch(er){return null}}function selectUserFirstName(er){try{if(!er.user.isSignedIn)return null;{var eo,ec;let eh=null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.firstName;if(!eh)return"";return eh}}catch(er){return null}}function selectUserLastName(er){try{if(!er.user.isSignedIn)return null;{var eo,ec;let eh=null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.lastName;if(!eh)return"";return eh}}catch(er){return null}}function selectUserBio(er){try{var eo,ec,eh,ep;if(!er.user.isSignedIn)return null;if((null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.bio)===void 0)return"";{let eo=null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.bio;if(!eo)return"";return eo}}catch(er){return""}}function selectUserSchool(er){try{var eo,ec,eh;if(!er.user.isSignedIn)return null;if((null===(eo=er.user.user)||void 0===eo?void 0:eo.school)!==void 0)return null===(eh=er.user)||void 0===eh?void 0:null===(ec=eh.user)||void 0===ec?void 0:ec.school;return""}catch(er){return""}}function selectUserWork(er){try{var eo,ec,eh,ep;if(!er.user.isSignedIn)return"";if((null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.work)!==void 0)return null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.work;return""}catch(er){return""}}function selectUserProfileImage(er){try{var eo,ec,eh,ep;if(!er.user.isSignedIn||(null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.photoURL)===void 0)return"/images/default-profile-pic.jpg";{let eo=null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.photoURL;if(!eo)return"/images/default-profile-pic.jpg";return eo}}catch(er){return"/images/default-profile-pic.jpg"}}function selectUserLocation(er){try{var eo,ec,eh,ep;if(!er.user.isSignedIn)return null;if((null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.location)!==void 0)return(null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.location)||"";return""}catch(er){return""}}function selectLoadingWhileUpdatingProfile(er){try{if(er.user.isSignedIn)return er.user.loading}catch(er){return!1}}function selectLoadingForUserAvatar(er){try{if(er.user.isSignedIn)return er.user.loadingImage}catch(er){return!1}}function selectUsersName(er){try{if(er.user.isSignedIn){var eo,ec;return null==er?void 0:null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.name}}catch(er){return""}}function selectUserSkillset(er){try{if(er.user.isSignedIn){var eo,ec;return(null==er?void 0:null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.skillset)||[]}}catch(er){return[]}}function selectUserColorMode(er){var eo,ec,eh,ep;try{{let eh=window.localStorage.getItem("colorMode");if(eh)return eh;return(null==er?void 0:null===(ec=er.user)||void 0===ec?void 0:null===(eo=ec.user)||void 0===eo?void 0:eo.colorMode)||"dark"}}catch(eo){return(null===(ep=er.user)||void 0===ep?void 0:null===(eh=ep.user)||void 0===eh?void 0:eh.colorMode)||"dark"}}function selectUserAdminStatus(er){return er.user.isAdmin}function selectAllUnlockableItems(er){return er.user.unlockableItems}function selectUnlockableItem(er){return eo=>{try{return eo.user.unlockableItems[er]}catch(er){return!1}}}function selectUserPausedStatus(er){return er.user.isPaused}function selectGeneralAssemblyStudentStatus(er){return er.user.isGeneralAssemblyStudent}function selectUserEmail(er){return er.user.user.email}function selectPopupState(er){return er.user.popup}},99445:function(er,eo,ec){"use strict";ec.d(eo,{e:function(){return eg}});var eh=ec(77236),ep=ec(39828),ef=ec(92369);async function getUserDiscordData(er){let{uid:eo}=er,{firestore:ec}=(0,ef.UM)(),eh=(0,ep.hJ)(ec,"users",eo,"integrations"),eg=(0,ep.JU)(eh,"discord"),em=await (0,ep.QT)(eg);if(!em.exists())return null;{let{discordId:er,username:eo,discriminator:ec,avatar:eh}=em.data();return{discordId:er,username:eo,discriminator:ec,avatar:eh}}}let eg=(0,eh.hg)("user/fetchUserDiscordData",async function(er){let{uid:eo}=er;if(!eo)return null;let ec=await getUserDiscordData({uid:eo});return null!==ec?ec:null})},92614:function(er,eo,ec){"use strict";ec.d(eo,{Bl:function(){return eg},_L:function(){return em},bt:function(){return selectAllUserCodeChallenges},k5:function(){return selectUserCodeChallengeStatus},nN:function(){return selectUserCodeChallengeStatusForAPack},sg:function(){return ey}});var eh=ec(77236),ep=ec(66602),ef=ec(95986);let eg=(0,eh.hg)("userCodeChallenges/fetchCodeChallengesDataForUser",async(er,eo)=>{let{uid:ec}=er,eh=await (0,ep.C)({uid:ec});if(null!=eh)return eh;eo.rejectWithValue({status:"error",message:{description:"state-not-found"}})}),em=(0,eh.hg)("userCodeChallenges/loadChallengeState",async(er,eo)=>{var ec,eh,ef,eg;let{packName:em,challengeName:ey}=er,ev=eo.getState(),e_=null===(eh=ev.user)||void 0===eh?void 0:null===(ec=eh.user)||void 0===ec?void 0:ec.uid;if(e_){let{pack:er,challenge:eo,status:ec,code:eh}=await (0,ep.S3)({uid:e_,challengeName:ey,packName:em});return{pack:er,challenge:eo,status:ec,code:eh}}let ew=null===(eg=ev.userCodeChallenges)||void 0===eg?void 0:null===(ef=eg.packs[em])||void 0===ef?void 0:ef.find(er=>er.challenge===ey);return ew||{pack:em,challenge:ey,status:"opened"}}),ey=(0,eh.hg)("userCodeChallenges/updateChallengeState",async(er,eo)=>{var ec,eh;let{packName:eg,challengeName:em,status:ey,xp:ev}=er,e_=eo.getState(),ew=null===(eh=e_.user)||void 0===eh?void 0:null===(ec=eh.user)||void 0===ec?void 0:ec.uid;return ew?("completed"===ey&&await (0,ep.dp)({uid:ew,challengeName:em,xp:ev}),await (0,ep.mK)({uid:ew,challengeName:em,status:ey})):"completed"===ey&&eo.dispatch((0,ef.ol)(!0)),{pack:eg,challenge:em,status:ey}}),ev=(0,eh.oM)({name:"userCodeChallenges",initialState:{loadingState:!1,error:!1,packs:{}},reducers:{},extraReducers:er=>{er.addCase(eg.pending,er=>{er.loadingState=!0}),er.addCase(eg.fulfilled,(er,eo)=>{er.packs=eo.payload.packs}),er.addCase(eg.rejected,er=>{er.error=!0}),er.addCase(ey.pending,(er,eo)=>{er.loadingState=!0}),er.addCase(ey.fulfilled,(er,eo)=>{let{pack:ec,challenge:eh,status:ep}=eo.payload;if(er.packs[ec]){let eo=er.packs[ec].find(er=>er.challenge===eh);eo?eo.status=ep:er.packs[ec]=[...er.packs[ec],{challenge:eh,status:ep,code:{},pack:ec}]}else er.packs[ec]=[{challenge:eh,status:ep,code:{},pack:ec}]}),er.addCase(ey.rejected,(er,eo)=>{er.error=!0}),er.addCase(em.pending,(er,eo)=>{er.loadingState=!0}),er.addCase(em.fulfilled,(er,eo)=>{er.loadingState=!1;let{pack:ec,challenge:eh,status:ep}=eo.payload;if(er.packs[ec]){let eo=er.packs[ec].find(er=>er.challenge===eh);eo||(er.packs[ec]=[...er.packs[ec],{challenge:eh,status:ep,code:{},pack:ec}])}else er.packs[ec]=[{challenge:eh,status:ep,code:{},pack:ec}]})}});function selectAllUserCodeChallenges(er){return er.userCodeChallenges.packs}function selectUserCodeChallengeStatusForAPack(er){let{packName:eo}=er;return function(er){try{let ec=er.userCodeChallenges.packs[eo];return ec}catch(er){return console.error(er),null}}}function selectUserCodeChallengeStatus(er){let{packName:eo,challengeName:ec}=er;return function(er){try{let eh=er.userCodeChallenges.packs[eo],ep=eh.find(er=>{let{challenge:eo}=er;return eo===ec});if(ep)return ep.status;return"opened"}catch(ep){let eh=er.user.isSignedIn;if(!eh)return"opened";return fetch("/api/code-challenges/init",{method:"POST",body:JSON.stringify({packName:eo,challengeName:ec})}),"opened"}}}eo.ZP=ev.reducer},43807:function(er,eo,ec){"use strict";ec.d(eo,{ql:function(){return e5},lZ:function(){return e4},ZP:function(){return ta},iC:function(){return e2},dK:function(){return e3},O4:function(){return e8},Ai:function(){return selectChapterProgress},lu:function(){return selectChosenCheckpointProject},zE:function(){return selectCompletedBonusArticlesForACourse},Wj:function(){return selectCurrentChallenge},hH:function(){return selectIndividualCourseCompleted},k9:function(){return selectLoadingForSignedInUser},vG:function(){return selectResumeLink},y3:function(){return selectTotalCompleted},cC:function(){return selectUserAllCourseBadges},k7:function(){return selectUserCurrentCourseBadges},D8:function(){return selectUserProgressLoading},lY:function(){return to},lv:function(){return e6},w$:function(){return e9}});var eh=ec(77236),ep=ec(51194),ef=ec(47922),eg=ec(39828),em=ec(92369),ey=ec(98887);let{firestore:ev,analytics:e_}=(0,em.UM)(),ew=(0,eg.hJ)(ev,"userProgressCollection");async function updateChallengeStatus(er){let{uid:eo,chapterName:ec,challengeName:eh,status:ep,courseName:em,isGeneralAssemblyStudent:ev}=er;if(!0!==["locked","start","open","complete"].includes(ep))throw Error("Status not found!");try{let er=(0,eg.JU)(ew,eo),ex=await (0,eg.QT)(er);if(ex.exists()){let ew=(0,eg.JU)(er,"courses",em,"chapters",ec),ex=await (0,eg.QT)(ew);if(ex.exists()){if(void 0!=ex.data().challenges[eh]){if("complete"===ex.data().challenges[eh].status)return{uid:eo,chapterName:ec,challengeName:eh,status:ep,updatedChapterDoc:ex.data(),skipXp:!0};await (0,eg.r7)(ew,{["challenges.".concat(eh,".status")]:ep})}else await (0,eg.r7)(ew,{["challenges.".concat(eh)]:{challengeName:eh,status:ep}});if(ev&&"complete"===ep)try{await fetch("/api/ga/track",{method:"POST",body:JSON.stringify({uid:eo,challengeName:eh,courseName:em}),headers:{"Content-Type":"application/json"}})}catch(er){}let er=localStorage.getItem("".concat(eo,"-").concat(em));if(er){let eg=JSON.parse(er);eg&&(eg.chapters[ec].challenges[eh]={status:ep,challengeName:eh},localStorage.setItem("".concat(eo,"-").concat(em),JSON.stringify(eg))),await (0,ef._E)({uid:eo})}e_&&(0,ey.logEvent)(e_,"update_challenge_status",{courseName:em,challengeName:eh,status:ep,uid:eo})}else throw Error("Chapter ".concat(ec," not found!"));let ek=await (0,eg.QT)(ew),eS=ek.data();return{uid:eo,chapterName:ec,challengeName:eh,status:ep,updatedChapterDoc:eS}}throw Error("User Progress not found!")}catch(er){console.log(er)}}async function addBadge(er){let{courseName:eo,badge:ec,uid:eh}=er,ep=(0,eg.JU)(ew,eh),ef=await (0,eg.QT)(ep);if(ef.exists()){let er=(0,eg.hJ)(ep,"courses"),ef=(0,eg.JU)(er,eo),em=await (0,eg.QT)(ef),ey=em.data();return ey.badgesEarned.includes(ec)||await (0,eg.r7)(ef,{badgesEarned:(0,eg.vr)(ec)}),{badge:ec,uid:eh,courseName:eo}}}async function updateBonusArticleState(er){let{courseName:eo,articleName:ec,uid:eh}=er,ep=(0,eg.JU)(ew,eh),ef=await (0,eg.QT)(ep);if(ef.exists()){var em;let er=(0,eg.hJ)(ep,"courses"),ef=(0,eg.JU)(er,eo),ey=await (0,eg.QT)(ef),ev=ey.data();return(null==ev?void 0:null===(em=ev.bonusArticlesRead)||void 0===em?void 0:em.includes(ec))||await (0,eg.r7)(ef,{bonusArticlesRead:(0,eg.vr)(ec)}),{articleName:ec,uid:eh,courseName:eo}}}var ex=ec(26245);let ek={courseName:"python",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-setting-up"},eS={"hello-world":{chapterName:"hello-world",challenges:{"setting-up":{challengeName:"setting-up",status:"start"},"hello-world":{challengeName:"hello-world",status:"locked"},pattern:{challengeName:"pattern",status:"locked"},initials:{challengeName:"initials",status:"locked"},"snail-mail":{challengeName:"snail-mail",status:"locked"}}},variables:{chapterName:"variables",challenges:{"data-types":{challengeName:"data-types",status:"start"},temperature:{challengeName:"temperature",status:"locked"},bmi:{challengeName:"bmi",status:"locked"},pythagorean:{challengeName:"pythagorean",status:"locked"},currency:{challengeName:"currency",status:"locked"}}},"control-flow":{chapterName:"control-flow",challenges:{"coin-flip":{challengeName:"coin-flip",status:"start"},grades:{challengeName:"grades",status:"locked"},"ph-levels":{challengeName:"ph-levels",status:"locked"},"magic-8-ball":{challengeName:"magic-8-ball",status:"locked"},"the-cyclone":{challengeName:"the-cyclone",status:"locked"},"sorting-hat":{challengeName:"sorting-hat",status:"locked"}}},loops:{chapterName:"loops",challenges:{"enter-pin":{challengeName:"enter-pin",status:"start"},"guess-number":{challengeName:"guess-number",status:"locked"},detention:{challengeName:"detention",status:"locked"},"99-bottles":{challengeName:"99-bottles",status:"locked"},"fizz-buzz":{challengeName:"fizz-buzz",status:"locked"}}},lists:{chapterName:"lists",challenges:{grocery:{challengeName:"grocery",status:"start"},"to-do":{challengeName:"to-do",status:"locked"},inventory:{challengeName:"inventory",status:"locked"},"reading-list":{challengeName:"reading-list",status:"locked"},mixtape:{challengeName:"mixtape",status:"locked"},"bucket-list":{challengeName:"bucket-list",status:"locked"}}},functions:{chapterName:"functions",challenges:{dry:{challengeName:"dry",status:"start"},"fortune-cookie":{challengeName:"fortune-cookie",status:"locked"},"mars-orbiter":{challengeName:"mars-orbiter",status:"locked"},calculator:{challengeName:"calculator",status:"locked"},stonks:{challengeName:"stonks",status:"locked"},"drive-thru":{challengeName:"drive-thru",status:"locked"}}},"classes-and-objects":{chapterName:"classes-and-objects",challenges:{restaurants:{challengeName:"restaurants",status:"start"},"bobs-burgers":{challengeName:"bobs-burgers",status:"locked"},"favorite-cities":{challengeName:"favorite-cities",status:"locked"},"bank-accounts":{challengeName:"bank-accounts",status:"locked"},pokedex:{challengeName:"pokedex",status:"locked"}}},modules:{chapterName:"modules",challenges:{"slot-machine":{challengeName:"slot-machine",status:"start"},countdown:{challengeName:"countdown",status:"locked"},"solar-system":{challengeName:"solar-system",status:"locked"},"forty-two":{challengeName:"forty-two",status:"locked"},"zen-of-python":{challengeName:"zen-of-python",status:"locked"}}}},eC={courseName:"html",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-shooting-star"},eI={elements:{chapterName:"elements",challenges:{"shooting-star":{challengeName:"shooting-star",status:"start"},elemental:{challengeName:"elemental",status:"locked"},newspaper:{challengeName:"newspaper",status:"locked"},"corporate-talk":{challengeName:"corporate-talk",status:"locked"},"sous-chef":{challengeName:"sous-chef",status:"locked"},"lost-pet":{challengeName:"lost-pet",status:"locked"},"favorite-band":{challengeName:"favorite-band",status:"locked"}}},structure:{chapterName:"structure",challenges:{blueprint:{challengeName:"blueprint",status:"start"},"family-tree":{challengeName:"family-tree",status:"locked"},"craigslist-ad":{challengeName:"craigslist-ad",status:"locked"},"wiki-article":{challengeName:"wiki-article",status:"locked"},"lorem-ipsum":{challengeName:"lorem-ipsum",status:"locked"},"power-rangers":{challengeName:"power-rangers",status:"locked"},"myspace-top-8":{challengeName:"myspace-top-8",status:"locked"}}},forms:{chapterName:"forms",challenges:{google:{challengeName:"google",status:"start"},"sign-up-v1":{challengeName:"sign-up-v1",status:"locked"},"sign-up-v2":{challengeName:"sign-up-v2",status:"locked"},rsvp:{challengeName:"rsvp",status:"locked"},"contact-us":{challengeName:"contact-us",status:"locked"},welp:{challengeName:"welp",status:"locked"}}},"semantic-html":{chapterName:"semantic-html",challenges:{"personal-blog":{challengeName:"personal-blog",status:"start"},"the-header":{challengeName:"the-header",status:"locked"},"main-footer":{challengeName:"main-footer",status:"locked"},"blog-posts":{challengeName:"blog-posts",status:"locked"},figures:{challengeName:"figures",status:"locked"},"final-touches":{challengeName:"final-touches",status:"locked"}}}},eE={courseName:"css",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-picasso"},eT={selectors:{chapterName:"selectors",challenges:{picasso:{challengeName:"picasso",status:"start"},stylin:{challengeName:"stylin",status:"start"},syntax:{challengeName:"syntax",status:"locked"},"selectors-1":{challengeName:"selectors-1",status:"locked"},"selectors-2":{challengeName:"selectors-2",status:"locked"},"concert-flyer":{challengeName:"concert-flyer",status:"locked"}}},properties:{chapterName:"properties",challenges:{rainbow:{challengeName:"rainbow",status:"start"},measurements:{challengeName:"measurements",status:"locked"},"five-families":{challengeName:"five-families",status:"locked"},spellcheck:{challengeName:"spellcheck",status:"locked"},wallpaper:{challengeName:"wallpaper",status:"locked"},shorthands:{challengeName:"shorthands",status:"locked"},invitation:{challengeName:"invitation",status:"locked"}}},"box-model":{chapterName:"box-model",challenges:{inspection:{challengeName:"inspection",status:"start"},"profile-status":{challengeName:"profile-status",status:"locked"},"wiggle-room":{challengeName:"wiggle-room",status:"locked"},"spaced-out":{challengeName:"spaced-out",status:"locked"},"make-it-count":{challengeName:"make-it-count",status:"locked"},"local-library":{challengeName:"local-library",status:"locked"}}},layout:{chapterName:"layout",challenges:{"lines-and-blocks":{challengeName:"lines-and-blocks",status:"start"},"go-with-the-flow":{challengeName:"go-with-the-flow",status:"locked"},"its-all-relative":{challengeName:"its-all-relative",status:"locked"},"absolute-removal":{challengeName:"absolute-removal",status:"locked"},"fixed-banner":{challengeName:"fixed-banner",status:"locked"},"sticky-elements":{challengeName:"sticky-elements",status:"locked"},"art-gallery":{challengeName:"art-gallery",status:"locked"}}}},eN={courseName:"javascript",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-setting-up"},eA={"the-console":{chapterName:"the-console",challenges:{"setting-up":{challengeName:"setting-up",status:"start"},"the-console":{challengeName:"the-console",status:"locked"},"letter-tree":{challengeName:"letter-tree",status:"locked"},"secret-recipe":{challengeName:"secret-recipe",status:"locked"},"time-capsule":{challengeName:"time-capsule",status:"locked"},receipt:{challengeName:"receipt",status:"locked"}}},variables:{chapterName:"variables",challenges:{"let-const":{challengeName:"let-const",status:"start"},"data-types":{challengeName:"data-types",status:"locked"},temperature:{challengeName:"temperature",status:"locked"},bmi:{challengeName:"bmi",status:"locked"},"planet-weight":{challengeName:"planet-weight",status:"locked"}}},conditionals:{chapterName:"conditionals",challenges:{"coin-flip":{challengeName:"coin-flip",status:"start"},"good-morning":{challengeName:"good-morning",status:"locked"},"good-afternoon":{challengeName:"good-afternoon",status:"locked"},"ph-levels":{challengeName:"ph-levels",status:"locked"},"magic-8-ball":{challengeName:"magic-8-ball",status:"locked"},"air-quality-index":{challengeName:"air-quality-index",status:"locked"},"rock-paper-scissors":{challengeName:"rock-paper-scissors",status:"locked"}}},loops:{chapterName:"loops",challenges:{"duck-duck-goose":{challengeName:"duck-duck-goose",status:"start"},"lucky-number":{challengeName:"lucky-number",status:"locked"},"not-tell-lies":{challengeName:"not-tell-lies",status:"locked"},"even-the-odds":{challengeName:"even-the-odds",status:"locked"},"based-numbers":{challengeName:"based-numbers",status:"locked"}}},arrays:{chapterName:"arrays",challenges:{"five-boroughs":{challengeName:"five-boroughs",status:"start"},"grocery-trip":{challengeName:"grocery-trip",status:"locked"},"times-tables":{challengeName:"times-tables",status:"locked"},"music-playlist":{challengeName:"music-playlist",status:"locked"},"wheres-waldo":{challengeName:"wheres-waldo",status:"locked"},dna:{challengeName:"dna",status:"locked"}}},functions:{chapterName:"functions",challenges:{greetings:{challengeName:"greetings",status:"start"},"blast-off":{challengeName:"blast-off",status:"locked"},"e-mc-2":{challengeName:"e-mc-2",status:"locked"},clout:{challengeName:"clout",status:"locked"},palindrome:{challengeName:"palindrome",status:"locked"}}},objects:{chapterName:"objects",challenges:{"pizza-party":{challengeName:"pizza-party",status:"start"},"dream-car":{challengeName:"dream-car",status:"locked"},pokemon:{challengeName:"pokemon",status:"locked"},"animal-farm":{challengeName:"animal-farm",status:"locked"},"round-trip":{challengeName:"round-trip",status:"locked"}}},trifecta:{chapterName:"trifecta",challenges:{"green-light-go":{challengeName:"green-light-go",status:"start"},"the-dom":{challengeName:"the-dom",status:"locked"},"hotline-bling":{challengeName:"hotline-bling",status:"locked"},"mood-ring":{challengeName:"mood-ring",status:"locked"},"chill-pill":{challengeName:"chill-pill",status:"locked"},"cap-that":{challengeName:"cap-that",status:"locked"}}}},eO={courseName:"command-line",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-in-the-beginning"},eP={navigation:{chapterName:"navigation",challenges:{"in-the-beginning":{challengeName:"in-the-beginning",status:"start"},filesystem:{challengeName:"filesystem",status:"locked"},"moving-day":{challengeName:"moving-day",status:"locked"},"house-tour":{challengeName:"house-tour",status:"locked"},"clean-slate":{challengeName:"clean-slate",status:"locked"},"scavenger-hunt":{challengeName:"scavenger-hunt",status:"locked"}}},manipulation:{chapterName:"manipulation",challenges:{recipes:{challengeName:"recipes",status:"start"},"cuisine-type":{challengeName:"cuisine-type",status:"locked"},"grilled-cheese":{challengeName:"grilled-cheese",status:"locked"},"move-around":{challengeName:"move-around",status:"locked"},"copy-that":{challengeName:"copy-that",status:"locked"},"music-playlists":{challengeName:"music-playlists",status:"locked"}}}},eM={courseName:"git-github",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-introduction"},eR={"your-first-repo":{chapterName:"your-first-repo",challenges:{introduction:{challengeName:"introduction",status:"start"},repositories:{challengeName:"repositories",status:"locked"},"git-commands":{challengeName:"git-commands",status:"locked"},"git-workflow":{challengeName:"git-workflow",status:"locked"},"local-push":{challengeName:"local-push",status:"locked"},"read-me":{challengeName:"read-me",status:"locked"}}},"exploring-repos":{chapterName:"exploring-repos",challenges:{"git-clone":{challengeName:"git-clone",status:"start"},"branch-out":{challengeName:"branch-out",status:"locked"},"git-and-teams":{challengeName:"git-and-teams",status:"locked"},merges:{challengeName:"merges",status:"locked"},"pull-requests":{challengeName:"pull-requests",status:"locked"},yearbook:{challengeName:"yearbook",status:"locked"}}}},eD={courseName:"framework-valley-react",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-first-reaction"},ej={"first-react-app":{chapterName:"first-react-app",challenges:{"first-reaction":{challengeName:"first-reaction",status:"start"},"our-workstation":{challengeName:"our-workstation",status:"locked"},"writing-react":{challengeName:"writing-react",status:"locked"},"building-blocks":{challengeName:"building-blocks",status:"locked"},"social-post":{challengeName:"social-post",status:"locked"}}},"jsx-&-components":{chapterName:"jsx-&-components",challenges:{"band-tour":{challengeName:"band-tour",status:"start"},"embedded-js":{challengeName:"embedded-js",status:"locked"},"travel-gallery":{challengeName:"travel-gallery",status:"locked"},"hot-takes-pt-1":{challengeName:"hot-takes-pt-1",status:"locked"},"hot-takes-pt-2":{challengeName:"hot-takes-pt-2",status:"locked"}}},"props-&-state":{chapterName:"props-&-state",challenges:{"giving-props":{challengeName:"giving-props",status:"start"},notifications:{challengeName:"notifications",status:"locked"},stopwatch:{challengeName:"stopwatch",status:"locked"},quiz:{challengeName:"quiz",status:"locked"},"trending-now":{challengeName:"trending-now",status:"locked"}}},events:{chapterName:"events",challenges:{"online-shopping":{challengeName:"online-shopping",status:"start"},tooltips:{challengeName:"tooltips",status:"locked"},"a-focus-in-art":{challengeName:"a-focus-in-art",status:"locked"},"noise-levels":{challengeName:"noise-levels",status:"locked"},waterfest:{challengeName:"waterfest",status:"locked"}}},forms:{chapterName:"forms",challenges:{newsletter:{challengeName:"newsletter",status:"start"},"high-score-i":{challengeName:"high-score-i",status:"locked"},"high-score-ii":{challengeName:"high-score-ii",status:"locked"},"animal-rescue":{challengeName:"animal-rescue",status:"locked"},haiku:{challengeName:"haiku",status:"locked"},"travel-log":{challengeName:"travel-log",status:"locked"}}},hooks:{chapterName:"hooks",challenges:{"cookie-clicker":{challengeName:"cookie-clicker",status:"start"},"color-effects-i":{challengeName:"color-effects-i",status:"locked"},"color-effects-ii":{challengeName:"color-effects-ii",status:"locked"},barbenheimer:{challengeName:"barbenheimer",status:"locked"},"kanban-board":{challengeName:"kanban-board",status:"locked"}}},"data-fetching":{chapterName:"data-fetching",challenges:{"our-universe":{challengeName:"our-universe",status:"start"},"now-loading":{challengeName:"now-loading",status:"locked"},"i-am-error":{challengeName:"i-am-error",status:"locked"},"data-evolution":{challengeName:"data-evolution",status:"locked"},"book-finder":{challengeName:"book-finder",status:"locked"}}},routing:{chapterName:"routing",challenges:{"know-your-routes":{challengeName:"know-your-routes",status:"start"},bowser:{challengeName:"bowser",status:"locked"},"paper-route":{challengeName:"paper-route",status:"locked"},"link-to-the-path":{challengeName:"link-to-the-path",status:"locked"},ponoplayer:{challengeName:"ponoplayer",status:"locked"}}}},eL={courseName:"numpy",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-the-notebook"},eU={"dear-data":{chapterName:"dear-data",challenges:{"the-notebook":{challengeName:"the-notebook",status:"start"},import:{challengeName:"import",status:"locked"},notifications:{challengeName:"notifications",status:"locked"},population:{challengeName:"population",status:"locked"},"bad-eggs":{challengeName:"bad-eggs",status:"locked"},"dear-data":{challengeName:"dear-data",status:"locked"}}},"basic-operations":{chapterName:"basic-operations",challenges:{"tallest-building":{challengeName:"tallest-building",status:"start"},"walking-steps":{challengeName:"walking-steps",status:"locked"},"shape-of-you":{challengeName:"shape-of-you",status:"locked"},"halleys-comet":{challengeName:"halleys-comet",status:"locked"},titanic:{challengeName:"titanic",status:"locked"}}}},eF={courseName:"intermediate-python",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-hi-bestie"},eV={"data-structures":{chapterName:"data-structures",challenges:{"hi-bestie":{challengeName:"hi-bestie",status:"start"},"find-my-friends":{challengeName:"find-my-friends",status:"locked"},"met-museum":{challengeName:"met-museum",status:"locked"},"fruit-cart":{challengeName:"fruit-cart",status:"locked"},"post-game-stats":{challengeName:"post-game-stats",status:"locked"}}},"file-and-error-handling":{chapterName:"file-and-error-handling",challenges:{"dear-diary":{challengeName:"dear-diary",status:"start"},"the-file-realm":{challengeName:"the-file-realm",status:"locked"},"uncharted-files":{challengeName:"uncharted-files",status:"locked"},bestsellers:{challengeName:"bestsellers",status:"locked"},"packing-list":{challengeName:"packing-list",status:"locked"}}},"functional-programming":{chapterName:"functional-programming",challenges:{"full-circle":{challengeName:"full-circle",status:"start"},hola:{challengeName:"hola",status:"locked"},grammys:{challengeName:"grammys",status:"locked"},"mental-math":{challengeName:"mental-math",status:"locked"},"so-random":{challengeName:"so-random",status:"locked"}}},testing:{chapterName:"testing",challenges:{"test-run":{challengeName:"test-run",status:"start"},assertions:{challengeName:"assertions",status:"locked"},unexpected:{challengeName:"unexpected",status:"locked"},"wealth-manager":{challengeName:"wealth-manager",status:"locked"},caffeinated:{challengeName:"caffeinated",status:"locked"}}}},eH={courseName:"sql",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-introduction"},eB={queries:{chapterName:"queries",challenges:{introduction:{challengeName:"introduction",status:"start"},select:{challengeName:"select",status:"locked"},"streaming-wars":{challengeName:"streaming-wars",status:"locked"},"rotten-tomatoes":{challengeName:"rotten-tomatoes",status:"locked"},like:{challengeName:"like",status:"locked"},"golden-age":{challengeName:"golden-age",status:"locked"},"order-by":{challengeName:"order-by",status:"locked"},"nyc-restaurants":{challengeName:"nyc-restaurants",status:"locked"}}},aggregates:{chapterName:"aggregates",challenges:{"music-playlist":{challengeName:"music-playlist",status:"start"},"counting-rows":{challengeName:"counting-rows",status:"locked"},"old-&-new":{challengeName:"old-&-new",status:"locked"},"total-playtime":{challengeName:"total-playtime",status:"locked"},"billboard-hot-100":{challengeName:"billboard-hot-100",status:"locked"},"group-by":{challengeName:"group-by",status:"locked"},"video-games":{challengeName:"video-games",status:"locked"}}},"new-table":{chapterName:"new-table",challenges:{"create-table":{challengeName:"create-table",status:"start"},"insert-into":{challengeName:"insert-into",status:"locked"},"alter-table":{challengeName:"alter-table",status:"locked"},"update-set":{challengeName:"update-set",status:"locked"},"delete-from":{challengeName:"delete-from",status:"locked"},bffs:{challengeName:"bffs",status:"locked"}}}},eq={courseName:"intermediate-javascript",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-introduction"},ez={ecmascript:{chapterName:"ecmascript",challenges:{introduction:{challengeName:"introduction",status:"start"},"arrow-logic":{challengeName:"arrow-logic",status:"locked"},"99-bottles":{challengeName:"99-bottles",status:"locked"},"most-streamed-songs":{challengeName:"most-streamed-songs",status:"locked"},"pack-your-bags":{challengeName:"pack-your-bags",status:"locked"},"reading-lists":{challengeName:"reading-lists",status:"locked"}}},"async-js":{chapterName:"async-js",challenges:{"on-the-side":{challengeName:"on-the-side",status:"start"},"subscribe-button":{challengeName:"subscribe-button",status:"locked"},"random-numbers":{challengeName:"random-numbers",status:"locked"},jokebook:{challengeName:"jokebook",status:"locked"},"trivia-night":{challengeName:"trivia-night",status:"locked"},"cosmic-birthday":{challengeName:"cosmic-birthday",status:"locked"}}}},eW={courseName:"p5js",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-your-first-canvas"},e$={"canvas-elements":{chapterName:"canvas-elements",challenges:{"your-first-canvas":{challengeName:"your-first-canvas",status:"start"},"brat-summer":{challengeName:"brat-summer",status:"locked"},"the-shape-tool":{challengeName:"streaming-wars",status:"locked"},"motion-picture":{challengeName:"motion-picture",status:"locked"},wasd:{challengeName:"wasd",status:"locked"},breakout:{challengeName:"breakout",status:"locked"}}}},eG={courseName:"cpp",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-the-program"},eK={"hello-world":{chapterName:"hello-world",challenges:{"the-program":{challengeName:"the-program",status:"start"},howdy:{challengeName:"howdy",status:"locked"},"see-ya-later-alligator":{challengeName:"see-ya-later-alligator",status:"locked"},"ouija-board":{challengeName:"ouija-board",status:"locked"},"sign-bunny":{challengeName:"sign-bunny",status:"locked"}}},variables:{chapterName:"variables",challenges:{"data-types":{challengeName:"data-types",status:"start"},"declaration-of-independence":{challengeName:"declaration-of-independence",status:"locked"},ipo:{challengeName:"ipo",status:"locked"},temperature:{challengeName:"temperature",status:"locked"},knighthood:{challengeName:"knighthood",status:"locked"},mom:{challengeName:"mom",status:"locked"},"cat-years":{challengeName:"cat-years",status:"locked"}}},conditionals:{chapterName:"conditionals",challenges:{"coin-flip":{challengeName:"coin-flip",status:"start"},fever:{challengeName:"fever",status:"locked"},"levels-and-ranks":{challengeName:"levels-and-ranks",status:"locked"},"fortune-cookie":{challengeName:"fortune-cookie",status:"locked"},voting:{challengeName:"voting",status:"locked"},"trivia-quiz":{challengeName:"trivia-quiz",status:"locked"}}}},eZ={courseName:"gen-ai",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-gen-ai"},eJ={"language-models":{chapterName:"language-models",challenges:{"gen-ai":{challengeName:"gen-ai",status:"start"},"language-models":{challengeName:"language-models",status:"locked"},tokenization:{challengeName:"tokenization",status:"locked"},"n-grams":{challengeName:"n-grams",status:"locked"},"text-classification":{challengeName:"text-classification",status:"locked"},"machine-translation":{challengeName:"machine-translation",status:"locked"},"spell-check":{challengeName:"spell-check",status:"locked"},vibes:{challengeName:"vibes",status:"locked"}}}},eQ={courseName:"java",badgesEarned:[],createdAt:new Date().toString(),resumeExercise:"01-first-program"},eX={"hello-world":{chapterName:"hello-world",challenges:{"first-program":{challengeName:"first-program",status:"start"},"hello-world":{challengeName:"hello-world",status:"locked"},"cooking-mama":{challengeName:"cooking-mama",status:"locked"},"error-logs":{challengeName:"error-logs",status:"locked"},"music-wrapped":{challengeName:"music-wrapped",status:"locked"}}},variables:{chapterName:"variables",challenges:{"storage-box":{challengeName:"storage-box",status:"start"},"id-card":{challengeName:"id-card",status:"locked"},"operation-0":{challengeName:"operation-0",status:"locked"},"escape-room":{challengeName:"escape-room",status:"locked"},"club-penguin":{challengeName:"club-penguin",status:"locked"}}},"control-flow":{chapterName:"control-flow",challenges:{oatmeal:{challengeName:"oatmeal",status:"start"},"cat-owner":{challengeName:"cat-owner",status:"locked"},"dog-owner":{challengeName:"dog-owner",status:"locked"},rollercoaster:{challengeName:"rollercoaster",status:"locked"},"coffee-order":{challengeName:"coffee-order",status:"locked"}}},loops:{chapterName:"loops",challenges:{"rainbow-nums":{challengeName:"rainbow-nums",status:"start"},"all-the-while":{challengeName:"all-the-while",status:"locked"},affirmations:{challengeName:"affirmations",status:"locked"},"hit-the-breaks":{challengeName:"hit-the-breaks",status:"locked"},"playing-cards":{challengeName:"playing-cards",status:"locked"}}}};var eY=ec(29796),e0=ec(8863);let e1="0.0.28",e2=(0,eh.hg)("userProgress/fetchCourseProgress",async(er,eo)=>{let{courseName:ec,uid:eh}=er;if(eh){let er=localStorage.getItem("curr-version");if(er===e1){let er=localStorage.getItem("progressHash-".concat(eh));if(er){let eo=await (0,ef.v9)({uid:eh});if(eo){if(er===eo)try{let er=localStorage.getItem("".concat(eh,"-").concat(ec));if(er){let er=JSON.parse(localStorage.getItem("".concat(eh,"-").concat(ec)));if(er)return{courseName:ec,courseProgress:er,signedIn:!0}}}catch(er){}}else for(let er of(localStorage.removeItem("progressHash-".concat(eh)),e0.Hq))localStorage.removeItem("".concat(eh,"-").concat(er))}}else{for(let er of(localStorage.removeItem("progressHash-".concat(eh)),e0.Hq))localStorage.removeItem("".concat(eh,"-").concat(er));localStorage.setItem("curr-version",e1)}let{courseProgress:ep}=await (0,ef.qk)({courseName:ec,uid:eh});return await (0,ef._E)({uid:eh}),localStorage.setItem("".concat(eh,"-").concat(ec),JSON.stringify(ep)),eo.dispatch((0,eY.XX)("")),{courseName:ec,courseProgress:ep,signedIn:!0}}{let{course:er,chapters:eo}=function(er){let{courseName:eo}=er;switch(eo){case"python":default:return{course:ek,chapters:eS};case"html":return{course:eC,chapters:eI};case"css":return{course:eE,chapters:eT};case"javascript":return{course:eN,chapters:eA};case"command-line":return{course:eO,chapters:eP};case"git-github":return{course:eM,chapters:eR};case"framework-valley-react":return{course:eD,chapters:ej};case"numpy":return{course:eL,chapters:eU};case"intermediate-python":return{course:eF,chapters:eV};case"sql":return{course:eH,chapters:eB};case"intermediate-javascript":return{course:eq,chapters:ez};case"cpp":return{course:eG,chapters:eK};case"gen-ai":return{course:eZ,chapters:eJ};case"p5js":return{course:eW,chapters:e$};case"java":return{course:eQ,chapters:eX}}}({courseName:ec});return{courseName:ec,courseProgress:{...er,chapters:eo},signedIn:!1}}}),e3=(0,eh.hg)("userProgress/openChallenge",async function(er,eo){let{courseName:ec,chapterName:eh,challengeName:ep}=er,{userProgress:eg,user:em}=eo.getState(),{isSignedIn:ey}=em,ev=eg.courses[ec].chapters[eh].challenges;if(!Array.isArray(ev)){let er=eg.courses[ec].chapters[eh].challenges[ep];if(er){let eo=er.status;if("complete"===eo)return{courseName:ec,chapterName:eh,challengeName:ep,status:"complete"}}}if(!ey)return{courseName:ec,chapterName:eh,challengeName:ep,status:"open"};{let{uid:er}=em.user;try{let{updatedChapterDoc:eo}=await updateChallengeStatus({uid:er,courseName:ec,chapterName:eh,challengeName:ep,status:"open"});try{await (0,ef.M)({uid:er,courseName:ec})}catch(er){console.error(er)}return{courseName:ec,chapterName:eh,challengeName:ep,status:"open",updatedChapterDoc:eo}}catch(er){console.log(er)}}}),e6=(0,eh.hg)("userProgress/unlockChallenge",async function(er,eo){let{courseName:ec="python",chapterName:eh,challengeName:ep}=er,{userProgress:ef,user:eg}=eo.getState(),{isSignedIn:em}=eg,ey=ef.courses[ec].chapters[eh].challenges[ep];if(ey){let er=ey.status;if("complete"===er)return{courseName:ec,chapterName:eh,challengeName:ep,status:"complete"};if("start"===er)return{courseName:ec,chapterName:eh,challengeName:ep,status:"start"}}if(!em)return{courseName:ec,chapterName:eh,challengeName:ep,status:"start"};{let er=eg.user,{uid:eo}=er;try{let{updatedChapterDoc:er}=await updateChallengeStatus({uid:eo,courseName:ec,chapterName:eh,challengeName:ep,status:"start"});return{courseName:ec,chapterName:eh,challengeName:ep,status:"start",updatedChapterDoc:er}}catch(er){console.log(er)}}}),e4=(0,eh.hg)("userProgress/completeChallenge",async function(er,eo){let{courseName:ec,chapterName:eh,challengeName:ef,xP:eg}=er,{userProgress:em,user:ey}=eo.getState(),{isSignedIn:ev}=ey;(0,ep.Kk)({challengeName:ef});let e_=em.courses[ec].chapters[eh].challenges[ef];if(e_){let er=e_.status;if("complete"===er)return{courseName:ec,chapterName:eh,challengeName:ef,status:"complete"}}if(!ev)return eo.dispatch((0,ex.o2)({xP:eg,courseName:ec,chapterName:eh,challengeName:ef})),{courseName:ec,chapterName:eh,challengeName:ef,status:"complete"};{let er=ey.user,{uid:ep}=er,{isGeneralAssemblyStudent:em}=ey;try{let{updatedChapterDoc:er,skipXp:ey}=await updateChallengeStatus({uid:ep,courseName:ec,chapterName:eh,challengeName:ef,status:"complete",isGeneralAssemblyStudent:em});return ey||eo.dispatch((0,ex.o2)({xP:eg,courseName:ec,chapterName:eh,challengeName:ef})),{courseName:ec,chapterName:eh,challengeName:ef,status:"complete",updatedChapterDoc:er}}catch(er){console.log(er)}}}),e5=(0,eh.hg)("userProgress/addBadge",async function(er,eo){let{courseName:ec,badge:eh}=er,{user:ep}=eo.getState(),{isSignedIn:eg}=ep;if(!eg)return{courseName:ec,badge:eh};{let er=ep.user,{uid:eo}=er;try{let er=localStorage.getItem("progressHash-".concat(eo));if(er){let ep=await (0,ef.v9)({uid:eo});if(ep===er)try{let er=localStorage.getItem("".concat(eo,"-").concat(ec));if(er){let er=JSON.parse(localStorage.getItem("".concat(eo,"-").concat(ec)));er&&(er.badgesEarned.push(eh),localStorage.setItem("".concat(eo,"-").concat(ec),JSON.stringify(er)))}}catch(er){}else for(let er of(localStorage.removeItem("progressHash-".concat(eo)),e0.Hq))localStorage.removeItem("".concat(eo,"-").concat(er))}await addBadge({courseName:ec,badge:eh,uid:eo}),await (0,ef._E)({uid:eo})}catch(er){console.log(er),console.log("Failed to add badge")}return{courseName:ec,badge:eh}}}),e9=(0,eh.hg)("userProgress/updateBonusArticleStatus",async function(er,eo){let{courseName:ec,bonusArticleName:eh}=er,{userProgress:ep,user:eg}=eo.getState(),{isSignedIn:em}=eg;if(!em)return{courseName:ec,bonusArticleName:eh,status:"complete"};{let er=eg.user,{uid:eo}=er;try{let{articleName:er}=await updateBonusArticleState({uid:eo,courseName:ec,articleName:eh}),ep=localStorage.getItem("progressHash-".concat(eo));if(ep){let eh=await (0,ef.v9)({uid:eo});if(eh)try{let eh=localStorage.getItem("".concat(eo,"-").concat(ec));if(eh){let eh=JSON.parse(localStorage.getItem("".concat(eo,"-").concat(ec)));eh&&(void 0===eh.bonusArticlesRead&&(eh.bonusArticlesRead=[]),eh.bonusArticlesRead.push(er),localStorage.setItem("".concat(eo,"-").concat(ec),JSON.stringify(eh)))}}catch(er){}else for(let er of(localStorage.removeItem("progressHash-".concat(eo)),e0.Hq))localStorage.removeItem("".concat(eo,"-").concat(er))}return await (0,ef._E)({uid:eo}),{courseName:ec,bonusArticleName:er,status:"complete"}}catch(er){console.log(er)}}}),e7=(0,eh.hg)("userProgress/saveCheckpointProject",async function(er,eo){let{courseName:ec,link:eh}=er,{user:ep}=eo.getState(),{isSignedIn:eg}=ep;if(console.log("here"),!eg)return{courseName:ec,link:eh};{let er=ep.user,{uid:eo}=er;try{await (0,ef.KC)({uid:eo,courseName:ec,link:eh})}catch(er){console.log(er),console.log("Failed to add checkpoint project")}return{courseName:ec,link:eh}}}),e8=(0,eh.hg)("userProgress/resumeExercise",async function(er,eo){let{courseName:ec,exerciseName:eh}=er,{user:ep,language:eg}=eo.getState(),{isSignedIn:em}=ep,ey=eg.courseDetails[ec].links,ev="";for(let er of ey)if(er.includes(eh)){ev=er;break}if(em){let er=ep.user;await (0,ef.IK)({uid:er.uid,courseName:ec,link:ev})}return{courseName:ec,challengeLink:ev}}),tr=(0,eh.oM)({name:"userProgress",initialState:{loading:!0,loadingForSignedInUser:!0,error:{status:!1,message:{metadata:"",description:""}},currentCourse:"python",signedInUserState:!1,courses:{}},reducers:{setSignedInUserState(er,eo){er.signedInUserState=eo.payload}},extraReducers:er=>{er.addCase(e2.pending,function(er,eo){er.loading=!0}),er.addCase(e2.fulfilled,function(er,eo){(void 0==er.courses[eo.payload.courseName]||er.signedInUserState)&&(er.courses[eo.payload.courseName]=eo.payload.courseProgress),er.loading=!1,eo.payload.signedIn&&(er.loadingForSignedInUser=!1)}),er.addCase(e8.fulfilled,function(er,eo){er.courses[eo.payload.courseName].resumeExercise=eo.payload.challengeLink}),er.addCase(e7.fulfilled,function(er,eo){er.courses[eo.payload.courseName].checkpointProjectLink=eo.payload.link}),er.addCase(e3.pending,function(er,eo){er.loading=!0}),er.addCase(e3.fulfilled,function(er,eo){er.loading=!1;let ec=er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges;if(Array.isArray(ec))er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges=eo.payload.updatedChapterDoc.challenges;else{let ec=er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName];ec?ec.status=eo.payload.status:er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName]={challengeName:eo.payload.challengeName,status:eo.payload.status}}}),er.addCase(e3.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Set lesson open threw an error"}),er.addCase(e6.pending,function(er,eo){er.loading=!0}),er.addCase(e6.fulfilled,function(er,eo){er.loading=!1;let ec=er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName];ec?ec.status=eo.payload.status:er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName]={challengeName:eo.payload.challengeName,status:eo.payload.status}}),er.addCase(e6.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Set lesson unlock threw an error"}),er.addCase(e4.pending,function(er,eo){er.loading=!0}),er.addCase(e4.fulfilled,function(er,eo){er.loading=!1;let ec=er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName];ec?ec.status=eo.payload.status:er.courses[eo.payload.courseName].chapters[eo.payload.chapterName].challenges[eo.payload.challengeName]={challengeName:eo.payload.challengeName,status:eo.payload.status}}),er.addCase(e4.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Set lesson complete threw an error"}),er.addCase(e5.pending,function(er,eo){er.loading=!0}),er.addCase(e5.fulfilled,function(er,eo){let ec=er.courses[eo.payload.courseName].badgesEarned;ec.includes(eo.payload.badge)||er.courses[eo.payload.courseName].badgesEarned.push(eo.payload.badge),er.loading=!1}),er.addCase(e5.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Add badge to course threw an error"}),er.addCase(e9.pending,function(er,eo){er.loading=!0}),er.addCase(e9.fulfilled,function(er,eo){let ec=er.courses[eo.payload.courseName].bonusArticlesRead;ec||(er.courses[eo.payload.courseName].bonusArticlesRead=[]),(null==ec?void 0:ec.includes(eo.payload.bonusArticleName))||er.courses[eo.payload.courseName].bonusArticlesRead.push(eo.payload.bonusArticleName),er.loading=!1}),er.addCase(e9.rejected,function(er,eo){er.loading=!1,er.error.status=!0,er.error.message.description="Update bonus article status threw an error"})}}),{setSignedInUserState:to}=tr.actions;var ta=tr.reducer;function selectResumeLink(er){return function(eo){try{return eo.userProgress.courses[er].resumeExercise}catch(er){return null}}}function selectChapterProgress(er){let{courseName:eo,chapterName:ec}=er;return function(er){var eh,ep;let ef=null===(ep=er.userProgress)||void 0===ep?void 0:null===(eh=ep.courses[eo])||void 0===eh?void 0:eh.chapters[ec];return ef||null}}function selectUserProgressLoading(er){try{return er.userProgress.loading}catch(er){return!0}}function selectCurrentChallenge(er){let{courseName:eo,chapterName:ec,challengeName:eh}=er;return function(er){try{var ep,ef,eg;let em=null===(eg=er.userProgress)||void 0===eg?void 0:null===(ef=eg.courses[eo])||void 0===ef?void 0:null===(ep=ef.chapters[ec])||void 0===ep?void 0:ep.challenges[eh];if(em)return em;return{challengeName:eh,status:"open"}}catch(er){return{challengeName:eh,status:"open"}}}}function selectUserAllCourseBadges(er){try{var eo,ec;let eh=null===(eo=er.userProgress)||void 0===eo?void 0:eo.courses,ep=[];for(let er in eh)ep.push(...null===(ec=eh[er])||void 0===ec?void 0:ec.badgesEarned);return ep}catch(er){return[]}}function selectUserCurrentCourseBadges(er){let{courseName:eo}=er;return function(er){try{var ec,eh;let ep=(null===(eh=er.userProgress)||void 0===eh?void 0:null===(ec=eh.courses[eo])||void 0===ec?void 0:ec.badgesEarned)||[];return ep}catch(er){return console.error(er),[]}}}function selectTotalCompleted(er){let eo=0;try{for(let eh in er.userProgress.courses)try{for(let ep in er.userProgress.courses[eh].chapters){var ec;let ef=null===(ec=er.userProgress.courses[eh].chapters[ep])||void 0===ec?void 0:ec.challenges;if(ef)for(let er in ef)"complete"===ef[er].status&&(eo+=1)}}catch(er){console.error(eh,er)}}catch(er){return console.error(er),0}return eo}function selectIndividualCourseCompleted(er){let{courseName:eo}=er;return function(er){let ec=0;try{for(let ep in er.userProgress.courses[eo].chapters){var eh;let ef=null===(eh=er.userProgress.courses[eo].chapters[ep])||void 0===eh?void 0:eh.challenges;if(ef)for(let er in ef)"complete"===ef[er].status&&(ec+=1)}}catch(er){console.error(eo,er)}return ec}}function selectLoadingForSignedInUser(er){try{return er.userProgress.loadingForSignedInUser}catch(er){return!1}}function selectChosenCheckpointProject(er){let{courseName:eo}=er;return function(er){var ec;let eh=null===(ec=er.userProgress.courses[eo])||void 0===ec?void 0:ec.checkpointProjectLink;return eh||null}}function selectCompletedBonusArticlesForACourse(er){let{courseName:eo}=er;return function(er){var ec;let eh=(null===(ec=er.userProgress.courses[eo])||void 0===ec?void 0:ec.bonusArticlesRead)||[];return eh}}},66602:function(er,eo,ec){"use strict";ec.d(eo,{C:function(){return getAllCodeChallengesForUser},S3:function(){return createUserCodeChallengeDoc},_7:function(){return storeUserCodeForChallenge},dp:function(){return addXpOnCodeChallengeCompletion},jG:function(){return fetchUserCodeForChallenge},mK:function(){return updateUserCodeChallengeStatus}});var eh=ec(39828),ep=ec(92369);async function createUserCodeChallengeRoot(er){let{uid:eo}=er,{firestore:ec}=(0,ep.UM)(),ef=(0,eh.JU)(ec,"userCodeChallenges",eo);try{let er=await (0,eh.QT)(ef);if(er.exists())return!0;await (0,eh.pl)(ef,{uid:eo,xp:0},{merge:!0})}catch(er){return console.error(er),await (0,eh.pl)(ef,{uid:eo,xp:0},{merge:!0}),!0}}async function createUserCodeChallengeDoc(er){let{uid:eo,challengeName:ec,packName:ef}=er,{firestore:eg}=(0,ep.UM)();await createUserCodeChallengeRoot({uid:eo});let em=(0,eh.JU)(eg,"userCodeChallenges",eo,"codeChallenges",ec);try{let er=await (0,eh.QT)(em);if(!er.exists())return await (0,eh.pl)(em,{pack:ef,challenge:ec,status:"opened",code:{}}),{pack:ef,challenge:ec,status,code:{}};{let{pack:eo,challenge:ec,status:eh,code:ep}=er.data();return{pack:eo,challenge:ec,status:eh,code:ep}}}catch(er){return await (0,eh.pl)(em,{pack:ef,challenge:ec,status:"opened",code:{}}),{pack:ef,challenge:ec,status,code:{}}}}async function updateUserCodeChallengeStatus(er){let{uid:eo,challengeName:ec,status:ef}=er,{firestore:eg}=(0,ep.UM)();try{let er=(0,eh.JU)(eg,"userCodeChallenges",eo,"codeChallenges",ec);await (0,eh.pl)(er,{status:ef},{merge:!0})}catch(er){console.error(er);return}}async function storeUserCodeForChallenge(er){let{uid:eo,packName:ec,code:ef,language:eg,challengeName:em}=er,{firestore:ey}=(0,ep.UM)(),ev=(0,eh.JU)(ey,"userCodeChallenges",eo,"codeChallenges",em);try{await (0,eh.r7)(ev,{["code.".concat(eg)]:ef})}catch(er){return}}async function fetchUserCodeForChallenge(er){let{uid:eo,challengeName:ec}=er,{firestore:ef}=(0,ep.UM)(),eg=(0,eh.JU)(ef,"userCodeChallenges",eo,"codeChallenges",ec);try{let er=await (0,eh.QT)(eg);return er.data().code}catch(er){return}}async function getAllCodeChallengesForUser(er){let{uid:eo}=er,{firestore:ec}=(0,ep.UM)(),ef=(0,eh.hJ)(ec,"userCodeChallenges",eo,"codeChallenges");try{await createUserCodeChallengeRoot({uid:eo});let er=await (0,eh.PL)(ef),ec=er.docs.map(er=>er.data()),ep={};return ec.forEach(er=>{void 0==ep[er.pack]?ep[er.pack]=[er]:ep[er.pack].push(er)}),{packs:ep}}catch(ec){let er=getAllCodeChallengesForUser({uid:eo});return er}}async function addXpOnCodeChallengeCompletion(er){let{uid:eo,xp:ec,challengeName:ef}=er,{firestore:eg}=(0,ep.UM)();try{let er=(0,eh.JU)(eg,"users",eo),ep=await (0,eh.QT)(er),em=(0,eh.JU)(eg,"userCodeChallenges",eo),ey=(0,eh.JU)(eg,"userCodeChallenges",eo,"codeChallenges",ef),ev=await (0,eh.QT)(ey);ep.exists()&&"completed"!==ev.data().status&&(await (0,eh.r7)(er,{"stats.totalXp":(0,eh.nP)(ec),"metadata.updatedAt":new Date().toUTCString()}),await (0,eh.r7)(em,{uid:eo,xp:(0,eh.nP)(ec)}))}catch(er){console.log(er)}}},92369:function(er,eo,ec){"use strict";ec.d(eo,{UM:function(){return getFirebase},Vr:function(){return githubAuthProvider},qV:function(){return googleAuthProvider},X7:function(){return twitterAuthProvider}});var eh=ec(25816);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(0,eh.KN)("firebase","9.23.0","app");var ep=ec(39828),ef=ec(86650),eg=ec(79450),em=ec(93352);let ey={apiKey:"AIzaSyC6brQydsBGBHiZLhenPvHNRwb4Tm8AsXI",authDomain:"authenticate.codedex.io",projectId:"codedex-io",storageBucket:"codedex-io.appspot.com",messagingSenderId:"939154346570",appId:"1:939154346570:web:e20b0d05830131339d8cb3",measurementId:"G-XPV4EJTQN0"};function initialize(){let er=(0,eh.ZF)(ey),eo=(0,eg.v0)(er),ev=(0,ep.LV)(er,{experimentalAutoDetectLongPolling:!0}),e_=(0,ef.cF)(er),ew=(0,em.$C)(er);{let eh;return Promise.resolve().then(ec.bind(ec,98887)).then(eo=>{let{getAnalytics:ec,logEvent:ep}=eo;ep(eh=ec(er),"initialized")}),{analytics:eh,firebaseApp:er,auth:eo,firestore:ev,storage:e_,functions:ew}}}function getFirebase(){let er=(0,eh.C6)().at(0);if(er)return initialize();let eo=function(er){let{firebaseApp:eo,auth:ec,firestore:eh,storage:ep,functions:ef,analytics:eg}=er;return window.location.hostname,{firebaseApp:eo,auth:ec,firestore:eh,storage:ep,functions:ef,analytics:eg}}(initialize());return function(er){let{firestore:eo,firebaseApp:ec,auth:eh,storage:ep,functions:ef,analytics:eg}=er;return{firestore:eo,firebaseApp:ec,auth:eh,storage:ep,functions:ef,analytics:eg}}(eo)}let googleAuthProvider=()=>new eg.hJ,twitterAuthProvider=()=>new eg.c4,githubAuthProvider=()=>new eg.GH},47922:function(er,eo,ec){"use strict";ec.d(eo,{$q:function(){return updateUsernameOnFirebase},HI:function(){return updateCodeEditorThemeOnUserDoc},IK:function(){return updateResumeExerciseOnFirestore},KC:function(){return addCheckpointProjectLink},M:function(){return updateReEngagementEmailType},Oq:function(){return updateCharacterModelIndexOnFirebase},PR:function(){return getUser},RO:function(){return updateUserAvatarInUserDoc},Vu:function(){return addXpOnExerciseCompletion},_E:function(){return updateProgressHash},jr:function(){return updateUserProfileData},qk:function(){return getUserProgressForACourse},v9:function(){return getUserProgressHash},x5:function(){return updateUserColorMode},z2:function(){return addDateForStreak}});var eh=ec(39828),ep=ec(87047),ef=ec(86650),eg=ec(92369);let{firestore:em}=(0,eg.UM)(),ey=(0,eh.hJ)(em,"users"),ev=(0,eh.hJ)(em,"userProgressCollection");async function getUserDoc(er){let eo,{uid:ec}=er;try{let er=(0,eh.JU)(ey,ec);eo=await (0,eh.QT)(er)}catch(er){console.error("Error while fetching user!"),console.error(er)}finally{return eo}}async function getUser(er){if(void 0!==er)try{let eo=(0,eh.JU)(ey,er.uid),ec=await (0,eh.QT)(eo);if(!ec.exists())return{user:null};{let er=ec.data();return{user:er}}}catch(er){return console.error("Error while fetching user!"),console.error(er),{user:null}}}async function getUserProgressHash(er){let{uid:eo}=er,ec=(0,eh.JU)(ev,eo),ep=await (0,eh.QT)(ec);if(ep.exists()){let{progressHash:er}=ep.data();return er}return null}async function updateProgressHash(er){let{uid:eo}=er,ec=(0,eh.JU)(ev,eo),ep="xxxx-xxxx-xxx-xxxx".replace(/[x]/g,()=>{let er=Math.floor(16*Math.random());return er.toString(16)});try{await (0,eh.pl)(ec,{progressHash:ep},{merge:!0}),localStorage.setItem("progressHash-".concat(eo),ep)}catch(er){}}async function getUserProgressForACourse(er){let{uid:eo,courseName:ec,count:eh=0}=er;if(eh>=3)return await fetch("/api/feedback/user-course",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({uid:eo,count:eh,courseName:ec,message:"counter 3+"})}),await getUserProgressForACourse({uid:eo,courseName:ec});try{let er=await fetch("/api/get-state/course",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({uid:eo,courseName:ec})}),ep=await er.json(),{status:ef}=ep;if("success"!==ef)return await getUserProgressForACourse({uid:eo,courseName:ec,count:eh+1});{let{courseDocData:er}=ep;return{courseName:ec,courseProgress:er}}}catch(er){return console.log(er),await getUserProgressForACourse({uid:eo,courseName:ec,count:eh+1})}}async function addXpOnExerciseCompletion(er){let{uid:eo,courseName:ec,chapterName:ep,challengeName:ef,xP:eg}=er;try{let er=(0,eh.JU)(em,"users",eo),ef=await (0,eh.QT)(er),ey=(0,eh.hJ)(em,"userProgressCollection"),ev=(0,eh.JU)(ey,eo,"courses",ec,"chapters",ep),e_=await (0,eh.QT)(ev);ef.exists()&&e_.exists()&&(e_.data(),await (0,eh.r7)(er,{"stats.totalXp":(0,eh.nP)(eg),["stats.courseXp.".concat(ec,".courseXp")]:(0,eh.nP)(eg),"metadata.updatedAt":new Date().toUTCString()}))}catch(er){console.log(er)}}async function addDateForStreak(er){let{uid:eo}=er,ec=function(){let er=new Date,eo=String(er.getDate()).padStart(2,"0"),ec=String(er.getMonth()+1).padStart(2,"0"),eh=er.getFullYear();return"".concat(ec,"/").concat(eo,"/").concat(eh)}();try{let er=(0,eh.JU)(em,"users",eo),ef=await (0,eh.QT)(er);if(ef.exists()){let eo=ef.data();if(eo.stats.streaks.datesVisited.includes(ec))return{...eo.stats.streaks};{let{currentStreak:ef,longestStreak:eg}=(0,ep.Sp)({dates:[...eo.stats.streaks.datesVisited,ec]});await (0,eh.r7)(er,{"stats.streaks.datesVisited":(0,eh.vr)(ec),"stats.streaks.currentStreak":ef,"stats.streaks.longestStreak":eg});let em=await (0,eh.QT)(er),ey=em.data();return{...ey.stats.streaks}}}}catch(er){return console.error("addDateforStreak threw an error"),console.error(er),{currentStreak:1,longestStreak:1,datesVisited:[]}}}async function updateUsernameOnFirebase(er){let{username:eo,uid:ec}=er;try{let er=(0,eh.JU)(ey,ec),ep=await (0,eh.QT)(er);if(ep.exists())await (0,eh.r7)(er,{username:eo,uniqueUsername:eo.toLowerCase()});else throw Error("User doc not found!")}catch(er){return console.error(er),{username:"Your name"}}}async function updateCharacterModelIndexOnFirebase(er){let{characterModelIndex:eo,uid:ec}=er;try{let er=(0,eh.JU)(ey,ec),ep=await (0,eh.QT)(er);ep.exists()&&await (0,eh.r7)(er,{"stats.characterModelIndex":eo})}catch(er){console.log(er),console.log("something went wrong while updating character model")}}async function updateCodeEditorThemeOnUserDoc(er){let{uid:eo,codeEditorTheme:ec}=er;try{let er=await getUserDoc({uid:eo});if(er)return await (0,eh.r7)(er.ref,{codeEditorTheme:ec}),{uid:eo,codeEditorTheme:ec}}catch(er){console.error(er)}}async function updateUserProfileData(er){let{uid:eo,data:ec}=er;try{let er=await getUserDoc({uid:eo});if(er){var ep,ef,eg,em,ey,ev,e_;let ew=er.data()||{},{name:ex=ew.name,bio:ek=ew.bio,username:eS=ew.username,school:eC=ew.school,work:eI=ew.work,location:eE=ew.location,github:eT=(null===(ep=ew.socials)||void 0===ep?void 0:ep.github)||"",twitter:eN=(null===(ef=ew.socials)||void 0===ef?void 0:ef.twitter)||"",instagram:eA=(null===(eg=ew.socials)||void 0===eg?void 0:eg.instagram)||"",youtube:eO=(null===(em=ew.socials)||void 0===em?void 0:em.youtube)||"",twitch:eP=(null===(ey=ew.socials)||void 0===ey?void 0:ey.twitch)||"",tiktok:eM=(null===(ev=ew.socials)||void 0===ev?void 0:ev.tiktok)||"",linkedin:eR=(null===(e_=ew.socials)||void 0===e_?void 0:e_.linkedin)||"",...eD}=ec,ej=Object.keys(eD).map(er=>er.includes("skillset_")&&eD[er]?er.split("_")[1]:void 0).filter(er=>void 0!==er),eL=ex.split(" "),eU=eL.slice(0,eL.length-1).join(" ")||"",eF=eL[eL.length-1]||"",eV=eS.toLowerCase();return await (0,eh.pl)(er.ref,{name:ex,username:eS,firstName:eU,bio:ek,lastName:eF,location:eE,school:eC,work:eI,skillset:ej,uniqueUsername:eV},{merge:!0}),await (0,eh.r7)(er.ref,{"socials.github":eT,"socials.youtube":eO,"socials.twitter":eN,"socials.instagram":eA,"socials.twitch":eP,"socials.tiktok":eM,"socials.linkedin":eR}),{uid:eo,data:ec}}}catch(er){console.error(er),console.error("Error updating social links or user profile data.")}}async function updateUserAvatarInUserDoc(er){let{uid:eo,file:ec}=er,ep=await getUserDoc({uid:eo}),{storage:em}=(0,eg.UM)(),ey=(0,ef.iH)(em,"/avatars/".concat(eo,"/").concat(ec.name));try{await (0,ef.KV)(ey,ec);let er=await (0,ef.Jt)(ey);return await (0,eh.pl)(ep.ref,{photoURL:er},{merge:!0}),{photoURL:er}}catch(er){console.log(er),console.log("error while uploading profile picture")}}async function updateUserColorMode(er){let{uid:eo,colorMode:ec}=er,{firestore:ep}=(0,eg.UM)();try{let er=(0,eh.JU)(ep,"users",eo);await (0,eh.pl)(er,{colorMode:ec},{merge:!0})}catch(er){console.error(er)}}async function updateResumeExerciseOnFirestore(er){let{uid:eo,courseName:ec,link:ep}=er,ef=(0,eh.JU)(ev,eo,"courses",ec);await (0,eh.pl)(ef,{resumeExercise:ep},{merge:!0});let eg=localStorage.getItem("".concat(eo,"-").concat(ec));if(eg){let er=JSON.parse(eg);er&&(er.resumeExercise=ep,localStorage.setItem("".concat(eo,"-").concat(ec),JSON.stringify(er)))}}async function updateReEngagementEmailType(er){let{courseName:eo,uid:ec}=er,{firestore:ep}=(0,eg.UM)(),ef=(0,eh.JU)(ep,"re-engagement-emails",ec);try{let er=await (0,eh.QT)(ef);if(!er.exists()){console.log("doc does not exist");return}}catch(er){console.log(er);return}try{"javascript"===eo&&(eo="js"),await (0,eh.r7)(ef,{type:"complete_free_content_".concat(eo),courseName:eo})}catch(er){console.error(er)}}async function addCheckpointProjectLink(er){let{uid:eo,link:ec,courseName:ep}=er,ef=(0,eh.JU)(ev,eo,"courses",ep);await (0,eh.pl)(ef,{checkpointProjectLink:ec},{merge:!0});try{let er=localStorage.getItem("".concat(eo,"-").concat(ep)),eh=JSON.parse(er);eh.checkpointProjectLink=ec,localStorage.setItem("".concat(eo,"-").concat(ep),JSON.stringify(eh))}catch(er){console.error("error",er)}}},48645:function(er,eo,ec){"use strict";ec.d(eo,{$:function(){return checkUserStripeEducator},F1:function(){return isUserClubSubscriber},Fw:function(){return isUserForLiferClub},JC:function(){return isUserClubPaused},Pv:function(){return isUserGeneralAssemblyStudent},Rb:function(){return isUserEducator},i5:function(){return isUserAdmin},oG:function(){return isUserGitHubStudent},sS:function(){return isPaypalUser},uG:function(){return isUserStudent}});var eh=ec(79450),ep=ec(92369);async function getUserClaims(){let er=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{auth:eo}=(0,ep.UM)();if(null===eo.currentUser)return null;{let ec=await (0,eh.ag)(eo.currentUser,er);return ec}}async function isPaypalUser(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.paypal)}async function checkUserStripeEducator(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.stripeRole)==="paideducator"}async function isUserAdmin(){var er,eo;let ec=arguments.length>0&&void 0!==arguments[0]&&arguments[0],eh=await getUserClaims(ec);return null!==eh&&((null===(er=eh.claims)||void 0===er?void 0:er.admin)===!0||(null===(eo=eh.claims)||void 0===eo?void 0:eo.isAdmin)===!0)}async function isUserClubSubscriber(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.stripeRole)==="club"}async function isUserEducator(){var er,eo;let ec=arguments.length>0&&void 0!==arguments[0]&&arguments[0],eh=await getUserClaims(ec);return null===eh?"":(null===(er=eh.claims)||void 0===er?void 0:er.educator)||(null===(eo=eh.claims)||void 0===eo?void 0:eo.stripeRole)==="paideducator"}async function isUserStudent(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.student)}async function isUserGitHubStudent(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);if(null!==ec)return(null===(er=ec.claims)||void 0===er?void 0:er.githubStudent)===!0||void 0}async function isUserGeneralAssemblyStudent(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.generalassemblystudent)}async function isUserClubPaused(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.paused)}async function isUserForLiferClub(){var er;let eo=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ec=await getUserClaims(eo);return null!==ec&&(null===(er=ec.claims)||void 0===er?void 0:er.forever)}},87243:function(er,eo,ec){"use strict";ec.d(eo,{w:function(){return fetchBookmarkedProjectsFromFirebase}});var eh=ec(92369);async function fetchBookmarkedProjectsFromFirebase(er){let{uid:eo}=er,{firestore:ec}=(0,eh.UM)();try{let er=await fetch("/api/fetchProjects",{method:"POST",body:JSON.stringify({uid:eo})}),ec=await er.json();if("fail"===ec.status)return null;let eh=ec.data;return eh}catch(er){return console.log(er),null}}},97498:function(er,eo){"use strict";var ec,eh;Object.defineProperty(eo,"__esModule",{value:!0}),function(er,eo){for(var ec in eo)Object.defineProperty(er,ec,{enumerable:!0,get:eo[ec]})}(eo,{PrefetchKind:function(){return ec},ACTION_REFRESH:function(){return ep},ACTION_NAVIGATE:function(){return ef},ACTION_RESTORE:function(){return eg},ACTION_SERVER_PATCH:function(){return em},ACTION_PREFETCH:function(){return ey},ACTION_FAST_REFRESH:function(){return ev},ACTION_SERVER_ACTION:function(){return e_}});let ep="refresh",ef="navigate",eg="restore",em="server-patch",ey="prefetch",ev="fast-refresh",e_="server-action";(eh=ec||(ec={})).AUTO="auto",eh.FULL="full",eh.TEMPORARY="temporary",("function"==typeof eo.default||"object"==typeof eo.default&&null!==eo.default)&&void 0===eo.default.__esModule&&(Object.defineProperty(eo.default,"__esModule",{value:!0}),Object.assign(eo.default,eo),er.exports=eo.default)},10030:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),Object.defineProperty(eo,"getDomainLocale",{enumerable:!0,get:function(){return getDomainLocale}});let eh=ec(22866);function getDomainLocale(er,eo,ep,ef){{let eg=ec(33530).normalizeLocalePath,em=ec(16728).detectDomainLocale,ey=eo||eg(er,ep).detectedLocale,ev=em(ef,void 0,ey);if(ev){let eo="http"+(ev.http?"":"s")+"://",ec=ey===ev.defaultLocale?"":"/"+ey;return""+eo+ev.domain+(0,eh.normalizePathTrailingSlash)(""+ec+er)}return!1}}("function"==typeof eo.default||"object"==typeof eo.default&&null!==eo.default)&&void 0===eo.default.__esModule&&(Object.defineProperty(eo.default,"__esModule",{value:!0}),Object.assign(eo.default,eo),er.exports=eo.default)},65170:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),Object.defineProperty(eo,"default",{enumerable:!0,get:function(){return eT}});let eh=ec(38754),ep=eh._(ec(67294)),ef=ec(74450),eg=ec(92227),em=ec(64364),ey=ec(10109),ev=ec(73607),e_=ec(11823),ew=ec(89031),ex=ec(40920),ek=ec(10030),eS=ec(77192),eC=ec(97498),eI=new Set;function prefetch(er,eo,ec,eh,ep,ef){if(!ef&&!(0,eg.isLocalURL)(eo))return;if(!eh.bypassPrefetchedCheck){let ep=void 0!==eh.locale?eh.locale:"locale"in er?er.locale:void 0,ef=eo+"%"+ec+"%"+ep;if(eI.has(ef))return;eI.add(ef)}let em=ef?er.prefetch(eo,ep):er.prefetch(eo,ec,eh);Promise.resolve(em).catch(er=>{})}function formatStringOrUrl(er){return"string"==typeof er?er:(0,em.formatUrl)(er)}let eE=ep.default.forwardRef(function(er,eo){let ec,eh;let{href:em,as:eI,children:eE,prefetch:eT=null,passHref:eN,replace:eA,shallow:eO,scroll:eP,locale:eM,onClick:eR,onMouseEnter:eD,onTouchStart:ej,legacyBehavior:eL=!1,...eU}=er;ec=eE,eL&&("string"==typeof ec||"number"==typeof ec)&&(ec=ep.default.createElement("a",null,ec));let eF=ep.default.useContext(e_.RouterContext),eV=ep.default.useContext(ew.AppRouterContext),eH=null!=eF?eF:eV,eB=!eF,eq=!1!==eT,ez=null===eT?eC.PrefetchKind.AUTO:eC.PrefetchKind.FULL,{href:eW,as:e$}=ep.default.useMemo(()=>{if(!eF){let er=formatStringOrUrl(em);return{href:er,as:eI?formatStringOrUrl(eI):er}}let[er,eo]=(0,ef.resolveHref)(eF,em,!0);return{href:er,as:eI?(0,ef.resolveHref)(eF,eI):eo||er}},[eF,em,eI]),eG=ep.default.useRef(eW),eK=ep.default.useRef(e$);eL&&(eh=ep.default.Children.only(ec));let eZ=eL?eh&&"object"==typeof eh&&eh.ref:eo,[eJ,eQ,eX]=(0,ex.useIntersection)({rootMargin:"200px"}),eY=ep.default.useCallback(er=>{(eK.current!==e$||eG.current!==eW)&&(eX(),eK.current=e$,eG.current=eW),eJ(er),eZ&&("function"==typeof eZ?eZ(er):"object"==typeof eZ&&(eZ.current=er))},[e$,eZ,eW,eX,eJ]);ep.default.useEffect(()=>{eH&&eQ&&eq&&prefetch(eH,eW,e$,{locale:eM},{kind:ez},eB)},[e$,eW,eQ,eM,eq,null==eF?void 0:eF.locale,eH,eB,ez]);let e0={ref:eY,onClick(er){eL||"function"!=typeof eR||eR(er),eL&&eh.props&&"function"==typeof eh.props.onClick&&eh.props.onClick(er),eH&&!er.defaultPrevented&&function(er,eo,ec,eh,ef,em,ey,ev,e_,ew){let{nodeName:ex}=er.currentTarget,ek="A"===ex.toUpperCase();if(ek&&(function(er){let eo=er.currentTarget,ec=eo.getAttribute("target");return ec&&"_self"!==ec||er.metaKey||er.ctrlKey||er.shiftKey||er.altKey||er.nativeEvent&&2===er.nativeEvent.which}(er)||!e_&&!(0,eg.isLocalURL)(ec)))return;er.preventDefault();let navigate=()=>{let er=null==ey||ey;"beforePopState"in eo?eo[ef?"replace":"push"](ec,eh,{shallow:em,locale:ev,scroll:er}):eo[ef?"replace":"push"](eh||ec,{forceOptimisticNavigation:!ew,scroll:er})};e_?ep.default.startTransition(navigate):navigate()}(er,eH,eW,e$,eA,eO,eP,eM,eB,eq)},onMouseEnter(er){eL||"function"!=typeof eD||eD(er),eL&&eh.props&&"function"==typeof eh.props.onMouseEnter&&eh.props.onMouseEnter(er),eH&&(eq||!eB)&&prefetch(eH,eW,e$,{locale:eM,priority:!0,bypassPrefetchedCheck:!0},{kind:ez},eB)},onTouchStart(er){eL||"function"!=typeof ej||ej(er),eL&&eh.props&&"function"==typeof eh.props.onTouchStart&&eh.props.onTouchStart(er),eH&&(eq||!eB)&&prefetch(eH,eW,e$,{locale:eM,priority:!0,bypassPrefetchedCheck:!0},{kind:ez},eB)}};if((0,ey.isAbsoluteUrl)(e$))e0.href=e$;else if(!eL||eN||"a"===eh.type&&!("href"in eh.props)){let er=void 0!==eM?eM:null==eF?void 0:eF.locale,eo=(null==eF?void 0:eF.isLocaleDomain)&&(0,ek.getDomainLocale)(e$,er,null==eF?void 0:eF.locales,null==eF?void 0:eF.domainLocales);e0.href=eo||(0,eS.addBasePath)((0,ev.addLocale)(e$,er,null==eF?void 0:eF.defaultLocale))}return eL?ep.default.cloneElement(eh,e0):ep.default.createElement("a",{...eU,...e0},ec)}),eT=eE;("function"==typeof eo.default||"object"==typeof eo.default&&null!==eo.default)&&void 0===eo.default.__esModule&&(Object.defineProperty(eo.default,"__esModule",{value:!0}),Object.assign(eo.default,eo),er.exports=eo.default)},33530:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),Object.defineProperty(eo,"normalizeLocalePath",{enumerable:!0,get:function(){return normalizeLocalePath}});let normalizeLocalePath=(er,eo)=>ec(11774).normalizeLocalePath(er,eo);("function"==typeof eo.default||"object"==typeof eo.default&&null!==eo.default)&&void 0===eo.default.__esModule&&(Object.defineProperty(eo.default,"__esModule",{value:!0}),Object.assign(eo.default,eo),er.exports=eo.default)},40920:function(er,eo,ec){"use strict";Object.defineProperty(eo,"__esModule",{value:!0}),Object.defineProperty(eo,"useIntersection",{enumerable:!0,get:function(){return useIntersection}});let eh=ec(67294),ep=ec(63436),ef="function"==typeof IntersectionObserver,eg=new Map,em=[];function useIntersection(er){let{rootRef:eo,rootMargin:ec,disabled:ey}=er,ev=ey||!ef,[e_,ew]=(0,eh.useState)(!1),ex=(0,eh.useRef)(null),ek=(0,eh.useCallback)(er=>{ex.current=er},[]);(0,eh.useEffect)(()=>{if(ef){if(ev||e_)return;let er=ex.current;if(er&&er.tagName){let eh=function(er,eo,ec){let{id:eh,observer:ep,elements:ef}=function(er){let eo;let ec={root:er.root||null,margin:er.rootMargin||""},eh=em.find(er=>er.root===ec.root&&er.margin===ec.margin);if(eh&&(eo=eg.get(eh)))return eo;let ep=new Map,ef=new IntersectionObserver(er=>{er.forEach(er=>{let eo=ep.get(er.target),ec=er.isIntersecting||er.intersectionRatio>0;eo&&ec&&eo(ec)})},er);return eo={id:ec,observer:ef,elements:ep},em.push(ec),eg.set(ec,eo),eo}(ec);return ef.set(er,eo),ep.observe(er),function(){if(ef.delete(er),ep.unobserve(er),0===ef.size){ep.disconnect(),eg.delete(eh);let er=em.findIndex(er=>er.root===eh.root&&er.margin===eh.margin);er>-1&&em.splice(er,1)}}}(er,er=>er&&ew(er),{root:null==eo?void 0:eo.current,rootMargin:ec});return eh}}else if(!e_){let er=(0,ep.requestIdleCallback)(()=>ew(!0));return()=>(0,ep.cancelIdleCallback)(er)}},[ev,ec,eo,e_,ex.current]);let eS=(0,eh.useCallback)(()=>{ew(!1)},[]);return[ek,e_,eS]}("function"==typeof eo.default||"object"==typeof eo.default&&null!==eo.default)&&void 0===eo.default.__esModule&&(Object.defineProperty(eo.default,"__esModule",{value:!0}),Object.assign(eo.default,eo),er.exports=eo.default)},69774:function(er,eo,ec){"use strict";ec.r(eo),ec.d(eo,{default:function(){return _app}});var eh=ec(85893);ec(70415),ec(25538),ec(45795),ec(16713),ec(92261),ec(56735),ec(69831),ec(97480),ec(14531);var ep=ec(9473),ef=ec(4298),eg=ec.n(ef),em=ec(61149),ey=ec(73845),ev=ec(62286),e_=ec.n(ev),ew=ec(67294),ex=ec(79450),ek=ec(92369),eS=ec(26245),eC=ec(48645),eI=ec(51194),eE=ec(43807),eT=ec(92614),eN=ec(11163),eA=ec(8863),eO=ec(5479);let eP=!1,eM=!1,eR=!1;var atoms_AuthState=function(er){let{children:eo}=er,ec=(0,ey.T)(),ef=(0,ep.v9)(eS.zv),eg=(0,eN.useRouter)(),[em,ev]=(0,ew.useState)(null),eD=(0,ew.useRef)(!0);return(0,ew.useEffect)(()=>{if(em){if(!eP)for(let er of(eP=!0,eA.Hq))ec((0,eE.iC)({courseName:er,uid:em}))}else{if(eM)return;for(let er of(eM=!0,eA.Hq))ec((0,eE.iC)({courseName:er}))}},[ec,em]),(0,ew.useEffect)(()=>{let{auth:er}=(0,ek.UM)();if(ef){let eo=er.currentUser;eo&&(ec((0,eS.BT)(eo)),ec((0,eE.lY)(!0)))}},[ec,ef]),(0,ew.useEffect)(function(){let{auth:er}=(0,ek.UM)();if(!eg||!ec||!eD.current)return;eD.current=!1;let eo=(0,ex.Aj)(er,async er=>{if(er){ec((0,eS.BT)(er)),ec((0,eE.lY)(!0)),ev(er.uid),fetch("/api/verifyCourseState/verifyXp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:er.uid})});let eo=await (0,eC.F1)();localStorage.setItem("headercheck",eo.toString());let eh=await (0,eC.oG)();(0,eI.wc)({user:er,isUserClubSubscriber:eo,isUserGitHubStudent:eh}),(0,eO.ur)({uid:er.uid,email:er.email,name:er.displayName,github_student:eh,club:eo}),(0,eO.yh)(),ec((0,eT.Bl)({uid:er.uid})),(0,eI.Mv)({user:er}),"/"===eg.pathname&&setTimeout(()=>eg.push("/home"),2e3);try{await fetch("/api/email/mark",{method:"POST",body:JSON.stringify({type:"login"}),headers:{"Content-Type":"application/json"}})}catch(er){}}else if(eR||((0,eO.Z5)(),(0,eI.NA)(),eR=!0),localStorage.removeItem("photoURL"),e_().destroy(null,"codedextoken",{path:"/"}),"/home"===eg.pathname)return eg.push("/")}),eh=(0,ex.MX)(er,async er=>{if(er)try{let eo=await er.getIdToken(!0);e_().set(null,"codedextoken",eo,{maxAge:604800,expires:new Date(Date.now()+6048e5),path:"/",sameSite:"lax",secure:!0})}catch(er){console.error("error getting token",er)}});return()=>{eh&&eh(),eo&&eo()}},[ec,eg]),(0,eh.jsx)(eh.Fragment,{children:eo})},eD=ec(19521),ej=ec(82133),eL=ec(85673),eU=ec(18738),eF=ec(82729),eV=ec(62626),eH=ec(20759),eB=ec(81798);function _templateObject(){let er=(0,eF._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  .progress-bar {\n    width: 100%;\n    height: 12px;\n    transition: background 0.1s ease;\n  }\n\n  .onboarding-skip-btn {\n    margin: 0px;\n    color: #475569;\n    color: ",';\n\n    font-family: "Mulish", sans-serif;\n\n    font-size: 16px;\n    font-style: normal;\n    font-weight: 500;\n    line-height: 150%;\n    padding: 0px 4px;\n  }\n']);return _templateObject=function(){return er},er}let eq=eD.default.div.withConfig({componentId:"sc-1d211ad7-0"})(_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]});var onBoarding_OnBoardingProgressBar=function(er){let{componentPadding:eo,prevScene:ec,percentageCompleted:ep,darkTheme:ef}=er,[eg,em]=(0,ew.useState)(0),ev=(0,ew.useRef)(0);(0,ew.useRef)(null);let e_=(0,ey.T)();return(0,ew.useEffect)(()=>{let er,eo;return ep!==ev.current&&(cancelAnimationFrame(eo),eo=requestAnimationFrame(function animateProgress(ec){er||(er=ec);let eh=ec-er,ef=ep-ev.current,eg=Math.min(ev.current+eh/500*ef,ep);em(eg),eg<ep?eo=requestAnimationFrame(animateProgress):ev.current=ep})),()=>cancelAnimationFrame(eo)},[ep]),(0,eh.jsxs)(eq,{style:{padding:eo},children:[(0,eh.jsx)(eB.Z,{onClick:()=>ec(),className:"nes-pointer",color:ef?"#94A3B8":"#64748B"}),(0,eh.jsx)(eH.Z,{borderColor:ef?"475569":"94A3B8",className:"progress-bar",style:{background:"linear-gradient(to right, #A3E635 ".concat(eg,"%, ").concat(ef?"#1E293A":"#F1F5F9"," ").concat(eg,"%)")}}),(0,eh.jsx)("p",{className:"onboarding-skip-btn nes-pointer",onClick:()=>void e_((0,eS.J)({type:null,status:"hide",properties:{}})),children:"Skip"})]})},ez=ec(25294),eW=ec(73857);function OnBoardingWelcome_templateObject(){let er=(0,eF._)(["\n  margin-top: 2rem;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  .top-container {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    gap: 24px;\n\n    .bot-image {\n      display: flex;\n      justify-content: center;\n      img {\n        width: 200px;\n        height: 200px;\n      }\n    }\n\n    .messages {\n      display: flex;\n      justify-content: center;\n    }\n  }\n\n  .button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 250px;\n\n    button {\n      width: 200px;\n    }\n  }\n"]);return OnBoardingWelcome_templateObject=function(){return er},er}let e$=eD.default.div.withConfig({componentId:"sc-a4c90c16-0"})(OnBoardingWelcome_templateObject()),eG=["Hey there! I'm your personal coding companion!","I'm here to help you start your learning journey!","But enough about me  let's talk about you!"];var onBoarding_OnBoardingWelcome=function(er){let{componentPadding:eo,setSceneIndex:ec}=er,[ep,ef]=(0,ew.useState)(0);return(0,eh.jsxs)(e$,{style:{padding:eo},children:[(0,eh.jsxs)("div",{className:"top-container",children:[(0,eh.jsx)("div",{className:"bot-image",children:(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"})}),(0,eh.jsx)("div",{className:"messages",children:(0,eh.jsx)(ez.Z,{message:eG[ep],firstScene:!0})})]}),(0,eh.jsx)("div",{className:"button-container",children:(0,eh.jsx)(eW.Z,{variant:"blue",onClick:()=>(function(){if(ep===eG.length-1)return ec(er=>er+1);ef(ep+1)})(),children:"Continue"})})]})},icons_CharacterPlatformSvg=function(er){let{color:eo="#E2E8F0",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"164",height:"33",viewBox:"0 0 164 33",fill:"none",...ec,children:(0,eh.jsx)("ellipse",{cx:"82",cy:"16.5",rx:"81.5",ry:"16.5",fill:eo})})};function CharacterSelection_templateObject(){let er=(0,eF._)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 24px;\n  position: relative;\n\n  .platform {\n    z-index: 1;\n    position: absolute;\n    bottom: 0px;\n    left: 49%;\n    transform: translateX(-49%);\n  }\n\n  .character-container {\n    position: relative;\n    z-index: 4;\n    display: flex;\n    justify-content: center;\n\n    img {\n      height: 180px;\n      width: auto;\n    }\n  }\n\n  button {\n    width: 44px;\n    height: 42px;\n  }\n\n  svg {\n    filter: ",";\n\n    path {\n      fill: ",";\n    }\n  }\n"]);return CharacterSelection_templateObject=function(){return er},er}let eK=eD.default.div.withConfig({componentId:"sc-87ee662f-0"})(CharacterSelection_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?"drop-shadow(0px 2px 0px #334155)":"drop-shadow(0px 2px 0px #e2e8f0)"},er=>{let{theme:eo}=er;return"dark"==eo.mode?"white":"#020617"});var onBoarding_CharacterSelection=function(){let er=(0,ey.T)(),eo=(0,ep.v9)(eS.o4)||"dark",ec=(0,ep.v9)(eL.KV),ef=(0,ep.v9)(eS.$u)||0,eg=(0,ew.useCallback)(eo=>{let ec=ef;"next"===eo?ec=4===ef?0:ef+1:"prev"===eo&&(ec=0===ef?4:ef-1),er((0,eS.Ii)({characterModelIndex:ec}))},[ef,er]);return(0,eh.jsxs)(eK,{children:[(0,eh.jsx)(icons_CharacterPlatformSvg,{className:"platform",color:"dark"===eo?"#334155":"#E2E8F0"}),(0,eh.jsx)(eW.Z,{onClick:()=>eg("prev"),variant:"subtle",children:(0,eh.jsx)(eB.Z,{})}),(0,eh.jsx)("div",{className:"character-container",children:(0,eh.jsx)("img",{src:ec[ef],className:"nes-pointer",alt:""})}),(0,eh.jsx)(eW.Z,{onClick:()=>eg("next"),variant:"subtle",children:(0,eh.jsx)(eB.Z,{style:{transform:"rotate(-180deg)"}})})]})};function OnBoardingCharacterSelection_templateObject(){let er=(0,eF._)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 3rem;\n\n  .top-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    width: 100%;\n\n    "," {\n      padding: 0rem;\n    }\n\n    "," {\n      padding: 0rem 2rem;\n    }\n\n    .inner-container {\n      width: 100%;\n\n      display: flex;\n      flex-direction: column;\n      gap: 4rem;\n\n      .image-message {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n\n        "," {\n          flex-direction: column;\n        }\n\n        "," {\n          flex-direction: row;\n        }\n\n        .message-container {\n          flex: 1;\n          width: 100%;\n        }\n\n        .image-container {\n          flex-shrink: 0;\n\n          img {\n            width: 102px;\n            height: 102px;\n          }\n        }\n      }\n    }\n  }\n\n  .button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 250px;\n\n    button {\n      width: 200px;\n    }\n  }\n"]);return OnBoardingCharacterSelection_templateObject=function(){return er},er}let eZ=eD.default.div.withConfig({componentId:"sc-1e185070-0"})(OnBoardingCharacterSelection_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm});var onBoarding_OnBoardingCharacterSelection=function(er){let{componentPadding:eo,setSceneIndex:ec}=er;return(0,eh.jsxs)(eZ,{style:{padding:eo},children:[(0,eh.jsx)("div",{className:"top-container",children:(0,eh.jsxs)("div",{className:"inner-container",children:[(0,eh.jsxs)("div",{className:"image-message",children:[(0,eh.jsx)("div",{className:"image-container",children:(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"})}),(0,eh.jsx)("div",{className:"message-container",children:(0,eh.jsx)(ez.Z,{message:"First, let's choose your look. You can switch this up later, too.",height:"86px"})})]}),(0,eh.jsx)(onBoarding_CharacterSelection,{})]})}),(0,eh.jsx)("div",{className:"button-container",children:(0,eh.jsx)(eW.Z,{variant:"blue",onClick:()=>ec(er=>er+=1),children:"Continue"})})]})},eJ=ec(3649),eQ=ec(93352),eX=ec(36180),icons_ClockIcon=function(er){let{color:eo="black",...ec}=er;return(0,eh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",children:[(0,eh.jsx)("rect",{x:"7.77856",y:"5.25",width:"1.41429",height:"6",fill:"#64748B"}),(0,eh.jsx)("rect",{x:"9.19287",y:"9.75",width:"2.82857",height:"1.5",fill:"#64748B"}),(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.0214 2.25H4.94997V3.75H3.53568V5.25H2.1214V12.75H3.53568V14.25H4.94997V15.75H12.0214V14.25H13.4357V12.75H14.85V5.25H13.4357V3.75H12.0214V2.25ZM12.0214 3.75V5.25H13.4357V12.75H12.0214V14.25H4.94997V12.75H3.53568V5.25H4.94997V3.75H12.0214Z",fill:"#64748B"})]})},icons_CheckmarkIcon=function(er){let{color:eo="black",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"24",viewBox:"0 0 25 24",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M18.5 6H20.5V8H18.5V6ZM16.5 10V8H18.5V10H16.5ZM14.5 12V10H16.5V12H14.5ZM12.5 14H14.5V12H12.5V14ZM10.5 16H12.5V14H10.5V16ZM8.5 16V18H10.5V16H8.5ZM6.5 14H8.5V16H6.5V14ZM6.5 14H4.5V12H6.5V14Z",fill:"#84CC16"})})},eY=ec(83782);function ObUsernameUpdate_templateObject(){let er=(0,eF._)(['\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 32px;\n  position: relative;\n\n  .platform {\n    z-index: 1;\n    position: absolute;\n    top: 148px;\n    left: 49%;\n    transform: translateX(-49%);\n  }\n\n  .character-container {\n    position: relative;\n    z-index: 4;\n    display: flex;\n    justify-content: center;\n\n    img {\n      height: 180px;\n      width: auto;\n    }\n  }\n\n  .username-update {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n    position: relative;\n\n    .username-label {\n      margin: 0px;\n      font-family: "Mulish", sans-serif;\n      font-weight: 800;\n    }\n\n    .input-container {\n      padding: 12px 16px;\n      display: flex;\n      position: relative;\n\n      input {\n        border: none;\n        outline: none;\n        background: none;\n        box-shadow: none;\n        padding: 0;\n        font-family: "Mulish", sans-serif;\n        width: 228px;\n\n        color: ',";\n\n        ::placeholder {\n          color: ",';\n          font-family: "Mulish", sans-serif;\n          font-size: 16px;\n          font-weight: 500;\n          line-height: 0px;\n        }\n\n        font-weight: 500;\n      }\n    }\n\n    .result-message {\n      position: absolute;\n      width: 100%;\n      height: fit-content;\n      bottom: -48px;\n      left: 0px;\n      font-family: "Mulish", sans-serif;\n\n      p {\n        display: flex;\n        align-items: center;\n        gap: 8px;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 150%;\n      }\n\n      .validating {\n        color: ',";\n      }\n\n      .unique {\n        color: ",";\n      }\n\n      .non-unique {\n        color: ",";\n      }\n    }\n  }\n"]);return ObUsernameUpdate_templateObject=function(){return er},er}let e0=eD.default.div.withConfig({componentId:"sc-9ac65504-0"})(ObUsernameUpdate_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["50"]:eo.colors.palette.grey["950"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.green["300"]:eo.colors.palette.green["800"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.red["300"]:eo.colors.palette.red["800"]});var onBoarding_ObUsernameUpdate=function(er){let{newUserName:eo,setNewUserName:ec,messageIndex:ef,setUserNameCheckPassed:eg}=er,em=(0,ep.v9)(eS.f8),ey=(0,ep.v9)(eS.zr),ev=(0,ep.v9)(eS.o4)||"dark",e_=(0,ep.v9)(eL.KV),ex=(0,ep.v9)(eS.$u)||0,[eC,eI]=(0,ew.useState)(null);async function checkUniqueUsername(){let er;if(ey===eo.toLowerCase()){eI("unique"),eg(!0);return}eI("validating");let{functions:ec}=(0,ek.UM)(),eh=(0,eQ.V1)(ec,"checkUniqueUsername"),ep=await eh({username:eo,uid:em}),{data:ef}=ep,ev=ef.data;er&&clearTimeout(er),setTimeout(()=>{eI(ev),eg("unique"===ev)},500)}let eE=(0,eX.Z)(eo,500);return(0,ew.useEffect)(()=>{eE&&checkUniqueUsername()},[eE,em]),(0,eh.jsxs)(e0,{children:[(0,eh.jsx)(icons_CharacterPlatformSvg,{className:"platform",color:"dark"===ev?"#334155":"#E2E8F0"}),(0,eh.jsx)("div",{className:"character-container",children:(0,eh.jsx)("img",{src:e_[ex],className:"nes-pointer",alt:""})}),0===ef&&(0,eh.jsxs)("div",{className:"username-update",children:[(0,eh.jsx)(eJ.Z,{className:"input-container",borderColor:eo?"non-unique"===eC?"9f1239":"14ADFF":"94A3B8",children:(0,eh.jsx)("input",{value:eo,placeholder:"Choose a username",onChange:er=>{eg(!1);let eo=er.target.value.replace(/\s+/g,"");ec(eo.length<=15?eo:eo.slice(0,15)),eI(null)}})}),(0,eh.jsxs)("div",{className:"result-message",children:["validating"===eC&&(0,eh.jsxs)("p",{className:"validating",children:[(0,eh.jsx)(icons_ClockIcon,{}),"Checking availability..."]}),"unique"===eC&&(0,eh.jsxs)("p",{className:"unique",children:[(0,eh.jsx)(icons_CheckmarkIcon,{}),"Username is available!"]}),"non-unique"===eC&&(0,eh.jsxs)("p",{className:"non-unique",children:[(0,eh.jsx)(eY.Z,{}),"Username is already taken ",":("]}),"not-valid"===eC&&(0,eh.jsxs)("p",{className:"non-unique",children:[(0,eh.jsx)(eY.Z,{}),"Username is too short"]})]})]})]})},e1=ec(47010);function onBoardingUsername_templateObject(){let er=(0,eF._)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 4rem;\n\n  .top-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    width: 100%;\n\n    "," {\n      padding: 0rem;\n    }\n\n    "," {\n      padding: 0rem 2rem;\n    }\n\n    .inner-container {\n      width: 100%;\n\n      display: flex;\n      flex-direction: column;\n      gap: 4rem;\n\n      .image-message {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n\n        "," {\n          flex-direction: column;\n        }\n\n        "," {\n          flex-direction: row;\n        }\n\n        .message-container {\n          flex: 1;\n          width: 100%;\n        }\n\n        .image-container {\n          flex-shrink: 0;\n\n          img {\n            width: 102px;\n            height: 102px;\n          }\n        }\n      }\n    }\n  }\n\n  .button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 250px;\n\n    button {\n      width: 200px;\n\n      .loader {\n        display: flex;\n        align-items: center;\n\n        padding-top: 6px;\n      }\n    }\n  }\n"]);return onBoardingUsername_templateObject=function(){return er},er}let e2=eD.default.div.withConfig({componentId:"sc-ef11e25d-0"})(onBoardingUsername_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm});var onBoardingUsername=function(er){let{componentPadding:eo,setSceneIndex:ec}=er,ef=(0,ey.T)();(0,ep.v9)(eS.f8);let[eg,em]=(0,ew.useState)(""),[ev,e_]=(0,ew.useState)(0),[ex,ek]=(0,ew.useState)(!1),[eC,eI]=(0,ew.useState)(!1),eE=["Looking good! What should I call you?","Nice to meet you <strong>".concat(eg,"</strong>. Now let's find something to learn!")];async function updateUsername(){try{var er;eI(!0);let eo=await ef((0,eS.ck)({data:{username:eg}}));(null==eo?void 0:null===(er=eo.meta)||void 0===er?void 0:er.requestStatus)=="fulfilled"&&(eI(!1),e_(ev+1))}catch(er){console.log(er)}}return(0,eh.jsxs)(e2,{style:{padding:eo},children:[(0,eh.jsx)("div",{className:"top-container",children:(0,eh.jsxs)("div",{className:"inner-container",children:[(0,eh.jsxs)("div",{className:"image-message",children:[(0,eh.jsx)("div",{className:"image-container",children:(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"})}),(0,eh.jsx)("div",{className:"message-container",children:(0,eh.jsx)(ez.Z,{message:eE[ev],height:1===ev&&"86px"})})]}),(0,eh.jsx)(onBoarding_ObUsernameUpdate,{newUserName:eg,setNewUserName:em,messageIndex:ev,setUserNameCheckPassed:ek})]})}),(0,eh.jsx)("div",{className:"button-container",children:(0,eh.jsx)(eW.Z,{variant:"blue",disabled:!ex,onClick:()=>(function(){if(ev===eE.length-1)return ec(er=>er+=1);updateUsername()})(),children:eC?(0,eh.jsx)(e1.Z,{color:"#E2E8F0",className:"loader"}):"Continue"})})]})};function ObQuestion_templateObject(){let er=(0,eF._)(["\n  height: 88px;\n  position: relative;\n\n  p {\n    margin: 0px;\n  }\n\n  .cursor-icon {\n    position: absolute;\n    left: -90px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  .pixel-container {\n    height: inherit;\n\n    .inner-pixel-container {\n      height: 95.5%;\n      padding: 16px;\n      display: flex;\n      align-items: center;\n      gap: 16px;\n\n      .question-content {\n        color: ",';\n        font-family: "Mulish", sans-serif;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 700;\n        line-height: 150%;\n      }\n\n      .description {\n        color: ',';\n        font-family: "Mulish", sans-serif;\n        font-size: 16px;\n        font-style: normal;\n        font-weight: 500;\n        line-height: 150%;\n      }\n    }\n  }\n']);return ObQuestion_templateObject=function(){return er},er}let e3=eD.default.div.withConfig({componentId:"sc-4b4703a5-0"})(ObQuestion_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["50"]:eo.colors.palette.grey["950"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]});var onBoarding_ObQuestion=function(er){let{selected:eo,answers:ec,...ef}=er,eg=(0,ep.v9)(eS.o4)||"dark",em="dark"===eg;return(0,eh.jsx)(e3,{...ef,style:{height:(null==ec?void 0:ec.description)?"88px":"72px"},children:(0,eh.jsx)(eJ.Z,{borderColor:eo?"14adff":em?"64748B":"CBD5E1",className:"pixel-container nes-pointer",style:{background:eo?em?"#00568D":"#B6E4FF":""},children:(0,eh.jsxs)(eJ.Z,{borderColor:eo?"14adff":em?"64748B":"CBD5E1",className:"inner-pixel-container",style:{background:eo?em?"#042D4D":"#DEF1FF":""},children:[ec.icon,(0,eh.jsxs)("div",{className:"question-content",children:[(0,eh.jsx)("p",{className:"title",children:ec.title}),(null==ec?void 0:ec.description)&&(0,eh.jsx)("p",{className:"description",children:ec.description})]})]})})})};function OnBoardingQuestion_templateObject(){let er=(0,eF._)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 32px;\n\n  .top-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    width: 100%;\n\n    "," {\n      padding: 0rem;\n    }\n\n    "," {\n      padding: 0rem 2rem;\n    }\n\n    .inner-container {\n      width: 100%;\n\n      display: flex;\n      flex-direction: column;\n\n      "," {\n        gap: 32px;\n      }\n\n      "," {\n        gap: 48px;\n      }\n\n      .image-message {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n\n        "," {\n          flex-direction: column;\n        }\n\n        "," {\n          flex-direction: row;\n        }\n\n        .message-container {\n          width: 100%;\n          flex: 1;\n        }\n\n        .image-container {\n          flex-shrink: 0;\n\n          img {\n            width: 102px;\n            height: 102px;\n          }\n        }\n      }\n\n      .questions-container {\n        display: flex;\n        flex-direction: column;\n        gap: 8px;\n      }\n    }\n  }\n\n  .button-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 250px;\n\n    "," {\n      padding-bottom: 3rem;\n    }\n\n    "," {\n      padding-bottom: 3rem;\n    }\n\n    "," {\n      padding-bottom: 3rem;\n    }\n\n    "," {\n      padding-bottom: 0rem;\n    }\n\n    button {\n      width: 200px;\n    }\n  }\n"]);return OnBoardingQuestion_templateObject=function(){return er},er}let e6=eD.default.div.withConfig({componentId:"sc-59a8ffeb-0"})(OnBoardingQuestion_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.md},er=>{let{theme:eo}=er;return eo.breakpoints.lg});var onBoarding_OnBoardingQuestion=function(er){let{componentPadding:eo,answers:ec,question:ep,setSceneIndex:ef,setAnswers:eg,questionType:em}=er,[ey,ev]=(0,ew.useState)(null);return(0,eh.jsxs)(e6,{style:{padding:eo},id:"aos-anchor",children:[(0,eh.jsx)("div",{className:"top-container",children:(0,eh.jsxs)("div",{className:"inner-container",children:[(0,eh.jsxs)("div",{className:"image-message",children:[(0,eh.jsx)("div",{className:"image-container",children:(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"})}),(0,eh.jsx)("div",{className:"message-container",children:(0,eh.jsx)(ez.Z,{message:ep})})]}),(0,eh.jsx)("div",{className:"questions-container",children:ec.map((er,eo)=>(0,eh.jsx)(onBoarding_ObQuestion,{"data-aos-anchor":"#aos-anchor",selected:ey===er.internalName,answers:er,onClick:()=>ev(er.internalName),"data-aos":"fade-up","data-aos-delay":100*eo+200,"data-aos-duration":"800"},er))})]})}),(0,eh.jsx)("div",{className:"button-container",children:(0,eh.jsx)(eW.Z,{variant:"blue",onClick:()=>{eg(er=>({...er,[em]:ey})),ef(er=>er+1),(0,eO.L7)({eventName:"onboarding-".concat(ey)}),(0,eI.qo)({eventName:"onboarding-".concat(ey)})},disabled:!ey,children:"Continue"})})]})},e4=ec(75128);function ObCourseCard_templateObject(){let er=(0,eF._)(["\n  border-radius: 8px;\n  padding: 24px;\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n  flex: 1;\n\n  &.selected {\n    background-color: ",";\n  }\n\n  button {\n    width: 100%;\n  }\n\n  /* color: ","; */\n"]);return ObCourseCard_templateObject=function(){return er},er}let e5=eD.default.div.withConfig({componentId:"sc-ed920bff-0"})(ObCourseCard_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.blue["950"]:eo.colors.palette.blue["50"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]});var onBoarding_ObCourseCard=function(er){let{courseName:eo,selected:ec=!0,preventLink:ep=!1,btnAction:ef=()=>{},...eg}=er;return(0,eh.jsxs)(e5,{className:"".concat(ec&&"selected"),...eg,children:[(0,eh.jsx)(e4.Z,{courseName:eo,isLoading:!1,cardWidth:"100%",onClick:er=>{ep&&er.preventDefault()}}),ec&&(0,eh.jsx)(eW.Z,{onClick:()=>ef(),children:"Start Learning"})]})};function ExploreCatalog_templateObject(){let er=(0,eF._)(['\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  padding-bottom: 3rem;\n  p {\n    margin: 0px;\n  }\n  .course-tags {\n    margin-top: 1rem;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n    font-family: "Mulish", sans-serif;\n\n    .tag {\n      padding: 8px 16px;\n      border-radius: 200px;\n      border: 2px solid\n        ',";\n      transition-duration: 0.2s;\n\n      p {\n        color: ",";\n\n        text-align: center;\n\n        font-style: normal;\n        font-weight: 600;\n\n        -webkit-user-select: none;\n        -ms-user-select: none;\n        user-select: none;\n\n        "," {\n          font-size: 14px;\n        }\n        "," {\n          font-size: 16px;\n        }\n      }\n\n      :hover {\n        background: ",";\n      }\n    }\n\n    .tag-selected {\n      border: 2px solid ",";\n      background: ",";\n      p {\n        color: ",";\n      }\n    }\n  }\n\n  .course-list {\n    margin-top: 32px;\n    display: grid;\n    gap: 32px 24px;\n\n    "," {\n      grid-template-columns: repeat(1, 1fr);\n      padding: 0rem;\n    }\n    "," {\n      grid-template-columns: repeat(2, 1fr);\n      padding: 0rem 2rem;\n    }\n\n    "," {\n      grid-template-columns: repeat(3, 1fr);\n    }\n  }\n"]);return ExploreCatalog_templateObject=function(){return er},er}let e9=eD.default.div.withConfig({componentId:"sc-16ca220a-0"})(ExploreCatalog_templateObject(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["600"]:eo.colors.palette.grey["300"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?"#fff":"#020617"},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["800"]:eo.colors.palette.grey["100"]},er=>{let{theme:eo}=er;return eo.colors.palette.blue["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.blue["950"]:eo.colors.palette.blue["50"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.blue["400"]:eo.colors.palette.blue["700"]},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.md});var onBoarding_ExploreCatalog=function(er){let{componentPadding:eo,defaultTag:ec,setUserSelectedCourse:ef}=er,[eg,em]=(0,ew.useState)(ec?[ec]:[]),ey=(0,ep.v9)(eA.tp),ev=(0,ep.v9)(eA.dh),e_=(0,ew.useCallback)(er=>{em(eo=>"all"===er?[]:eo.includes(er)?eo.filter(eo=>eo!==er):[er])},[]);return(0,eh.jsxs)(e9,{children:[(0,eh.jsxs)("div",{className:"course-tags desktop-filters",children:[(0,eh.jsx)("div",{className:"tag nes-pointer",onClick:()=>e_("all"),id:"anchor",children:(0,eh.jsx)("p",{children:"All"})}),ey.map(er=>(0,eh.jsx)("div",{className:"tag nes-pointer ".concat(eg.includes(er.internalName)&&"tag-selected"),onClick:()=>e_(er.internalName),children:(0,eh.jsx)("p",{children:er.displayName})},er.internalName))]}),(0,eh.jsx)("div",{className:"course-list",children:ev.map((er,eo)=>{if(eg.some(eo=>er.tags.includes(eo))||0===eg.length)return(0,eh.jsx)(e4.Z,{"data-aos-anchor":"#anchor","data-aos":"fade-up","data-aos-delay":50*eo+50,"data-aos-duration":"800",courseName:er.internlName,cardWidth:"100%",isLoading:!1,onClick:eo=>{eo.preventDefault(),ef(er.internlName)}},er.internlName)})})]})};function RecommendCourse_templateObject(){let er=(0,eF._)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return RecommendCourse_templateObject=function(){return er},er}function _templateObject1(){let er=(0,eF._)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n\n  opacity: 0;\n  animation: "," 1s ease-in-out forwards;\n\n  .recommened-course-inner-container {\n    width: 391px;\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n\n    .title-container {\n      display: flex;\n      align-items: center;\n      gap: 12px;\n\n      .line {\n        height: 2px;\n        background-color: ",";\n        flex: 1;\n      }\n\n      p {\n        margin: 0px;\n        color: ",';\n        font-family: "Mulish", sans-serif;\n        font-size: 12px;\n        font-weight: 700;\n        line-height: normal;\n        letter-spacing: 1.68px;\n        text-transform: uppercase;\n      }\n    }\n\n    .explore-more {\n      margin: 0px;\n      text-align: center;\n      color: ',';\n      font-family: "Mulish", sans-serif;\n      font-size: 16px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 150%;\n    }\n  }\n']);return _templateObject1=function(){return er},er}let e7=(0,eD.keyframes)(RecommendCourse_templateObject()),e8=eD.default.div.withConfig({componentId:"sc-193aa106-0"})(_templateObject1(),e7,er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["700"]:eo.colors.palette.grey["200"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]});var onBoarding_RecommendCourse=function(er){let{courseName:eo,exploreMore:ec,componentPadding:ep,setUserSelectedCourse:ef}=er,[eg,em]=(0,ew.useState)(!1);return(0,eh.jsxs)(e8,{children:[eg&&(0,eh.jsx)(onBoarding_ExploreCatalog,{defaultTag:"all"==ec?null:ec,componentPadding:ep,setUserSelectedCourse:ef}),!eg&&(0,eh.jsxs)("div",{className:"recommened-course-inner-container",children:[(0,eh.jsxs)("div",{className:"title-container",children:[(0,eh.jsx)("div",{className:"line"}),(0,eh.jsx)("p",{children:"Recommended COURSE "}),(0,eh.jsx)("div",{className:"line"})]}),(0,eh.jsx)(onBoarding_ObCourseCard,{courseName:eo,onClick:()=>ef(eo),preventLink:!0}),ec&&(0,eh.jsx)("p",{className:"explore-more nes-pointer",onClick:()=>em(!0),children:"Explore more courses"})]})]})};function RecommendPath_templateObject(){let er=(0,eF._)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return RecommendPath_templateObject=function(){return er},er}function RecommendPath_templateObject1(){let er=(0,eF._)(["\n  display: flex;\n  justify-content: center;\n  padding: 1rem;\n\n  .recommened-path-inner-container {\n    display: flex;\n    flex-direction: column;\n    gap: 24px;\n\n    .title-container {\n      display: flex;\n      flex-direction: column;\n      gap: 16px;\n      opacity: 0;\n      animation: "," 1s ease-in-out forwards;\n\n      .inner-title-container {\n        display: flex;\n        align-items: center;\n        gap: 12px;\n\n        .line {\n          height: 2px;\n          background-color: ",";\n          flex: 1;\n        }\n\n        p {\n          margin: 0px;\n          color: ",';\n          font-family: "Mulish", sans-serif;\n          font-size: 12px;\n          font-weight: 700;\n          line-height: normal;\n          letter-spacing: 1.68px;\n          text-transform: uppercase;\n        }\n      }\n\n      h2 {\n        margin: 0px;\n        text-align: center;\n        color: ',';\n        font-family: "PixelGridS";\n        font-size: 24px;\n\n        font-weight: 700;\n        line-height: 140%;\n        letter-spacing: 0.72px;\n      }\n\n      .description {\n        text-align: center;\n        color: ',';\n        font-family: "Mulish", sans-serif;\n        font-size: 16px;\n        font-weight: 500;\n        line-height: 150%;\n      }\n    }\n\n    .surfaced-courses {\n      opacity: 0;\n      animation: '," 1.5s ease-in-out forwards;\n      display: grid;\n      "," {\n        grid-template-columns: repeat(1, 1fr);\n      }\n      "," {\n        grid-template-columns: repeat(2, 1fr);\n      }\n\n      "," {\n        grid-template-columns: repeat(3, 1fr);\n      }\n    }\n\n    .explore-more {\n      margin: 0px;\n      text-align: center;\n      color: ",';\n      font-family: "Mulish", sans-serif;\n      font-size: 16px;\n      font-style: normal;\n      font-weight: 500;\n      line-height: 150%;\n    }\n  }\n']);return RecommendPath_templateObject1=function(){return er},er}let tr=(0,eD.keyframes)(RecommendPath_templateObject()),to=eD.default.div.withConfig({componentId:"sc-4af01b3-0"})(RecommendPath_templateObject1(),tr,er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["700"]:eo.colors.palette.grey["200"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["400"]:eo.colors.palette.grey["500"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["50"]:eo.colors.palette.grey["950"]},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]},tr,er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm},er=>{let{theme:eo}=er;return eo.breakpoints.md},er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["300"]:eo.colors.palette.grey["600"]});var onBoarding_RecommendPath=function(er){let{recommendation:eo,componentPadding:ec,setUserSelectedCourse:ep}=er,[ef,eg]=(0,ew.useState)(!1),[em,ey]=(0,ew.useState)(0);return(0,eh.jsxs)(to,{children:[ef&&(0,eh.jsx)(onBoarding_ExploreCatalog,{defaultTag:(null==eo?void 0:eo.exploreMore)=="all"?null:null==eo?void 0:eo.exploreMore,componentPadding:ec,setUserSelectedCourse:ep}),!ef&&(0,eh.jsxs)("div",{className:"recommened-path-inner-container",children:[(0,eh.jsxs)("div",{style:{padding:ec},className:"title-container",children:[(0,eh.jsxs)("div",{className:"inner-title-container",children:[(0,eh.jsx)("div",{className:"line"}),(0,eh.jsx)("p",{children:"Recommended journey "}),(0,eh.jsx)("div",{className:"line"})]}),(0,eh.jsx)("h2",{children:eo.trackName}),(0,eh.jsx)("p",{className:"description",children:eo.trackDescription})]}),(0,eh.jsx)("div",{className:"surfaced-courses",children:eo.courses.map((er,eo)=>(0,eh.jsx)(onBoarding_ObCourseCard,{courseName:er,selected:em===eo,preventLink:!0,btnAction:()=>ep(er),onClick:()=>{ey(eo)}},er))}),(null==eo?void 0:eo.exploreMore)&&(0,eh.jsx)("p",{className:"explore-more nes-pointer",onClick:()=>eg(!0),children:"Explore more courses"})]})]})};function OnBoardingRecommendation_templateObject(){let er=(0,eF._)(["\n  height: 100%;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  .top-container {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    width: 100%;\n    padding-bottom: 3rem;\n\n    .inner-container {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      gap: 2rem;\n\n      .image-message {\n        display: flex;\n        align-items: center;\n        gap: 16px;\n\n        "," {\n          flex-direction: column;\n        }\n\n        "," {\n          flex-direction: row;\n        }\n\n        .message-container {\n          flex: 1;\n          width: 100%;\n        }\n\n        .image-container {\n          flex-shrink: 0;\n\n          img {\n            width: 102px;\n            height: 102px;\n          }\n        }\n      }\n    }\n  }\n"]);return OnBoardingRecommendation_templateObject=function(){return er},er}let ta=eD.default.div.withConfig({componentId:"sc-9eb9f42-0"})(OnBoardingRecommendation_templateObject(),er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm});var onBoarding_OnBoardingRecommendation=function(er){let{componentPadding:eo,setSceneIndex:ec,finishedAnswers:ep,setUserSelectedCourse:ef}=er,[eg,em]=(0,ew.useState)(!1),ey=function(er){let eo,{difficulty:ec,answer:eh}=er;switch(ec){case"beginner":eo=function(er){let eo;switch(er){case"programming_fundamentals":case"not_sure":eo={type:"single_course",course:"python",exploreMore:"beginner"};break;case"analyzing_data":eo={type:"track",trackName:"The Legend of Python",trackDescription:"Start learning Python, a beginner-friendly language perfect for coding basics\n            and data analysis. Start from the very beginning or skip ahead!",courses:["python","intermediate-python","numpy"],exploreMore:"data-science"};break;case"building_websites":eo={type:"track",trackName:"The Origins Trilogy",trackDescription:"Want to create your own website? Learn HTML, CSS, and JavaScript: the three core technologies that make up the web.",courses:["html","css","javascript"],exploreMore:"web-dev"};break;case"something_else":eo={type:"explore",defaultTag:"beginner"}}return eo}(eh);break;case"intermediate":eo=function(er){let eo;switch(er){case"programming_fundamentals":eo={type:"single_course",course:"python",exploreMore:"all"};break;case"analyzing_data":eo={type:"track",trackName:"The Legend of Python",trackDescription:"Start learning Python, a beginner-friendly language perfect for coding basics\n            and data analysis. Start from the very beginning or skip ahead!",courses:["python","intermediate-python","numpy"],exploreMore:"data-science"};break;case"building_websites":eo={type:"track",trackName:"The Origins Trilogy",trackDescription:"Want to create your own website? Learn HTML, CSS, and JavaScript: the three core technologies that make up the web.",courses:["html","css","javascript"],exploreMore:"web-dev"};break;case"something_else":case"not_sure":eo={type:"explore",defaultTag:""}}return eo}(eh);break;case"advanced":eo=function(er){let eo;switch(er){case"programming_fundamentals":eo={type:"single_course",course:"python",exploreMore:"all"};break;case"analyzing_data":eo={type:"explore",defaultTag:"data-science"};break;case"building_websites":eo={type:"explore",defaultTag:"web-dev"};break;case"something_else":case"not_sure":eo={type:"explore",defaultTag:""}}return eo}(eh);break;default:throw Error("Invalid difficulty type")}return eo}({difficulty:null==ep?void 0:ep.diffAnswer,answer:null==ep?void 0:ep.pathAnswer}),ev={single_course:(0,eh.jsx)(onBoarding_RecommendCourse,{componentPadding:eo,courseName:ey.course,exploreMore:ey.exploreMore,setUserSelectedCourse:ef}),track:(0,eh.jsx)(onBoarding_RecommendPath,{componentPadding:eo,recommendation:ey,setUserSelectedCourse:ef}),explore:(0,eh.jsx)(onBoarding_ExploreCatalog,{componentPadding:eo,defaultTag:ey.defaultTag,setUserSelectedCourse:ef})};return(0,eh.jsx)(ta,{children:(0,eh.jsx)("div",{className:"top-container",children:(0,eh.jsxs)("div",{className:"inner-container",children:[(0,eh.jsxs)("div",{className:"image-message",style:{padding:eo},children:[(0,eh.jsx)("div",{className:"image-container",children:(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"})}),(0,eh.jsx)("div",{className:"message-container",children:(0,eh.jsx)(ez.Z,{message:"explore"===ey.type?"Take a look through our courses~":"Here's what I found just for you!",setAction:()=>em(!0)})})]}),eg&&(0,eh.jsx)(eh.Fragment,{children:ev[ey.type]})]})})})},tc=ec(47158);function ObFinalCutScene_templateObject(){let er=(0,eF._)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return ObFinalCutScene_templateObject=function(){return er},er}function ObFinalCutScene_templateObject1(){let er=(0,eF._)(["\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n"]);return ObFinalCutScene_templateObject1=function(){return er},er}function _templateObject2(){let er=(0,eF._)(["\n          "," 2s ease-in-out forwards\n        "]);return _templateObject2=function(){return er},er}function _templateObject3(){let er=(0,eF._)(["\n          "," 1s ease-in-out forwards\n        "]);return _templateObject3=function(){return er},er}function _templateObject4(){let er=(0,eF._)(["\n  top: 0;\n  z-index: 99;\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  background-color: ",";\n\n  opacity: 0;\n  animation: ",';\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n\n  .character-container {\n    display: flex;\n    justify-content: center;\n    position: relative;\n\n    .platform {\n      bottom: 0px;\n      left: 0px;\n      position: absolute;\n      z-index: 1;\n      width: 256px;\n      height: 51px;\n    }\n\n    img {\n      z-index: 2;\n      height: 282.717px;\n      align-self: stretch;\n    }\n  }\n\n  .final-message {\n    margin-top: 4.5rem;\n    width: 750px;\n    max-width: 90%;\n    min-height: 200px;\n    .python-typewriter {\n      span {\n        color: #fff;\n        text-align: center;\n        font-family: "PixelGridM";\n        font-style: normal;\n        font-weight: 700;\n        line-height: 140%;\n        letter-spacing: 0.96px;\n\n        '," {\n          font-size: 28px;\n        }\n\n        "," {\n          font-size: 32px;\n        }\n      }\n    }\n    .python-typewriter-cursor {\n      display: none;\n    }\n  }\n"]);return _templateObject4=function(){return er},er}let td=(0,eD.keyframes)(ObFinalCutScene_templateObject()),tp=(0,eD.keyframes)(ObFinalCutScene_templateObject1()),tf=eD.default.div.withConfig({componentId:"sc-5f164458-0"})(_templateObject4(),er=>{let{theme:eo}=er;return eo.mode,eo.colors.palette.grey["950"]},er=>{let{isFadingOut:eo}=er;return eo?(0,eD.css)(_templateObject2(),tp):(0,eD.css)(_templateObject3(),td)},er=>{let{theme:eo}=er;return eo.breakpoints.xs},er=>{let{theme:eo}=er;return eo.breakpoints.sm});var onBoarding_ObFinalCutScene=function(er){let{courseName:eo="python"}=er,ec=(0,eN.useRouter)(),ef=(0,ey.T)(),eg=(0,ep.v9)(eL.KV),em=(0,ep.v9)(eS.$u)||0,{firstExercise:ev,catalogName:e_}=(0,ep.v9)((0,eA.Gm)({courseName:eo})),[ex,ek]=(0,ew.useState)(!1),[eC,eI]=(0,ew.useState)(!1);return(0,ew.useEffect)(()=>{let er=setTimeout(()=>{ek(!0)},1e3);return()=>clearTimeout(er)},[]),(0,eh.jsxs)(tf,{isFadingOut:eC,children:[(0,eh.jsxs)("div",{className:"character-container",children:[(0,eh.jsx)(icons_CharacterPlatformSvg,{className:"platform",color:"#334155"}),(0,eh.jsx)("img",{src:eg[em],className:"nes-pointer",alt:""})]}),(0,eh.jsx)("div",{className:"final-message",children:ex&&(0,eh.jsx)("span",{children:(0,eh.jsx)(tc.Z,{text:"And thus began your journey to the land of ".concat(e_,"..."),typingSpeed:70,setAction:function(){ec.push("/".concat(eo,"/").concat(ev)).then(()=>{eI(!0),setTimeout(()=>{ef((0,eS.J)({type:null,status:"hide",properties:{}}))},2e3)})}})})})]})},icons_DifficultyBar=function(er){let{color:eo="black",fillBar:ec,fillColor:ep="#CBD5E1",...ef}=er;return(0,eh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...ef,children:[(0,eh.jsx)("rect",{width:"5.33333",height:"5.33333",transform:"matrix(1 0 0 -1 5.3335 24)",fill:ep}),(0,eh.jsx)("rect",{width:"5.33333",height:"10.6667",transform:"matrix(1 0 0 -1 13.3335 24)",fill:ep,"fill-opacity":ec>=2?"1":".3"}),(0,eh.jsx)("rect",{width:"5.33333",height:"16",transform:"matrix(1 0 0 -1 21.3335 24)",fill:ep,"fill-opacity":ec>=3?"1":".3"})]})};function DecisionLoader_templateObject(){let er=(0,eF._)(['\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 70%;\n\n  img {\n    width: 160px;\n    height: 160px;\n  }\n\n  p {\n    margin-top: 2rem;\n    display: flex;\n    flex-direction: column;\n    height: 50px;\n\n    .python-typewriter {\n      margin: 0px;\n      text-align: center;\n\n      color: #020617;\n\n      font-family: "PixelGridM";\n      font-size: 20px;\n      font-style: normal;\n      font-weight: 700;\n      line-height: 140%;\n      letter-spacing: 0.6px;\n    }\n\n    .python-typewriter-cursor {\n      display: none;\n    }\n  }\n']);return DecisionLoader_templateObject=function(){return er},er}let tg=eD.default.div.withConfig({componentId:"sc-a53a0197-0"})(DecisionLoader_templateObject());var onBoarding_DecisionLoader=function(er){let{setSceneIndex:eo}=er,[ec,ep]=(0,ew.useState)(!1);return(0,ew.useEffect)(()=>{if(ec){let er=setTimeout(()=>{eo(er=>er+1)},2100);return()=>clearTimeout(er)}},[ec,eo]),(0,eh.jsxs)(tg,{children:[(0,eh.jsx)("img",{src:"/images/codedex-bot-logo-compressed.gif",alt:"codedex bot"}),(0,eh.jsxs)("p",{children:[(0,eh.jsx)(tc.Z,{text:"Beep boop...",setAction:()=>ep(!0),typingSpeed:70}),ec&&(0,eh.jsx)(tc.Z,{text:"Finding a course...",typingSpeed:70})]})]})},tm=ec(2711),ty=ec.n(tm);ec(20927);var tv=ec(45198);function UserOnboarding_templateObject(){let er=(0,eF._)(["\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n"]);return UserOnboarding_templateObject=function(){return er},er}function UserOnboarding_templateObject1(){let er=(0,eF._)(["\n  z-index: 99;\n  width: 100vw;\n  height: 100vh;\n  top: 0;\n  position: fixed;\n  padding: 2rem 0rem;\n  background-color: ",";\n  opacity: 0;\n  animation: "," 0.5s ease-in-out forwards;\n  overflow: auto;\n\n  .main-container {\n    display: flex;\n    flex-direction: column;\n    gap: 32px;\n  }\n\n  @media screen and (max-width: 767px) {\n    [data-aos] {\n      pointer-events: auto !important;\n      opacity: 1 !important;\n      transform: none !important;\n    }\n  }\n"]);return UserOnboarding_templateObject1=function(){return er},er}let t_=(0,eD.keyframes)(UserOnboarding_templateObject()),tb=eD.default.div.withConfig({componentId:"sc-33a7ab9d-0"})(UserOnboarding_templateObject1(),er=>{let{theme:eo}=er;return"dark"==eo.mode?eo.colors.palette.grey["950"]:eo.colors.palette.grey["50"]},t_),tw=[{internalName:"programming_fundamentals",icon:(0,eh.jsx)(function(er){let{color:eo="black",...ec}=er;return(0,eh.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"20",viewBox:"0 0 28 20",fill:"none",...ec,children:[(0,eh.jsx)("path",{d:"M8.66602 0.666565H11.3327V3.33323H8.66602V0.666565Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M5.99935 3.33323H8.66602V5.9999H5.99935V3.33323Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M3.33268 5.9999H5.99935V8.66657H3.33268V5.9999Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M0.666016 8.66657H3.33268V11.3332H0.666016V8.66657Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M3.33268 11.3332H5.99935V13.9999H3.33268V11.3332Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M5.99935 13.9999H8.66602V16.6666H5.99935V13.9999Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M8.66602 16.6666H11.3327V19.3332H8.66602V16.6666Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M19.3327 0.666565H16.666V3.33323H19.3327V0.666565Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M21.9993 3.33323H19.3327V5.9999H21.9993V3.33323Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M24.666 5.9999H21.9993V8.66657H24.666V5.9999Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M27.3327 8.66657H24.666V11.3332H27.3327V8.66657Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M24.666 11.3332H21.9993V13.9999H24.666V11.3332Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M21.9993 13.9999H19.3327V16.6666H21.9993V13.9999Z",fill:"#475569"}),(0,eh.jsx)("path",{d:"M19.3327 16.6666H16.666V19.3332H19.3327V16.6666Z",fill:"#475569"})]})},{}),title:"Programming fundamentals"},{internalName:"analyzing_data",icon:(0,eh.jsx)(function(er){let{color:eo="black",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 5.33331H6.66667V24H28V26.6666H6.66667H4V24V5.33331ZM12 18.6666H9.33333V21.3333H12V18.6666ZM14.6667 16V18.6666H12V16H14.6667ZM17.3333 16V13.3333H14.6667V16H17.3333ZM20 16H17.3333V18.6666H20V16ZM22.6667 13.3333H20V16H22.6667V13.3333ZM25.3333 10.6666V13.3333H22.6667V10.6666H25.3333ZM25.3333 10.6666V7.99998H28V10.6666H25.3333Z",fill:"#475569"})})},{}),title:"Analyzing data"},{internalName:"building_websites",icon:(0,eh.jsx)(function(er){let{color:eo="black",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M26.6668 4H5.33317H2.6665V6.66667V19.9999V22.6666V22.6667H5.33317V22.6666H13.3332V25.3333H10.6665V27.9999H13.3332H18.6665H21.3332V25.3333H18.6665V22.6666H26.6668V22.6667H29.3335V4H29.3332H26.6668ZM18.6665 19.9999H13.3332H5.33317V6.66667H26.6668V19.9999H18.6665Z",fill:"#475569"})})},{}),title:"Building websites or web apps"},{internalName:"something_else",icon:(0,eh.jsx)(function(er){let{color:eo="black",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M1.3335 12H9.3335V20H1.3335V12ZM4.00016 14.6667V17.3333H6.66683V14.6667H4.00016ZM12.0002 12H20.0002V20H12.0002V12ZM14.6668 14.6667V17.3333H17.3335V14.6667H14.6668ZM22.6668 12H30.6668V20H22.6668V12ZM25.3335 14.6667V17.3333H28.0002V14.6667H25.3335Z",fill:"#475569"})})},{}),title:"Something else"},{internalName:"not_sure",icon:(0,eh.jsx)(function(er){let{color:eo="black",...ec}=er;return(0,eh.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:(0,eh.jsx)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.6665 2.66666H13.3332V5.33332H15.9998V7.99999H13.3332V21.3333H10.6665V7.99999H7.99984V5.33332H10.6665V2.66666ZM5.33317 10.6667V7.99999H7.99984V10.6667H5.33317ZM7.99984 24V26.6667H5.33317V29.3333H2.6665V10.6667H5.33317V24H7.99984ZM7.99984 24H10.6665V21.3333H7.99984V24ZM15.9998 24H13.3332V21.3333H15.9998V24ZM18.6665 10.6667V7.99999H15.9998V10.6667H18.6665ZM21.3332 10.6667H18.6665V24H15.9998V26.6667H18.6665V29.3333H21.3332V26.6667H23.9998V24H26.6665V21.3333H29.3332V5.33332V2.66666H26.6665V5.33332H23.9998V7.99999H21.3332V10.6667ZM21.3332 10.6667H23.9998V7.99999H26.6665V21.3333H23.9998V24H21.3332V10.6667Z",fill:"#475569"})})},{}),title:"I'm not sure! I just want to explore"}];var onBoarding_UserOnboarding=function(){let er=(0,tv.i)(),[eo,ec]=(0,ew.useState)(0),[ef,eg]=(0,ew.useState)({}),[em,ey]=(0,ew.useState)(null),ev=(0,ep.v9)(eS.o4)||"dark",e_="dark"===ev,ex=er.width>1024?"0rem 13rem":"0rem",ek=er.width>1024?"0rem 15rem":"0rem";(0,ew.useEffect)(()=>{ty().init({mirror:!1,disable:"mobile",once:!0})},[]);let eC=[{internalName:"beginner",icon:(0,eh.jsx)(icons_DifficultyBar,{fillBar:1,fillColor:e_?"#CBD5E1":"#475569"}),title:"Beginner",description:"I've never coded before / I know some basics."},{internalName:"intermediate",icon:(0,eh.jsx)(icons_DifficultyBar,{fillBar:2,fillColor:e_?"#CBD5E1":"#475569"}),title:"Intermediate",description:"I have some knowledge, and may have built one or two projects."},{internalName:"advanced",icon:(0,eh.jsx)(icons_DifficultyBar,{fillBar:3,fillColor:e_?"#CBD5E1":"#475569"}),title:"Advanced",description:"I'm very comfortable coding and I've built multiple projects before."}],eI=[(0,eh.jsx)(onBoarding_OnBoardingWelcome,{componentPadding:ex,setSceneIndex:ec},0),(0,eh.jsx)(onBoarding_OnBoardingCharacterSelection,{componentPadding:ex,setSceneIndex:ec},1),(0,eh.jsx)(onBoardingUsername,{componentPadding:ex,setSceneIndex:ec},2),(0,eh.jsx)(onBoarding_OnBoardingQuestion,{componentPadding:ex,answers:eC,question:"What's your experience with coding?",setSceneIndex:ec,setAnswers:eg,questionType:"diffAnswer"},3),(0,eh.jsx)(onBoarding_OnBoardingQuestion,{componentPadding:ex,answers:tw,question:"What are you most interested in?",setSceneIndex:ec,setAnswers:eg,questionType:"pathAnswer"},4),(0,eh.jsx)(onBoarding_DecisionLoader,{setSceneIndex:ec},5),(0,eh.jsx)(onBoarding_OnBoardingRecommendation,{componentPadding:ek,setSceneIndex:ec,finishedAnswers:ef,setUserSelectedCourse:ey},6)],eE=(0,eX.Z)(em,1e3);return(0,eh.jsxs)(eh.Fragment,{children:[em&&(0,eh.jsx)(onBoarding_ObFinalCutScene,{courseName:em}),!eE&&(0,eh.jsx)(tb,{children:(0,eh.jsxs)(eV.Z,{className:"main-container",children:[(0,eh.jsx)(onBoarding_OnBoardingProgressBar,{componentPadding:ex,prevScene:function(){if(0!==eo){if(eo===eI.length-1)return ec(eo-2);ec(eo-1)}},percentageCompleted:Math.floor((eo+1)/7*100),darkTheme:e_}),eI[eo]]})})]})},tx=ec(94430);function GaImageErrorPopup_templateObject(){let er=(0,eF._)(['\n  z-index: 20;\n  position: fixed;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  top: 0px;\n  left: 0px;\n  background: rgba(0, 0, 0, 0.5);\n\n  font-family: "Mulish", sans-serif;\n\n  .ga-image-error {\n    width: 550px;\n    height: fit-content;\n\n    h2 {\n      color: ',";\n\n      span {\n        color: ",";\n      }\n    }\n\n    .description {\n      color: ",";\n      font-weight: 600;\n    }\n\n    .note {\n      color: ",";\n      font-style: italic;\n      font-size: 14px;\n    }\n  }\n"]);return GaImageErrorPopup_templateObject=function(){return er},er}let tk=eD.default.div.withConfig({componentId:"sc-a1aff5c6-0"})(GaImageErrorPopup_templateObject(),er=>er.theme.colors.semantic.text.primary,er=>er.theme.colors.palette.red["500"],er=>er.theme.colors.semantic.text.primary,er=>er.theme.colors.semantic.text.secondary);var generalAssembly_GaImageErrorPopup=function(){let er=(0,ey.T)();return(0,eh.jsx)(tk,{children:(0,eh.jsxs)(tx.Z,{className:"ga-image-error",iconAction:()=>void er((0,eS.J)({type:"",status:"hide",properties:{}})),children:[(0,eh.jsxs)("h2",{children:[(0,eh.jsx)("span",{children:"Warning:"})," Images Not Linked Correctly"]}),(0,eh.jsx)("p",{className:"description",children:"It looks like some images in your project aren't linked correctly. Please check and update the links to ensure they work. Images must be linked properly for the projects to be accepted."}),(0,eh.jsx)("p",{className:"note",children:"Note: Ensure the URL is correct and publicly accessible. Check the URL carefully to make sure there are no typos, and ensure it's a direct link to the image (not a webpage or redirect)."})]})})},organisms_GlobalPopups=function(){let er=(0,ep.v9)(eS.XU),eo={onboarding:(0,eh.jsx)(onBoarding_UserOnboarding,{}),gaImageError:(0,eh.jsx)(generalAssembly_GaImageErrorPopup,{})};return(null==er?void 0:er.type)==""||(null==er?void 0:er.type)==null?null:(0,eh.jsx)(eh.Fragment,{children:eo[null==er?void 0:er.type]})},organisms_Layout=function(er){let{children:eo}=er,ec=(0,ep.v9)(eS.o4)||"dark",[ef,eg]=(0,ew.useState)(!1);return(!function(){let er=(0,eN.useRouter)(),eo=er.asPath,ec=(0,ep.v9)(eS.IC),eh=(0,ep.v9)(eS.ot),ef=(0,ey.T)(),eg=e_().get().codedexToken;(0,ew.useEffect)(()=>{ef((0,eL.cF)(eo)),(0,eU.CA)()},[eo,ef]),(0,ew.useEffect)(()=>{(0,eI.tN)({path:eo})},[eo]),(0,ew.useEffect)(()=>{eh&&(0,eI.iQ)()},[eg,eh,ec])}(),(0,ew.useEffect)(function(){eg(!0)},[]),(0,ew.useEffect)(function(){ef&&((0,eO.UK)(),(0,eI.BP)())},[ef]),ef)?(0,eh.jsxs)(eD.ThemeProvider,{theme:"light"===ec?ej.ib:ej.Cs,children:[(0,eh.jsx)(ej.nz,{}),(0,eh.jsx)(organisms_GlobalPopups,{}),eo]}):null},tS=ec(9008),tC=ec.n(tS),atoms_MetaTags=function(er){let{metatags:eo}=er;return eo?(0,eh.jsxs)(tC(),{children:[(0,eh.jsx)("meta",{property:"og:site_name",content:"Cod\xe9dex"},"og-site_name"),(0,eh.jsx)("meta",{charSet:"UTF-8"}),(0,eh.jsx)("link",{rel:"icon",href:"/images/favicon.png"}),(0,eh.jsx)("title",{children:eo.title}),(0,eh.jsx)("meta",{property:"og:title",content:eo.title},"og-title"),(0,eh.jsx)("meta",{property:"og:url",content:eo.og.url},"og-url"),(null==eo?void 0:eo.image)&&(0,eh.jsx)("meta",{property:"og:image",content:eo.image},"og-image"),(0,eh.jsx)("meta",{property:"og:description",content:eo.description},"og-description"),(0,eh.jsx)("meta",{property:"og:type",content:eo.og.type},"og-type"),(null==eo?void 0:eo.image)&&(0,eh.jsx)("meta",{property:"twitter:image",content:eo.image},"twitter-image"),(0,eh.jsx)("meta",{name:"twitter:title",content:eo.title},"twitter-title"),(0,eh.jsx)("meta",{name:"twitter:description",content:eo.description},"twitter-description"),(0,eh.jsx)("meta",{name:"twitter:card",content:eo.twitter.card},"twitter-card"),(0,eh.jsx)("meta",{name:"twitter:site",content:eo.twitter.site},"twitter-site"),(0,eh.jsx)("meta",{name:"twitter:creator",content:eo.twitter.creator},"twitter-creator"),(0,eh.jsx)("meta",{name:"description",content:eo.description},"description"),(0,eh.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"WebSite",name:"Cod\xe9dex",url:"https://www.codedex.io/"})}})]}):(0,eh.jsxs)(tC(),{children:[(0,eh.jsx)("meta",{charSet:"UTF-8"}),(0,eh.jsx)("link",{rel:"icon",href:"/images/favicon.png"})]})},atoms_SEOMarkup=function(er){let{breadCrumbs:eo=null}=er;return null===eo?null:(0,eh.jsx)(tC(),{children:(0,eh.jsx)("script",{type:"application/ld+json",id:"rich-seo-breadcrumbs",dangerouslySetInnerHTML:{__html:JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:eo})}})})},_app=function(er){var eo;let{Component:ec,pageProps:ef}=er,{store:ev}=ey.Y.useWrappedStore(ef),e_=ef.metatags,ew=(0,eN.useRouter)();return(null==ew?void 0:null===(eo=ew.asPath)||void 0===eo?void 0:eo.includes("general-assembly"))?(0,eh.jsxs)(eh.Fragment,{children:[(0,eh.jsx)(atoms_MetaTags,{metatags:e_}),(0,eh.jsx)(atoms_SEOMarkup,{breadCrumbs:null==e_?void 0:e_.breadCrumbs}),(0,eh.jsx)(eg(),{defer:!0,"data-domain":"codedex.io",src:"https://plausible.io/js/plausible.js"}),(0,eh.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/Menlo_Regular.otf",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/Hack-Regular.ttf",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squarebolds.woff",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squareboldm.woff",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squareboldxl.woff",as:"font",crossOrigin:""}),(0,eh.jsx)(ep.zt,{store:ev,children:(0,eh.jsx)(atoms_AuthState,{children:(0,eh.jsx)(organisms_Layout,{children:(0,eh.jsx)(ec,{...ef})})})})]}):(0,eh.jsxs)(eh.Fragment,{children:[(0,eh.jsx)(atoms_MetaTags,{metatags:e_}),(0,eh.jsx)(atoms_SEOMarkup,{breadCrumbs:null==e_?void 0:e_.breadCrumbs}),(0,eh.jsx)(eg(),{defer:!0,"data-domain":"codedex.io",src:"https://plausible.io/js/plausible.js"}),(0,eh.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com"}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/Menlo_Regular.otf",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/Hack-Regular.ttf",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squarebolds.woff",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squareboldm.woff",as:"font",crossOrigin:""}),(0,eh.jsx)("link",{rel:"preload",href:"/fonts/pixelgrid-squareboldxl.woff",as:"font",crossOrigin:""}),(0,eh.jsx)(ep.zt,{store:ev,children:(0,eh.jsx)(em.H,{appId:"sy5cxa9d",initializeDelay:3e4,autoBoot:!0,children:(0,eh.jsx)(atoms_AuthState,{children:(0,eh.jsx)(organisms_Layout,{children:(0,eh.jsx)(ec,{...ef})})})})})]})}},73845:function(er,eo,ec){"use strict";ec.d(eo,{T:function(){return eE},Y:function(){return eT}});var eh=ec(77236),ep=ec(28858),ef=ec(26245),eg=ec(8863),em=ec(61764),ey=ec(88023),ev=ec(85673),e_=ec(43807),ew=ec(38467),ex=ec(99691),ek=ec(92614),eS=ec(95986),eC=ec(29796),eI=ec(9473);let eE=eI.I0,eT=(0,ep.KV)(function(){return(0,eh.xC)({reducer:{user:ef.ZP,language:eg.ZP,team:em.Z,projects:ey.ZP,global:ev.ZP,userProgress:e_.ZP,educator:ew.ZP,blogs:ex.ZP,userCodeChallenges:ek.ZP,codeChallenges:eS.ZP,notification:eC.ZP},devTools:!0})})},42696:function(er,eo,ec){"use strict";ec.d(eo,{F:function(){return isUserClubSubscriber}});var eh=ec(92369);async function isUserClubSubscriber(){let er=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{auth:eo}=(0,eh.UM)();if(!eo.currentUser)return!1;{var ec,ep,ef;await (null===(ec=eo.currentUser)||void 0===ec?void 0:ec.getIdToken(er));let eh=await (null===(ep=eo.currentUser)||void 0===ep?void 0:ep.getIdTokenResult());return(null==eh?void 0:null===(ef=eh.claims)||void 0===ef?void 0:ef.stripeRole)==="club"}}},82133:function(er,eo,ec){"use strict";ec.d(eo,{Cs:function(){return e_},ib:function(){return ev},nz:function(){return ew}});var eh=ec(82729),ep=ec(19521);function _templateObject(){let er=(0,eh._)(["\n  body {\n    background-color: ",";\n    transition: all 0.25s ease;\n  }\n"]);return _templateObject=function(){return er},er}let ef={grey:{50:"#F8FAFC",100:"#F1F5F9",200:"#E2E8F0",300:"#CBD5E1",400:"#94A3B8",500:"#64748B",600:"#475569",700:"#334155",800:"#1E293B",900:"#0F172A",950:"#020617"},blue:{50:"#EFF8FF",100:"#DEF1FF",200:"#B6E4FF",300:"#75D1FF",400:"#2CBAFF",500:"#14ADFF",600:"#0080D4",700:"#0065AB",800:"#00568D",900:"#064874",950:"#042D4D"},yellow:{50:"#FEFCE8",100:"#FEF9C3",200:"#FEF08A",300:"#FDE047",400:"#FACC15",500:"#EAB308",600:"#CA8A04",700:"#A16207",800:"#854D0E",900:"#713F12",950:"#422006"},green:{50:"#F7FEE7",100:"#ECFCCB",200:"#D9F99D",300:"#BEF264",400:"#A3E635",500:"#84CC16",600:"#65A30D",700:"#4D7C0F",800:"#3F6212",900:"#365314",950:"#1A2E05"},red:{50:"#FFF1F2",100:"#FFE4E6",200:"#FECDD3",300:"#FDA4AF",400:"#FB7185",500:"#F43F5E",600:"#E11D48",700:"#BE123C",800:"#9F1239",900:"#881337",950:"#4C0519"}},eg={grey:{50:"F8FAFC",100:"F1F5F9",200:"E2E8F0",300:"CBD5E1",400:"94A3B8",500:"64748B",600:"475569",700:"334155",800:"1E293B",900:"0F172A",950:"020617"},blue:{50:"EFF8FF",100:"DEF1FF",200:"B6E4FF",300:"75D1FF",400:"2CBAFF",500:"14ADFF",600:"0080D4",700:"0065AB",800:"00568D",900:"064874",950:"042D4D"},yellow:{50:"FEFCE8",100:"FEF9C3",200:"FEF08A",300:"FDE047",400:"FACC15",500:"EAB308",600:"CA8A04",700:"A16207",800:"854D0E",900:"713F12",950:"422006"},green:{50:"F7FEE7",100:"ECFCCB",200:"D9F99D",300:"BEF264",400:"A3E635",500:"84CC16",600:"65A30D",700:"4D7C0F",800:"3F6212",900:"365314",950:"1A2E05"},red:{50:"FFF1F2",100:"FFE4E6",200:"FECDD3",300:"FDA4AF",400:"FB7185",500:"F43F5E",600:"E11D48",700:"BE123C",800:"9F1239",900:"881337",950:"4C0519"}},em={text:{primary:"#020617",secondary:"#475569",tertiary:"#64748B",accent:{blue:"#0065AB",red:"#9F1239",green:"#3F6212",yellow:"#854D0E"}},border:{grey:{light:"#E2E8F0",medium:"#CBD5E1",dark:"#94A3B8"}},background:{grey:{primary:"#FFFFFF",secondary:"#F8FAFC",tertiary:"#F1F5F9"},blue:{primary:"#EFF8FF",secondary:"#DEF1FF",tertiary:"#B6E4FF"},yellow:{primary:"#FEFCE8",secondary:"#FEF9C3",tertiary:"#FEF08A"},red:{primary:"#FFF1F2",secondary:"#FFE4E6",tertiary:"#FECDD3"},green:{primary:"#F7FEE7",secondary:"#ECFCCB",tertiary:"#D9F99D"}}},ey={text:{primary:"#F8FAFC",secondary:"#CBD5E1",tertiary:"#94A3B8",accent:{blue:"#2CBAFF",red:"#FECDD3",green:"#D9F99D",yellow:"#FEF08A"}},border:{grey:{light:"#334155",medium:"#475569",dark:"#64748B"}},background:{grey:{primary:"#020617",secondary:"#0F172A",tertiary:"#1E293B"},blue:{primary:"#042D4D",secondary:"#064874",tertiary:"#00568D"},yellow:{primary:"#422006",secondary:"#713F12",tertiary:"#854D0E"},red:{primary:"#4C0519",secondary:"#881337",tertiary:"#9F1239"},green:{primary:"#1A2E05",secondary:"#365314",tertiary:"#3F6212"}}},ev={mode:"light",colors:{body:"#FDFDFD",primary:"#FFFFFF",secondary:"#ffffff",text1:"black",text2:"black",text3:"black",text4:"black",text5:"black",profileBorder:"#DADADA",profileBackground:"#f7f7f7",chapterBackground:"white",borderColor:"black",borderColor2:"black",borderColor3:"black",navBorder:"#d2d7da",nav:"",navDropDown:"#FDFDFD",hyperLink:"#007BFF",checkBox:"black",tabFileNameBorder:"rgba(0,0,0,0.1)",palette:ef,paletteWithoutHash:eg,semantic:em,background:em.background,border:em.border,backgroundHighlight:"#F1F5F9",highlightBlue:"#0065AB",textTertiary:"#64748B",footerBackground:"#F8FAFC",text:em.text},fontFamily:{},fontSize:{xs:12,s:14,m:16,l:18,xl:20,"2xl":24,"3xl":32,"4xl":48,"5xl":64},fontWeight:{normal:400,semibold:600,bold:700},lineHeight:{},spacing:{0:"0",4:"0.25rem",8:"0.5rem",12:"0.75rem",16:"1rem",20:"1.25rem",24:"1.5rem",32:"2rem",40:"2.5rem",48:"3rem",64:"4rem",96:"6rem"},breakpoints:{xs:"@media only screen and (min-width: 320px)",sm:"@media only screen and (min-width: 768px)",md:"@media only screen and (min-width: 1024px)",lg:"@media only screen and (min-width: 1200px)",xl:"@media only screen and (min-width: 1400px)"}},e_={mode:"dark",colors:{body:"#0F1524",primary:"#1F222A",secondary:"#1B2233",text1:"white",text2:"#D3D3D3",text3:"white",text4:"hsla(0, 0%, 100%, 0.87)",text5:"rgba(255, 255, 255, 0.87)",profileBorder:"#25314B",profileBackground:"#1B2238",chapterBackground:"#0F1524",borderColor:"#E3E6E7",borderColor2:"#244c73",borderColor3:"#244C73",borderTextColor:"#f8d57a",navBorder:"#818589",nav:"#0F1524",navDropDown:"#0F1524",hyperLink:"#52a5ff",checkBox:"#fafafa",tabFileNameBorder:"white",palette:ef,paletteWithoutHash:eg,semantic:ey,background:ey.background,border:ey.border,backgroundHighlight:"#1E293B",highlightBlue:"#2cbaff",textTertiary:"#94A3B8",footerBackground:"#0F172A",text:ey.text},fontFamily:{},fontSize:{xs:12,s:14,m:16,l:18,xl:20,"2xl":24,"3xl":32,"4xl":48,"5xl":64},fontWeight:{normal:400,semibold:600,bold:700},lineHeight:{},spacing:{0:"0",4:"0.25rem",8:"0.5rem",12:"0.75rem",16:"1rem",20:"1.25rem",24:"1.5rem",32:"2rem",40:"2.5rem",48:"3rem",64:"4rem",96:"6rem"},breakpoints:{xs:"@media only screen and (min-width: 320px)",sm:"@media only screen and (min-width: 768px)",md:"@media only screen and (min-width: 1024px)",lg:"@media only screen and (min-width: 1200px)",lm:"@media only screen and (min-width: 1300px)",xl:"@media only screen and (min-width: 1400px)"}},ew=(0,ep.createGlobalStyle)(_templateObject(),er=>er.theme.colors.body)},20927:function(){},25538:function(){},97480:function(){},14531:function(){},69831:function(){},56735:function(){},92261:function(){},70415:function(){},16713:function(){},45795:function(){},77663:function(er){!function(){var eo={229:function(er){var eo,ec,eh,ep=er.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(er){if(eo===setTimeout)return setTimeout(er,0);if((eo===defaultSetTimout||!eo)&&setTimeout)return eo=setTimeout,setTimeout(er,0);try{return eo(er,0)}catch(ec){try{return eo.call(null,er,0)}catch(ec){return eo.call(this,er,0)}}}!function(){try{eo="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(er){eo=defaultSetTimout}try{ec="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(er){ec=defaultClearTimeout}}();var ef=[],eg=!1,em=-1;function cleanUpNextTick(){eg&&eh&&(eg=!1,eh.length?ef=eh.concat(ef):em=-1,ef.length&&drainQueue())}function drainQueue(){if(!eg){var er=runTimeout(cleanUpNextTick);eg=!0;for(var eo=ef.length;eo;){for(eh=ef,ef=[];++em<eo;)eh&&eh[em].run();em=-1,eo=ef.length}eh=null,eg=!1,function(er){if(ec===clearTimeout)return clearTimeout(er);if((ec===defaultClearTimeout||!ec)&&clearTimeout)return ec=clearTimeout,clearTimeout(er);try{ec(er)}catch(eo){try{return ec.call(null,er)}catch(eo){return ec.call(this,er)}}}(er)}}function Item(er,eo){this.fun=er,this.array=eo}function noop(){}ep.nextTick=function(er){var eo=Array(arguments.length-1);if(arguments.length>1)for(var ec=1;ec<arguments.length;ec++)eo[ec-1]=arguments[ec];ef.push(new Item(er,eo)),1!==ef.length||eg||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},ep.title="browser",ep.browser=!0,ep.env={},ep.argv=[],ep.version="",ep.versions={},ep.on=noop,ep.addListener=noop,ep.once=noop,ep.off=noop,ep.removeListener=noop,ep.removeAllListeners=noop,ep.emit=noop,ep.prependListener=noop,ep.prependOnceListener=noop,ep.listeners=function(er){return[]},ep.binding=function(er){throw Error("process.binding is not supported")},ep.cwd=function(){return"/"},ep.chdir=function(er){throw Error("process.chdir is not supported")},ep.umask=function(){return 0}}},ec={};function __nccwpck_require__(er){var eh=ec[er];if(void 0!==eh)return eh.exports;var ep=ec[er]={exports:{}},ef=!0;try{eo[er](ep,ep.exports,__nccwpck_require__),ef=!1}finally{ef&&delete ec[er]}return ep.exports}__nccwpck_require__.ab="//";var eh=__nccwpck_require__(229);er.exports=eh}()},9008:function(er,eo,ec){er.exports=ec(79201)},41664:function(er,eo,ec){er.exports=ec(65170)},11163:function(er,eo,ec){er.exports=ec(59974)},4298:function(er,eo,ec){er.exports=ec(85354)},62286:function(er,eo,ec){"use strict";var eh=this&&this.__assign||function(){return(eh=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};Object.defineProperty(eo,"__esModule",{value:!0}),eo.destroyCookie=eo.setCookie=eo.parseCookies=void 0;var ep=ec(10026),ef=ec(69328),eg=ec(51022);function parseCookies(er,eo){var ec,eh;return(null===(eh=null===(ec=null==er?void 0:er.req)||void 0===ec?void 0:ec.headers)||void 0===eh?void 0:eh.cookie)?ep.parse(er.req.headers.cookie,eo):eg.isBrowser()?ep.parse(document.cookie,eo):{}}function setCookie(er,eo,ec,em){var ey,ev;if(void 0===em&&(em={}),(null===(ey=null==er?void 0:er.res)||void 0===ey?void 0:ey.getHeader)&&er.res.setHeader){if(null===(ev=null==er?void 0:er.res)||void 0===ev?void 0:ev.finished)return console.warn('Not setting "'+eo+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var e_=er.res.getHeader("Set-Cookie")||[];"string"==typeof e_&&(e_=[e_]),"number"==typeof e_&&(e_=[]);var ew=ef.parse(e_,{decodeValues:!1}),ex=eg.createCookie(eo,ec,em),ek=[];ew.forEach(function(er){if(!eg.areCookiesEqual(er,ex)){var eo=ep.serialize(er.name,er.value,eh({encode:function(er){return er}},er));ek.push(eo)}}),ek.push(ep.serialize(eo,ec,em)),er.res.setHeader("Set-Cookie",ek)}if(eg.isBrowser()){if(em&&em.httpOnly)throw Error("Can not set a httpOnly cookie in the browser.");document.cookie=ep.serialize(eo,ec,em)}return{}}function destroyCookie(er,eo,ec){return setCookie(er,eo,"",eh(eh({},ec||{}),{maxAge:-1}))}eo.parseCookies=parseCookies,eo.setCookie=setCookie,eo.destroyCookie=destroyCookie,eo.default={set:setCookie,get:parseCookies,destroy:destroyCookie}},51022:function(er,eo){"use strict";var ec=this&&this.__assign||function(){return(ec=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)};function hasSameProperties(er,eo){var ec=Object.getOwnPropertyNames(er),eh=Object.getOwnPropertyNames(eo);if(ec.length!==eh.length)return!1;for(var ep=0;ep<ec.length;ep++){var ef=ec[ep];if(er[ef]!==eo[ef])return!1}return!0}Object.defineProperty(eo,"__esModule",{value:!0}),eo.areCookiesEqual=eo.hasSameProperties=eo.createCookie=eo.isBrowser=void 0,eo.isBrowser=function(){return"undefined"!=typeof window},eo.createCookie=function(er,eo,eh){var ep=eh.sameSite;!0===ep&&(ep="strict"),(void 0===ep||!1===ep)&&(ep="lax");var ef=ec(ec({},eh),{sameSite:ep});return delete ef.encode,ec({name:er,value:eo},ef)},eo.hasSameProperties=hasSameProperties,eo.areCookiesEqual=function(er,eo){var eh=er.sameSite===eo.sameSite;return"string"==typeof er.sameSite&&"string"==typeof eo.sameSite&&(eh=er.sameSite.toLowerCase()===eo.sameSite.toLowerCase()),hasSameProperties(ec(ec({},er),{sameSite:void 0}),ec(ec({},eo),{sameSite:void 0}))&&eh}},10026:function(er,eo){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */eo.parse=function(er,eo){if("string"!=typeof er)throw TypeError("argument str must be a string");for(var eh={},ep=er.split(";"),ef=(eo||{}).decode||ec,eg=0;eg<ep.length;eg++){var em=ep[eg],ey=em.indexOf("=");if(!(ey<0)){var ev=em.substring(0,ey).trim();if(void 0==eh[ev]){var e_=em.substring(ey+1,em.length).trim();'"'===e_[0]&&(e_=e_.slice(1,-1)),eh[ev]=function(er,eo){try{return eo(er)}catch(eo){return er}}(e_,ef)}}}return eh},eo.serialize=function(er,eo,ec){var ef=ec||{},eg=ef.encode||eh;if("function"!=typeof eg)throw TypeError("option encode is invalid");if(!ep.test(er))throw TypeError("argument name is invalid");var em=eg(eo);if(em&&!ep.test(em))throw TypeError("argument val is invalid");var ey=er+"="+em;if(null!=ef.maxAge){var ev=ef.maxAge-0;if(isNaN(ev)||!isFinite(ev))throw TypeError("option maxAge is invalid");ey+="; Max-Age="+Math.floor(ev)}if(ef.domain){if(!ep.test(ef.domain))throw TypeError("option domain is invalid");ey+="; Domain="+ef.domain}if(ef.path){if(!ep.test(ef.path))throw TypeError("option path is invalid");ey+="; Path="+ef.path}if(ef.expires){if("function"!=typeof ef.expires.toUTCString)throw TypeError("option expires is invalid");ey+="; Expires="+ef.expires.toUTCString()}if(ef.httpOnly&&(ey+="; HttpOnly"),ef.secure&&(ey+="; Secure"),ef.sameSite)switch("string"==typeof ef.sameSite?ef.sameSite.toLowerCase():ef.sameSite){case!0:case"strict":ey+="; SameSite=Strict";break;case"lax":ey+="; SameSite=Lax";break;case"none":ey+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return ey};var ec=decodeURIComponent,eh=encodeURIComponent,ep=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},69921:function(er,eo){"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec="function"==typeof Symbol&&Symbol.for,eh=ec?Symbol.for("react.element"):60103,ep=ec?Symbol.for("react.portal"):60106,ef=ec?Symbol.for("react.fragment"):60107,eg=ec?Symbol.for("react.strict_mode"):60108,em=ec?Symbol.for("react.profiler"):60114,ey=ec?Symbol.for("react.provider"):60109,ev=ec?Symbol.for("react.context"):60110,e_=ec?Symbol.for("react.async_mode"):60111,ew=ec?Symbol.for("react.concurrent_mode"):60111,ex=ec?Symbol.for("react.forward_ref"):60112,ek=ec?Symbol.for("react.suspense"):60113,eS=ec?Symbol.for("react.suspense_list"):60120,eC=ec?Symbol.for("react.memo"):60115,eI=ec?Symbol.for("react.lazy"):60116,eE=ec?Symbol.for("react.block"):60121,eT=ec?Symbol.for("react.fundamental"):60117,eN=ec?Symbol.for("react.responder"):60118,eA=ec?Symbol.for("react.scope"):60119;function z(er){if("object"==typeof er&&null!==er){var eo=er.$$typeof;switch(eo){case eh:switch(er=er.type){case e_:case ew:case ef:case em:case eg:case ek:return er;default:switch(er=er&&er.$$typeof){case ev:case ex:case eI:case eC:case ey:return er;default:return eo}}case ep:return eo}}}function A(er){return z(er)===ew}eo.AsyncMode=e_,eo.ConcurrentMode=ew,eo.ContextConsumer=ev,eo.ContextProvider=ey,eo.Element=eh,eo.ForwardRef=ex,eo.Fragment=ef,eo.Lazy=eI,eo.Memo=eC,eo.Portal=ep,eo.Profiler=em,eo.StrictMode=eg,eo.Suspense=ek,eo.isAsyncMode=function(er){return A(er)||z(er)===e_},eo.isConcurrentMode=A,eo.isContextConsumer=function(er){return z(er)===ev},eo.isContextProvider=function(er){return z(er)===ey},eo.isElement=function(er){return"object"==typeof er&&null!==er&&er.$$typeof===eh},eo.isForwardRef=function(er){return z(er)===ex},eo.isFragment=function(er){return z(er)===ef},eo.isLazy=function(er){return z(er)===eI},eo.isMemo=function(er){return z(er)===eC},eo.isPortal=function(er){return z(er)===ep},eo.isProfiler=function(er){return z(er)===em},eo.isStrictMode=function(er){return z(er)===eg},eo.isSuspense=function(er){return z(er)===ek},eo.isValidElementType=function(er){return"string"==typeof er||"function"==typeof er||er===ef||er===ew||er===em||er===eg||er===ek||er===eS||"object"==typeof er&&null!==er&&(er.$$typeof===eI||er.$$typeof===eC||er.$$typeof===ey||er.$$typeof===ev||er.$$typeof===ex||er.$$typeof===eT||er.$$typeof===eN||er.$$typeof===eA||er.$$typeof===eE)},eo.typeOf=z},59864:function(er,eo,ec){"use strict";er.exports=ec(69921)},25726:function(er,eo,ec){"use strict";function _arrayLikeToArray(er,eo){(null==eo||eo>er.length)&&(eo=er.length);for(var ec=0,eh=Array(eo);ec<eo;ec++)eh[ec]=er[ec];return eh}function PropertyInfoRecord(er,eo,ec,eh,ep,ef,eg){this.acceptsBooleans=2===eo||3===eo||4===eo,this.attributeName=eh,this.attributeNamespace=ep,this.mustUseProperty=ec,this.propertyName=er,this.type=eo,this.sanitizeURL=ef,this.removeEmptyString=eg}Object.defineProperty(eo,"__esModule",{value:!0});var eh={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,0,!1,er,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(er){var eo=function(er){if(Array.isArray(er))return er}(er)||function(er,eo){var ec,eh,ep=null==er?null:"undefined"!=typeof Symbol&&er[Symbol.iterator]||er["@@iterator"];if(null!=ep){var ef=[],eg=!0,em=!1;try{for(ep=ep.call(er);!(eg=(ec=ep.next()).done)&&(ef.push(ec.value),!eo||ef.length!==eo);eg=!0);}catch(er){em=!0,eh=er}finally{try{eg||null==ep.return||ep.return()}finally{if(em)throw eh}}return ef}}(er,2)||function(er,eo){if(er){if("string"==typeof er)return _arrayLikeToArray(er,eo);var ec=Object.prototype.toString.call(er).slice(8,-1);if("Object"===ec&&er.constructor&&(ec=er.constructor.name),"Map"===ec||"Set"===ec)return Array.from(er);if("Arguments"===ec||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ec))return _arrayLikeToArray(er,eo)}}(er,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),ec=eo[0],ep=eo[1];eh[ec]=new PropertyInfoRecord(ec,1,!1,ep,null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,2,!1,er.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,2,!1,er,null,!1,!1)}),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,3,!1,er.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,3,!0,er,null,!1,!1)}),["capture","download"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,4,!1,er,null,!1,!1)}),["cols","rows","size","span"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,6,!1,er,null,!1,!1)}),["rowSpan","start"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,5,!1,er.toLowerCase(),null,!1,!1)});var ep=/[\-\:]([a-z])/g,capitalize=function(er){return er[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(er){var eo=er.replace(ep,capitalize);eh[eo]=new PropertyInfoRecord(eo,1,!1,er,null,!1,!1)}),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(er){var eo=er.replace(ep,capitalize);eh[eo]=new PropertyInfoRecord(eo,1,!1,er,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(er){var eo=er.replace(ep,capitalize);eh[eo]=new PropertyInfoRecord(eo,1,!1,er,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,1,!1,er.toLowerCase(),null,!1,!1)}),eh.xlinkHref=new PropertyInfoRecord("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(er){eh[er]=new PropertyInfoRecord(er,1,!1,er.toLowerCase(),null,!0,!0)});var ef=ec(78229),eg=ef.CAMELCASE,em=ef.SAME,ey=ef.possibleStandardNames,ev=RegExp.prototype.test.bind(RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),e_=Object.keys(ey).reduce(function(er,eo){var ec=ey[eo];return ec===em?er[eo]=eo:ec===eg?er[eo.toLowerCase()]=eo:er[eo]=ec,er},{});eo.BOOLEAN=3,eo.BOOLEANISH_STRING=2,eo.NUMERIC=5,eo.OVERLOADED_BOOLEAN=4,eo.POSITIVE_NUMERIC=6,eo.RESERVED=0,eo.STRING=1,eo.getPropertyInfo=function(er){return eh.hasOwnProperty(er)?eh[er]:null},eo.isCustomAttribute=ev,eo.possibleStandardNames=e_},78229:function(er,eo){eo.SAME=0,eo.CAMELCASE=1,eo.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},9473:function(er,eo,ec){"use strict";ec.d(eo,{zt:function(){return components_Provider},I0:function(){return ek},v9:function(){return ey}});var eh=ec(61688),ep=ec(52798),ef=ec(73935);let batch=function(er){er()},getBatch=()=>batch;var eg=ec(67294);let em=eg.createContext(null);function useReduxContext_useReduxContext(){let er=(0,eg.useContext)(em);return er}let useSyncExternalStoreWithSelector=()=>{throw Error("uSES not initialized!")},refEquality=(er,eo)=>er===eo,ey=function(er=em){let eo=er===em?useReduxContext_useReduxContext:()=>(0,eg.useContext)(er);return function(er,ec=refEquality){let{store:eh,subscription:ep,getServerState:ef}=eo(),em=useSyncExternalStoreWithSelector(ep.addNestedSub,eh.getState,ef||eh.getState,er,ec);return(0,eg.useDebugValue)(em),em}}();ec(8679),ec(72973);let ev={notify(){},get:()=>[]},e_=!!("undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement),ew=e_?eg.useLayoutEffect:eg.useEffect;var components_Provider=function({store:er,context:eo,children:ec,serverState:eh}){let ep=(0,eg.useMemo)(()=>{let eo=function(er,eo){let ec;let eh=ev;function handleChangeWrapper(){ep.onStateChange&&ep.onStateChange()}function trySubscribe(){ec||(ec=eo?eo.addNestedSub(handleChangeWrapper):er.subscribe(handleChangeWrapper),eh=function(){let er=getBatch(),eo=null,ec=null;return{clear(){eo=null,ec=null},notify(){er(()=>{let er=eo;for(;er;)er.callback(),er=er.next})},get(){let er=[],ec=eo;for(;ec;)er.push(ec),ec=ec.next;return er},subscribe(er){let eh=!0,ep=ec={callback:er,next:null,prev:ec};return ep.prev?ep.prev.next=ep:eo=ep,function(){eh&&null!==eo&&(eh=!1,ep.next?ep.next.prev=ep.prev:ec=ep.prev,ep.prev?ep.prev.next=ep.next:eo=ep.next)}}}}())}let ep={addNestedSub:function(er){return trySubscribe(),eh.subscribe(er)},notifyNestedSubs:function(){eh.notify()},handleChangeWrapper,isSubscribed:function(){return!!ec},trySubscribe,tryUnsubscribe:function(){ec&&(ec(),ec=void 0,eh.clear(),eh=ev)},getListeners:()=>eh};return ep}(er);return{store:er,subscription:eo,getServerState:eh?()=>eh:void 0}},[er,eh]),ef=(0,eg.useMemo)(()=>er.getState(),[er]);ew(()=>{let{subscription:eo}=ep;return eo.onStateChange=eo.notifyNestedSubs,eo.trySubscribe(),ef!==er.getState()&&eo.notifyNestedSubs(),()=>{eo.tryUnsubscribe(),eo.onStateChange=void 0}},[ep,ef]);let ey=eo||em;return eg.createElement(ey.Provider,{value:ep},ec)};function createStoreHook(er=em){let eo=er===em?useReduxContext_useReduxContext:()=>(0,eg.useContext)(er);return function(){let{store:er}=eo();return er}}let ex=createStoreHook(),ek=function(er=em){let eo=er===em?ex:createStoreHook(er);return function(){let er=eo();return er.dispatch}}();useSyncExternalStoreWithSelector=ep.useSyncExternalStoreWithSelector,eh.useSyncExternalStore,batch=ef.unstable_batchedUpdates},88359:function(er,eo){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},72973:function(er,eo,ec){"use strict";ec(88359)},47010:function(er,eo,ec){"use strict";ec.d(eo,{Z:function(){return esm_BeatLoader}});var eh=ec(67294),ep={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function cssValue(er){var eo=function(er){if("number"==typeof er)return{value:er,unit:"px"};var eo,ec=(er.match(/^[0-9.]*/)||"").toString();eo=ec.includes(".")?parseFloat(ec):parseInt(ec,10);var eh=(er.match(/[^0-9]*$/)||"").toString();return ep[eh]?{value:eo,unit:eh}:(console.warn("React Spinners: ".concat(er," is not a valid css value. Defaulting to ").concat(eo,"px.")),{value:eo,unit:"px"})}(er);return"".concat(eo.value).concat(eo.unit)}var __assign=function(){return(__assign=Object.assign||function(er){for(var eo,ec=1,eh=arguments.length;ec<eh;ec++)for(var ep in eo=arguments[ec])Object.prototype.hasOwnProperty.call(eo,ep)&&(er[ep]=eo[ep]);return er}).apply(this,arguments)},__rest=function(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec},ef=function(er,eo,ec){var eh="react-spinners-".concat(er,"-").concat(ec);if("undefined"==typeof window||!window.document)return eh;var ep=document.createElement("style");document.head.appendChild(ep);var ef=ep.sheet,eg="\n    @keyframes ".concat(eh," {\n      ").concat(eo,"\n    }\n  ");return ef&&ef.insertRule(eg,0),eh}("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat"),esm_BeatLoader=function(er){var eo=er.loading,ec=er.color,ep=void 0===ec?"#000000":ec,eg=er.speedMultiplier,em=void 0===eg?1:eg,ey=er.cssOverride,ev=er.size,e_=void 0===ev?15:ev,ew=er.margin,ex=void 0===ew?2:ew,ek=__rest(er,["loading","color","speedMultiplier","cssOverride","size","margin"]),eS=__assign({display:"inherit"},void 0===ey?{}:ey),style=function(er){return{display:"inline-block",backgroundColor:ep,width:cssValue(e_),height:cssValue(e_),margin:cssValue(ex),borderRadius:"100%",animation:"".concat(ef," ").concat(.7/em,"s ").concat(er%2?"0s":"".concat(.35/em,"s")," infinite linear"),animationFillMode:"both"}};return void 0===eo||eo?eh.createElement("span",__assign({style:eS},ek),eh.createElement("span",{style:style(1)}),eh.createElement("span",{style:style(2)}),eh.createElement("span",{style:style(3)})):null}},61149:function(er,eo,ec){"use strict";ec.d(eo,{H:function(){return IntercomProvider},o:function(){return useIntercom}});var eh=ec(67294);function _extends(){return(_extends=Object.assign||function(er){for(var eo=1;eo<arguments.length;eo++){var ec=arguments[eo];for(var eh in ec)Object.prototype.hasOwnProperty.call(ec,eh)&&(er[eh]=ec[eh])}return er}).apply(this,arguments)}var log=function(er,eo){},ep="undefined"==typeof window,IntercomAPI=function(er){if(!ep&&window.Intercom){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];return window.Intercom.apply(null,[er].concat(ec))}log("error",er+" Intercom instance is not initalized yet")},ef=(0,eh.createContext)(void 0),initialize=function(er,eo){void 0===eo&&(eo=0);var ec=window,eh=ec.Intercom;if("function"==typeof eh)eh("reattach_activator"),eh("update",ec.intercomSettings);else{var ep=document,i=function i(){i.c(arguments)};i.q=[],i.c=function(er){i.q.push(er)},ec.Intercom=i;var l=function(){setTimeout(function(){var eo=ep.createElement("script");eo.type="text/javascript",eo.async=!0,eo.src="https://widget.intercom.io/widget/"+er;var ec=ep.getElementsByTagName("script")[0];ec.parentNode.insertBefore(eo,ec)},eo)};"complete"===document.readyState?l():ec.attachEvent?ec.attachEvent("onload",l):ec.addEventListener("load",l,!1)}},mapDataAttributesCompanyToRawDataAttributesCompany=function(er){return _extends({company_id:er.companyId,name:er.name,created_at:er.createdAt,plan:er.plan,monthly_spend:er.monthlySpend,user_count:er.userCount,size:er.size,website:er.website,industry:er.industry},er.customAttributes)},mapDataAttributesToRawDataAttributes=function(er){var eo,ec;return _extends({email:er.email,user_id:er.userId,created_at:er.createdAt,name:er.name,phone:er.phone,last_request_at:er.lastRequestAt,unsubscribed_from_emails:er.unsubscribedFromEmails,language_override:er.languageOverride,utm_campaign:er.utmCampaign,utm_content:er.utmContent,utm_medium:er.utmMedium,utm_source:er.utmSource,utm_term:er.utmTerm,avatar:er.avatar&&{type:(ec=er.avatar).type,image_url:ec.imageUrl},user_hash:er.userHash,company:er.company&&mapDataAttributesCompanyToRawDataAttributesCompany(er.company),companies:null==(eo=er.companies)?void 0:eo.map(mapDataAttributesCompanyToRawDataAttributesCompany)},er.customAttributes)},mapIntercomPropsToRawIntercomProps=function(er){return function removeUndefined(er){return Object.keys(er).forEach(function(eo){er[eo]&&"object"==typeof er[eo]?removeUndefined(er[eo]):void 0===er[eo]&&delete er[eo]}),er}(_extends({},{custom_launcher_selector:er.customLauncherSelector,alignment:er.alignment,vertical_padding:er.verticalPadding,horizontal_padding:er.horizontalPadding,hide_default_launcher:er.hideDefaultLauncher,session_duration:er.sessionDuration,action_color:er.actionColor,background_color:er.backgroundColor},mapDataAttributesToRawDataAttributes(er)))},IntercomProvider=function(er){var eo=er.appId,ec=er.autoBoot,eg=er.autoBootProps,em=er.children,ey=er.onHide,ev=er.onShow,e_=er.onUnreadCountChange,ew=er.shouldInitialize,ex=void 0===ew?!ep:ew,ek=er.apiBase,eS=er.initializeDelay;!function(er,eo){if(null!=er){var ec,eh,ep={},ef=Object.keys(er);for(eh=0;eh<ef.length;eh++)eo.indexOf(ec=ef[eh])>=0||(ep[ec]=er[ec])}}(er,["appId","autoBoot","autoBootProps","children","onHide","onShow","onUnreadCountChange","shouldInitialize","apiBase","initializeDelay"]);var eC=(0,eh.useRef)(!1),eI=(0,eh.useRef)(!1),eE=(0,eh.useCallback)(function(er){if(!window.Intercom&&!ex){log("warn","Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`");return}if(!eC.current){var ec=_extends({app_id:eo},ek&&{api_base:ek},er&&mapIntercomPropsToRawIntercomProps(er));window.intercomSettings=ec,IntercomAPI("boot",ec),eC.current=!0}},[ek,eo,ex]);ep||!ex||eI.current||(initialize(eo,eS),ey&&IntercomAPI("onHide",ey),ev&&IntercomAPI("onShow",ev),e_&&IntercomAPI("onUnreadCountChange",e_),void 0!==ec&&ec&&eE(eg),eI.current=!0);var eT=(0,eh.useCallback)(function(er,eo){if(void 0===er&&(er="A function"),!window.Intercom&&!ex){log("warn","Intercom instance is not initialized because `shouldInitialize` is set to `false` in `IntercomProvider`");return}if(!eC.current){log("warn",["'"+er+"' was called but Intercom has not booted yet. ","Please call 'boot' before calling '"+er+"' or ","set 'autoBoot' to true in the IntercomProvider."].join(""));return}return eo()},[ex]),eN=(0,eh.useCallback)(function(){eC.current&&(IntercomAPI("shutdown"),delete window.intercomSettings,eC.current=!1)},[]),eA=(0,eh.useCallback)(function(){eC.current&&(IntercomAPI("shutdown"),delete window.Intercom,delete window.intercomSettings,eC.current=!1)},[]),eO=(0,eh.useCallback)(function(){eT("update",function(){IntercomAPI("update",{last_requested_at:new Date().getTime()})})},[eT]),eP=(0,eh.useCallback)(function(er){eT("update",function(){if(!er){eO();return}var eo=mapIntercomPropsToRawIntercomProps(er);window.intercomSettings=_extends({},window.intercomSettings,eo),IntercomAPI("update",eo)})},[eT,eO]),eM=(0,eh.useCallback)(function(){eT("hide",function(){IntercomAPI("hide")})},[eT]),eR=(0,eh.useCallback)(function(){eT("show",function(){return IntercomAPI("show")})},[eT]),eD=(0,eh.useCallback)(function(){eT("showMessages",function(){IntercomAPI("showMessages")})},[eT]),ej=(0,eh.useCallback)(function(er){eT("showNewMessage",function(){er?IntercomAPI("showNewMessage",er):IntercomAPI("showNewMessage")})},[eT]),eL=(0,eh.useCallback)(function(){return eT("getVisitorId",function(){return IntercomAPI("getVisitorId")})},[eT]),eU=(0,eh.useCallback)(function(er){eT("startTour",function(){IntercomAPI("startTour",er)})},[eT]),eF=(0,eh.useCallback)(function(er,eo){eT("trackEvent",function(){eo?IntercomAPI("trackEvent",er,eo):IntercomAPI("trackEvent",er)})},[eT]),eV=(0,eh.useCallback)(function(er){return eT("showArticle",function(){IntercomAPI("showArticle",er)})},[eT]),eH=(0,eh.useMemo)(function(){return{boot:eE,shutdown:eN,hardShutdown:eA,update:eP,hide:eM,show:eR,showMessages:eD,showNewMessages:ej,getVisitorId:eL,startTour:eU,trackEvent:eF,showArticle:eV}},[eE,eN,eA,eP,eM,eR,eD,ej,eL,eU,eF,eV]);return(0,eh.createElement)(ef.Provider,{value:eH},em)},useIntercom=function(){return(0,eh.useContext)(ef)}},89569:function(er,eo,ec){"use strict";function ownKeys(er,eo){var ec=Object.keys(er);if(Object.getOwnPropertySymbols){var eh=Object.getOwnPropertySymbols(er);eo&&(eh=eh.filter(function(eo){return Object.getOwnPropertyDescriptor(er,eo).enumerable})),ec.push.apply(ec,eh)}return ec}function _objectSpread2(er){for(var eo=1;eo<arguments.length;eo++){var ec=null!=arguments[eo]?arguments[eo]:{};eo%2?ownKeys(Object(ec),!0).forEach(function(eo){var eh;eh=ec[eo],eo in er?Object.defineProperty(er,eo,{value:eh,enumerable:!0,configurable:!0,writable:!0}):er[eo]=eh}):Object.getOwnPropertyDescriptors?Object.defineProperties(er,Object.getOwnPropertyDescriptors(ec)):ownKeys(Object(ec)).forEach(function(eo){Object.defineProperty(er,eo,Object.getOwnPropertyDescriptor(ec,eo))})}return er}function formatProdErrorMessage(er){return"Minified Redux error #"+er+"; visit https://redux.js.org/Errors?code="+er+" for the full message or use the non-minified dev environment for full errors. "}ec.d(eo,{md:function(){return applyMiddleware},UY:function(){return combineReducers},qC:function(){return compose},MT:function(){return createStore}});var eh="function"==typeof Symbol&&Symbol.observable||"@@observable",randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ep={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function createStore(er,eo,ec){if("function"==typeof eo&&"function"==typeof ec||"function"==typeof ec&&"function"==typeof arguments[3])throw Error(formatProdErrorMessage(0));if("function"==typeof eo&&void 0===ec&&(ec=eo,eo=void 0),void 0!==ec){if("function"!=typeof ec)throw Error(formatProdErrorMessage(1));return ec(createStore)(er,eo)}if("function"!=typeof er)throw Error(formatProdErrorMessage(2));var ef,eg=er,em=eo,ey=[],ev=ey,e_=!1;function ensureCanMutateNextListeners(){ev===ey&&(ev=ey.slice())}function getState(){if(e_)throw Error(formatProdErrorMessage(3));return em}function subscribe(er){if("function"!=typeof er)throw Error(formatProdErrorMessage(4));if(e_)throw Error(formatProdErrorMessage(5));var eo=!0;return ensureCanMutateNextListeners(),ev.push(er),function(){if(eo){if(e_)throw Error(formatProdErrorMessage(6));eo=!1,ensureCanMutateNextListeners();var ec=ev.indexOf(er);ev.splice(ec,1),ey=null}}}function dispatch(er){if(!function(er){if("object"!=typeof er||null===er)return!1;for(var eo=er;null!==Object.getPrototypeOf(eo);)eo=Object.getPrototypeOf(eo);return Object.getPrototypeOf(er)===eo}(er))throw Error(formatProdErrorMessage(7));if(void 0===er.type)throw Error(formatProdErrorMessage(8));if(e_)throw Error(formatProdErrorMessage(9));try{e_=!0,em=eg(em,er)}finally{e_=!1}for(var eo=ey=ev,ec=0;ec<eo.length;ec++)(0,eo[ec])();return er}return dispatch({type:ep.INIT}),(ef={dispatch:dispatch,subscribe:subscribe,getState:getState,replaceReducer:function(er){if("function"!=typeof er)throw Error(formatProdErrorMessage(10));eg=er,dispatch({type:ep.REPLACE})}})[eh]=function(){var er;return(er={subscribe:function(er){if("object"!=typeof er||null===er)throw Error(formatProdErrorMessage(11));function observeState(){er.next&&er.next(getState())}return observeState(),{unsubscribe:subscribe(observeState)}}})[eh]=function(){return this},er},ef}function combineReducers(er){for(var eo,ec=Object.keys(er),eh={},ef=0;ef<ec.length;ef++){var eg=ec[ef];"function"==typeof er[eg]&&(eh[eg]=er[eg])}var em=Object.keys(eh);try{!function(er){Object.keys(er).forEach(function(eo){var ec=er[eo];if(void 0===ec(void 0,{type:ep.INIT}))throw Error(formatProdErrorMessage(12));if(void 0===ec(void 0,{type:ep.PROBE_UNKNOWN_ACTION()}))throw Error(formatProdErrorMessage(13))})}(eh)}catch(er){eo=er}return function(er,ec){if(void 0===er&&(er={}),eo)throw eo;for(var ep=!1,ef={},eg=0;eg<em.length;eg++){var ey=em[eg],ev=eh[ey],e_=er[ey],ew=ev(e_,ec);if(void 0===ew)throw ec&&ec.type,Error(formatProdErrorMessage(14));ef[ey]=ew,ep=ep||ew!==e_}return(ep=ep||em.length!==Object.keys(er).length)?ef:er}}function compose(){for(var er=arguments.length,eo=Array(er),ec=0;ec<er;ec++)eo[ec]=arguments[ec];return 0===eo.length?function(er){return er}:1===eo.length?eo[0]:eo.reduce(function(er,eo){return function(){return er(eo.apply(void 0,arguments))}})}function applyMiddleware(){for(var er=arguments.length,eo=Array(er),ec=0;ec<er;ec++)eo[ec]=arguments[ec];return function(er){return function(){var ec=er.apply(void 0,arguments),_dispatch=function(){throw Error(formatProdErrorMessage(15))},eh={getState:ec.getState,dispatch:function(){return _dispatch.apply(void 0,arguments)}},ep=eo.map(function(er){return er(eh)});return _dispatch=compose.apply(void 0,ep)(ec.dispatch),_objectSpread2(_objectSpread2({},ec),{},{dispatch:_dispatch})}}}},69328:function(er){"use strict";var eo={decodeValues:!0,map:!1,silent:!1};function isNonEmptyString(er){return"string"==typeof er&&!!er.trim()}function parseString(er,ec){var eh,ep,ef,eg,em=er.split(";").filter(isNonEmptyString),ey=(eh=em.shift(),ep="",ef="",(eg=eh.split("=")).length>1?(ep=eg.shift(),ef=eg.join("=")):ef=eh,{name:ep,value:ef}),ev=ey.name,e_=ey.value;ec=ec?Object.assign({},eo,ec):eo;try{e_=ec.decodeValues?decodeURIComponent(e_):e_}catch(er){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+e_+"'. Set options.decodeValues to false to disable this feature.",er)}var ew={name:ev,value:e_};return em.forEach(function(er){var eo=er.split("="),ec=eo.shift().trimLeft().toLowerCase(),eh=eo.join("=");"expires"===ec?ew.expires=new Date(eh):"max-age"===ec?ew.maxAge=parseInt(eh,10):"secure"===ec?ew.secure=!0:"httponly"===ec?ew.httpOnly=!0:"samesite"===ec?ew.sameSite=eh:ew[ec]=eh}),ew}function parse(er,ec){if(ec=ec?Object.assign({},eo,ec):eo,!er)return ec.map?{}:[];if(er.headers&&er.headers["set-cookie"])er=er.headers["set-cookie"];else if(er.headers){var eh=er.headers[Object.keys(er.headers).find(function(er){return"set-cookie"===er.toLowerCase()})];eh||!er.headers.cookie||ec.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),er=eh}return(Array.isArray(er)||(er=[er]),(ec=ec?Object.assign({},eo,ec):eo).map)?er.filter(isNonEmptyString).reduce(function(er,eo){var eh=parseString(eo,ec);return er[eh.name]=eh,er},{}):er.filter(isNonEmptyString).map(function(er){return parseString(er,ec)})}er.exports=parse,er.exports.parse=parse,er.exports.parseString=parseString,er.exports.splitCookiesString=function(er){if(Array.isArray(er))return er;if("string"!=typeof er)return[];var eo,ec,eh,ep,ef,eg=[],em=0;function skipWhitespace(){for(;em<er.length&&/\s/.test(er.charAt(em));)em+=1;return em<er.length}for(;em<er.length;){for(eo=em,ef=!1;skipWhitespace();)if(","===(ec=er.charAt(em))){for(eh=em,em+=1,skipWhitespace(),ep=em;em<er.length&&"="!==(ec=er.charAt(em))&&";"!==ec&&","!==ec;)em+=1;em<er.length&&"="===er.charAt(em)?(ef=!0,em=ep,eg.push(er.substring(eo,eh)),eo=em):em=eh+1}else em+=1;(!ef||em>=er.length)&&eg.push(er.substring(eo,er.length))}return eg}},96774:function(er){er.exports=function(er,eo,ec,eh){var ep=ec?ec.call(eh,er,eo):void 0;if(void 0!==ep)return!!ep;if(er===eo)return!0;if("object"!=typeof er||!er||"object"!=typeof eo||!eo)return!1;var ef=Object.keys(er),eg=Object.keys(eo);if(ef.length!==eg.length)return!1;for(var em=Object.prototype.hasOwnProperty.bind(eo),ey=0;ey<ef.length;ey++){var ev=ef[ey];if(!em(ev))return!1;var e_=er[ev],ew=eo[ev];if(!1===(ep=ec?ec.call(eh,e_,ew,ev):void 0)||void 0===ep&&e_!==ew)return!1}return!0}},41476:function(er,eo,ec){"use strict";var eh=this&&this.__importDefault||function(er){return er&&er.__esModule?er:{default:er}};eo.__esModule=!0;var ep=eh(ec(48849)),ef=ec(26678);eo.default=function(er,eo){var ec={};return er&&"string"==typeof er&&(0,ep.default)(er,function(er,eh){er&&eh&&(ec[(0,ef.camelCase)(er,eo)]=eh)}),ec}},26678:function(er,eo){"use strict";eo.__esModule=!0,eo.camelCase=void 0;var ec=/^--[a-zA-Z0-9-]+$/,eh=/-([a-z])/g,ep=/^[^-]+$/,ef=/^-(webkit|moz|ms|o|khtml)-/,eg=/^-(ms)-/,capitalize=function(er,eo){return eo.toUpperCase()},trimHyphen=function(er,eo){return"".concat(eo,"-")};eo.camelCase=function(er,eo){var em;return(void 0===eo&&(eo={}),!(em=er)||ep.test(em)||ec.test(em))?er:(er=er.toLowerCase(),(er=eo.reactCompat?er.replace(eg,trimHyphen):er.replace(ef,trimHyphen)).replace(eh,capitalize))}},48849:function(er,eo,ec){var eh=ec(18139);function StyleToObject(er,eo){var ec,ep,ef,eg=null;if(!er||"string"!=typeof er)return eg;for(var em=eh(er),ey="function"==typeof eo,ev=0,e_=em.length;ev<e_;ev++)ep=(ec=em[ev]).property,ef=ec.value,ey?eo(ep,ef,ec):ef&&(eg||(eg={}),eg[ep]=ef);return eg}er.exports=StyleToObject,er.exports.default=StyleToObject},19521:function(er,eo,ec){"use strict";ec.r(eo),ec.d(eo,{ServerStyleSheet:function(){return e8},StyleSheetConsumer:function(){return eZ},StyleSheetContext:function(){return eK},StyleSheetManager:function(){return me},ThemeConsumer:function(){return e5},ThemeContext:function(){return e4},ThemeProvider:function(){return Le},__PRIVATE__:function(){return tr},createGlobalStyle:function(){return $e},css:function(){return Ae},default:function(){return to},isStyledComponent:function(){return _},keyframes:function(){return We},useTheme:function(){return Xe},version:function(){return eE},withTheme:function(){return Je}});var eh,ep=ec(59864),ef=ec(67294),eg=ec(96774),em=ec.n(eg),stylis_browser_esm=function(er){function X(er,eo,ec){var eh=eo.trim().split(eg);eo=eh;var ep=eh.length,ef=er.length;switch(ef){case 0:case 1:var em=0;for(er=0===ef?"":er[0]+" ";em<ep;++em)eo[em]=Z(er,eo[em],ec).trim();break;default:var ey=em=0;for(eo=[];em<ep;++em)for(var ev=0;ev<ef;++ev)eo[ey++]=Z(er[ev]+" ",eh[em],ec).trim()}return eo}function Z(er,eo,ec){var eh=eo.charCodeAt(0);switch(33>eh&&(eh=(eo=eo.trim()).charCodeAt(0)),eh){case 38:return eo.replace(em,"$1"+er.trim());case 58:return er.trim()+eo.replace(em,"$1"+er.trim());default:if(0<1*ec&&0<eo.indexOf("\f"))return eo.replace(em,(58===er.charCodeAt(0)?"":"$1")+er.trim())}return er+eo}function P(er,eo,ec,eg){var em=er+";",ey=2*eo+3*ec+4*eg;if(944===ey){er=em.indexOf(":",9)+1;var ev=em.substring(er,em.length-1).trim();return ev=em.substring(0,er).trim()+ev+";",1===eO||2===eO&&L(ev,1)?"-webkit-"+ev+ev:ev}if(0===eO||2===eO&&!L(em,1))return em;switch(ey){case 1015:return 97===em.charCodeAt(10)?"-webkit-"+em+em:em;case 951:return 116===em.charCodeAt(3)?"-webkit-"+em+em:em;case 963:return 110===em.charCodeAt(5)?"-webkit-"+em+em:em;case 1009:if(100!==em.charCodeAt(4))break;case 969:case 942:return"-webkit-"+em+em;case 978:return"-webkit-"+em+"-moz-"+em+em;case 1019:case 983:return"-webkit-"+em+"-moz-"+em+"-ms-"+em+em;case 883:if(45===em.charCodeAt(8))return"-webkit-"+em+em;if(0<em.indexOf("image-set(",11))return em.replace(eE,"$1-webkit-$2")+em;break;case 932:if(45===em.charCodeAt(4))switch(em.charCodeAt(5)){case 103:return"-webkit-box-"+em.replace("-grow","")+"-webkit-"+em+"-ms-"+em.replace("grow","positive")+em;case 115:return"-webkit-"+em+"-ms-"+em.replace("shrink","negative")+em;case 98:return"-webkit-"+em+"-ms-"+em.replace("basis","preferred-size")+em}return"-webkit-"+em+"-ms-"+em+em;case 964:return"-webkit-"+em+"-ms-flex-"+em+em;case 1023:if(99!==em.charCodeAt(8))break;return"-webkit-box-pack"+(ev=em.substring(em.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+em+"-ms-flex-pack"+ev+em;case 1005:return ep.test(em)?em.replace(eh,":-webkit-")+em.replace(eh,":-moz-")+em:em;case 1e3:switch(eo=(ev=em.substring(13).trim()).indexOf("-")+1,ev.charCodeAt(0)+ev.charCodeAt(eo)){case 226:ev=em.replace(ew,"tb");break;case 232:ev=em.replace(ew,"tb-rl");break;case 220:ev=em.replace(ew,"lr");break;default:return em}return"-webkit-"+em+"-ms-"+ev+em;case 1017:if(-1===em.indexOf("sticky",9))break;case 975:switch(eo=(em=er).length-10,ey=(ev=(33===em.charCodeAt(eo)?em.substring(0,eo):em).substring(er.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|ev.charCodeAt(7))){case 203:if(111>ev.charCodeAt(8))break;case 115:em=em.replace(ev,"-webkit-"+ev)+";"+em;break;case 207:case 102:em=em.replace(ev,"-webkit-"+(102<ey?"inline-":"")+"box")+";"+em.replace(ev,"-webkit-"+ev)+";"+em.replace(ev,"-ms-"+ev+"box")+";"+em}return em+";";case 938:if(45===em.charCodeAt(5))switch(em.charCodeAt(6)){case 105:return ev=em.replace("-items",""),"-webkit-"+em+"-webkit-box-"+ev+"-ms-flex-"+ev+em;case 115:return"-webkit-"+em+"-ms-flex-item-"+em.replace(eS,"")+em;default:return"-webkit-"+em+"-ms-flex-line-pack"+em.replace("align-content","").replace(eS,"")+em}break;case 973:case 989:if(45!==em.charCodeAt(3)||122===em.charCodeAt(4))break;case 931:case 953:if(!0===eI.test(er))return 115===(ev=er.substring(er.indexOf(":")+1)).charCodeAt(0)?P(er.replace("stretch","fill-available"),eo,ec,eg).replace(":fill-available",":stretch"):em.replace(ev,"-webkit-"+ev)+em.replace(ev,"-moz-"+ev.replace("fill-",""))+em;break;case 962:if(em="-webkit-"+em+(102===em.charCodeAt(5)?"-ms-"+em:"")+em,211===ec+eg&&105===em.charCodeAt(13)&&0<em.indexOf("transform",10))return em.substring(0,em.indexOf(";",27)+1).replace(ef,"$1-webkit-$2")+em}return em}function L(er,eo){var ec=er.indexOf(1===eo?":":"{"),eh=er.substring(0,3!==eo?ec:10);return ec=er.substring(ec+1,er.length-1),eD(2!==eo?eh:eh.replace(eC,"$1"),ec,eo)}function ea(er,eo){var ec=P(eo,eo.charCodeAt(0),eo.charCodeAt(1),eo.charCodeAt(2));return ec!==eo+";"?ec.replace(ek," or ($1)").substring(4):"("+eo+")"}function H(er,eo,ec,eh,ep,ef,eg,em,ey,ev){for(var e_,ew=0,ex=eo;ew<eR;++ew)switch(e_=eM[ew].call(B,er,ex,ec,eh,ep,ef,eg,em,ey,ev)){case void 0:case!1:case!0:case null:break;default:ex=e_}if(ex!==eo)return ex}function U(er){return void 0!==(er=er.prefix)&&(eD=null,er?"function"!=typeof er?eO=1:(eO=2,eD=er):eO=0),U}function B(er,eh){var ep=er;if(33>ep.charCodeAt(0)&&(ep=ep.trim()),ep=[ep],0<eR){var ef=H(-1,eh,ep,ep,eN,eT,0,0,0,0);void 0!==ef&&"string"==typeof ef&&(eh=ef)}var eg=function M(er,eh,ep,ef,eg){for(var em,ew,ek,eS,eC,eI=0,eE=0,eM=0,eD=0,eL=0,eU=0,eF=ek=em=0,eV=0,eH=0,eB=0,eq=0,ez=ep.length,eW=ez-1,e$="",eG="",eK="",eZ="";eV<ez;){if(ew=ep.charCodeAt(eV),eV===eW&&0!==eE+eD+eM+eI&&(0!==eE&&(ew=47===eE?10:47),eD=eM=eI=0,ez++,eW++),0===eE+eD+eM+eI){if(eV===eW&&(0<eH&&(e$=e$.replace(ec,"")),0<e$.trim().length)){switch(ew){case 32:case 9:case 59:case 13:case 10:break;default:e$+=ep.charAt(eV)}ew=59}switch(ew){case 123:for(em=(e$=e$.trim()).charCodeAt(0),ek=1,eq=++eV;eV<ez;){switch(ew=ep.charCodeAt(eV)){case 123:ek++;break;case 125:ek--;break;case 47:switch(ew=ep.charCodeAt(eV+1)){case 42:case 47:e:{for(eF=eV+1;eF<eW;++eF)switch(ep.charCodeAt(eF)){case 47:if(42===ew&&42===ep.charCodeAt(eF-1)&&eV+2!==eF){eV=eF+1;break e}break;case 10:if(47===ew){eV=eF+1;break e}}eV=eF}}break;case 91:ew++;case 40:ew++;case 34:case 39:for(;eV++<eW&&ep.charCodeAt(eV)!==ew;);}if(0===ek)break;eV++}if(ek=ep.substring(eq,eV),0===em&&(em=(e$=e$.replace(eo,"").trim()).charCodeAt(0)),64===em){switch(0<eH&&(e$=e$.replace(ec,"")),ew=e$.charCodeAt(1)){case 100:case 109:case 115:case 45:eH=eh;break;default:eH=eP}if(eq=(ek=M(eh,eH,ek,ew,eg+1)).length,0<eR&&(eC=H(3,ek,eH=X(eP,e$,eB),eh,eN,eT,eq,ew,eg,ef),e$=eH.join(""),void 0!==eC&&0===(eq=(ek=eC.trim()).length)&&(ew=0,ek="")),0<eq)switch(ew){case 115:e$=e$.replace(ex,ea);case 100:case 109:case 45:ek=e$+"{"+ek+"}";break;case 107:ek=(e$=e$.replace(ey,"$1 $2"))+"{"+ek+"}",ek=1===eO||2===eO&&L("@"+ek,3)?"@-webkit-"+ek+"@"+ek:"@"+ek;break;default:ek=e$+ek,112===ef&&(eG+=ek,ek="")}else ek=""}else ek=M(eh,X(eh,e$,eB),ek,ef,eg+1);eK+=ek,ek=eB=eH=eF=em=0,e$="",ew=ep.charCodeAt(++eV);break;case 125:case 59:if(1<(eq=(e$=(0<eH?e$.replace(ec,""):e$).trim()).length))switch(0===eF&&(45===(em=e$.charCodeAt(0))||96<em&&123>em)&&(eq=(e$=e$.replace(" ",":")).length),0<eR&&void 0!==(eC=H(1,e$,eh,er,eN,eT,eG.length,ef,eg,ef))&&0===(eq=(e$=eC.trim()).length)&&(e$="\x00\x00"),em=e$.charCodeAt(0),ew=e$.charCodeAt(1),em){case 0:break;case 64:if(105===ew||99===ew){eZ+=e$+ep.charAt(eV);break}default:58!==e$.charCodeAt(eq-1)&&(eG+=P(e$,em,ew,e$.charCodeAt(2)))}eB=eH=eF=em=0,e$="",ew=ep.charCodeAt(++eV)}}switch(ew){case 13:case 10:47===eE?eE=0:0===1+em&&107!==ef&&0<e$.length&&(eH=1,e$+="\x00"),0<eR*ej&&H(0,e$,eh,er,eN,eT,eG.length,ef,eg,ef),eT=1,eN++;break;case 59:case 125:if(0===eE+eD+eM+eI){eT++;break}default:switch(eT++,eS=ep.charAt(eV),ew){case 9:case 32:if(0===eD+eI+eE)switch(eL){case 44:case 58:case 9:case 32:eS="";break;default:32!==ew&&(eS=" ")}break;case 0:eS="\\0";break;case 12:eS="\\f";break;case 11:eS="\\v";break;case 38:0===eD+eE+eI&&(eH=eB=1,eS="\f"+eS);break;case 108:if(0===eD+eE+eI+eA&&0<eF)switch(eV-eF){case 2:112===eL&&58===ep.charCodeAt(eV-3)&&(eA=eL);case 8:111===eU&&(eA=eU)}break;case 58:0===eD+eE+eI&&(eF=eV);break;case 44:0===eE+eM+eD+eI&&(eH=1,eS+="\r");break;case 34:case 39:0===eE&&(eD=eD===ew?0:0===eD?ew:eD);break;case 91:0===eD+eE+eM&&eI++;break;case 93:0===eD+eE+eM&&eI--;break;case 41:0===eD+eE+eI&&eM--;break;case 40:0===eD+eE+eI&&(0===em&&(2*eL+3*eU==533||(em=1)),eM++);break;case 64:0===eE+eM+eD+eI+eF+ek&&(ek=1);break;case 42:case 47:if(!(0<eD+eI+eM))switch(eE){case 0:switch(2*ew+3*ep.charCodeAt(eV+1)){case 235:eE=47;break;case 220:eq=eV,eE=42}break;case 42:47===ew&&42===eL&&eq+2!==eV&&(33===ep.charCodeAt(eq+2)&&(eG+=ep.substring(eq,eV+1)),eS="",eE=0)}}0===eE&&(e$+=eS)}eU=eL,eL=ew,eV++}if(0<(eq=eG.length)){if(eH=eh,0<eR&&void 0!==(eC=H(2,eG,eH,er,eN,eT,eq,ef,eg,ef))&&0===(eG=eC).length)return eZ+eG+eK;if(eG=eH.join(",")+"{"+eG+"}",0!=eO*eA){switch(2!==eO||L(eG,2)||(eA=0),eA){case 111:eG=eG.replace(e_,":-moz-$1")+eG;break;case 112:eG=eG.replace(ev,"::-webkit-input-$1")+eG.replace(ev,"::-moz-$1")+eG.replace(ev,":-ms-input-$1")+eG}eA=0}}return eZ+eG+eK}(eP,ep,eh,0,0);return 0<eR&&void 0!==(ef=H(-2,eg,ep,ep,eN,eT,eg.length,0,0,0))&&(eg=ef),eA=0,eT=eN=1,eg}var eo=/^\0+/g,ec=/[\0\r\f]/g,eh=/: */g,ep=/zoo|gra/,ef=/([,: ])(transform)/g,eg=/,\r+?/g,em=/([\t\r\n ])*\f?&/g,ey=/@(k\w+)\s*(\S*)\s*/,ev=/::(place)/g,e_=/:(read-only)/g,ew=/[svh]\w+-[tblr]{2}/,ex=/\(\s*(.*)\s*\)/g,ek=/([\s\S]*?);/g,eS=/-self|flex-/g,eC=/[^]*?(:[rp][el]a[\w-]+)[^]*/,eI=/stretch|:\s*\w+\-(?:conte|avail)/,eE=/([^-])(image-set\()/,eT=1,eN=1,eA=0,eO=1,eP=[],eM=[],eR=0,eD=null,ej=0;return B.use=function T(er){switch(er){case void 0:case null:eR=eM.length=0;break;default:if("function"==typeof er)eM[eR++]=er;else if("object"==typeof er)for(var eo=0,ec=er.length;eo<ec;++eo)T(er[eo]);else ej=0|!!er}return T},B.set=U,void 0!==er&&U(er),B},ey={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ev=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,e_=(eh=Object.create(null),function(er){return void 0===eh[er]&&(eh[er]=ev.test(er)||111===er.charCodeAt(0)&&110===er.charCodeAt(1)&&91>er.charCodeAt(2)),eh[er]}),ew=ec(8679),ex=ec.n(ew),ek=ec(83454);function y(){return(y=Object.assign||function(er){for(var eo=1;eo<arguments.length;eo++){var ec=arguments[eo];for(var eh in ec)Object.prototype.hasOwnProperty.call(ec,eh)&&(er[eh]=ec[eh])}return er}).apply(this,arguments)}var v=function(er,eo){for(var ec=[er[0]],eh=0,ep=eo.length;eh<ep;eh+=1)ec.push(eo[eh],er[eh+1]);return ec},g=function(er){return null!==er&&"object"==typeof er&&"[object Object]"===(er.toString?er.toString():Object.prototype.toString.call(er))&&!(0,ep.typeOf)(er)},eS=Object.freeze([]),eC=Object.freeze({});function E(er){return"function"==typeof er}function b(er){return er.displayName||er.name||"Component"}function _(er){return er&&"string"==typeof er.styledComponentId}var eI=void 0!==ek&&void 0!==ek.env&&(ek.env.REACT_APP_SC_ATTR||ek.env.SC_ATTR)||"data-styled",eE="5.3.11",eT="undefined"!=typeof window&&"HTMLElement"in window,eN=!!("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:void 0!==ek&&void 0!==ek.env&&(void 0!==ek.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==ek.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==ek.env.REACT_APP_SC_DISABLE_SPEEDY&&ek.env.REACT_APP_SC_DISABLE_SPEEDY:void 0!==ek.env.SC_DISABLE_SPEEDY&&""!==ek.env.SC_DISABLE_SPEEDY&&"false"!==ek.env.SC_DISABLE_SPEEDY&&ek.env.SC_DISABLE_SPEEDY)),eA={};function D(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];throw Error("An error occurred. See https://git.io/JUIaE#"+er+" for more information."+(ec.length>0?" Args: "+ec.join(", "):""))}var eO=function(){function e(er){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=er}var er=e.prototype;return er.indexOfGroup=function(er){for(var eo=0,ec=0;ec<er;ec++)eo+=this.groupSizes[ec];return eo},er.insertRules=function(er,eo){if(er>=this.groupSizes.length){for(var ec=this.groupSizes,eh=ec.length,ep=eh;er>=ep;)(ep<<=1)<0&&D(16,""+er);this.groupSizes=new Uint32Array(ep),this.groupSizes.set(ec),this.length=ep;for(var ef=eh;ef<ep;ef++)this.groupSizes[ef]=0}for(var eg=this.indexOfGroup(er+1),em=0,ey=eo.length;em<ey;em++)this.tag.insertRule(eg,eo[em])&&(this.groupSizes[er]++,eg++)},er.clearGroup=function(er){if(er<this.length){var eo=this.groupSizes[er],ec=this.indexOfGroup(er),eh=ec+eo;this.groupSizes[er]=0;for(var ep=ec;ep<eh;ep++)this.tag.deleteRule(ec)}},er.getGroup=function(er){var eo="";if(er>=this.length||0===this.groupSizes[er])return eo;for(var ec=this.groupSizes[er],eh=this.indexOfGroup(er),ep=eh+ec,ef=eh;ef<ep;ef++)eo+=this.tag.getRule(ef)+"/*!sc*/\n";return eo},e}(),eP=new Map,eM=new Map,eR=1,V=function(er){if(eP.has(er))return eP.get(er);for(;eM.has(eR);)eR++;var eo=eR++;return eP.set(er,eo),eM.set(eo,er),eo},z=function(er,eo){eo>=eR&&(eR=eo+1),eP.set(er,eo),eM.set(eo,er)},eD="style["+eI+'][data-styled-version="5.3.11"]',ej=RegExp("^"+eI+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),L=function(er,eo,ec){for(var eh,ep=ec.split(","),ef=0,eg=ep.length;ef<eg;ef++)(eh=ep[ef])&&er.registerName(eo,eh)},F=function(er,eo){for(var ec=(eo.textContent||"").split("/*!sc*/\n"),eh=[],ep=0,ef=ec.length;ep<ef;ep++){var eg=ec[ep].trim();if(eg){var em=eg.match(ej);if(em){var ey=0|parseInt(em[1],10),ev=em[2];0!==ey&&(z(ev,ey),L(er,ev,em[3]),er.getTag().insertRules(ey,eh)),eh.length=0}else eh.push(eg)}}},Y=function(){return ec.nc},q=function(er){var eo=document.head,ec=er||eo,eh=document.createElement("style"),ep=function(er){for(var eo=er.childNodes,ec=eo.length;ec>=0;ec--){var eh=eo[ec];if(eh&&1===eh.nodeType&&eh.hasAttribute(eI))return eh}}(ec),ef=void 0!==ep?ep.nextSibling:null;eh.setAttribute(eI,"active"),eh.setAttribute("data-styled-version","5.3.11");var eg=Y();return eg&&eh.setAttribute("nonce",eg),ec.insertBefore(eh,ef),eh},eL=function(){function e(er){var eo=this.element=q(er);eo.appendChild(document.createTextNode("")),this.sheet=function(er){if(er.sheet)return er.sheet;for(var eo=document.styleSheets,ec=0,eh=eo.length;ec<eh;ec++){var ep=eo[ec];if(ep.ownerNode===er)return ep}D(17)}(eo),this.length=0}var er=e.prototype;return er.insertRule=function(er,eo){try{return this.sheet.insertRule(eo,er),this.length++,!0}catch(er){return!1}},er.deleteRule=function(er){this.sheet.deleteRule(er),this.length--},er.getRule=function(er){var eo=this.sheet.cssRules[er];return void 0!==eo&&"string"==typeof eo.cssText?eo.cssText:""},e}(),eU=function(){function e(er){var eo=this.element=q(er);this.nodes=eo.childNodes,this.length=0}var er=e.prototype;return er.insertRule=function(er,eo){if(er<=this.length&&er>=0){var ec=document.createTextNode(eo),eh=this.nodes[er];return this.element.insertBefore(ec,eh||null),this.length++,!0}return!1},er.deleteRule=function(er){this.element.removeChild(this.nodes[er]),this.length--},er.getRule=function(er){return er<this.length?this.nodes[er].textContent:""},e}(),eF=function(){function e(er){this.rules=[],this.length=0}var er=e.prototype;return er.insertRule=function(er,eo){return er<=this.length&&(this.rules.splice(er,0,eo),this.length++,!0)},er.deleteRule=function(er){this.rules.splice(er,1),this.length--},er.getRule=function(er){return er<this.length?this.rules[er]:""},e}(),eV=eT,eH={isServer:!eT,useCSSOMInjection:!eN},eB=function(){function e(er,eo,ec){void 0===er&&(er=eC),void 0===eo&&(eo={}),this.options=y({},eH,{},er),this.gs=eo,this.names=new Map(ec),this.server=!!er.isServer,!this.server&&eT&&eV&&(eV=!1,function(er){for(var eo=document.querySelectorAll(eD),ec=0,eh=eo.length;ec<eh;ec++){var ep=eo[ec];ep&&"active"!==ep.getAttribute(eI)&&(F(er,ep),ep.parentNode&&ep.parentNode.removeChild(ep))}}(this))}e.registerId=function(er){return V(er)};var er=e.prototype;return er.reconstructWithOptions=function(er,eo){return void 0===eo&&(eo=!0),new e(y({},this.options,{},er),this.gs,eo&&this.names||void 0)},er.allocateGSInstance=function(er){return this.gs[er]=(this.gs[er]||0)+1},er.getTag=function(){var er,eo,ec,eh,ep;return this.tag||(this.tag=(ec=(eo=this.options).isServer,eh=eo.useCSSOMInjection,ep=eo.target,er=ec?new eF(ep):eh?new eL(ep):new eU(ep),new eO(er)))},er.hasNameForId=function(er,eo){return this.names.has(er)&&this.names.get(er).has(eo)},er.registerName=function(er,eo){if(V(er),this.names.has(er))this.names.get(er).add(eo);else{var ec=new Set;ec.add(eo),this.names.set(er,ec)}},er.insertRules=function(er,eo,ec){this.registerName(er,eo),this.getTag().insertRules(V(er),ec)},er.clearNames=function(er){this.names.has(er)&&this.names.get(er).clear()},er.clearRules=function(er){this.getTag().clearGroup(V(er)),this.clearNames(er)},er.clearTag=function(){this.tag=void 0},er.toString=function(){return function(er){for(var eo=er.getTag(),ec=eo.length,eh="",ep=0;ep<ec;ep++){var ef,eg=(ef=ep,eM.get(ef));if(void 0!==eg){var em=er.names.get(eg),ey=eo.getGroup(ep);if(em&&ey&&em.size){var ev=eI+".g"+ep+'[id="'+eg+'"]',e_="";void 0!==em&&em.forEach(function(er){er.length>0&&(e_+=er+",")}),eh+=""+ey+ev+'{content:"'+e_+'"}/*!sc*/\n'}}}return eh}(this)},e}(),eq=/(a)(d)/gi,K=function(er){return String.fromCharCode(er+(er>25?39:97))};function Q(er){var eo,ec="";for(eo=Math.abs(er);eo>52;eo=eo/52|0)ec=K(eo%52)+ec;return(K(eo%52)+ec).replace(eq,"$1-$2")}var ee=function(er,eo){for(var ec=eo.length;ec;)er=33*er^eo.charCodeAt(--ec);return er},te=function(er){return ee(5381,er)};function ne(er){for(var eo=0;eo<er.length;eo+=1){var ec=er[eo];if(E(ec)&&!_(ec))return!1}return!0}var ez=te("5.3.11"),eW=function(){function e(er,eo,ec){this.rules=er,this.staticRulesId="",this.isStatic=(void 0===ec||ec.isStatic)&&ne(er),this.componentId=eo,this.baseHash=ee(ez,eo),this.baseStyle=ec,eB.registerId(eo)}return e.prototype.generateAndInjectStyles=function(er,eo,ec){var eh=this.componentId,ep=[];if(this.baseStyle&&ep.push(this.baseStyle.generateAndInjectStyles(er,eo,ec)),this.isStatic&&!ec.hash){if(this.staticRulesId&&eo.hasNameForId(eh,this.staticRulesId))ep.push(this.staticRulesId);else{var ef=_e(this.rules,er,eo,ec).join(""),eg=Q(ee(this.baseHash,ef)>>>0);if(!eo.hasNameForId(eh,eg)){var em=ec(ef,"."+eg,void 0,eh);eo.insertRules(eh,eg,em)}ep.push(eg),this.staticRulesId=eg}}else{for(var ey=this.rules.length,ev=ee(this.baseHash,ec.hash),e_="",ew=0;ew<ey;ew++){var ex=this.rules[ew];if("string"==typeof ex)e_+=ex;else if(ex){var ek=_e(ex,er,eo,ec),eS=Array.isArray(ek)?ek.join(""):ek;ev=ee(ev,eS+ew),e_+=eS}}if(e_){var eC=Q(ev>>>0);if(!eo.hasNameForId(eh,eC)){var eI=ec(e_,"."+eC,void 0,eh);eo.insertRules(eh,eC,eI)}ep.push(eC)}}return ep.join(" ")},e}(),e$=/^\s*\/\/.*$/gm,eG=[":","[",".","#"];function ae(er){var eo,ec,eh,ep,ef=void 0===er?eC:er,eg=ef.options,em=void 0===eg?eC:eg,ey=ef.plugins,ev=void 0===ey?eS:ey,e_=new stylis_browser_esm(em),ew=[],ex=function(er){function t(eo){if(eo)try{er(eo+"}")}catch(er){}}return function(eo,ec,eh,ep,ef,eg,em,ey,ev,e_){switch(eo){case 1:if(0===ev&&64===ec.charCodeAt(0))return er(ec+";"),"";break;case 2:if(0===ey)return ec+"/*|*/";break;case 3:switch(ey){case 102:case 112:return er(eh[0]+ec),"";default:return ec+(0===e_?"/*|*/":"")}case -2:ec.split("/*|*/}").forEach(t)}}}(function(er){ew.push(er)}),f=function(er,eh,ef){return 0===eh&&-1!==eG.indexOf(ef[ec.length])||ef.match(ep)?er:"."+eo};function m(er,ef,eg,em){void 0===em&&(em="&");var ey=er.replace(e$,""),ev=ef&&eg?eg+" "+ef+" { "+ey+" }":ey;return eo=em,eh=RegExp("\\"+(ec=ef)+"\\b","g"),ep=RegExp("(\\"+ec+"\\b){2,}"),e_(eg||!ef?"":ef,ev)}return e_.use([].concat(ev,[function(er,eo,ep){2===er&&ep.length&&ep[0].lastIndexOf(ec)>0&&(ep[0]=ep[0].replace(eh,f))},ex,function(er){if(-2===er){var eo=ew;return ew=[],eo}}])),m.hash=ev.length?ev.reduce(function(er,eo){return eo.name||D(15),ee(er,eo.name)},5381).toString():"",m}var eK=ef.createContext(),eZ=eK.Consumer,eJ=ef.createContext(),eQ=(eJ.Consumer,new eB),eX=ae();function pe(){return(0,ef.useContext)(eK)||eQ}function fe(){return(0,ef.useContext)(eJ)||eX}function me(er){var eo=(0,ef.useState)(er.stylisPlugins),ec=eo[0],eh=eo[1],ep=pe(),eg=(0,ef.useMemo)(function(){var eo=ep;return er.sheet?eo=er.sheet:er.target&&(eo=eo.reconstructWithOptions({target:er.target},!1)),er.disableCSSOMInjection&&(eo=eo.reconstructWithOptions({useCSSOMInjection:!1})),eo},[er.disableCSSOMInjection,er.sheet,er.target]),ey=(0,ef.useMemo)(function(){return ae({options:{prefix:!er.disableVendorPrefixes},plugins:ec})},[er.disableVendorPrefixes,ec]);return(0,ef.useEffect)(function(){em()(ec,er.stylisPlugins)||eh(er.stylisPlugins)},[er.stylisPlugins]),ef.createElement(eK.Provider,{value:eg},ef.createElement(eJ.Provider,{value:ey},er.children))}var eY=function(){function e(er,eo){var ec=this;this.inject=function(er,eo){void 0===eo&&(eo=eX);var eh=ec.name+eo.hash;er.hasNameForId(ec.id,eh)||er.insertRules(ec.id,eh,eo(ec.rules,eh,"@keyframes"))},this.toString=function(){return D(12,String(ec.name))},this.name=er,this.id="sc-keyframes-"+er,this.rules=eo}return e.prototype.getName=function(er){return void 0===er&&(er=eX),this.name+er.hash},e}(),e0=/([A-Z])/,e1=/([A-Z])/g,e2=/^ms-/,we=function(er){return"-"+er.toLowerCase()};function Ee(er){return e0.test(er)?er.replace(e1,we).replace(e2,"-ms-"):er}var be=function(er){return null==er||!1===er||""===er};function _e(er,eo,ec,eh){if(Array.isArray(er)){for(var ep,ef=[],eg=0,em=er.length;eg<em;eg+=1)""!==(ep=_e(er[eg],eo,ec,eh))&&(Array.isArray(ep)?ef.push.apply(ef,ep):ef.push(ep));return ef}return be(er)?"":_(er)?"."+er.styledComponentId:E(er)?"function"!=typeof er||er.prototype&&er.prototype.isReactComponent||!eo?er:_e(er(eo),eo,ec,eh):er instanceof eY?ec?(er.inject(ec,eh),er.getName(eh)):er:g(er)?function e(er,eo){var ec,eh=[];for(var ep in er)er.hasOwnProperty(ep)&&!be(er[ep])&&(Array.isArray(er[ep])&&er[ep].isCss||E(er[ep])?eh.push(Ee(ep)+":",er[ep],";"):g(er[ep])?eh.push.apply(eh,e(er[ep],ep)):eh.push(Ee(ep)+": "+(null==(ec=er[ep])||"boolean"==typeof ec||""===ec?"":"number"!=typeof ec||0===ec||ep in ey||ep.startsWith("--")?String(ec).trim():ec+"px")+";"));return eo?[eo+" {"].concat(eh,["}"]):eh}(er):er.toString()}var Ne=function(er){return Array.isArray(er)&&(er.isCss=!0),er};function Ae(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];return E(er)||g(er)?Ne(_e(v(eS,[er].concat(ec)))):0===ec.length&&1===er.length&&"string"==typeof er[0]?er:Ne(_e(v(er,ec)))}var Oe=function(er,eo,ec){return void 0===ec&&(ec=eC),er.theme!==ec.theme&&er.theme||eo||ec.theme},e3=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,e6=/(^-|-$)/g;function je(er){return er.replace(e3,"-").replace(e6,"")}var Te=function(er){return Q(te(er)>>>0)};function xe(er){return"string"==typeof er}var ke=function(er){return"function"==typeof er||"object"==typeof er&&null!==er&&!Array.isArray(er)},e4=ef.createContext(),e5=e4.Consumer;function Le(er){var eo=(0,ef.useContext)(e4),ec=(0,ef.useMemo)(function(){var ec;return(ec=er.theme)?E(ec)?ec(eo):Array.isArray(ec)||"object"!=typeof ec?D(8):eo?y({},eo,{},ec):ec:D(14)},[er.theme,eo]);return er.children?ef.createElement(e4.Provider,{value:ec},er.children):null}var e9={},qe=function(er){return function e(er,eo,ec){if(void 0===ec&&(ec=eC),!(0,ep.isValidElementType)(eo))return D(1,String(eo));var s=function(){return er(eo,ec,Ae.apply(void 0,arguments))};return s.withConfig=function(eh){return e(er,eo,y({},ec,{},eh))},s.attrs=function(eh){return e(er,eo,y({},ec,{attrs:Array.prototype.concat(ec.attrs,eh).filter(Boolean)}))},s}(function Ye(er,eo,ec){var eh=_(er),ep=!xe(er),eg=eo.attrs,em=void 0===eg?eS:eg,ey=eo.componentId,ev=void 0===ey?(eN=eo.displayName,eA=eo.parentComponentId,e9[eO="string"!=typeof eN?"sc":je(eN)]=(e9[eO]||0)+1,eP=eO+"-"+Te("5.3.11"+eO+e9[eO]),eA?eA+"-"+eP:eP):ey,ew=eo.displayName,ek=void 0===ew?xe(er)?"styled."+er:"Styled("+b(er)+")":ew,eI=eo.displayName&&eo.componentId?je(eo.displayName)+"-"+eo.componentId:eo.componentId||ev,eE=eh&&er.attrs?Array.prototype.concat(er.attrs,em).filter(Boolean):em,eT=eo.shouldForwardProp;eh&&er.shouldForwardProp&&(eT=eo.shouldForwardProp?function(ec,eh,ep){return er.shouldForwardProp(ec,eh,ep)&&eo.shouldForwardProp(ec,eh,ep)}:er.shouldForwardProp);var eN,eA,eO,eP,eM,eR=new eW(ec,eI,eh?er.componentStyle:void 0),eD=eR.isStatic&&0===em.length,P=function(er,eo){return function(er,eo,ec,eh){var ep,eg,em,ey,ev,ew=er.attrs,ex=er.componentStyle,ek=er.defaultProps,eS=er.foldedComponentIds,eI=er.shouldForwardProp,eE=er.styledComponentId,eT=er.target,eN=(void 0===(ep=Oe(eo,(0,ef.useContext)(e4),ek)||eC)&&(ep=eC),eg=y({},eo,{theme:ep}),em={},ew.forEach(function(er){var eo,ec,eh,ep=er;for(eo in E(ep)&&(ep=ep(eg)),ep)eg[eo]=em[eo]="className"===eo?(ec=em[eo],eh=ep[eo],ec&&eh?ec+" "+eh:ec||eh):ep[eo]}),[eg,em]),eA=eN[0],eO=eN[1],eP=(ey=pe(),ev=fe(),eh?ex.generateAndInjectStyles(eC,ey,ev):ex.generateAndInjectStyles(eA,ey,ev)),eM=eO.$as||eo.$as||eO.as||eo.as||eT,eR=xe(eM),eD=eO!==eo?y({},eo,{},eO):eo,ej={};for(var eL in eD)"$"!==eL[0]&&"as"!==eL&&("forwardedAs"===eL?ej.as=eD[eL]:(eI?eI(eL,e_,eM):!eR||e_(eL))&&(ej[eL]=eD[eL]));return eo.style&&eO.style!==eo.style&&(ej.style=y({},eo.style,{},eO.style)),ej.className=Array.prototype.concat(eS,eE,eP!==eE?eP:null,eo.className,eO.className).filter(Boolean).join(" "),ej.ref=ec,(0,ef.createElement)(eM,ej)}(eM,er,eo,eD)};return P.displayName=ek,(eM=ef.forwardRef(P)).attrs=eE,eM.componentStyle=eR,eM.displayName=ek,eM.shouldForwardProp=eT,eM.foldedComponentIds=eh?Array.prototype.concat(er.foldedComponentIds,er.styledComponentId):eS,eM.styledComponentId=eI,eM.target=eh?er.target:er,eM.withComponent=function(er){var eh=eo.componentId,ep=function(er,eo){if(null==er)return{};var ec,eh,ep={},ef=Object.keys(er);for(eh=0;eh<ef.length;eh++)eo.indexOf(ec=ef[eh])>=0||(ep[ec]=er[ec]);return ep}(eo,["componentId"]),ef=eh&&eh+"-"+(xe(er)?er:je(b(er)));return Ye(er,y({},ep,{attrs:eE,componentId:ef}),ec)},Object.defineProperty(eM,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(eo){this._foldedDefaultProps=eh?function ze(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];for(var ep=0;ep<ec.length;ep++){var ef=ec[ep];if(ke(ef))for(var eg in ef)"__proto__"!==eg&&"constructor"!==eg&&"prototype"!==eg&&function(er,eo,ec){var eh=er[ec];ke(eo)&&ke(eh)?ze(eh,eo):er[ec]=eo}(er,ef[eg],eg)}return er}({},er.defaultProps,eo):eo}}),Object.defineProperty(eM,"toString",{value:function(){return"."+eM.styledComponentId}}),ep&&ex()(eM,er,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),eM},er)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(er){qe[er]=qe(er)});var e7=function(){function e(er,eo){this.rules=er,this.componentId=eo,this.isStatic=ne(er),eB.registerId(this.componentId+1)}var er=e.prototype;return er.createStyles=function(er,eo,ec,eh){var ep=eh(_e(this.rules,eo,ec,eh).join(""),""),ef=this.componentId+er;ec.insertRules(ef,ef,ep)},er.removeStyles=function(er,eo){eo.clearRules(this.componentId+er)},er.renderStyles=function(er,eo,ec,eh){er>2&&eB.registerId(this.componentId+er),this.removeStyles(er,ec),this.createStyles(er,eo,ec,eh)},e}();function $e(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];var ep=Ae.apply(void 0,[er].concat(ec)),eg="sc-global-"+Te(JSON.stringify(ep)),em=new e7(ep,eg);function d(er){var eo=pe(),ec=fe(),eh=(0,ef.useContext)(e4),ep=(0,ef.useRef)(eo.allocateGSInstance(eg)).current;return eo.server&&h(ep,er,eo,eh,ec),(0,ef.useLayoutEffect)(function(){if(!eo.server)return h(ep,er,eo,eh,ec),function(){return em.removeStyles(ep,eo)}},[ep,er,eo,eh,ec]),null}function h(er,eo,ec,eh,ep){if(em.isStatic)em.renderStyles(er,eA,ec,ep);else{var ef=y({},eo,{theme:Oe(eo,eh,d.defaultProps)});em.renderStyles(er,ef,ec,ep)}}return ef.memo(d)}function We(er){for(var eo=arguments.length,ec=Array(eo>1?eo-1:0),eh=1;eh<eo;eh++)ec[eh-1]=arguments[eh];var ep=Ae.apply(void 0,[er].concat(ec)).join(""),ef=Te(ep);return new eY(ef,ep)}var e8=function(){function e(){var er=this;this._emitSheetCSS=function(){var eo=er.instance.toString();if(!eo)return"";var ec=Y();return"<style "+[ec&&'nonce="'+ec+'"',eI+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+eo+"</style>"},this.getStyleTags=function(){return er.sealed?D(2):er._emitSheetCSS()},this.getStyleElement=function(){if(er.sealed)return D(2);var eo,ec=((eo={})[eI]="",eo["data-styled-version"]="5.3.11",eo.dangerouslySetInnerHTML={__html:er.instance.toString()},eo),eh=Y();return eh&&(ec.nonce=eh),[ef.createElement("style",y({},ec,{key:"sc-0-0"}))]},this.seal=function(){er.sealed=!0},this.instance=new eB({isServer:!0}),this.sealed=!1}var er=e.prototype;return er.collectStyles=function(er){return this.sealed?D(2):ef.createElement(me,{sheet:this.instance},er)},er.interleaveWithNodeStream=function(er){return D(3)},e}(),Je=function(er){var eo=ef.forwardRef(function(eo,ec){var eh=Oe(eo,(0,ef.useContext)(e4),er.defaultProps);return ef.createElement(er,y({},eo,{theme:eh,ref:ec}))});return ex()(eo,er),eo.displayName="WithTheme("+b(er)+")",eo},Xe=function(){return(0,ef.useContext)(e4)},tr={StyleSheet:eB,masterSheet:eQ},to=qe},53250:function(er,eo,ec){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=ec(67294),ep="function"==typeof Object.is?Object.is:function(er,eo){return er===eo&&(0!==er||1/er==1/eo)||er!=er&&eo!=eo},ef=eh.useState,eg=eh.useEffect,em=eh.useLayoutEffect,ey=eh.useDebugValue;function r(er){var eo=er.getSnapshot;er=er.value;try{var ec=eo();return!ep(er,ec)}catch(er){return!0}}var ev="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(er,eo){return eo()}:function(er,eo){var ec=eo(),eh=ef({inst:{value:ec,getSnapshot:eo}}),ep=eh[0].inst,ev=eh[1];return em(function(){ep.value=ec,ep.getSnapshot=eo,r(ep)&&ev({inst:ep})},[er,ec,eo]),eg(function(){return r(ep)&&ev({inst:ep}),er(function(){r(ep)&&ev({inst:ep})})},[er]),ey(ec),ec};eo.useSyncExternalStore=void 0!==eh.useSyncExternalStore?eh.useSyncExternalStore:ev},50139:function(er,eo,ec){"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=ec(67294),ep=ec(61688),ef="function"==typeof Object.is?Object.is:function(er,eo){return er===eo&&(0!==er||1/er==1/eo)||er!=er&&eo!=eo},eg=ep.useSyncExternalStore,em=eh.useRef,ey=eh.useEffect,ev=eh.useMemo,e_=eh.useDebugValue;eo.useSyncExternalStoreWithSelector=function(er,eo,ec,eh,ep){var ew=em(null);if(null===ew.current){var ex={hasValue:!1,value:null};ew.current=ex}else ex=ew.current;var ek=eg(er,(ew=ev(function(){function a(eo){if(!em){if(em=!0,er=eo,eo=eh(eo),void 0!==ep&&ex.hasValue){var ec=ex.value;if(ep(ec,eo))return eg=ec}return eg=eo}if(ec=eg,ef(er,eo))return ec;var ey=eh(eo);return void 0!==ep&&ep(ec,ey)?ec:(er=eo,eg=ey)}var er,eg,em=!1,ey=void 0===ec?null:ec;return[function(){return a(eo())},null===ey?void 0:function(){return a(ey())}]},[eo,ec,eh,ep]))[0],ew[1]);return ey(function(){ex.hasValue=!0,ex.value=ek},[ek]),e_(ek),ek}},61688:function(er,eo,ec){"use strict";er.exports=ec(53250)},52798:function(er,eo,ec){"use strict";er.exports=ec(50139)},25816:function(er,eo,ec){"use strict";let eh,ep;ec.d(eo,{Jn:function(){return ej},qX:function(){return _getProvider},Xd:function(){return _registerComponent},Mq:function(){return getApp},C6:function(){return getApps},ZF:function(){return initializeApp},KN:function(){return registerVersion}});var ef,eg=ec(8463),em=ec(53333),ey=ec(74444);let instanceOfAny=(er,eo)=>eo.some(eo=>er instanceof eo),ev=new WeakMap,e_=new WeakMap,ew=new WeakMap,ex=new WeakMap,ek=new WeakMap,eS={get(er,eo,ec){if(er instanceof IDBTransaction){if("done"===eo)return e_.get(er);if("objectStoreNames"===eo)return er.objectStoreNames||ew.get(er);if("store"===eo)return ec.objectStoreNames[1]?void 0:ec.objectStore(ec.objectStoreNames[0])}return wrap_idb_value_wrap(er[eo])},set:(er,eo,ec)=>(er[eo]=ec,!0),has:(er,eo)=>er instanceof IDBTransaction&&("done"===eo||"store"===eo)||eo in er};function wrap_idb_value_wrap(er){var eo;if(er instanceof IDBRequest)return function(er){let eo=new Promise((eo,ec)=>{let unlisten=()=>{er.removeEventListener("success",success),er.removeEventListener("error",error)},success=()=>{eo(wrap_idb_value_wrap(er.result)),unlisten()},error=()=>{ec(er.error),unlisten()};er.addEventListener("success",success),er.addEventListener("error",error)});return eo.then(eo=>{eo instanceof IDBCursor&&ev.set(eo,er)}).catch(()=>{}),ek.set(eo,er),eo}(er);if(ex.has(er))return ex.get(er);let ec="function"==typeof(eo=er)?eo!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ep||(ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(eo)?function(...er){return eo.apply(unwrap(this),er),wrap_idb_value_wrap(ev.get(this))}:function(...er){return wrap_idb_value_wrap(eo.apply(unwrap(this),er))}:function(er,...ec){let eh=eo.call(unwrap(this),er,...ec);return ew.set(eh,er.sort?er.sort():[er]),wrap_idb_value_wrap(eh)}:(eo instanceof IDBTransaction&&function(er){if(e_.has(er))return;let eo=new Promise((eo,ec)=>{let unlisten=()=>{er.removeEventListener("complete",complete),er.removeEventListener("error",error),er.removeEventListener("abort",error)},complete=()=>{eo(),unlisten()},error=()=>{ec(er.error||new DOMException("AbortError","AbortError")),unlisten()};er.addEventListener("complete",complete),er.addEventListener("error",error),er.addEventListener("abort",error)});e_.set(er,eo)}(eo),instanceOfAny(eo,eh||(eh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(eo,eS):eo;return ec!==er&&(ex.set(er,ec),ek.set(ec,er)),ec}let unwrap=er=>ek.get(er),eC=["get","getKey","getAll","getAllKeys","count"],eI=["put","add","delete","clear"],eE=new Map;function getMethod(er,eo){if(!(er instanceof IDBDatabase&&!(eo in er)&&"string"==typeof eo))return;if(eE.get(eo))return eE.get(eo);let ec=eo.replace(/FromIndex$/,""),eh=eo!==ec,ep=eI.includes(ec);if(!(ec in(eh?IDBIndex:IDBObjectStore).prototype)||!(ep||eC.includes(ec)))return;let method=async function(er,...eo){let ef=this.transaction(er,ep?"readwrite":"readonly"),eg=ef.store;return eh&&(eg=eg.index(eo.shift())),(await Promise.all([eg[ec](...eo),ep&&ef.done]))[0]};return eE.set(eo,method),method}eS={...ef=eS,get:(er,eo,ec)=>getMethod(er,eo)||ef.get(er,eo,ec),has:(er,eo)=>!!getMethod(er,eo)||ef.has(er,eo)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PlatformLoggerServiceImpl=class PlatformLoggerServiceImpl{constructor(er){this.container=er}getPlatformInfoString(){let er=this.container.getProviders();return er.map(er=>{if(!function(er){let eo=er.getComponent();return(null==eo?void 0:eo.type)==="VERSION"}(er))return null;{let eo=er.getImmediate();return`${eo.library}/${eo.version}`}}).filter(er=>er).join(" ")}};let eT="@firebase/app",eN="0.9.13",eA=new em.Yd("@firebase/app"),eO="[DEFAULT]",eP={[eT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},eM=new Map,eR=new Map;function _registerComponent(er){let eo=er.name;if(eR.has(eo))return eA.debug(`There were multiple attempts to register component ${eo}.`),!1;for(let ec of(eR.set(eo,er),eM.values()))!function(er,eo){try{er.container.addComponent(eo)}catch(ec){eA.debug(`Component ${eo.name} failed to register with FirebaseApp ${er.name}`,ec)}}(ec,er);return!0}function _getProvider(er,eo){let ec=er.container.getProvider("heartbeat").getImmediate({optional:!0});return ec&&ec.triggerHeartbeat(),er.container.getProvider(eo)}let eD=new ey.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl=class FirebaseAppImpl{constructor(er,eo,ec){this._isDeleted=!1,this._options=Object.assign({},er),this._config=Object.assign({},eo),this._name=eo.name,this._automaticDataCollectionEnabled=eo.automaticDataCollectionEnabled,this._container=ec,this.container.addComponent(new eg.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(er){this.checkDestroyed(),this._automaticDataCollectionEnabled=er}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(er){this._isDeleted=er}checkDestroyed(){if(this.isDeleted)throw eD.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ej="9.23.0";function initializeApp(er,eo={}){let ec=er;if("object"!=typeof eo){let er=eo;eo={name:er}}let eh=Object.assign({name:eO,automaticDataCollectionEnabled:!1},eo),ep=eh.name;if("string"!=typeof ep||!ep)throw eD.create("bad-app-name",{appName:String(ep)});if(ec||(ec=(0,ey.aH)()),!ec)throw eD.create("no-options");let ef=eM.get(ep);if(ef){if((0,ey.vZ)(ec,ef.options)&&(0,ey.vZ)(eh,ef.config))return ef;throw eD.create("duplicate-app",{appName:ep})}let em=new eg.H0(ep);for(let er of eR.values())em.addComponent(er);let ev=new FirebaseAppImpl(ec,eh,em);return eM.set(ep,ev),ev}function getApp(er=eO){let eo=eM.get(er);if(!eo&&er===eO&&(0,ey.aH)())return initializeApp();if(!eo)throw eD.create("no-app",{appName:er});return eo}function getApps(){return Array.from(eM.values())}function registerVersion(er,eo,ec){var eh;let ep=null!==(eh=eP[er])&&void 0!==eh?eh:er;ec&&(ep+=`-${ec}`);let ef=ep.match(/\s|\//),em=eo.match(/\s|\//);if(ef||em){let er=[`Unable to register library "${ep}" with version "${eo}":`];ef&&er.push(`library name "${ep}" contains illegal characters (whitespace or "/")`),ef&&em&&er.push("and"),em&&er.push(`version name "${eo}" contains illegal characters (whitespace or "/")`),eA.warn(er.join(" "));return}_registerComponent(new eg.wA(`${ep}-version`,()=>({library:ep,version:eo}),"VERSION"))}let eL="firebase-heartbeat-store",eU=null;function getDbPromise(){return eU||(eU=(function(er,eo,{blocked:ec,upgrade:eh,blocking:ep,terminated:ef}={}){let eg=indexedDB.open(er,1),em=wrap_idb_value_wrap(eg);return eh&&eg.addEventListener("upgradeneeded",er=>{eh(wrap_idb_value_wrap(eg.result),er.oldVersion,er.newVersion,wrap_idb_value_wrap(eg.transaction),er)}),ec&&eg.addEventListener("blocked",er=>ec(er.oldVersion,er.newVersion,er)),em.then(er=>{ef&&er.addEventListener("close",()=>ef()),ep&&er.addEventListener("versionchange",er=>ep(er.oldVersion,er.newVersion,er))}).catch(()=>{}),em})("firebase-heartbeat-database",0,{upgrade:(er,eo)=>{0===eo&&er.createObjectStore(eL)}}).catch(er=>{throw eD.create("idb-open",{originalErrorMessage:er.message})})),eU}async function readHeartbeatsFromIndexedDB(er){try{let eo=await getDbPromise(),ec=await eo.transaction(eL).objectStore(eL).get(computeKey(er));return ec}catch(er){if(er instanceof ey.ZR)eA.warn(er.message);else{let eo=eD.create("idb-get",{originalErrorMessage:null==er?void 0:er.message});eA.warn(eo.message)}}}async function writeHeartbeatsToIndexedDB(er,eo){try{let ec=await getDbPromise(),eh=ec.transaction(eL,"readwrite"),ep=eh.objectStore(eL);await ep.put(eo,computeKey(er)),await eh.done}catch(er){if(er instanceof ey.ZR)eA.warn(er.message);else{let eo=eD.create("idb-set",{originalErrorMessage:null==er?void 0:er.message});eA.warn(eo.message)}}}function computeKey(er){return`${er.name}!${er.options.appId}`}let HeartbeatServiceImpl=class HeartbeatServiceImpl{constructor(er){this.container=er,this._heartbeatsCache=null;let eo=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(eo),this._heartbeatsCachePromise=this._storage.read().then(er=>(this._heartbeatsCache=er,er))}async triggerHeartbeat(){let er=this.container.getProvider("platform-logger").getImmediate(),eo=er.getPlatformInfoString(),ec=getUTCDateString();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===ec||this._heartbeatsCache.heartbeats.some(er=>er.date===ec))?void 0:(this._heartbeatsCache.heartbeats.push({date:ec,agent:eo}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(er=>{let eo=new Date(er.date).valueOf(),ec=Date.now();return ec-eo<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let er=getUTCDateString(),{heartbeatsToSend:eo,unsentEntries:ec}=function(er,eo=1024){let ec=[],eh=er.slice();for(let ep of er){let er=ec.find(er=>er.agent===ep.agent);if(er){if(er.dates.push(ep.date),countBytes(ec)>eo){er.dates.pop();break}}else if(ec.push({agent:ep.agent,dates:[ep.date]}),countBytes(ec)>eo){ec.pop();break}eh=eh.slice(1)}return{heartbeatsToSend:ec,unsentEntries:eh}}(this._heartbeatsCache.heartbeats),eh=(0,ey.L)(JSON.stringify({version:2,heartbeats:eo}));return this._heartbeatsCache.lastSentHeartbeatDate=er,ec.length>0?(this._heartbeatsCache.heartbeats=ec,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),eh}};function getUTCDateString(){let er=new Date;return er.toISOString().substring(0,10)}let HeartbeatStorageImpl=class HeartbeatStorageImpl{constructor(er){this.app=er,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,ey.hl)()&&(0,ey.eu)().then(()=>!0).catch(()=>!1)}async read(){let er=await this._canUseIndexedDBPromise;if(!er)return{heartbeats:[]};{let er=await readHeartbeatsFromIndexedDB(this.app);return er||{heartbeats:[]}}}async overwrite(er){var eo;let ec=await this._canUseIndexedDBPromise;if(ec){let ec=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(eo=er.lastSentHeartbeatDate)&&void 0!==eo?eo:ec.lastSentHeartbeatDate,heartbeats:er.heartbeats})}}async add(er){var eo;let ec=await this._canUseIndexedDBPromise;if(ec){let ec=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:null!==(eo=er.lastSentHeartbeatDate)&&void 0!==eo?eo:ec.lastSentHeartbeatDate,heartbeats:[...ec.heartbeats,...er.heartbeats]})}}};function countBytes(er){return(0,ey.L)(JSON.stringify({version:2,heartbeats:er})).length}_registerComponent(new eg.wA("platform-logger",er=>new PlatformLoggerServiceImpl(er),"PRIVATE")),_registerComponent(new eg.wA("heartbeat",er=>new HeartbeatServiceImpl(er),"PRIVATE")),registerVersion(eT,eN,""),registerVersion(eT,eN,"esm2017"),registerVersion("fire-js","")},8463:function(er,eo,ec){"use strict";ec.d(eo,{H0:function(){return ComponentContainer},wA:function(){return Component}});var eh=ec(74444);let Component=class Component{constructor(er,eo,ec){this.name=er,this.instanceFactory=eo,this.type=ec,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(er){return this.instantiationMode=er,this}setMultipleInstances(er){return this.multipleInstances=er,this}setServiceProps(er){return this.serviceProps=er,this}setInstanceCreatedCallback(er){return this.onInstanceCreated=er,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider=class Provider{constructor(er,eo){this.name=er,this.container=eo,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(er){let eo=this.normalizeInstanceIdentifier(er);if(!this.instancesDeferred.has(eo)){let er=new eh.BH;if(this.instancesDeferred.set(eo,er),this.isInitialized(eo)||this.shouldAutoInitialize())try{let ec=this.getOrInitializeService({instanceIdentifier:eo});ec&&er.resolve(ec)}catch(er){}}return this.instancesDeferred.get(eo).promise}getImmediate(er){var eo;let ec=this.normalizeInstanceIdentifier(null==er?void 0:er.identifier),eh=null!==(eo=null==er?void 0:er.optional)&&void 0!==eo&&eo;if(this.isInitialized(ec)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:ec})}catch(er){if(eh)return null;throw er}else{if(eh)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(er){if(er.name!==this.name)throw Error(`Mismatching Component ${er.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=er,this.shouldAutoInitialize()){if("EAGER"===er.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ep})}catch(er){}for(let[er,eo]of this.instancesDeferred.entries()){let ec=this.normalizeInstanceIdentifier(er);try{let er=this.getOrInitializeService({instanceIdentifier:ec});eo.resolve(er)}catch(er){}}}}clearInstance(er=ep){this.instancesDeferred.delete(er),this.instancesOptions.delete(er),this.instances.delete(er)}async delete(){let er=Array.from(this.instances.values());await Promise.all([...er.filter(er=>"INTERNAL"in er).map(er=>er.INTERNAL.delete()),...er.filter(er=>"_delete"in er).map(er=>er._delete())])}isComponentSet(){return null!=this.component}isInitialized(er=ep){return this.instances.has(er)}getOptions(er=ep){return this.instancesOptions.get(er)||{}}initialize(er={}){let{options:eo={}}=er,ec=this.normalizeInstanceIdentifier(er.instanceIdentifier);if(this.isInitialized(ec))throw Error(`${this.name}(${ec}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let eh=this.getOrInitializeService({instanceIdentifier:ec,options:eo});for(let[er,eo]of this.instancesDeferred.entries()){let ep=this.normalizeInstanceIdentifier(er);ec===ep&&eo.resolve(eh)}return eh}onInit(er,eo){var ec;let eh=this.normalizeInstanceIdentifier(eo),ep=null!==(ec=this.onInitCallbacks.get(eh))&&void 0!==ec?ec:new Set;ep.add(er),this.onInitCallbacks.set(eh,ep);let ef=this.instances.get(eh);return ef&&er(ef,eh),()=>{ep.delete(er)}}invokeOnInitCallbacks(er,eo){let ec=this.onInitCallbacks.get(eo);if(ec)for(let eh of ec)try{eh(er,eo)}catch(er){}}getOrInitializeService({instanceIdentifier:er,options:eo={}}){let ec=this.instances.get(er);if(!ec&&this.component&&(ec=this.component.instanceFactory(this.container,{instanceIdentifier:er===ep?void 0:er,options:eo}),this.instances.set(er,ec),this.instancesOptions.set(er,eo),this.invokeOnInitCallbacks(ec,er),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,er,ec)}catch(er){}return ec||null}normalizeInstanceIdentifier(er=ep){return this.component?this.component.multipleInstances?er:ep:er}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ComponentContainer=class ComponentContainer{constructor(er){this.name=er,this.providers=new Map}addComponent(er){let eo=this.getProvider(er.name);if(eo.isComponentSet())throw Error(`Component ${er.name} has already been registered with ${this.name}`);eo.setComponent(er)}addOrOverwriteComponent(er){let eo=this.getProvider(er.name);eo.isComponentSet()&&this.providers.delete(er.name),this.addComponent(er)}getProvider(er){if(this.providers.has(er))return this.providers.get(er);let eo=new Provider(er,this);return this.providers.set(er,eo),eo}getProviders(){return Array.from(this.providers.values())}}},53333:function(er,eo,ec){"use strict";var eh,ep;ec.d(eo,{Yd:function(){return Logger},in:function(){return eh}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ef=[];(ep=eh||(eh={}))[ep.DEBUG=0]="DEBUG",ep[ep.VERBOSE=1]="VERBOSE",ep[ep.INFO=2]="INFO",ep[ep.WARN=3]="WARN",ep[ep.ERROR=4]="ERROR",ep[ep.SILENT=5]="SILENT";let eg={debug:eh.DEBUG,verbose:eh.VERBOSE,info:eh.INFO,warn:eh.WARN,error:eh.ERROR,silent:eh.SILENT},em=eh.INFO,ey={[eh.DEBUG]:"log",[eh.VERBOSE]:"log",[eh.INFO]:"info",[eh.WARN]:"warn",[eh.ERROR]:"error"},defaultLogHandler=(er,eo,...ec)=>{if(eo<er.logLevel)return;let eh=new Date().toISOString(),ep=ey[eo];if(ep)console[ep](`[${eh}]  ${er.name}:`,...ec);else throw Error(`Attempted to log a message with an invalid logType (value: ${eo})`)};let Logger=class Logger{constructor(er){this.name=er,this._logLevel=em,this._logHandler=defaultLogHandler,this._userLogHandler=null,ef.push(this)}get logLevel(){return this._logLevel}set logLevel(er){if(!(er in eh))throw TypeError(`Invalid value "${er}" assigned to \`logLevel\``);this._logLevel=er}setLogLevel(er){this._logLevel="string"==typeof er?eg[er]:er}get logHandler(){return this._logHandler}set logHandler(er){if("function"!=typeof er)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=er}get userLogHandler(){return this._userLogHandler}set userLogHandler(er){this._userLogHandler=er}debug(...er){this._userLogHandler&&this._userLogHandler(this,eh.DEBUG,...er),this._logHandler(this,eh.DEBUG,...er)}log(...er){this._userLogHandler&&this._userLogHandler(this,eh.VERBOSE,...er),this._logHandler(this,eh.VERBOSE,...er)}info(...er){this._userLogHandler&&this._userLogHandler(this,eh.INFO,...er),this._logHandler(this,eh.INFO,...er)}warn(...er){this._userLogHandler&&this._userLogHandler(this,eh.WARN,...er),this._logHandler(this,eh.WARN,...er)}error(...er){this._userLogHandler&&this._userLogHandler(this,eh.ERROR,...er),this._logHandler(this,eh.ERROR,...er)}}},82729:function(er,eo,ec){"use strict";function _tagged_template_literal(er,eo){return eo||(eo=er.slice(0)),Object.freeze(Object.defineProperties(er,{raw:{value:Object.freeze(eo)}}))}ec.d(eo,{_:function(){return _tagged_template_literal}})},98887:function(er,eo,ec){"use strict";let eh,ep,ef,eg,em,ey;ec.r(eo),ec.d(eo,{getAnalytics:function(){return getAnalytics},getGoogleAnalyticsClientId:function(){return getGoogleAnalyticsClientId},initializeAnalytics:function(){return initializeAnalytics},isSupported:function(){return isSupported},logEvent:function(){return logEvent},setAnalyticsCollectionEnabled:function(){return setAnalyticsCollectionEnabled},setConsent:function(){return setConsent},setCurrentScreen:function(){return setCurrentScreen},setDefaultEventParameters:function(){return setDefaultEventParameters},setUserId:function(){return setUserId},setUserProperties:function(){return setUserProperties},settings:function(){return settings}});var ev,e_=ec(25816),ew=ec(53333),ex=ec(74444),ek=ec(8463);let instanceOfAny=(er,eo)=>eo.some(eo=>er instanceof eo),eS=new WeakMap,eC=new WeakMap,eI=new WeakMap,eE=new WeakMap,eT=new WeakMap,eN={get(er,eo,ec){if(er instanceof IDBTransaction){if("done"===eo)return eC.get(er);if("objectStoreNames"===eo)return er.objectStoreNames||eI.get(er);if("store"===eo)return ec.objectStoreNames[1]?void 0:ec.objectStore(ec.objectStoreNames[0])}return wrap_idb_value_wrap(er[eo])},set:(er,eo,ec)=>(er[eo]=ec,!0),has:(er,eo)=>er instanceof IDBTransaction&&("done"===eo||"store"===eo)||eo in er};function wrap_idb_value_wrap(er){var eo;if(er instanceof IDBRequest)return function(er){let eo=new Promise((eo,ec)=>{let unlisten=()=>{er.removeEventListener("success",success),er.removeEventListener("error",error)},success=()=>{eo(wrap_idb_value_wrap(er.result)),unlisten()},error=()=>{ec(er.error),unlisten()};er.addEventListener("success",success),er.addEventListener("error",error)});return eo.then(eo=>{eo instanceof IDBCursor&&eS.set(eo,er)}).catch(()=>{}),eT.set(eo,er),eo}(er);if(eE.has(er))return eE.get(er);let ec="function"==typeof(eo=er)?eo!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ep||(ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(eo)?function(...er){return eo.apply(unwrap(this),er),wrap_idb_value_wrap(eS.get(this))}:function(...er){return wrap_idb_value_wrap(eo.apply(unwrap(this),er))}:function(er,...ec){let eh=eo.call(unwrap(this),er,...ec);return eI.set(eh,er.sort?er.sort():[er]),wrap_idb_value_wrap(eh)}:(eo instanceof IDBTransaction&&function(er){if(eC.has(er))return;let eo=new Promise((eo,ec)=>{let unlisten=()=>{er.removeEventListener("complete",complete),er.removeEventListener("error",error),er.removeEventListener("abort",error)},complete=()=>{eo(),unlisten()},error=()=>{ec(er.error||new DOMException("AbortError","AbortError")),unlisten()};er.addEventListener("complete",complete),er.addEventListener("error",error),er.addEventListener("abort",error)});eC.set(er,eo)}(eo),instanceOfAny(eo,eh||(eh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(eo,eN):eo;return ec!==er&&(eE.set(er,ec),eT.set(ec,er)),ec}let unwrap=er=>eT.get(er),eA=["get","getKey","getAll","getAllKeys","count"],eO=["put","add","delete","clear"],eP=new Map;function getMethod(er,eo){if(!(er instanceof IDBDatabase&&!(eo in er)&&"string"==typeof eo))return;if(eP.get(eo))return eP.get(eo);let ec=eo.replace(/FromIndex$/,""),eh=eo!==ec,ep=eO.includes(ec);if(!(ec in(eh?IDBIndex:IDBObjectStore).prototype)||!(ep||eA.includes(ec)))return;let method=async function(er,...eo){let ef=this.transaction(er,ep?"readwrite":"readonly"),eg=ef.store;return eh&&(eg=eg.index(eo.shift())),(await Promise.all([eg[ec](...eo),ep&&ef.done]))[0]};return eP.set(eo,method),method}eN={...ev=eN,get:(er,eo,ec)=>getMethod(er,eo)||ev.get(er,eo,ec),has:(er,eo)=>!!getMethod(er,eo)||ev.has(er,eo)};let eM="@firebase/installations",eR="0.6.4",eD=`w:${eR}`,ej="FIS_v2",eL=new ex.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function isServerError(er){return er instanceof ex.ZR&&er.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getInstallationsEndpoint({projectId:er}){return`https://firebaseinstallations.googleapis.com/v1/projects/${er}/installations`}function extractAuthTokenInfoFromResponse(er){return{token:er.token,requestStatus:2,expiresIn:Number(er.expiresIn.replace("s","000")),creationTime:Date.now()}}async function getErrorFromResponse(er,eo){let ec=await eo.json(),eh=ec.error;return eL.create("request-failed",{requestName:er,serverCode:eh.code,serverMessage:eh.message,serverStatus:eh.status})}function getHeaders({apiKey:er}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":er})}async function retryIfServerError(er){let eo=await er();return eo.status>=500&&eo.status<600?er():eo}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createInstallationRequest({appConfig:er,heartbeatServiceProvider:eo},{fid:ec}){let eh=getInstallationsEndpoint(er),ep=getHeaders(er),ef=eo.getImmediate({optional:!0});if(ef){let er=await ef.getHeartbeatsHeader();er&&ep.append("x-firebase-client",er)}let eg={fid:ec,authVersion:ej,appId:er.appId,sdkVersion:eD},em={method:"POST",headers:ep,body:JSON.stringify(eg)},ey=await retryIfServerError(()=>fetch(eh,em));if(ey.ok){let er=await ey.json(),eo={fid:er.fid||ec,registrationStatus:2,refreshToken:er.refreshToken,authToken:extractAuthTokenInfoFromResponse(er.authToken)};return eo}throw await getErrorFromResponse("Create Installation",ey)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sleep(er){return new Promise(eo=>{setTimeout(eo,er)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eU=/^[cdef][\w-]{21}$/;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getKey(er){return`${er.appName}!${er.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eF=new Map;function fidChanged(er,eo){let ec=getKey(er);callFidChangeCallbacks(ec,eo),function(er,eo){let ec=(!eV&&"BroadcastChannel"in self&&((eV=new BroadcastChannel("[Firebase] FID Change")).onmessage=er=>{callFidChangeCallbacks(er.data.key,er.data.fid)}),eV);ec&&ec.postMessage({key:er,fid:eo}),0===eF.size&&eV&&(eV.close(),eV=null)}(ec,eo)}function callFidChangeCallbacks(er,eo){let ec=eF.get(er);if(ec)for(let er of ec)er(eo)}let eV=null,eH="firebase-installations-store",eB=null;function getDbPromise(){return eB||(eB=function(er,eo,{blocked:ec,upgrade:eh,blocking:ep,terminated:ef}={}){let eg=indexedDB.open(er,1),em=wrap_idb_value_wrap(eg);return eh&&eg.addEventListener("upgradeneeded",er=>{eh(wrap_idb_value_wrap(eg.result),er.oldVersion,er.newVersion,wrap_idb_value_wrap(eg.transaction))}),ec&&eg.addEventListener("blocked",()=>ec()),em.then(er=>{ef&&er.addEventListener("close",()=>ef()),ep&&er.addEventListener("versionchange",()=>ep())}).catch(()=>{}),em}("firebase-installations-database",0,{upgrade:(er,eo)=>{0===eo&&er.createObjectStore(eH)}})),eB}async function set(er,eo){let ec=getKey(er),eh=await getDbPromise(),ep=eh.transaction(eH,"readwrite"),ef=ep.objectStore(eH),eg=await ef.get(ec);return await ef.put(eo,ec),await ep.done,eg&&eg.fid===eo.fid||fidChanged(er,eo.fid),eo}async function remove(er){let eo=getKey(er),ec=await getDbPromise(),eh=ec.transaction(eH,"readwrite");await eh.objectStore(eH).delete(eo),await eh.done}async function update(er,eo){let ec=getKey(er),eh=await getDbPromise(),ep=eh.transaction(eH,"readwrite"),ef=ep.objectStore(eH),eg=await ef.get(ec),em=eo(eg);return void 0===em?await ef.delete(ec):await ef.put(em,ec),await ep.done,em&&(!eg||eg.fid!==em.fid)&&fidChanged(er,em.fid),em}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getInstallationEntry(er){let eo;let ec=await update(er.appConfig,ec=>{let eh=function(er){let eo=er||{fid:function(){try{let er=new Uint8Array(17),eo=self.crypto||self.msCrypto;eo.getRandomValues(er),er[0]=112+er[0]%16;let ec=function(er){let eo=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){let eo=btoa(String.fromCharCode(...er));return eo.replace(/\+/g,"-").replace(/\//g,"_")}(er);return eo.substr(0,22)}(er);return eU.test(ec)?ec:""}catch(er){return""}}(),registrationStatus:0};return clearTimedOutRequest(eo)}(ec),ep=function(er,eo){if(0===eo.registrationStatus){if(!navigator.onLine){let er=Promise.reject(eL.create("app-offline"));return{installationEntry:eo,registrationPromise:er}}let ec={fid:eo.fid,registrationStatus:1,registrationTime:Date.now()},eh=registerInstallation(er,ec);return{installationEntry:ec,registrationPromise:eh}}return 1===eo.registrationStatus?{installationEntry:eo,registrationPromise:waitUntilFidRegistration(er)}:{installationEntry:eo}}(er,eh);return eo=ep.registrationPromise,ep.installationEntry});return""===ec.fid?{installationEntry:await eo}:{installationEntry:ec,registrationPromise:eo}}async function registerInstallation(er,eo){try{let ec=await createInstallationRequest(er,eo);return set(er.appConfig,ec)}catch(ec){throw isServerError(ec)&&409===ec.customData.serverCode?await remove(er.appConfig):await set(er.appConfig,{fid:eo.fid,registrationStatus:0}),ec}}async function waitUntilFidRegistration(er){let eo=await updateInstallationRequest(er.appConfig);for(;1===eo.registrationStatus;)await sleep(100),eo=await updateInstallationRequest(er.appConfig);if(0===eo.registrationStatus){let{installationEntry:eo,registrationPromise:ec}=await getInstallationEntry(er);return ec||eo}return eo}function updateInstallationRequest(er){return update(er,er=>{if(!er)throw eL.create("installation-not-found");return clearTimedOutRequest(er)})}function clearTimedOutRequest(er){return 1===er.registrationStatus&&er.registrationTime+1e4<Date.now()?{fid:er.fid,registrationStatus:0}:er}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function generateAuthTokenRequest({appConfig:er,heartbeatServiceProvider:eo},ec){let eh=function(er,{fid:eo}){return`${getInstallationsEndpoint(er)}/${eo}/authTokens:generate`}(er,ec),ep=function(er,{refreshToken:eo}){let ec=getHeaders(er);return ec.append("Authorization",`${ej} ${eo}`),ec}(er,ec),ef=eo.getImmediate({optional:!0});if(ef){let er=await ef.getHeartbeatsHeader();er&&ep.append("x-firebase-client",er)}let eg={installation:{sdkVersion:eD,appId:er.appId}},em={method:"POST",headers:ep,body:JSON.stringify(eg)},ey=await retryIfServerError(()=>fetch(eh,em));if(ey.ok){let er=await ey.json(),eo=extractAuthTokenInfoFromResponse(er);return eo}throw await getErrorFromResponse("Generate Auth Token",ey)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function refreshAuthToken(er,eo=!1){let ec;let eh=await update(er.appConfig,eh=>{var ep;if(!isEntryRegistered(eh))throw eL.create("not-registered");let ef=eh.authToken;if(!eo&&2===(ep=ef).requestStatus&&!function(er){let eo=Date.now();return eo<er.creationTime||er.creationTime+er.expiresIn<eo+36e5}(ep))return eh;if(1===ef.requestStatus)return ec=waitUntilAuthTokenRequest(er,eo),eh;{if(!navigator.onLine)throw eL.create("app-offline");let eo=function(er){let eo={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},er),{authToken:eo})}(eh);return ec=fetchAuthTokenFromServer(er,eo),eo}}),ep=ec?await ec:eh.authToken;return ep}async function waitUntilAuthTokenRequest(er,eo){let ec=await updateAuthTokenRequest(er.appConfig);for(;1===ec.authToken.requestStatus;)await sleep(100),ec=await updateAuthTokenRequest(er.appConfig);let eh=ec.authToken;return 0===eh.requestStatus?refreshAuthToken(er,eo):eh}function updateAuthTokenRequest(er){return update(er,er=>{if(!isEntryRegistered(er))throw eL.create("not-registered");let eo=er.authToken;return 1===eo.requestStatus&&eo.requestTime+1e4<Date.now()?Object.assign(Object.assign({},er),{authToken:{requestStatus:0}}):er})}async function fetchAuthTokenFromServer(er,eo){try{let ec=await generateAuthTokenRequest(er,eo),eh=Object.assign(Object.assign({},eo),{authToken:ec});return await set(er.appConfig,eh),ec}catch(ec){if(isServerError(ec)&&(401===ec.customData.serverCode||404===ec.customData.serverCode))await remove(er.appConfig);else{let ec=Object.assign(Object.assign({},eo),{authToken:{requestStatus:0}});await set(er.appConfig,ec)}throw ec}}function isEntryRegistered(er){return void 0!==er&&2===er.registrationStatus}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getId(er){let{installationEntry:eo,registrationPromise:ec}=await getInstallationEntry(er);return ec?ec.catch(console.error):refreshAuthToken(er).catch(console.error),eo.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function getToken(er,eo=!1){await completeInstallationRegistration(er);let ec=await refreshAuthToken(er,eo);return ec.token}async function completeInstallationRegistration(er){let{registrationPromise:eo}=await getInstallationEntry(er);eo&&await eo}function getMissingValueError(er){return eL.create("missing-app-config-values",{valueName:er})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eq="installations";(0,e_.Xd)(new ek.wA(eq,er=>{let eo=er.getProvider("app").getImmediate(),ec=/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){if(!er||!er.options)throw getMissingValueError("App Configuration");if(!er.name)throw getMissingValueError("App Name");for(let eo of["projectId","apiKey","appId"])if(!er.options[eo])throw getMissingValueError(eo);return{appName:er.name,projectId:er.options.projectId,apiKey:er.options.apiKey,appId:er.options.appId}}(eo),eh=(0,e_.qX)(eo,"heartbeat");return{app:eo,appConfig:ec,heartbeatServiceProvider:eh,_delete:()=>Promise.resolve()}},"PUBLIC")),(0,e_.Xd)(new ek.wA("installations-internal",er=>{let eo=er.getProvider("app").getImmediate(),ec=(0,e_.qX)(eo,eq).getImmediate();return{getId:()=>getId(ec),getToken:er=>getToken(ec,er)}},"PRIVATE")),(0,e_.KN)(eM,eR),(0,e_.KN)(eM,eR,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ez="analytics",eW="https://www.googletagmanager.com/gtag/js",e$=new ew.Yd("@firebase/analytics"),eG=new ex.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createGtagTrustedTypesScriptURL(er){if(!er.startsWith(eW)){let eo=eG.create("invalid-gtag-resource",{gtagURL:er});return e$.warn(eo.message),""}return er}function promiseAllSettled(er){return Promise.all(er.map(er=>er.catch(er=>er)))}async function gtagOnConfig(er,eo,ec,eh,ep,ef){let eg=eh[ep];try{if(eg)await eo[eg];else{let er=await promiseAllSettled(ec),eh=er.find(er=>er.measurementId===ep);eh&&await eo[eh.appId]}}catch(er){e$.error(er)}er("config",ep,ef)}async function gtagOnEvent(er,eo,ec,eh,ep){try{let ef=[];if(ep&&ep.send_to){let er=ep.send_to;Array.isArray(er)||(er=[er]);let eh=await promiseAllSettled(ec);for(let ec of er){let er=eh.find(er=>er.measurementId===ec),ep=er&&eo[er.appId];if(ep)ef.push(ep);else{ef=[];break}}}0===ef.length&&(ef=Object.values(eo)),await Promise.all(ef),er("event",eh,ep||{})}catch(er){e$.error(er)}}let eK=new class{constructor(er={},eo=1e3){this.throttleMetadata=er,this.intervalMillis=eo}getThrottleMetadata(er){return this.throttleMetadata[er]}setThrottleMetadata(er,eo){this.throttleMetadata[er]=eo}deleteThrottleMetadata(er){delete this.throttleMetadata[er]}};async function fetchDynamicConfig(er){var eo;let{appId:ec,apiKey:eh}=er,ep={method:"GET",headers:new Headers({Accept:"application/json","x-goog-api-key":eh})},ef="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",ec),eg=await fetch(ef,ep);if(200!==eg.status&&304!==eg.status){let er="";try{let ec=await eg.json();(null===(eo=ec.error)||void 0===eo?void 0:eo.message)&&(er=ec.error.message)}catch(er){}throw eG.create("config-fetch-failed",{httpStatus:eg.status,responseMessage:er})}return eg.json()}async function fetchDynamicConfigWithRetry(er,eo=eK,ec){let{appId:eh,apiKey:ep,measurementId:ef}=er.options;if(!eh)throw eG.create("no-app-id");if(!ep){if(ef)return{measurementId:ef,appId:eh};throw eG.create("no-api-key")}let eg=eo.getThrottleMetadata(eh)||{backoffCount:0,throttleEndTimeMillis:Date.now()},em=new AnalyticsAbortSignal;return setTimeout(async()=>{em.abort()},void 0!==ec?ec:6e4),attemptFetchDynamicConfigWithRetry({appId:eh,apiKey:ep,measurementId:ef},eg,em,eo)}async function attemptFetchDynamicConfigWithRetry(er,{throttleEndTimeMillis:eo,backoffCount:ec},eh,ep=eK){var ef;let{appId:eg,measurementId:em}=er;try{await new Promise((er,ec)=>{let ep=Math.max(eo-Date.now(),0),ef=setTimeout(er,ep);eh.addEventListener(()=>{clearTimeout(ef),ec(eG.create("fetch-throttle",{throttleEndTimeMillis:eo}))})})}catch(er){if(em)return e$.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${em} provided in the "measurementId" field in the local Firebase config. [${null==er?void 0:er.message}]`),{appId:eg,measurementId:em};throw er}try{let eo=await fetchDynamicConfig(er);return ep.deleteThrottleMetadata(eg),eo}catch(ev){if(!function(er){if(!(er instanceof ex.ZR)||!er.customData)return!1;let eo=Number(er.customData.httpStatus);return 429===eo||500===eo||503===eo||504===eo}(ev)){if(ep.deleteThrottleMetadata(eg),em)return e$.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${em} provided in the "measurementId" field in the local Firebase config. [${null==ev?void 0:ev.message}]`),{appId:eg,measurementId:em};throw ev}let eo=503===Number(null===(ef=null==ev?void 0:ev.customData)||void 0===ef?void 0:ef.httpStatus)?(0,ex.$s)(ec,ep.intervalMillis,30):(0,ex.$s)(ec,ep.intervalMillis),ey={throttleEndTimeMillis:Date.now()+eo,backoffCount:ec+1};return ep.setThrottleMetadata(eg,ey),e$.debug(`Calling attemptFetch again in ${eo} millis`),attemptFetchDynamicConfigWithRetry(er,ey,eh,ep)}}let AnalyticsAbortSignal=class AnalyticsAbortSignal{constructor(){this.listeners=[]}addEventListener(er){this.listeners.push(er)}abort(){this.listeners.forEach(er=>er())}};async function logEvent$1(er,eo,ec,eh,ep){if(ep&&ep.global){er("event",ec,eh);return}{let ep=await eo,ef=Object.assign(Object.assign({},eh),{send_to:ep});er("event",ec,ef)}}async function setCurrentScreen$1(er,eo,ec,eh){if(eh&&eh.global)return er("set",{screen_name:ec}),Promise.resolve();{let eh=await eo;er("config",eh,{update:!0,screen_name:ec})}}async function setUserId$1(er,eo,ec,eh){if(eh&&eh.global)return er("set",{user_id:ec}),Promise.resolve();{let eh=await eo;er("config",eh,{update:!0,user_id:ec})}}async function setUserProperties$1(er,eo,ec,eh){if(eh&&eh.global){let eo={};for(let er of Object.keys(ec))eo[`user_properties.${er}`]=ec[er];return er("set",eo),Promise.resolve()}{let eh=await eo;er("config",eh,{update:!0,user_properties:ec})}}async function internalGetGoogleAnalyticsClientId(er,eo){let ec=await eo;return new Promise((eo,eh)=>{er("get",ec,"client_id",er=>{er||eh(eG.create("no-client-id")),eo(er)})})}async function setAnalyticsCollectionEnabled$1(er,eo){let ec=await er;window[`ga-disable-${ec}`]=!eo}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function validateIndexedDB(){if(!(0,ex.hl)())return e$.warn(eG.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await (0,ex.eu)()}catch(er){return e$.warn(eG.create("indexeddb-unavailable",{errorInfo:null==er?void 0:er.toString()}).message),!1}return!0}async function _initializeAnalytics(er,eo,ec,eh,ep,em,ey){var ev;let e_=fetchDynamicConfigWithRetry(er);e_.then(eo=>{ec[eo.measurementId]=eo.appId,er.options.measurementId&&eo.measurementId!==er.options.measurementId&&e$.warn(`The measurement ID in the local Firebase config (${er.options.measurementId}) does not match the measurement ID fetched from the server (${eo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(er=>e$.error(er)),eo.push(e_);let ew=validateIndexedDB().then(er=>er?eh.getId():void 0),[ex,ek]=await Promise.all([e_,ew]);!function(er){let eo=window.document.getElementsByTagName("script");for(let ec of Object.values(eo))if(ec.src&&ec.src.includes(eW)&&ec.src.includes(er))return ec;return null}(em)&&function(er,eo){let ec;let eh=(window.trustedTypes&&(ec=window.trustedTypes.createPolicy("firebase-js-sdk-policy",{createScriptURL:createGtagTrustedTypesScriptURL})),ec),ep=document.createElement("script"),ef=`${eW}?l=${er}&id=${eo}`;ep.src=eh?null==eh?void 0:eh.createScriptURL(ef):ef,ep.async=!0,document.head.appendChild(ep)}(em,ex.measurementId),eg&&(ep("consent","default",eg),eg=void 0),ep("js",new Date);let eS=null!==(ev=null==ey?void 0:ey.config)&&void 0!==ev?ev:{};return eS.origin="firebase",eS.update=!0,null!=ek&&(eS.firebase_id=ek),ep("config",ex.measurementId,eS),ef&&(ep("set",ef),ef=void 0),ex.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AnalyticsService=class AnalyticsService{constructor(er){this.app=er}_delete(){return delete eZ[this.app.options.appId],Promise.resolve()}};let eZ={},eJ=[],eQ={},eX="dataLayer",eY="gtag",e0=!1;function settings(er){if(e0)throw eG.create("already-initialized");er.dataLayerName&&(eX=er.dataLayerName),er.gtagName&&(eY=er.gtagName)}function getAnalytics(er=(0,e_.Mq)()){er=(0,ex.m9)(er);let eo=(0,e_.qX)(er,ez);return eo.isInitialized()?eo.getImmediate():initializeAnalytics(er)}function initializeAnalytics(er,eo={}){let ec=(0,e_.qX)(er,ez);if(ec.isInitialized()){let er=ec.getImmediate();if((0,ex.vZ)(eo,ec.getOptions()))return er;throw eG.create("already-initialized")}let eh=ec.initialize({options:eo});return eh}async function isSupported(){if((0,ex.ru)()||!(0,ex.zI)()||!(0,ex.hl)())return!1;try{let er=await (0,ex.eu)();return er}catch(er){return!1}}function setCurrentScreen(er,eo,ec){er=(0,ex.m9)(er),setCurrentScreen$1(ey,eZ[er.app.options.appId],eo,ec).catch(er=>e$.error(er))}async function getGoogleAnalyticsClientId(er){return er=(0,ex.m9)(er),internalGetGoogleAnalyticsClientId(ey,eZ[er.app.options.appId])}function setUserId(er,eo,ec){er=(0,ex.m9)(er),setUserId$1(ey,eZ[er.app.options.appId],eo,ec).catch(er=>e$.error(er))}function setUserProperties(er,eo,ec){er=(0,ex.m9)(er),setUserProperties$1(ey,eZ[er.app.options.appId],eo,ec).catch(er=>e$.error(er))}function setAnalyticsCollectionEnabled(er,eo){setAnalyticsCollectionEnabled$1(eZ[(er=(0,ex.m9)(er)).app.options.appId],eo).catch(er=>e$.error(er))}function setDefaultEventParameters(er){ey?ey("set",er):ef=er}function logEvent(er,eo,ec,eh){er=(0,ex.m9)(er),logEvent$1(ey,eZ[er.app.options.appId],eo,ec,eh).catch(er=>e$.error(er))}function setConsent(er){ey?ey("consent","update",er):eg=er}let e1="@firebase/analytics",e2="0.10.0";(0,e_.Xd)(new ek.wA(ez,(er,{options:eo})=>{let ec=er.getProvider("app").getImmediate(),eh=er.getProvider("installations-internal").getImmediate();return function(er,eo,ec){!function(){let er=[];if((0,ex.ru)()&&er.push("This is a browser extension environment."),(0,ex.zI)()||er.push("Cookies are not available."),er.length>0){let eo=er.map((er,eo)=>`(${eo+1}) ${er}`).join(" "),ec=eG.create("invalid-analytics-context",{errorInfo:eo});e$.warn(ec.message)}}();let eh=er.options.appId;if(!eh)throw eG.create("no-app-id");if(!er.options.apiKey){if(er.options.measurementId)e$.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${er.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw eG.create("no-api-key")}if(null!=eZ[eh])throw eG.create("already-exists",{id:eh});if(!e0){var ep,ef,eg,ev;let er,eo;ep=eX,er=[],Array.isArray(window[ep])?er=window[ep]:window[ep]=er;let{wrappedGtag:ec,gtagCore:eh}=(ef=eX,eg=eY,eo=function(...er){window[ef].push(arguments)},window[eg]&&"function"==typeof window[eg]&&(eo=window[eg]),window[eg]=(ev=eo,async function(er,...eo){try{if("event"===er){let[er,ec]=eo;await gtagOnEvent(ev,eZ,eJ,er,ec)}else if("config"===er){let[er,ec]=eo;await gtagOnConfig(ev,eZ,eJ,eQ,er,ec)}else if("consent"===er){let[er]=eo;ev("consent","update",er)}else if("get"===er){let[er,ec,eh]=eo;ev("get",er,ec,eh)}else if("set"===er){let[er]=eo;ev("set",er)}else ev(er,...eo)}catch(er){e$.error(er)}}),{gtagCore:eo,wrappedGtag:window[eg]});ey=ec,em=eh,e0=!0}eZ[eh]=_initializeAnalytics(er,eJ,eQ,eo,em,eX,ec);let e_=new AnalyticsService(er);return e_}(ec,eh,eo)},"PUBLIC")),(0,e_.Xd)(new ek.wA("analytics-internal",function(er){try{let eo=er.getProvider(ez).getImmediate();return{logEvent:(er,ec,eh)=>logEvent(eo,er,ec,eh)}}catch(er){throw eG.create("interop-component-reg-failed",{reason:er})}},"PRIVATE")),(0,e_.KN)(e1,e2),(0,e_.KN)(e1,e2,"esm2017")},79450:function(er,eo,ec){"use strict";ec.d(eo,{kq:function(){return ev},w9:function(){return EmailAuthProvider},GH:function(){return GithubAuthProvider},hJ:function(){return GoogleAuthProvider},c4:function(){return TwitterAuthProvider},Xb:function(){return createUserWithEmailAndPassword},Nr:function(){return fetchSignInMethodsForEmail},gK:function(){return getAdditionalUserInfo},v0:function(){return getAuth},wU:function(){return getIdToken},ag:function(){return getIdTokenResult},Aj:function(){return onAuthStateChanged},MX:function(){return onIdTokenChanged},aF:function(){return reauthenticateWithCredential},w$:function(){return sendEmailVerification},LS:function(){return sendPasswordResetEmail},e5:function(){return signInWithEmailAndPassword},rh:function(){return signInWithPopup},w7:function(){return signOut},s:function(){return updateEmail}});var eh,ep=ec(74444),ef=ec(25816);function __rest(er,eo){var ec={};for(var eh in er)Object.prototype.hasOwnProperty.call(er,eh)&&0>eo.indexOf(eh)&&(ec[eh]=er[eh]);if(null!=er&&"function"==typeof Object.getOwnPropertySymbols)for(var ep=0,eh=Object.getOwnPropertySymbols(er);ep<eh.length;ep++)0>eo.indexOf(eh[ep])&&Object.prototype.propertyIsEnumerable.call(er,eh[ep])&&(ec[eh[ep]]=er[eh[ep]]);return ec}"function"==typeof SuppressedError&&SuppressedError;var eg=ec(53333),em=ec(8463);function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}let ey=new ep.LL("auth","Firebase",_prodErrorMap()),ev={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},e_=new eg.Yd("@firebase/auth");function _logError(er,...eo){e_.logLevel<=eg.in.ERROR&&e_.error(`Auth (${ef.Jn}): ${er}`,...eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(er,...eo){throw createErrorInternal(er,...eo)}function _createError(er,...eo){return createErrorInternal(er,...eo)}function _errorWithCustomMessage(er,eo,ec){let eh=Object.assign(Object.assign({},_prodErrorMap()),{[eo]:ec}),ef=new ep.LL("auth","Firebase",eh);return ef.create(eo,{appName:er.name})}function createErrorInternal(er,...eo){if("string"!=typeof er){let ec=eo[0],eh=[...eo.slice(1)];return eh[0]&&(eh[0].appName=er.name),er._errorFactory.create(ec,...eh)}return ey.create(er,...eo)}function _assert(er,eo,...ec){if(!er)throw createErrorInternal(eo,...ec)}function debugFail(er){let eo="INTERNAL ASSERTION FAILED: "+er;throw _logError(eo),Error(eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var er;return"undefined"!=typeof self&&(null===(er=self.location)||void 0===er?void 0:er.href)||""}function _isHttpOrHttps(){return"http:"===_getCurrentScheme()||"https:"===_getCurrentScheme()}function _getCurrentScheme(){var er;return"undefined"!=typeof self&&(null===(er=self.location)||void 0===er?void 0:er.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Delay=class Delay{constructor(er,eo){this.shortDelay=er,this.longDelay=eo,eo>er||debugFail("Short delay should be less than long delay!"),this.isMobile=(0,ep.uI)()||(0,ep.b$)()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(_isHttpOrHttps()||(0,ep.ru)()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(er,eo){er.emulator||debugFail("Emulator should always be set here");let{url:ec}=er.emulator;return eo?`${ec}${eo.startsWith("/")?eo.slice(1):eo}`:ec}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FetchProvider=class FetchProvider{static initialize(er,eo,ec){this.fetchImpl=er,eo&&(this.headersImpl=eo),ec&&(this.responseImpl=ec)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ew={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ex=new Delay(3e4,6e4);function _addTidIfNecessary(er,eo){return er.tenantId&&!eo.tenantId?Object.assign(Object.assign({},eo),{tenantId:er.tenantId}):eo}async function _performApiRequest(er,eo,ec,eh,ef={}){return _performFetchWithErrorHandling(er,ef,async()=>{let ef={},eg={};eh&&("GET"===eo?eg=eh:ef={body:JSON.stringify(eh)});let em=(0,ep.xO)(Object.assign({key:er.config.apiKey},eg)).slice(1),ey=await er._getAdditionalHeaders();return ey["Content-Type"]="application/json",er.languageCode&&(ey["X-Firebase-Locale"]=er.languageCode),FetchProvider.fetch()(_getFinalTarget(er,er.config.apiHost,ec,em),Object.assign({method:eo,headers:ey,referrerPolicy:"no-referrer"},ef))})}async function _performFetchWithErrorHandling(er,eo,ec){er._canInitEmulator=!1;let eh=Object.assign(Object.assign({},ew),eo);try{let eo=new NetworkTimeout(er),ep=await Promise.race([ec(),eo.promise]);eo.clearNetworkTimeout();let ef=await ep.json();if("needConfirmation"in ef)throw _makeTaggedError(er,"account-exists-with-different-credential",ef);if(ep.ok&&!("errorMessage"in ef))return ef;{let eo=ep.ok?ef.errorMessage:ef.error.message,[ec,eg]=eo.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ec)throw _makeTaggedError(er,"credential-already-in-use",ef);if("EMAIL_EXISTS"===ec)throw _makeTaggedError(er,"email-already-in-use",ef);if("USER_DISABLED"===ec)throw _makeTaggedError(er,"user-disabled",ef);let em=eh[ec]||ec.toLowerCase().replace(/[_\s]+/g,"-");if(eg)throw _errorWithCustomMessage(er,em,eg);_fail(er,em)}}catch(eo){if(eo instanceof ep.ZR)throw eo;_fail(er,"network-request-failed",{message:String(eo)})}}async function _performSignInRequest(er,eo,ec,eh,ep={}){let ef=await _performApiRequest(er,eo,ec,eh,ep);return"mfaPendingCredential"in ef&&_fail(er,"multi-factor-auth-required",{_serverResponse:ef}),ef}function _getFinalTarget(er,eo,ec,eh){let ep=`${eo}${ec}?${eh}`;return er.config.emulator?_emulatorUrl(er.config,ep):`${er.config.apiScheme}://${ep}`}let NetworkTimeout=class NetworkTimeout{constructor(er){this.auth=er,this.timer=null,this.promise=new Promise((er,eo)=>{this.timer=setTimeout(()=>eo(_createError(this.auth,"network-request-failed")),ex.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function _makeTaggedError(er,eo,ec){let eh={appName:er.name};ec.email&&(eh.email=ec.email),ec.phoneNumber&&(eh.phoneNumber=ec.phoneNumber);let ep=_createError(er,eo,eh);return ep.customData._tokenResponse=ec,ep}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(er,eo){return _performApiRequest(er,"POST","/v1/accounts:delete",eo)}async function getAccountInfo(er,eo){return _performApiRequest(er,"POST","/v1/accounts:lookup",eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(er){if(er)try{let eo=new Date(Number(er));if(!isNaN(eo.getTime()))return eo.toUTCString()}catch(er){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getIdToken(er,eo=!1){return(0,ep.m9)(er).getIdToken(eo)}async function getIdTokenResult(er,eo=!1){let ec=(0,ep.m9)(er),eh=await ec.getIdToken(eo),ef=_parseToken(eh);_assert(ef&&ef.exp&&ef.auth_time&&ef.iat,ec.auth,"internal-error");let eg="object"==typeof ef.firebase?ef.firebase:void 0,em=null==eg?void 0:eg.sign_in_provider;return{claims:ef,token:eh,authTime:utcTimestampToDateString(secondsStringToMilliseconds(ef.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(ef.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(ef.exp)),signInProvider:em||null,signInSecondFactor:(null==eg?void 0:eg.sign_in_second_factor)||null}}function secondsStringToMilliseconds(er){return 1e3*Number(er)}function _parseToken(er){let[eo,ec,eh]=er.split(".");if(void 0===eo||void 0===ec||void 0===eh)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{let er=(0,ep.tV)(ec);if(!er)return _logError("Failed to decode base64 JWT payload"),null;return JSON.parse(er)}catch(er){return _logError("Caught error parsing JWT payload as JSON",null==er?void 0:er.toString()),null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(er,eo,ec=!1){if(ec)return eo;try{return await eo}catch(eo){throw eo instanceof ep.ZR&&function({code:er}){return"auth/user-disabled"===er||"auth/user-token-expired"===er}(eo)&&er.auth.currentUser===er&&await er.auth.signOut(),eo}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ProactiveRefresh=class ProactiveRefresh{constructor(er){this.user=er,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(er){var eo;if(er){let er=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),er}{this.errorBackoff=3e4;let er=null!==(eo=this.user.stsTokenManager.expirationTime)&&void 0!==eo?eo:0,ec=er-Date.now()-3e5;return Math.max(0,ec)}}schedule(er=!1){if(!this.isRunning)return;let eo=this.getInterval(er);this.timerId=setTimeout(async()=>{await this.iteration()},eo)}async iteration(){try{await this.user.getIdToken(!0)}catch(er){(null==er?void 0:er.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UserMetadata=class UserMetadata{constructor(er,eo){this.createdAt=er,this.lastLoginAt=eo,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(er){this.createdAt=er.createdAt,this.lastLoginAt=er.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(er){var eo;let ec=er.auth,eh=await er.getIdToken(),ep=await _logoutIfInvalidated(er,getAccountInfo(ec,{idToken:eh}));_assert(null==ep?void 0:ep.users.length,ec,"internal-error");let ef=ep.users[0];er._notifyReloadListener(ef);let eg=(null===(eo=ef.providerUserInfo)||void 0===eo?void 0:eo.length)?ef.providerUserInfo.map(er=>{var{providerId:eo}=er,ec=__rest(er,["providerId"]);return{providerId:eo,uid:ec.rawId||"",displayName:ec.displayName||null,email:ec.email||null,phoneNumber:ec.phoneNumber||null,photoURL:ec.photoUrl||null}}):[],em=function(er,eo){let ec=er.filter(er=>!eo.some(eo=>eo.providerId===er.providerId));return[...ec,...eo]}(er.providerData,eg),ey=er.isAnonymous,ev=!(er.email&&ef.passwordHash)&&!(null==em?void 0:em.length),e_={uid:ef.localId,displayName:ef.displayName||null,photoURL:ef.photoUrl||null,email:ef.email||null,emailVerified:ef.emailVerified||!1,phoneNumber:ef.phoneNumber||null,tenantId:ef.tenantId||null,providerData:em,metadata:new UserMetadata(ef.createdAt,ef.lastLoginAt),isAnonymous:!!ey&&ev};Object.assign(er,e_)}async function reload(er){let eo=(0,ep.m9)(er);await _reloadWithoutSaving(eo),await eo.auth._persistUserIfCurrent(eo),eo.auth._notifyListenersIfCurrent(eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(er,eo){let ec=await _performFetchWithErrorHandling(er,{},async()=>{let ec=(0,ep.xO)({grant_type:"refresh_token",refresh_token:eo}).slice(1),{tokenApiHost:eh,apiKey:ef}=er.config,eg=_getFinalTarget(er,eh,"/v1/token",`key=${ef}`),em=await er._getAdditionalHeaders();return em["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(eg,{method:"POST",headers:em,body:ec})});return{accessToken:ec.access_token,expiresIn:ec.expires_in,refreshToken:ec.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StsTokenManager=class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(er){_assert(er.idToken,"internal-error"),_assert(void 0!==er.idToken,"internal-error"),_assert(void 0!==er.refreshToken,"internal-error");let eo="expiresIn"in er&&void 0!==er.expiresIn?Number(er.expiresIn):function(er){let eo=_parseToken(er);return _assert(eo,"internal-error"),_assert(void 0!==eo.exp,"internal-error"),_assert(void 0!==eo.iat,"internal-error"),Number(eo.exp)-Number(eo.iat)}(er.idToken);this.updateTokensAndExpiration(er.idToken,er.refreshToken,eo)}async getToken(er,eo=!1){return(_assert(!this.accessToken||this.refreshToken,er,"user-token-expired"),eo||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(er,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(er,eo){let{accessToken:ec,refreshToken:eh,expiresIn:ep}=await requestStsToken(er,eo);this.updateTokensAndExpiration(ec,eh,Number(ep))}updateTokensAndExpiration(er,eo,ec){this.refreshToken=eo||null,this.accessToken=er||null,this.expirationTime=Date.now()+1e3*ec}static fromJSON(er,eo){let{refreshToken:ec,accessToken:eh,expirationTime:ep}=eo,ef=new StsTokenManager;return ec&&(_assert("string"==typeof ec,"internal-error",{appName:er}),ef.refreshToken=ec),eh&&(_assert("string"==typeof eh,"internal-error",{appName:er}),ef.accessToken=eh),ep&&(_assert("number"==typeof ep,"internal-error",{appName:er}),ef.expirationTime=ep),ef}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(er){this.accessToken=er.accessToken,this.refreshToken=er.refreshToken,this.expirationTime=er.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(er,eo){_assert("string"==typeof er||void 0===er,"internal-error",{appName:eo})}let UserImpl=class UserImpl{constructor(er){var{uid:eo,auth:ec,stsTokenManager:eh}=er,ep=__rest(er,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=eo,this.auth=ec,this.stsTokenManager=eh,this.accessToken=eh.accessToken,this.displayName=ep.displayName||null,this.email=ep.email||null,this.emailVerified=ep.emailVerified||!1,this.phoneNumber=ep.phoneNumber||null,this.photoURL=ep.photoURL||null,this.isAnonymous=ep.isAnonymous||!1,this.tenantId=ep.tenantId||null,this.providerData=ep.providerData?[...ep.providerData]:[],this.metadata=new UserMetadata(ep.createdAt||void 0,ep.lastLoginAt||void 0)}async getIdToken(er){let eo=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,er));return _assert(eo,this.auth,"internal-error"),this.accessToken!==eo&&(this.accessToken=eo,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),eo}getIdTokenResult(er){return getIdTokenResult(this,er)}reload(){return reload(this)}_assign(er){this!==er&&(_assert(this.uid===er.uid,this.auth,"internal-error"),this.displayName=er.displayName,this.photoURL=er.photoURL,this.email=er.email,this.emailVerified=er.emailVerified,this.phoneNumber=er.phoneNumber,this.isAnonymous=er.isAnonymous,this.tenantId=er.tenantId,this.providerData=er.providerData.map(er=>Object.assign({},er)),this.metadata._copy(er.metadata),this.stsTokenManager._assign(er.stsTokenManager))}_clone(er){let eo=new UserImpl(Object.assign(Object.assign({},this),{auth:er,stsTokenManager:this.stsTokenManager._clone()}));return eo.metadata._copy(this.metadata),eo}_onReload(er){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=er,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(er){this.reloadListener?this.reloadListener(er):this.reloadUserInfo=er}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(er,eo=!1){let ec=!1;er.idToken&&er.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(er),ec=!0),eo&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),ec&&this.auth._notifyListenersIfCurrent(this)}async delete(){let er=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:er})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(er=>Object.assign({},er)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(er,eo){var ec,eh,ep,ef,eg,em,ey,ev;let e_=null!==(ec=eo.displayName)&&void 0!==ec?ec:void 0,ew=null!==(eh=eo.email)&&void 0!==eh?eh:void 0,ex=null!==(ep=eo.phoneNumber)&&void 0!==ep?ep:void 0,ek=null!==(ef=eo.photoURL)&&void 0!==ef?ef:void 0,eS=null!==(eg=eo.tenantId)&&void 0!==eg?eg:void 0,eC=null!==(em=eo._redirectEventId)&&void 0!==em?em:void 0,eI=null!==(ey=eo.createdAt)&&void 0!==ey?ey:void 0,eE=null!==(ev=eo.lastLoginAt)&&void 0!==ev?ev:void 0,{uid:eT,emailVerified:eN,isAnonymous:eA,providerData:eO,stsTokenManager:eP}=eo;_assert(eT&&eP,er,"internal-error");let eM=StsTokenManager.fromJSON(this.name,eP);_assert("string"==typeof eT,er,"internal-error"),assertStringOrUndefined(e_,er.name),assertStringOrUndefined(ew,er.name),_assert("boolean"==typeof eN,er,"internal-error"),_assert("boolean"==typeof eA,er,"internal-error"),assertStringOrUndefined(ex,er.name),assertStringOrUndefined(ek,er.name),assertStringOrUndefined(eS,er.name),assertStringOrUndefined(eC,er.name),assertStringOrUndefined(eI,er.name),assertStringOrUndefined(eE,er.name);let eR=new UserImpl({uid:eT,auth:er,email:ew,emailVerified:eN,displayName:e_,isAnonymous:eA,photoURL:ek,phoneNumber:ex,tenantId:eS,stsTokenManager:eM,createdAt:eI,lastLoginAt:eE});return eO&&Array.isArray(eO)&&(eR.providerData=eO.map(er=>Object.assign({},er))),eC&&(eR._redirectEventId=eC),eR}static async _fromIdTokenResponse(er,eo,ec=!1){let eh=new StsTokenManager;eh.updateFromServerResponse(eo);let ep=new UserImpl({uid:eo.localId,auth:er,stsTokenManager:eh,isAnonymous:ec});return await _reloadWithoutSaving(ep),ep}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ek=new Map;function _getInstance(er){er instanceof Function||debugFail("Expected a class definition");let eo=ek.get(er);return eo?eo instanceof er||debugFail("Instance stored in cache mismatched with class"):(eo=new er,ek.set(er,eo)),eo}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let InMemoryPersistence=class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(er,eo){this.storage[er]=eo}async _get(er){let eo=this.storage[er];return void 0===eo?null:eo}async _remove(er){delete this.storage[er]}_addListener(er,eo){}_removeListener(er,eo){}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(er,eo,ec){return`firebase:${er}:${eo}:${ec}`}InMemoryPersistence.type="NONE";let PersistenceUserManager=class PersistenceUserManager{constructor(er,eo,ec){this.persistence=er,this.auth=eo,this.userKey=ec;let{config:eh,name:ep}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,eh.apiKey,ep),this.fullPersistenceKey=_persistenceKeyName("persistence",eh.apiKey,ep),this.boundEventHandler=eo._onStorageEvent.bind(eo),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(er){return this.persistence._set(this.fullUserKey,er.toJSON())}async getCurrentUser(){let er=await this.persistence._get(this.fullUserKey);return er?UserImpl._fromJSON(this.auth,er):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(er){if(this.persistence===er)return;let eo=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=er,eo)return this.setCurrentUser(eo)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(er,eo,ec="authUser"){if(!eo.length)return new PersistenceUserManager(_getInstance(InMemoryPersistence),er,ec);let eh=(await Promise.all(eo.map(async er=>{if(await er._isAvailable())return er}))).filter(er=>er),ep=eh[0]||_getInstance(InMemoryPersistence),ef=_persistenceKeyName(ec,er.config.apiKey,er.name),eg=null;for(let ec of eo)try{let eo=await ec._get(ef);if(eo){let eh=UserImpl._fromJSON(er,eo);ec!==ep&&(eg=eh),ep=ec;break}}catch(er){}let em=eh.filter(er=>er._shouldAllowMigration);return ep._shouldAllowMigration&&em.length&&(ep=em[0],eg&&await ep._set(ef,eg.toJSON()),await Promise.all(eo.map(async er=>{if(er!==ep)try{await er._remove(ef)}catch(er){}}))),new PersistenceUserManager(ep,er,ec)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(er){let eo=er.toLowerCase();if(eo.includes("opera/")||eo.includes("opr/")||eo.includes("opios/"))return"Opera";if(_isIEMobile(eo))return"IEMobile";if(eo.includes("msie")||eo.includes("trident/"))return"IE";{if(eo.includes("edge/"))return"Edge";if(_isFirefox(eo))return"Firefox";if(eo.includes("silk/"))return"Silk";if(_isBlackBerry(eo))return"Blackberry";if(_isWebOS(eo))return"Webos";if(_isSafari(eo))return"Safari";if((eo.includes("chrome/")||_isChromeIOS(eo))&&!eo.includes("edge/"))return"Chrome";if(_isAndroid(eo))return"Android";let ec=er.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==ec?void 0:ec.length)===2)return ec[1]}return"Other"}function _isFirefox(er=(0,ep.z$)()){return/firefox\//i.test(er)}function _isSafari(er=(0,ep.z$)()){let eo=er.toLowerCase();return eo.includes("safari/")&&!eo.includes("chrome/")&&!eo.includes("crios/")&&!eo.includes("android")}function _isChromeIOS(er=(0,ep.z$)()){return/crios\//i.test(er)}function _isIEMobile(er=(0,ep.z$)()){return/iemobile/i.test(er)}function _isAndroid(er=(0,ep.z$)()){return/android/i.test(er)}function _isBlackBerry(er=(0,ep.z$)()){return/blackberry/i.test(er)}function _isWebOS(er=(0,ep.z$)()){return/webos/i.test(er)}function _isIOS(er=(0,ep.z$)()){return/iphone|ipad|ipod/i.test(er)||/macintosh/i.test(er)&&/mobile/i.test(er)}function _isMobileBrowser(er=(0,ep.z$)()){return _isIOS(er)||_isAndroid(er)||_isWebOS(er)||_isBlackBerry(er)||/windows phone/i.test(er)||_isIEMobile(er)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(er,eo=[]){let ec;switch(er){case"Browser":ec=_getBrowserName((0,ep.z$)());break;case"Worker":ec=`${_getBrowserName((0,ep.z$)())}-${er}`;break;default:ec=er}let eh=eo.length?eo.join(","):"FirebaseCore-web";return`${ec}/JsCore/${ef.Jn}/${eh}`}async function getRecaptchaConfig(er,eo){return _performApiRequest(er,"GET","/v2/recaptchaConfig",_addTidIfNecessary(er,eo))}function isEnterprise(er){return void 0!==er&&void 0!==er.enterprise}let RecaptchaConfig=class RecaptchaConfig{constructor(er){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===er.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=er.recaptchaKey.split("/")[3],this.emailPasswordEnabled=er.recaptchaEnforcementState.some(er=>"EMAIL_PASSWORD_PROVIDER"===er.provider&&"OFF"!==er.enforcementState)}};function _loadJS(er){return new Promise((eo,ec)=>{var eh,ep;let ef=document.createElement("script");ef.setAttribute("src",er),ef.onload=eo,ef.onerror=er=>{let eo=_createError("internal-error");eo.customData=er,ec(eo)},ef.type="text/javascript",ef.charset="UTF-8",(null!==(ep=null===(eh=document.getElementsByTagName("head"))||void 0===eh?void 0:eh[0])&&void 0!==ep?ep:document).appendChild(ef)})}function _generateCallbackName(er){return`__${er}${Math.floor(1e6*Math.random())}`}let RecaptchaEnterpriseVerifier=class RecaptchaEnterpriseVerifier{constructor(er){this.type="recaptcha-enterprise",this.auth=_castAuth(er)}async verify(er="verify",eo=!1){async function retrieveSiteKey(er){if(!eo){if(null==er.tenantId&&null!=er._agentRecaptchaConfig)return er._agentRecaptchaConfig.siteKey;if(null!=er.tenantId&&void 0!==er._tenantRecaptchaConfigs[er.tenantId])return er._tenantRecaptchaConfigs[er.tenantId].siteKey}return new Promise(async(eo,ec)=>{getRecaptchaConfig(er,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(eh=>{if(void 0===eh.recaptchaKey)ec(Error("recaptcha Enterprise site key undefined"));else{let ec=new RecaptchaConfig(eh);return null==er.tenantId?er._agentRecaptchaConfig=ec:er._tenantRecaptchaConfigs[er.tenantId]=ec,eo(ec.siteKey)}}).catch(er=>{ec(er)})})}function retrieveRecaptchaToken(eo,ec,eh){let ep=window.grecaptcha;isEnterprise(ep)?ep.enterprise.ready(()=>{ep.enterprise.execute(eo,{action:er}).then(er=>{ec(er)}).catch(()=>{ec("NO_RECAPTCHA")})}):eh(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((er,ec)=>{retrieveSiteKey(this.auth).then(eh=>{if(!eo&&isEnterprise(window.grecaptcha))retrieveRecaptchaToken(eh,er,ec);else{if("undefined"==typeof window){ec(Error("RecaptchaVerifier is only supported in browser"));return}_loadJS("https://www.google.com/recaptcha/enterprise.js?render="+eh).then(()=>{retrieveRecaptchaToken(eh,er,ec)}).catch(er=>{ec(er)})}}).catch(er=>{ec(er)})})}};async function injectRecaptchaFields(er,eo,ec,eh=!1){let ep;let ef=new RecaptchaEnterpriseVerifier(er);try{ep=await ef.verify(ec)}catch(er){ep=await ef.verify(ec,!0)}let eg=Object.assign({},eo);return eh?Object.assign(eg,{captchaResp:ep}):Object.assign(eg,{captchaResponse:ep}),Object.assign(eg,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(eg,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),eg}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthMiddlewareQueue=class AuthMiddlewareQueue{constructor(er){this.auth=er,this.queue=[]}pushCallback(er,eo){let wrappedCallback=eo=>new Promise((ec,eh)=>{try{let eh=er(eo);ec(eh)}catch(er){eh(er)}});wrappedCallback.onAbort=eo,this.queue.push(wrappedCallback);let ec=this.queue.length-1;return()=>{this.queue[ec]=()=>Promise.resolve()}}async runMiddleware(er){if(this.auth.currentUser===er)return;let eo=[];try{for(let ec of this.queue)await ec(er),ec.onAbort&&eo.push(ec.onAbort)}catch(er){for(let er of(eo.reverse(),eo))try{er()}catch(er){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==er?void 0:er.message})}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthImpl=class AuthImpl{constructor(er,eo,ec,eh){this.app=er,this.heartbeatServiceProvider=eo,this.appCheckServiceProvider=ec,this.config=eh,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ey,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=er.name,this.clientVersion=eh.sdkClientVersion}_initializeWithPersistence(er,eo){return eo&&(this._popupRedirectResolver=_getInstance(eo)),this._initializationPromise=this.queue(async()=>{var ec,eh;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,er),!this._deleted)){if(null===(ec=this._popupRedirectResolver)||void 0===ec?void 0:ec._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(er){}await this.initializeCurrentUser(eo),this.lastNotifiedUid=(null===(eh=this.currentUser)||void 0===eh?void 0:eh.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let er=await this.assertedPersistence.getCurrentUser();if(this.currentUser||er){if(this.currentUser&&er&&this.currentUser.uid===er.uid){this._currentUser._assign(er),await this.currentUser.getIdToken();return}await this._updateCurrentUser(er,!0)}}async initializeCurrentUser(er){var eo;let ec=await this.assertedPersistence.getCurrentUser(),eh=ec,ep=!1;if(er&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let ec=null===(eo=this.redirectUser)||void 0===eo?void 0:eo._redirectEventId,ef=null==eh?void 0:eh._redirectEventId,eg=await this.tryRedirectSignIn(er);(!ec||ec===ef)&&(null==eg?void 0:eg.user)&&(eh=eg.user,ep=!0)}if(!eh)return this.directlySetCurrentUser(null);if(!eh._redirectEventId){if(ep)try{await this.beforeStateQueue.runMiddleware(eh)}catch(er){eh=ec,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(er))}return eh?this.reloadAndSetCurrentUserOrClear(eh):this.directlySetCurrentUser(null)}return(_assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===eh._redirectEventId)?this.directlySetCurrentUser(eh):this.reloadAndSetCurrentUserOrClear(eh)}async tryRedirectSignIn(er){let eo=null;try{eo=await this._popupRedirectResolver._completeRedirectFn(this,er,!0)}catch(er){await this._setRedirectUser(null)}return eo}async reloadAndSetCurrentUserOrClear(er){try{await _reloadWithoutSaving(er)}catch(er){if((null==er?void 0:er.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(er)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let er=navigator;return er.languages&&er.languages[0]||er.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(er){let eo=er?(0,ep.m9)(er):null;return eo&&_assert(eo.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(eo&&eo._clone(this))}async _updateCurrentUser(er,eo=!1){if(!this._deleted)return er&&_assert(this.tenantId===er.tenantId,this,"tenant-id-mismatch"),eo||await this.beforeStateQueue.runMiddleware(er),this.queue(async()=>{await this.directlySetCurrentUser(er),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(er){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(er))})}async initializeRecaptchaConfig(){let er=await getRecaptchaConfig(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),eo=new RecaptchaConfig(er);if(null==this.tenantId?this._agentRecaptchaConfig=eo:this._tenantRecaptchaConfigs[this.tenantId]=eo,eo.emailPasswordEnabled){let er=new RecaptchaEnterpriseVerifier(this);er.verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(er){this._errorFactory=new ep.LL("auth","Firebase",er())}onAuthStateChanged(er,eo,ec){return this.registerStateListener(this.authStateSubscription,er,eo,ec)}beforeAuthStateChanged(er,eo){return this.beforeStateQueue.pushCallback(er,eo)}onIdTokenChanged(er,eo,ec){return this.registerStateListener(this.idTokenSubscription,er,eo,ec)}toJSON(){var er;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(er=this._currentUser)||void 0===er?void 0:er.toJSON()}}async _setRedirectUser(er,eo){let ec=await this.getOrInitRedirectPersistenceManager(eo);return null===er?ec.removeCurrentUser():ec.setCurrentUser(er)}async getOrInitRedirectPersistenceManager(er){if(!this.redirectPersistenceManager){let eo=er&&_getInstance(er)||this._popupRedirectResolver;_assert(eo,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(eo._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(er){var eo,ec;return(this._isInitialized&&await this.queue(async()=>{}),(null===(eo=this._currentUser)||void 0===eo?void 0:eo._redirectEventId)===er)?this._currentUser:(null===(ec=this.redirectUser)||void 0===ec?void 0:ec._redirectEventId)===er?this.redirectUser:null}async _persistUserIfCurrent(er){if(er===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(er))}_notifyListenersIfCurrent(er){er===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var er,eo;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let ec=null!==(eo=null===(er=this.currentUser)||void 0===er?void 0:er.uid)&&void 0!==eo?eo:null;this.lastNotifiedUid!==ec&&(this.lastNotifiedUid=ec,this.authStateSubscription.next(this.currentUser))}registerStateListener(er,eo,ec,eh){if(this._deleted)return()=>{};let ep="function"==typeof eo?eo:eo.next.bind(eo),ef=this._isInitialized?Promise.resolve():this._initializationPromise;return(_assert(ef,this,"internal-error"),ef.then(()=>ep(this.currentUser)),"function"==typeof eo)?er.addObserver(eo,ec,eh):er.addObserver(eo)}async directlySetCurrentUser(er){this.currentUser&&this.currentUser!==er&&this._currentUser._stopProactiveRefresh(),er&&this.isProactiveRefreshEnabled&&er._startProactiveRefresh(),this.currentUser=er,er?await this.assertedPersistence.setCurrentUser(er):await this.assertedPersistence.removeCurrentUser()}queue(er){return this.operations=this.operations.then(er,er),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(er){!er||this.frameworks.includes(er)||(this.frameworks.push(er),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var er;let eo={"X-Client-Version":this.clientVersion};this.app.options.appId&&(eo["X-Firebase-gmpid"]=this.app.options.appId);let ec=await (null===(er=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===er?void 0:er.getHeartbeatsHeader());ec&&(eo["X-Firebase-Client"]=ec);let eh=await this._getAppCheckToken();return eh&&(eo["X-Firebase-AppCheck"]=eh),eo}async _getAppCheckToken(){var er;let eo=await (null===(er=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===er?void 0:er.getToken());return(null==eo?void 0:eo.error)&&function(er,...eo){e_.logLevel<=eg.in.WARN&&e_.warn(`Auth (${ef.Jn}): ${er}`,...eo)}(`Error while retrieving App Check token: ${eo.error}`),null==eo?void 0:eo.token}};function _castAuth(er){return(0,ep.m9)(er)}let Subscription=class Subscription{constructor(er){this.auth=er,this.observer=null,this.addObserver=(0,ep.ne)(er=>this.observer=er)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function extractProtocol(er){let eo=er.indexOf(":");return eo<0?"":er.substr(0,eo+1)}function parsePort(er){if(!er)return null;let eo=Number(er);return isNaN(eo)?null:eo}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthCredential=class AuthCredential{constructor(er,eo){this.providerId=er,this.signInMethod=eo}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(er){return debugFail("not implemented")}_linkToIdToken(er,eo){return debugFail("not implemented")}_getReauthenticationResolver(er){return debugFail("not implemented")}};async function updateEmailPassword(er,eo){return _performApiRequest(er,"POST","/v1/accounts:update",eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(er,eo))}async function sendOobCode(er,eo){return _performApiRequest(er,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(er,eo))}async function sendEmailVerification$1(er,eo){return sendOobCode(er,eo)}async function sendPasswordResetEmail$1(er,eo){return sendOobCode(er,eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(er,eo))}async function signInWithEmailLinkForLinking(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(er,eo))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EmailAuthCredential=class EmailAuthCredential extends AuthCredential{constructor(er,eo,ec,eh=null){super("password",ec),this._email=er,this._password=eo,this._tenantId=eh}static _fromEmailAndPassword(er,eo){return new EmailAuthCredential(er,eo,"password")}static _fromEmailAndCode(er,eo,ec=null){return new EmailAuthCredential(er,eo,"emailLink",ec)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(er){let eo="string"==typeof er?JSON.parse(er):er;if((null==eo?void 0:eo.email)&&(null==eo?void 0:eo.password)){if("password"===eo.signInMethod)return this._fromEmailAndPassword(eo.email,eo.password);if("emailLink"===eo.signInMethod)return this._fromEmailAndCode(eo.email,eo.password,eo.tenantId)}return null}async _getIdTokenResponse(er){var eo;switch(this.signInMethod){case"password":let ec={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(eo=er._getRecaptchaConfig())||void 0===eo||!eo.emailPasswordEnabled)return signInWithPassword(er,ec).catch(async eo=>{if("auth/missing-recaptcha-token"!==eo.code)return Promise.reject(eo);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let eo=await injectRecaptchaFields(er,ec,"signInWithPassword");return signInWithPassword(er,eo)}});{let eo=await injectRecaptchaFields(er,ec,"signInWithPassword");return signInWithPassword(er,eo)}case"emailLink":return signInWithEmailLink$1(er,{email:this._email,oobCode:this._password});default:_fail(er,"internal-error")}}async _linkToIdToken(er,eo){switch(this.signInMethod){case"password":return updateEmailPassword(er,{idToken:eo,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(er,{idToken:eo,email:this._email,oobCode:this._password});default:_fail(er,"internal-error")}}_getReauthenticationResolver(er){return this._getIdTokenResponse(er)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(er,eo))}let OAuthCredential=class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(er){let eo=new OAuthCredential(er.providerId,er.signInMethod);return er.idToken||er.accessToken?(er.idToken&&(eo.idToken=er.idToken),er.accessToken&&(eo.accessToken=er.accessToken),er.nonce&&!er.pendingToken&&(eo.nonce=er.nonce),er.pendingToken&&(eo.pendingToken=er.pendingToken)):er.oauthToken&&er.oauthTokenSecret?(eo.accessToken=er.oauthToken,eo.secret=er.oauthTokenSecret):_fail("argument-error"),eo}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(er){let eo="string"==typeof er?JSON.parse(er):er,{providerId:ec,signInMethod:eh}=eo,ep=__rest(eo,["providerId","signInMethod"]);if(!ec||!eh)return null;let ef=new OAuthCredential(ec,eh);return ef.idToken=ep.idToken||void 0,ef.accessToken=ep.accessToken||void 0,ef.secret=ep.secret,ef.nonce=ep.nonce,ef.pendingToken=ep.pendingToken||null,ef}_getIdTokenResponse(er){let eo=this.buildRequest();return signInWithIdp(er,eo)}_linkToIdToken(er,eo){let ec=this.buildRequest();return ec.idToken=eo,signInWithIdp(er,ec)}_getReauthenticationResolver(er){let eo=this.buildRequest();return eo.autoCreate=!1,signInWithIdp(er,eo)}buildRequest(){let er={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)er.pendingToken=this.pendingToken;else{let eo={};this.idToken&&(eo.id_token=this.idToken),this.accessToken&&(eo.access_token=this.accessToken),this.secret&&(eo.oauth_token_secret=this.secret),eo.providerId=this.providerId,this.nonce&&!this.pendingToken&&(eo.nonce=this.nonce),er.postBody=(0,ep.xO)(eo)}return er}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPhoneVerificationCode(er,eo){return _performApiRequest(er,"POST","/v1/accounts:sendVerificationCode",_addTidIfNecessary(er,eo))}async function signInWithPhoneNumber$1(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(er,eo))}async function linkWithPhoneNumber$1(er,eo){let ec=await _performSignInRequest(er,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(er,eo));if(ec.temporaryProof)throw _makeTaggedError(er,"account-exists-with-different-credential",ec);return ec}let eS={USER_NOT_FOUND:"user-not-found"};async function verifyPhoneNumberForExisting(er,eo){let ec=Object.assign(Object.assign({},eo),{operation:"REAUTH"});return _performSignInRequest(er,"POST","/v1/accounts:signInWithPhoneNumber",_addTidIfNecessary(er,ec),eS)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PhoneAuthCredential=class PhoneAuthCredential extends AuthCredential{constructor(er){super("phone","phone"),this.params=er}static _fromVerification(er,eo){return new PhoneAuthCredential({verificationId:er,verificationCode:eo})}static _fromTokenResponse(er,eo){return new PhoneAuthCredential({phoneNumber:er,temporaryProof:eo})}_getIdTokenResponse(er){return signInWithPhoneNumber$1(er,this._makeVerificationRequest())}_linkToIdToken(er,eo){return linkWithPhoneNumber$1(er,Object.assign({idToken:eo},this._makeVerificationRequest()))}_getReauthenticationResolver(er){return verifyPhoneNumberForExisting(er,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:er,phoneNumber:eo,verificationId:ec,verificationCode:eh}=this.params;return er&&eo?{temporaryProof:er,phoneNumber:eo}:{sessionInfo:ec,code:eh}}toJSON(){let er={providerId:this.providerId};return this.params.phoneNumber&&(er.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(er.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(er.verificationCode=this.params.verificationCode),this.params.verificationId&&(er.verificationId=this.params.verificationId),er}static fromJSON(er){"string"==typeof er&&(er=JSON.parse(er));let{verificationId:eo,verificationCode:ec,phoneNumber:eh,temporaryProof:ep}=er;return ec||eo||eh||ep?new PhoneAuthCredential({verificationId:eo,verificationCode:ec,phoneNumber:eh,temporaryProof:ep}):null}};let ActionCodeURL=class ActionCodeURL{constructor(er){var eo,ec,eh,ef,eg,em;let ey=(0,ep.zd)((0,ep.pd)(er)),ev=null!==(eo=ey.apiKey)&&void 0!==eo?eo:null,e_=null!==(ec=ey.oobCode)&&void 0!==ec?ec:null,ew=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){switch(er){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(eh=ey.mode)&&void 0!==eh?eh:null);_assert(ev&&e_&&ew,"argument-error"),this.apiKey=ev,this.operation=ew,this.code=e_,this.continueUrl=null!==(ef=ey.continueUrl)&&void 0!==ef?ef:null,this.languageCode=null!==(eg=ey.languageCode)&&void 0!==eg?eg:null,this.tenantId=null!==(em=ey.tenantId)&&void 0!==em?em:null}static parseLink(er){let eo=function(er){let eo=(0,ep.zd)((0,ep.pd)(er)).link,ec=eo?(0,ep.zd)((0,ep.pd)(eo)).deep_link_id:null,eh=(0,ep.zd)((0,ep.pd)(er)).deep_link_id,ef=eh?(0,ep.zd)((0,ep.pd)(eh)).link:null;return ef||eh||ec||eo||er}(er);try{return new ActionCodeURL(eo)}catch(er){return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EmailAuthProvider=class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(er,eo){return EmailAuthCredential._fromEmailAndPassword(er,eo)}static credentialWithLink(er,eo){let ec=ActionCodeURL.parseLink(eo);return _assert(ec,"argument-error"),EmailAuthCredential._fromEmailAndCode(er,ec.code,ec.tenantId)}};EmailAuthProvider.PROVIDER_ID="password",EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password",EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FederatedAuthProvider=class FederatedAuthProvider{constructor(er){this.providerId=er,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(er){this.defaultLanguageCode=er}setCustomParameters(er){return this.customParameters=er,this}getCustomParameters(){return this.customParameters}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BaseOAuthProvider=class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(er){return this.scopes.includes(er)||this.scopes.push(er),this}getScopes(){return[...this.scopes]}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FacebookAuthProvider=class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(er){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return FacebookAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return FacebookAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(er.oauthAccessToken)}catch(er){return null}}};FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com",FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GoogleAuthProvider=class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(er,eo){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:er,accessToken:eo})}static credentialFromResult(er){return GoogleAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GoogleAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;let{oauthIdToken:eo,oauthAccessToken:ec}=er;if(!eo&&!ec)return null;try{return GoogleAuthProvider.credential(eo,ec)}catch(er){return null}}};GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com",GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GithubAuthProvider=class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(er){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:er})}static credentialFromResult(er){return GithubAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return GithubAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er||!("oauthAccessToken"in er)||!er.oauthAccessToken)return null;try{return GithubAuthProvider.credential(er.oauthAccessToken)}catch(er){return null}}};GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com",GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let TwitterAuthProvider=class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(er,eo){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:er,oauthTokenSecret:eo})}static credentialFromResult(er){return TwitterAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return TwitterAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;let{oauthAccessToken:eo,oauthTokenSecret:ec}=er;if(!eo||!ec)return null;try{return TwitterAuthProvider.credential(eo,ec)}catch(er){return null}}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(er,eo){return _performSignInRequest(er,"POST","/v1/accounts:signUp",_addTidIfNecessary(er,eo))}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com",TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UserCredentialImpl=class UserCredentialImpl{constructor(er){this.user=er.user,this.providerId=er.providerId,this._tokenResponse=er._tokenResponse,this.operationType=er.operationType}static async _fromIdTokenResponse(er,eo,ec,eh=!1){let ep=await UserImpl._fromIdTokenResponse(er,ec,eh),ef=providerIdForResponse(ec),eg=new UserCredentialImpl({user:ep,providerId:ef,_tokenResponse:ec,operationType:eo});return eg}static async _forOperation(er,eo,ec){await er._updateTokensIfNecessary(ec,!0);let eh=providerIdForResponse(ec);return new UserCredentialImpl({user:er,providerId:eh,_tokenResponse:ec,operationType:eo})}};function providerIdForResponse(er){return er.providerId?er.providerId:"phoneNumber"in er?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MultiFactorError=class MultiFactorError extends ep.ZR{constructor(er,eo,ec,eh){var ep;super(eo.code,eo.message),this.operationType=ec,this.user=eh,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:er.name,tenantId:null!==(ep=er.tenantId)&&void 0!==ep?ep:void 0,_serverResponse:eo.customData._serverResponse,operationType:ec}}static _fromErrorAndOperation(er,eo,ec,eh){return new MultiFactorError(er,eo,ec,eh)}};function _processCredentialSavingMfaContextIfNecessary(er,eo,ec,eh){let ep="reauthenticate"===eo?ec._getReauthenticationResolver(er):ec._getIdTokenResponse(er);return ep.catch(ec=>{if("auth/multi-factor-auth-required"===ec.code)throw MultiFactorError._fromErrorAndOperation(er,ec,eo,eh);throw ec})}async function _link$1(er,eo,ec=!1){let eh=await _logoutIfInvalidated(er,eo._linkToIdToken(er.auth,await er.getIdToken()),ec);return UserCredentialImpl._forOperation(er,"link",eh)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(er,eo,ec=!1){let{auth:eh}=er,ep="reauthenticate";try{let ef=await _logoutIfInvalidated(er,_processCredentialSavingMfaContextIfNecessary(eh,ep,eo,er),ec);_assert(ef.idToken,eh,"internal-error");let eg=_parseToken(ef.idToken);_assert(eg,eh,"internal-error");let{sub:em}=eg;return _assert(er.uid===em,eh,"user-mismatch"),UserCredentialImpl._forOperation(er,ep,ef)}catch(er){throw(null==er?void 0:er.code)==="auth/user-not-found"&&_fail(eh,"user-mismatch"),er}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(er,eo,ec=!1){let eh="signIn",ep=await _processCredentialSavingMfaContextIfNecessary(er,eh,eo),ef=await UserCredentialImpl._fromIdTokenResponse(er,eh,ep);return ec||await er._updateCurrentUser(ef.user),ef}async function signInWithCredential(er,eo){return _signInWithCredential(_castAuth(er),eo)}async function reauthenticateWithCredential(er,eo){return _reauthenticate((0,ep.m9)(er),eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(er,eo,ec){var eh;_assert((null===(eh=ec.url)||void 0===eh?void 0:eh.length)>0,er,"invalid-continue-uri"),_assert(void 0===ec.dynamicLinkDomain||ec.dynamicLinkDomain.length>0,er,"invalid-dynamic-link-domain"),eo.continueUrl=ec.url,eo.dynamicLinkDomain=ec.dynamicLinkDomain,eo.canHandleCodeInApp=ec.handleCodeInApp,ec.iOS&&(_assert(ec.iOS.bundleId.length>0,er,"missing-ios-bundle-id"),eo.iOSBundleId=ec.iOS.bundleId),ec.android&&(_assert(ec.android.packageName.length>0,er,"missing-android-pkg-name"),eo.androidInstallApp=ec.android.installApp,eo.androidMinimumVersionCode=ec.android.minimumVersion,eo.androidPackageName=ec.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sendPasswordResetEmail(er,eo,ec){var eh;let ep=_castAuth(er),ef={requestType:"PASSWORD_RESET",email:eo,clientType:"CLIENT_TYPE_WEB"};if(null===(eh=ep._getRecaptchaConfig())||void 0===eh?void 0:eh.emailPasswordEnabled){let er=await injectRecaptchaFields(ep,ef,"getOobCode",!0);ec&&_setActionCodeSettingsOnRequest(ep,er,ec),await sendPasswordResetEmail$1(ep,er)}else ec&&_setActionCodeSettingsOnRequest(ep,ef,ec),await sendPasswordResetEmail$1(ep,ef).catch(async er=>{if("auth/missing-recaptcha-token"!==er.code)return Promise.reject(er);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");let er=await injectRecaptchaFields(ep,ef,"getOobCode",!0);ec&&_setActionCodeSettingsOnRequest(ep,er,ec),await sendPasswordResetEmail$1(ep,er)}})}async function createUserWithEmailAndPassword(er,eo,ec){var eh;let ep;let ef=_castAuth(er),eg={returnSecureToken:!0,email:eo,password:ec,clientType:"CLIENT_TYPE_WEB"};if(null===(eh=ef._getRecaptchaConfig())||void 0===eh?void 0:eh.emailPasswordEnabled){let er=await injectRecaptchaFields(ef,eg,"signUpPassword");ep=signUp(ef,er)}else ep=signUp(ef,eg).catch(async er=>{if("auth/missing-recaptcha-token"!==er.code)return Promise.reject(er);{console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");let er=await injectRecaptchaFields(ef,eg,"signUpPassword");return signUp(ef,er)}});let em=await ep.catch(er=>Promise.reject(er)),ey=await UserCredentialImpl._fromIdTokenResponse(ef,"signIn",em);return await ef._updateCurrentUser(ey.user),ey}function signInWithEmailAndPassword(er,eo,ec){return signInWithCredential((0,ep.m9)(er),EmailAuthProvider.credential(eo,ec))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(er,eo){return _performApiRequest(er,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(er,eo))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(er,eo){let ec=_isHttpOrHttps()?_getCurrentUrl():"http://localhost",{signinMethods:eh}=await createAuthUri((0,ep.m9)(er),{identifier:eo,continueUri:ec});return eh||[]}async function sendEmailVerification(er,eo){let ec=(0,ep.m9)(er),eh=await er.getIdToken(),ef={requestType:"VERIFY_EMAIL",idToken:eh};eo&&_setActionCodeSettingsOnRequest(ec.auth,ef,eo);let{email:eg}=await sendEmailVerification$1(ec.auth,ef);eg!==er.email&&await er.reload()}function updateEmail(er,eo){return updateEmailOrPassword((0,ep.m9)(er),eo,null)}async function updateEmailOrPassword(er,eo,ec){let{auth:eh}=er,ep=await er.getIdToken(),ef={idToken:ep,returnSecureToken:!0};eo&&(ef.email=eo),ec&&(ef.password=ec);let eg=await _logoutIfInvalidated(er,updateEmailPassword(eh,ef));await er._updateTokensIfNecessary(eg,!0)}let GenericAdditionalUserInfo=class GenericAdditionalUserInfo{constructor(er,eo,ec={}){this.isNewUser=er,this.providerId=eo,this.profile=ec}};let FederatedAdditionalUserInfoWithUsername=class FederatedAdditionalUserInfoWithUsername extends GenericAdditionalUserInfo{constructor(er,eo,ec,eh){super(er,eo,ec),this.username=eh}};let FacebookAdditionalUserInfo=class FacebookAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(er,eo){super(er,"facebook.com",eo)}};let GithubAdditionalUserInfo=class GithubAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(er,eo){super(er,"github.com",eo,"string"==typeof(null==eo?void 0:eo.login)?null==eo?void 0:eo.login:null)}};let GoogleAdditionalUserInfo=class GoogleAdditionalUserInfo extends GenericAdditionalUserInfo{constructor(er,eo){super(er,"google.com",eo)}};let TwitterAdditionalUserInfo=class TwitterAdditionalUserInfo extends FederatedAdditionalUserInfoWithUsername{constructor(er,eo,ec){super(er,"twitter.com",eo,ec)}};function getAdditionalUserInfo(er){let{user:eo,_tokenResponse:ec}=er;return eo.isAnonymous&&!ec?{providerId:null,isNewUser:!1,profile:null}:/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){var eo,ec;if(!er)return null;let{providerId:eh}=er,ep=er.rawUserInfo?JSON.parse(er.rawUserInfo):{},ef=er.isNewUser||"identitytoolkit#SignupNewUserResponse"===er.kind;if(!eh&&(null==er?void 0:er.idToken)){let eh=null===(ec=null===(eo=_parseToken(er.idToken))||void 0===eo?void 0:eo.firebase)||void 0===ec?void 0:ec.sign_in_provider;if(eh){let er="anonymous"!==eh&&"custom"!==eh?eh:null;return new GenericAdditionalUserInfo(ef,er)}}if(!eh)return null;switch(eh){case"facebook.com":return new FacebookAdditionalUserInfo(ef,ep);case"github.com":return new GithubAdditionalUserInfo(ef,ep);case"google.com":return new GoogleAdditionalUserInfo(ef,ep);case"twitter.com":return new TwitterAdditionalUserInfo(ef,ep,er.screenName||null);case"custom":case"anonymous":return new GenericAdditionalUserInfo(ef,null);default:return new GenericAdditionalUserInfo(ef,eh,ep)}}(ec)}function onIdTokenChanged(er,eo,ec,eh){return(0,ep.m9)(er).onIdTokenChanged(eo,ec,eh)}function onAuthStateChanged(er,eo,ec,eh){return(0,ep.m9)(er).onAuthStateChanged(eo,ec,eh)}function signOut(er){return(0,ep.m9)(er).signOut()}new WeakMap;let eC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BrowserPersistenceClass=class BrowserPersistenceClass{constructor(er,eo){this.storageRetriever=er,this.type=eo}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(eC,"1"),this.storage.removeItem(eC),Promise.resolve(!0)}catch(er){return Promise.resolve(!1)}}_set(er,eo){return this.storage.setItem(er,JSON.stringify(eo)),Promise.resolve()}_get(er){let eo=this.storage.getItem(er);return Promise.resolve(eo?JSON.parse(eo):null)}_remove(er){return this.storage.removeItem(er),Promise.resolve()}get storage(){return this.storageRetriever()}};let BrowserLocalPersistence=class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(er,eo)=>this.onStorageEvent(er,eo),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let er=(0,ep.z$)();return _isSafari(er)||_isIOS(er)}()&&function(){try{return!!(window&&window!==window.top)}catch(er){return!1}}(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(er){for(let eo of Object.keys(this.listeners)){let ec=this.storage.getItem(eo),eh=this.localCache[eo];ec!==eh&&er(eo,eh,ec)}}onStorageEvent(er,eo=!1){if(!er.key){this.forAllChangedKeys((er,eo,ec)=>{this.notifyListeners(er,ec)});return}let ec=er.key;if(eo?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let eh=this.storage.getItem(ec);if(er.newValue!==eh)null!==er.newValue?this.storage.setItem(ec,er.newValue):this.storage.removeItem(ec);else if(this.localCache[ec]===er.newValue&&!eo)return}let triggerListeners=()=>{let er=this.storage.getItem(ec);(eo||this.localCache[ec]!==er)&&this.notifyListeners(ec,er)},eh=this.storage.getItem(ec);(0,ep.w1)()&&10===document.documentMode&&eh!==er.newValue&&er.newValue!==er.oldValue?setTimeout(triggerListeners,10):triggerListeners()}notifyListeners(er,eo){this.localCache[er]=eo;let ec=this.listeners[er];if(ec)for(let er of Array.from(ec))er(eo?JSON.parse(eo):eo)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((er,eo,ec)=>{this.onStorageEvent(new StorageEvent("storage",{key:er,oldValue:eo,newValue:ec}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(er,eo){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[er]||(this.listeners[er]=new Set,this.localCache[er]=this.storage.getItem(er)),this.listeners[er].add(eo)}_removeListener(er,eo){this.listeners[er]&&(this.listeners[er].delete(eo),0===this.listeners[er].size&&delete this.listeners[er]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(er,eo){await super._set(er,eo),this.localCache[er]=JSON.stringify(eo)}async _get(er){let eo=await super._get(er);return this.localCache[er]=JSON.stringify(eo),eo}async _remove(er){await super._remove(er),delete this.localCache[er]}};BrowserLocalPersistence.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BrowserSessionPersistence=class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(er,eo){}_removeListener(er,eo){}};BrowserSessionPersistence.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Receiver=class Receiver{constructor(er){this.eventTarget=er,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(er){let eo=this.receivers.find(eo=>eo.isListeningto(er));if(eo)return eo;let ec=new Receiver(er);return this.receivers.push(ec),ec}isListeningto(er){return this.eventTarget===er}async handleEvent(er){let{eventId:eo,eventType:ec,data:eh}=er.data,ep=this.handlersMap[ec];if(!(null==ep?void 0:ep.size))return;er.ports[0].postMessage({status:"ack",eventId:eo,eventType:ec});let ef=Array.from(ep).map(async eo=>eo(er.origin,eh)),eg=await Promise.all(ef.map(async er=>{try{let eo=await er;return{fulfilled:!0,value:eo}}catch(er){return{fulfilled:!1,reason:er}}}));er.ports[0].postMessage({status:"done",eventId:eo,eventType:ec,response:eg})}_subscribe(er,eo){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[er]||(this.handlersMap[er]=new Set),this.handlersMap[er].add(eo)}_unsubscribe(er,eo){this.handlersMap[er]&&eo&&this.handlersMap[er].delete(eo),eo&&0!==this.handlersMap[er].size||delete this.handlersMap[er],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(er="",eo=10){let ec="";for(let er=0;er<eo;er++)ec+=Math.floor(10*Math.random());return er+ec}Receiver.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sender=class Sender{constructor(er){this.target=er,this.handlers=new Set}removeMessageHandler(er){er.messageChannel&&(er.messageChannel.port1.removeEventListener("message",er.onMessage),er.messageChannel.port1.close()),this.handlers.delete(er)}async _send(er,eo,ec=50){let eh,ep;let ef="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ef)throw Error("connection_unavailable");return new Promise((eg,em)=>{let ey=_generateEventId("",20);ef.port1.start();let ev=setTimeout(()=>{em(Error("unsupported_event"))},ec);ep={messageChannel:ef,onMessage(er){if(er.data.eventId===ey)switch(er.data.status){case"ack":clearTimeout(ev),eh=setTimeout(()=>{em(Error("timeout"))},3e3);break;case"done":clearTimeout(eh),eg(er.data.response);break;default:clearTimeout(ev),clearTimeout(eh),em(Error("invalid_response"))}}},this.handlers.add(ep),ef.port1.addEventListener("message",ep.onMessage),this.target.postMessage({eventType:er,eventId:ey,data:eo},[ef.port2])}).finally(()=>{ep&&this.removeMessageHandler(ep)})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return void 0!==_window().WorkerGlobalScope&&"function"==typeof _window().importScripts}async function _getActiveServiceWorker(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let er=await navigator.serviceWorker.ready;return er.active}catch(er){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eI="firebaseLocalStorageDb",eE="firebaseLocalStorage",eT="fbase_key";let DBPromise=class DBPromise{constructor(er){this.request=er}toPromise(){return new Promise((er,eo)=>{this.request.addEventListener("success",()=>{er(this.request.result)}),this.request.addEventListener("error",()=>{eo(this.request.error)})})}};function getObjectStore(er,eo){return er.transaction([eE],eo?"readwrite":"readonly").objectStore(eE)}function _openDatabase(){let er=indexedDB.open(eI,1);return new Promise((eo,ec)=>{er.addEventListener("error",()=>{ec(er.error)}),er.addEventListener("upgradeneeded",()=>{let eo=er.result;try{eo.createObjectStore(eE,{keyPath:eT})}catch(er){ec(er)}}),er.addEventListener("success",async()=>{let ec=er.result;ec.objectStoreNames.contains(eE)?eo(ec):(ec.close(),await function(){let er=indexedDB.deleteDatabase(eI);return new DBPromise(er).toPromise()}(),eo(await _openDatabase()))})})}async function _putObject(er,eo,ec){let eh=getObjectStore(er,!0).put({[eT]:eo,value:ec});return new DBPromise(eh).toPromise()}async function getObject(er,eo){let ec=getObjectStore(er,!1).get(eo),eh=await new DBPromise(ec).toPromise();return void 0===eh?null:eh.value}function _deleteObject(er,eo){let ec=getObjectStore(er,!0).delete(eo);return new DBPromise(ec).toPromise()}let IndexedDBLocalPersistence=class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await _openDatabase()),this.db}async _withRetries(er){let eo=0;for(;;)try{let eo=await this._openDb();return await er(eo)}catch(er){if(eo++>3)throw er;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_isWorker()?self:null),this.receiver._subscribe("keyChanged",async(er,eo)=>{let ec=await this._poll();return{keyProcessed:ec.includes(eo.key)}}),this.receiver._subscribe("ping",async(er,eo)=>["keyChanged"])}async initializeSender(){var er,eo;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);let ec=await this.sender._send("ping",{},800);ec&&(null===(er=ec[0])||void 0===er?void 0:er.fulfilled)&&(null===(eo=ec[0])||void 0===eo?void 0:eo.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(er){var eo;if(this.sender&&this.activeServiceWorker&&((null===(eo=null==navigator?void 0:navigator.serviceWorker)||void 0===eo?void 0:eo.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:er},this.serviceWorkerReceiverAvailable?800:50)}catch(er){}}async _isAvailable(){try{if(!indexedDB)return!1;let er=await _openDatabase();return await _putObject(er,eC,"1"),await _deleteObject(er,eC),!0}catch(er){}return!1}async _withPendingWrite(er){this.pendingWrites++;try{await er()}finally{this.pendingWrites--}}async _set(er,eo){return this._withPendingWrite(async()=>(await this._withRetries(ec=>_putObject(ec,er,eo)),this.localCache[er]=eo,this.notifyServiceWorker(er)))}async _get(er){let eo=await this._withRetries(eo=>getObject(eo,er));return this.localCache[er]=eo,eo}async _remove(er){return this._withPendingWrite(async()=>(await this._withRetries(eo=>_deleteObject(eo,er)),delete this.localCache[er],this.notifyServiceWorker(er)))}async _poll(){let er=await this._withRetries(er=>{let eo=getObjectStore(er,!1).getAll();return new DBPromise(eo).toPromise()});if(!er||0!==this.pendingWrites)return[];let eo=[],ec=new Set;for(let{fbase_key:eh,value:ep}of er)ec.add(eh),JSON.stringify(this.localCache[eh])!==JSON.stringify(ep)&&(this.notifyListeners(eh,ep),eo.push(eh));for(let er of Object.keys(this.localCache))this.localCache[er]&&!ec.has(er)&&(this.notifyListeners(er,null),eo.push(er));return eo}notifyListeners(er,eo){this.localCache[er]=eo;let ec=this.listeners[er];if(ec)for(let er of Array.from(ec))er(eo)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(er,eo){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[er]||(this.listeners[er]=new Set,this._get(er)),this.listeners[er].add(eo)}_removeListener(er,eo){this.listeners[er]&&(this.listeners[er].delete(eo),0===this.listeners[er].size&&delete this.listeners[er]),0===Object.keys(this.listeners).length&&this.stopPolling()}};async function _verifyPhoneNumber(er,eo,ec){var eh,ep,ef;let eg=await ec.verify();try{let em;if(_assert("string"==typeof eg,er,"argument-error"),_assert("recaptcha"===ec.type,er,"argument-error"),em="string"==typeof eo?{phoneNumber:eo}:eo,"session"in em){let eo=em.session;if("phoneNumber"in em){_assert("enroll"===eo.type,er,"internal-error");let ec=await (ep={idToken:eo.credential,phoneEnrollmentInfo:{phoneNumber:em.phoneNumber,recaptchaToken:eg}},_performApiRequest(er,"POST","/v2/accounts/mfaEnrollment:start",_addTidIfNecessary(er,ep)));return ec.phoneSessionInfo.sessionInfo}{_assert("signin"===eo.type,er,"internal-error");let ec=(null===(eh=em.multiFactorHint)||void 0===eh?void 0:eh.uid)||em.multiFactorUid;_assert(ec,er,"missing-multi-factor-info");let ep=await (ef={mfaPendingCredential:eo.credential,mfaEnrollmentId:ec,phoneSignInInfo:{recaptchaToken:eg}},_performApiRequest(er,"POST","/v2/accounts/mfaSignIn:start",_addTidIfNecessary(er,ef)));return ep.phoneResponseInfo.sessionInfo}}{let{sessionInfo:eo}=await sendPhoneVerificationCode(er,{phoneNumber:em.phoneNumber,recaptchaToken:eg});return eo}}finally{ec._reset()}}IndexedDBLocalPersistence.type="LOCAL",_generateCallbackName("rcb"),new Delay(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PhoneAuthProvider=class PhoneAuthProvider{constructor(er){this.providerId=PhoneAuthProvider.PROVIDER_ID,this.auth=_castAuth(er)}verifyPhoneNumber(er,eo){return _verifyPhoneNumber(this.auth,er,(0,ep.m9)(eo))}static credential(er,eo){return PhoneAuthCredential._fromVerification(er,eo)}static credentialFromResult(er){return PhoneAuthProvider.credentialFromTaggedObject(er)}static credentialFromError(er){return PhoneAuthProvider.credentialFromTaggedObject(er.customData||{})}static credentialFromTaggedObject({_tokenResponse:er}){if(!er)return null;let{phoneNumber:eo,temporaryProof:ec}=er;return eo&&ec?PhoneAuthCredential._fromTokenResponse(eo,ec):null}};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(er,eo){return eo?_getInstance(eo):(_assert(er._popupRedirectResolver,er,"argument-error"),er._popupRedirectResolver)}PhoneAuthProvider.PROVIDER_ID="phone",PhoneAuthProvider.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IdpCredential=class IdpCredential extends AuthCredential{constructor(er){super("custom","custom"),this.params=er}_getIdTokenResponse(er){return signInWithIdp(er,this._buildIdpRequest())}_linkToIdToken(er,eo){return signInWithIdp(er,this._buildIdpRequest(eo))}_getReauthenticationResolver(er){return signInWithIdp(er,this._buildIdpRequest())}_buildIdpRequest(er){let eo={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return er&&(eo.idToken=er),eo}};function _signIn(er){return _signInWithCredential(er.auth,new IdpCredential(er),er.bypassAuthState)}function _reauth(er){let{auth:eo,user:ec}=er;return _assert(ec,eo,"internal-error"),_reauthenticate(ec,new IdpCredential(er),er.bypassAuthState)}async function _link(er){let{auth:eo,user:ec}=er;return _assert(ec,eo,"internal-error"),_link$1(ec,new IdpCredential(er),er.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AbstractPopupRedirectOperation=class AbstractPopupRedirectOperation{constructor(er,eo,ec,eh,ep=!1){this.auth=er,this.resolver=ec,this.user=eh,this.bypassAuthState=ep,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(eo)?eo:[eo]}execute(){return new Promise(async(er,eo)=>{this.pendingPromise={resolve:er,reject:eo};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(er){this.reject(er)}})}async onAuthEvent(er){let{urlResponse:eo,sessionId:ec,postBody:eh,tenantId:ep,error:ef,type:eg}=er;if(ef){this.reject(ef);return}let em={auth:this.auth,requestUri:eo,sessionId:ec,tenantId:ep||void 0,postBody:eh||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(eg)(em))}catch(er){this.reject(er)}}onError(er){this.reject(er)}getIdpTask(er){switch(er){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(er){this.pendingPromise||debugFail("Pending promise was never set"),this.pendingPromise.resolve(er),this.unregisterAndCleanUp()}reject(er){this.pendingPromise||debugFail("Pending promise was never set"),this.pendingPromise.reject(er),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eN=new Delay(2e3,1e4);async function signInWithPopup(er,eo,ec){let eh=_castAuth(er);!function(er,eo,ec){if(!(eo instanceof ec))throw ec.name!==eo.constructor.name&&_fail(er,"argument-error"),_errorWithCustomMessage(er,"argument-error",`Type of ${eo.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(er,eo,FederatedAuthProvider);let ep=_withDefaultResolver(eh,ec),ef=new PopupOperation(eh,"signInViaPopup",eo,ep);return ef.executeNotNull()}let PopupOperation=class PopupOperation extends AbstractPopupRedirectOperation{constructor(er,eo,ec,eh,ep){super(er,eo,eh,ep),this.provider=ec,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){let er=await this.execute();return _assert(er,this.auth,"internal-error"),er}async onExecution(){1===this.filter.length||debugFail("Popup operations only handle one event");let er=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],er),this.authWindow.associatedEvent=er,this.resolver._originValidation(this.auth).catch(er=>{this.reject(er)}),this.resolver._isIframeWebStorageSupported(this.auth,er=>{er||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var er;return(null===(er=this.authWindow)||void 0===er?void 0:er.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){let poll=()=>{var er,eo;if(null===(eo=null===(er=this.authWindow)||void 0===er?void 0:er.window)||void 0===eo?void 0:eo.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(poll,eN.get())};poll()}};PopupOperation.currentPopupAction=null;let eA=new Map;let RedirectAction=class RedirectAction extends AbstractPopupRedirectOperation{constructor(er,eo,ec=!1){super(er,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],eo,void 0,ec),this.eventId=null}async execute(){let er=eA.get(this.auth._key());if(!er){try{let eo=await _getAndClearPendingRedirectStatus(this.resolver,this.auth),ec=eo?await super.execute():null;er=()=>Promise.resolve(ec)}catch(eo){er=()=>Promise.reject(eo)}eA.set(this.auth._key(),er)}return this.bypassAuthState||eA.set(this.auth._key(),()=>Promise.resolve(null)),er()}async onAuthEvent(er){if("signInViaRedirect"===er.type)return super.onAuthEvent(er);if("unknown"===er.type){this.resolve(null);return}if(er.eventId){let eo=await this.auth._redirectUserForId(er.eventId);if(eo)return this.user=eo,super.onAuthEvent(er);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function _getAndClearPendingRedirectStatus(er,eo){let ec=_persistenceKeyName("pendingRedirect",eo.config.apiKey,eo.name),eh=_getInstance(er._redirectPersistence);if(!await eh._isAvailable())return!1;let ep=await eh._get(ec)==="true";return await eh._remove(ec),ep}function _overrideRedirectResult(er,eo){eA.set(er._key(),eo)}async function _getRedirectResult(er,eo,ec=!1){let eh=_castAuth(er),ep=_withDefaultResolver(eh,eo),ef=new RedirectAction(eh,ep,ec),eg=await ef.execute();return eg&&!ec&&(delete eg.user._redirectEventId,await eh._persistUserIfCurrent(eg.user),await eh._setRedirectUser(null,eo)),eg}let AuthEventManager=class AuthEventManager{constructor(er){this.auth=er,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(er){this.consumers.add(er),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,er)&&(this.sendToConsumer(this.queuedRedirectEvent,er),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(er){this.consumers.delete(er)}onEvent(er){if(this.hasEventBeenHandled(er))return!1;let eo=!1;return this.consumers.forEach(ec=>{this.isEventForConsumer(er,ec)&&(eo=!0,this.sendToConsumer(er,ec),this.saveEventToCache(er))}),this.hasHandledPotentialRedirect||!function(er){switch(er.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(er);default:return!1}}(er)||(this.hasHandledPotentialRedirect=!0,eo||(this.queuedRedirectEvent=er,eo=!0)),eo}sendToConsumer(er,eo){var ec;if(er.error&&!isNullRedirectEvent(er)){let eh=(null===(ec=er.error.code)||void 0===ec?void 0:ec.split("auth/")[1])||"internal-error";eo.onError(_createError(this.auth,eh))}else eo.onAuthEvent(er)}isEventForConsumer(er,eo){let ec=null===eo.eventId||!!er.eventId&&er.eventId===eo.eventId;return eo.filter.includes(er.type)&&ec}hasEventBeenHandled(er){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(er))}saveEventToCache(er){this.cachedEventUids.add(eventUid(er)),this.lastProcessedEventTime=Date.now()}};function eventUid(er){return[er.type,er.eventId,er.sessionId,er.tenantId].filter(er=>er).join("-")}function isNullRedirectEvent({type:er,error:eo}){return"unknown"===er&&(null==eo?void 0:eo.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(er,eo={}){return _performApiRequest(er,"GET","/v1/projects",eo)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,eP=/^https?/;async function _validateOrigin(er){if(er.config.emulator)return;let{authorizedDomains:eo}=await _getProjectConfig(er);for(let er of eo)try{if(function(er){let eo=_getCurrentUrl(),{protocol:ec,hostname:eh}=new URL(eo);if(er.startsWith("chrome-extension://")){let ep=new URL(er);return""===ep.hostname&&""===eh?"chrome-extension:"===ec&&er.replace("chrome-extension://","")===eo.replace("chrome-extension://",""):"chrome-extension:"===ec&&ep.hostname===eh}if(!eP.test(ec))return!1;if(eO.test(er))return eh===er;let ep=er.replace(/\./g,"\\."),ef=RegExp("^(.+\\."+ep+"|"+ep+")$","i");return ef.test(eh)}(er))return}catch(er){}_fail(er,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eM=new Delay(3e4,6e4);function resetUnloadedGapiModules(){let er=_window().___jsl;if(null==er?void 0:er.H){for(let eo of Object.keys(er.H))if(er.H[eo].r=er.H[eo].r||[],er.H[eo].L=er.H[eo].L||[],er.H[eo].r=[...er.H[eo].L],er.CP)for(let eo=0;eo<er.CP.length;eo++)er.CP[eo]=null}}let eR=null,eD=new Delay(5e3,15e3),ej={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function _openIframe(er){let eo=await (eR=eR||new Promise((eo,ec)=>{var eh,ep,ef;function loadGapiIframe(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{eo(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),ec(_createError(er,"network-request-failed"))},timeout:eM.get()})}if(null===(ep=null===(eh=_window().gapi)||void 0===eh?void 0:eh.iframes)||void 0===ep?void 0:ep.Iframe)eo(gapi.iframes.getContext());else if(null===(ef=_window().gapi)||void 0===ef?void 0:ef.load)loadGapiIframe();else{let eo=_generateCallbackName("iframefcb");return _window()[eo]=()=>{gapi.load?loadGapiIframe():ec(_createError(er,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${eo}`).catch(er=>ec(er))}}).catch(er=>{throw eR=null,er})),ec=_window().gapi;return _assert(ec,er,"internal-error"),eo.open({where:document.body,url:function(er){let eo=er.config;_assert(eo.authDomain,er,"auth-domain-config-required");let ec=eo.emulator?_emulatorUrl(eo,"emulator/auth/iframe"):`https://${er.config.authDomain}/__/auth/iframe`,eh={apiKey:eo.apiKey,appName:er.name,v:ef.Jn},eg=eL.get(er.config.apiHost);eg&&(eh.eid=eg);let em=er._getFrameworks();return em.length&&(eh.fw=em.join(",")),`${ec}?${(0,ep.xO)(eh).slice(1)}`}(er),messageHandlersFilter:ec.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ej,dontclear:!0},eo=>new Promise(async(ec,eh)=>{await eo.restyle({setHideOnLeave:!1});let ep=_createError(er,"network-request-failed"),ef=_window().setTimeout(()=>{eh(ep)},eD.get());function clearTimerAndResolve(){_window().clearTimeout(ef),ec(eo)}eo.ping(clearTimerAndResolve).then(clearTimerAndResolve,()=>{eh(ep)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};let AuthPopup=class AuthPopup{constructor(er){this.window=er,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(er){}}};let eF=encodeURIComponent("fac");async function _getRedirectUrl(er,eo,ec,eh,eg,em){_assert(er.config.authDomain,er,"auth-domain-config-required"),_assert(er.config.apiKey,er,"invalid-api-key");let ey={apiKey:er.config.apiKey,appName:er.name,authType:ec,redirectUrl:eh,v:ef.Jn,eventId:eg};if(eo instanceof FederatedAuthProvider)for(let[ec,eh]of(eo.setDefaultLanguage(er.languageCode),ey.providerId=eo.providerId||"",(0,ep.xb)(eo.getCustomParameters())||(ey.customParameters=JSON.stringify(eo.getCustomParameters())),Object.entries(em||{})))ey[ec]=eh;if(eo instanceof BaseOAuthProvider){let er=eo.getScopes().filter(er=>""!==er);er.length>0&&(ey.scopes=er.join(","))}for(let eo of(er.tenantId&&(ey.tid=er.tenantId),Object.keys(ey)))void 0===ey[eo]&&delete ey[eo];let ev=await er._getAppCheckToken(),e_=ev?`#${eF}=${encodeURIComponent(ev)}`:"";return`${function({config:er}){return er.emulator?_emulatorUrl(er,"emulator/auth/handler"):`https://${er.authDomain}/__/auth/handler`}(er)}?${(0,ep.xO)(ey).slice(1)}${e_}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eV="webStorageSupport",eH=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BrowserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(er,eo,ec,eh){var ef;(null===(ef=this.eventManagers[er._key()])||void 0===ef?void 0:ef.manager)||debugFail("_initialize() not called before _openPopup()");let eg=await _getRedirectUrl(er,eo,ec,_getCurrentUrl(),eh);return function(er,eo,ec,eh=500,ef=600){let eg=Math.max((window.screen.availHeight-ef)/2,0).toString(),em=Math.max((window.screen.availWidth-eh)/2,0).toString(),ey="",ev=Object.assign(Object.assign({},eU),{width:eh.toString(),height:ef.toString(),top:eg,left:em}),e_=(0,ep.z$)().toLowerCase();ec&&(ey=_isChromeIOS(e_)?"_blank":ec),_isFirefox(e_)&&(eo=eo||"http://localhost",ev.scrollbars="yes");let ew=Object.entries(ev).reduce((er,[eo,ec])=>`${er}${eo}=${ec},`,"");if(function(er=(0,ep.z$)()){var eo;return _isIOS(er)&&!!(null===(eo=window.navigator)||void 0===eo?void 0:eo.standalone)}(e_)&&"_self"!==ey)return function(er,eo){let ec=document.createElement("a");ec.href=er,ec.target=eo;let eh=document.createEvent("MouseEvent");eh.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),ec.dispatchEvent(eh)}(eo||"",ey),new AuthPopup(null);let ex=window.open(eo||"",ey,ew);_assert(ex,er,"popup-blocked");try{ex.focus()}catch(er){}return new AuthPopup(ex)}(er,eg,_generateEventId())}async _openRedirect(er,eo,ec,eh){await this._originValidation(er);let ep=await _getRedirectUrl(er,eo,ec,_getCurrentUrl(),eh);return _window().location.href=ep,new Promise(()=>{})}_initialize(er){let eo=er._key();if(this.eventManagers[eo]){let{manager:er,promise:ec}=this.eventManagers[eo];return er?Promise.resolve(er):(ec||debugFail("If manager is not set, promise should be"),ec)}let ec=this.initAndGetManager(er);return this.eventManagers[eo]={promise:ec},ec.catch(()=>{delete this.eventManagers[eo]}),ec}async initAndGetManager(er){let eo=await _openIframe(er),ec=new AuthEventManager(er);return eo.register("authEvent",eo=>{_assert(null==eo?void 0:eo.authEvent,er,"invalid-auth-event");let eh=ec.onEvent(eo.authEvent);return{status:eh?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[er._key()]={manager:ec},this.iframes[er._key()]=eo,ec}_isIframeWebStorageSupported(er,eo){let ec=this.iframes[er._key()];ec.send(eV,{type:eV},ec=>{var eh;let ep=null===(eh=null==ec?void 0:ec[0])||void 0===eh?void 0:eh[eV];void 0!==ep&&eo(!!ep),_fail(er,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(er){let eo=er._key();return this.originValidationPromises[eo]||(this.originValidationPromises[eo]=_validateOrigin(er)),this.originValidationPromises[eo]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}};let MultiFactorAssertionImpl=class MultiFactorAssertionImpl{constructor(er){this.factorId=er}_process(er,eo,ec){switch(eo.type){case"enroll":return this._finalizeEnroll(er,eo.credential,ec);case"signin":return this._finalizeSignIn(er,eo.credential);default:return debugFail("unexpected MultiFactorSessionType")}}};let PhoneMultiFactorAssertionImpl=class PhoneMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(er){super("phone"),this.credential=er}static _fromCredential(er){return new PhoneMultiFactorAssertionImpl(er)}_finalizeEnroll(er,eo,ec){return _performApiRequest(er,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary(er,{idToken:eo,displayName:ec,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(er,eo){return _performApiRequest(er,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary(er,{mfaPendingCredential:eo,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}};let TotpMultiFactorAssertionImpl=class TotpMultiFactorAssertionImpl extends MultiFactorAssertionImpl{constructor(er,eo,ec){super("totp"),this.otp=er,this.enrollmentId=eo,this.secret=ec}static _fromSecret(er,eo){return new TotpMultiFactorAssertionImpl(eo,void 0,er)}static _fromEnrollmentId(er,eo){return new TotpMultiFactorAssertionImpl(eo,er)}async _finalizeEnroll(er,eo,ec){return _assert(void 0!==this.secret,er,"argument-error"),_performApiRequest(er,"POST","/v2/accounts/mfaEnrollment:finalize",_addTidIfNecessary(er,{idToken:eo,displayName:ec,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(er,eo){_assert(void 0!==this.enrollmentId&&void 0!==this.otp,er,"argument-error");let ec={verificationCode:this.otp};return _performApiRequest(er,"POST","/v2/accounts/mfaSignIn:finalize",_addTidIfNecessary(er,{mfaPendingCredential:eo,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:ec}))}};let TotpSecret=class TotpSecret{constructor(er,eo,ec,eh,ep,ef,eg){this.sessionInfo=ef,this.auth=eg,this.secretKey=er,this.hashingAlgorithm=eo,this.codeLength=ec,this.codeIntervalSeconds=eh,this.enrollmentCompletionDeadline=ep}static _fromStartTotpMfaEnrollmentResponse(er,eo){return new TotpSecret(er.totpSessionInfo.sharedSecretKey,er.totpSessionInfo.hashingAlgorithm,er.totpSessionInfo.verificationCodeLength,er.totpSessionInfo.periodSec,new Date(er.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),er.totpSessionInfo.sessionInfo,eo)}_makeTotpVerificationInfo(er){return{sessionInfo:this.sessionInfo,verificationCode:er}}generateQrCodeUrl(er,eo){var ec;let eh=!1;return(_isEmptyString(er)||_isEmptyString(eo))&&(eh=!0),eh&&(_isEmptyString(er)&&(er=(null===(ec=this.auth.currentUser)||void 0===ec?void 0:ec.email)||"unknownuser"),_isEmptyString(eo)&&(eo=this.auth.name)),`otpauth://totp/${eo}:${er}?secret=${this.secretKey}&issuer=${eo}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function _isEmptyString(er){return void 0===er||(null==er?void 0:er.length)===0}var eB="@firebase/auth",eq="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AuthInterop=class AuthInterop{constructor(er){this.auth=er,this.internalListeners=new Map}getUid(){var er;return this.assertAuthConfigured(),(null===(er=this.auth.currentUser)||void 0===er?void 0:er.uid)||null}async getToken(er){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let eo=await this.auth.currentUser.getIdToken(er);return{accessToken:eo}}addAuthTokenListener(er){if(this.assertAuthConfigured(),this.internalListeners.has(er))return;let eo=this.auth.onIdTokenChanged(eo=>{er((null==eo?void 0:eo.stsTokenManager.accessToken)||null)});this.internalListeners.set(er,eo),this.updateProactiveRefresh()}removeAuthTokenListener(er){this.assertAuthConfigured();let eo=this.internalListeners.get(er);eo&&(this.internalListeners.delete(er),eo(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};let ez=(0,ep.Pz)("authIdTokenMaxAge")||300,eW=null,mintCookieFactory=er=>async eo=>{let ec=eo&&await eo.getIdTokenResult(),eh=ec&&(new Date().getTime()-Date.parse(ec.issuedAtTime))/1e3;if(eh&&eh>ez)return;let ep=null==ec?void 0:ec.token;eW!==ep&&(eW=ep,await fetch(er,{method:ep?"POST":"DELETE",headers:ep?{Authorization:`Bearer ${ep}`}:{}}))};function getAuth(er=(0,ef.Mq)()){let eo=(0,ef.qX)(er,"auth");if(eo.isInitialized())return eo.getImmediate();let ec=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er,eo){let ec=(0,ef.qX)(er,"auth");if(ec.isInitialized()){let er=ec.getImmediate(),eh=ec.getOptions();if((0,ep.vZ)(eh,null!=eo?eo:{}))return er;_fail(er,"already-initialized")}let eh=ec.initialize({options:eo});return eh}(er,{popupRedirectResolver:eH,persistence:[IndexedDBLocalPersistence,BrowserLocalPersistence,BrowserSessionPersistence]}),eh=(0,ep.Pz)("authTokenSyncURL");if(eh){let er=mintCookieFactory(eh);(0,ep.m9)(ec).beforeAuthStateChanged(er,()=>er(ec.currentUser)),onIdTokenChanged(ec,eo=>er(eo))}let eg=(0,ep.q4)("auth");return eg&&function(er,eo,ec){let eh=_castAuth(er);_assert(eh._canInitEmulator,eh,"emulator-config-failed"),_assert(/^https?:\/\//.test(eo),eh,"invalid-emulator-scheme");let ep=!!(null==ec?void 0:ec.disableWarnings),ef=extractProtocol(eo),{host:eg,port:em}=function(er){let eo=extractProtocol(er),ec=/(\/\/)?([^?#/]+)/.exec(er.substr(eo.length));if(!ec)return{host:"",port:null};let eh=ec[2].split("@").pop()||"",ep=/^(\[[^\]]+\])(:|$)/.exec(eh);if(ep){let er=ep[1];return{host:er,port:parsePort(eh.substr(er.length+1))}}{let[er,eo]=eh.split(":");return{host:er,port:parsePort(eo)}}}(eo),ey=null===em?"":`:${em}`;eh.config.emulator={url:`${ef}//${eg}${ey}/`},eh.settings.appVerificationDisabledForTesting=!0,eh.emulatorConfig=Object.freeze({host:eg,port:em,protocol:ef.replace(":",""),options:Object.freeze({disableWarnings:ep})}),ep||function(){function attachBanner(){let er=document.createElement("p"),eo=er.style;er.innerText="Running in emulator mode. Do not use with production credentials.",eo.position="fixed",eo.width="100%",eo.backgroundColor="#ffffff",eo.border=".1em solid #000000",eo.color="#b50000",eo.bottom="0px",eo.left="0px",eo.margin="0px",eo.zIndex="10000",eo.textAlign="center",er.classList.add("firebase-emulator-warning"),document.body.appendChild(er)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",attachBanner):attachBanner())}()}(ec,`http://${eg}`),ec}eh="Browser",(0,ef.Xd)(new em.wA("auth",(er,{options:eo})=>{let ec=er.getProvider("app").getImmediate(),ep=er.getProvider("heartbeat"),ef=er.getProvider("app-check-internal"),{apiKey:eg,authDomain:em}=ec.options;_assert(eg&&!eg.includes(":"),"invalid-api-key",{appName:ec.name});let ey={apiKey:eg,authDomain:em,clientPlatform:eh,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(eh)},ev=new AuthImpl(ec,ep,ef,ey);return function(er,eo){let ec=(null==eo?void 0:eo.persistence)||[],eh=(Array.isArray(ec)?ec:[ec]).map(_getInstance);(null==eo?void 0:eo.errorMap)&&er._updateErrorMap(eo.errorMap),er._initializeWithPersistence(eh,null==eo?void 0:eo.popupRedirectResolver)}(ev,eo),ev},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((er,eo,ec)=>{let eh=er.getProvider("auth-internal");eh.initialize()})),(0,ef.Xd)(new em.wA("auth-internal",er=>{let eo=_castAuth(er.getProvider("auth").getImmediate());return new AuthInterop(eo)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ef.KN)(eB,eq,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){switch(er){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(eh)),(0,ef.KN)(eB,eq,"esm2017")},39828:function(er,eo,ec){"use strict";ec.d(eo,{Ab:function(){return eh.Ab},Bt:function(){return eh.Bt},ET:function(){return eh.ET},IO:function(){return eh.IO},JU:function(){return eh.JU},LV:function(){return eh.LV},Lz:function(){return eh.Lz},PL:function(){return eh.PL},QT:function(){return eh.QT},Xo:function(){return eh.Xo},ad:function(){return eh.ad},ar:function(){return eh.ar},b9:function(){return eh.b9},cf:function(){return eh.cf},hJ:function(){return eh.hJ},nP:function(){return eh.nP},oe:function(){return eh.oe},pl:function(){return eh.pl},qs:function(){return eh.qs},r7:function(){return eh.r7},vr:function(){return eh.vr},zN:function(){return eh.zN}});var eh=ec(88036)},93352:function(er,eo,ec){"use strict";ec.d(eo,{$C:function(){return eh.$C},V1:function(){return eh.V1}});var eh=ec(50549)},86650:function(er,eo,ec){"use strict";ec.d(eo,{oq:function(){return deleteObject},Jt:function(){return getDownloadURL},cF:function(){return getStorage},pb:function(){return list},iH:function(){return ref},KV:function(){return uploadBytes},B0:function(){return uploadBytesResumable}});var eh,ep,ef,eg,em=ec(25816),ey=ec(74444),ev=ec(8463);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_="firebasestorage.googleapis.com",ew="storageBucket";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let StorageError=class StorageError extends ey.ZR{constructor(er,eo,ec=0){super(prependCode(er),`Firebase Storage: ${eo} (${prependCode(er)})`),this.status_=ec,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(er){this.status_=er}_codeEquals(er){return prependCode(er)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(er){this.customData.serverResponse=er,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};function prependCode(er){return"storage/"+er}function unknown(){return new StorageError(ef.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function retryLimitExceeded(){return new StorageError(ef.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(ef.CANCELED,"User canceled the upload/download.")}function cannotSliceBlob(){return new StorageError(ef.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function invalidArgument(er){return new StorageError(ef.INVALID_ARGUMENT,er)}function appDeleted(){return new StorageError(ef.APP_DELETED,"The Firebase app was deleted.")}function invalidFormat(er,eo){return new StorageError(ef.INVALID_FORMAT,"String does not match format '"+er+"': "+eo)}function internalError(er){throw new StorageError(ef.INTERNAL_ERROR,"Internal error: "+er)}(eh=ef||(ef={})).UNKNOWN="unknown",eh.OBJECT_NOT_FOUND="object-not-found",eh.BUCKET_NOT_FOUND="bucket-not-found",eh.PROJECT_NOT_FOUND="project-not-found",eh.QUOTA_EXCEEDED="quota-exceeded",eh.UNAUTHENTICATED="unauthenticated",eh.UNAUTHORIZED="unauthorized",eh.UNAUTHORIZED_APP="unauthorized-app",eh.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",eh.INVALID_CHECKSUM="invalid-checksum",eh.CANCELED="canceled",eh.INVALID_EVENT_NAME="invalid-event-name",eh.INVALID_URL="invalid-url",eh.INVALID_DEFAULT_BUCKET="invalid-default-bucket",eh.NO_DEFAULT_BUCKET="no-default-bucket",eh.CANNOT_SLICE_BLOB="cannot-slice-blob",eh.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",eh.NO_DOWNLOAD_URL="no-download-url",eh.INVALID_ARGUMENT="invalid-argument",eh.INVALID_ARGUMENT_COUNT="invalid-argument-count",eh.APP_DELETED="app-deleted",eh.INVALID_ROOT_OPERATION="invalid-root-operation",eh.INVALID_FORMAT="invalid-format",eh.INTERNAL_ERROR="internal-error",eh.UNSUPPORTED_ENVIRONMENT="unsupported-environment";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Location=class Location{constructor(er,eo){this.bucket=er,this.path_=eo}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){let er=encodeURIComponent;return"/b/"+er(this.bucket)+"/o/"+er(this.path)}bucketOnlyServerUrl(){let er=encodeURIComponent;return"/b/"+er(this.bucket)+"/o"}static makeFromBucketSpec(er,eo){let ec;try{ec=Location.makeFromUrl(er,eo)}catch(eo){return new Location(er,"")}if(""===ec.path)return ec;throw new StorageError(ef.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+er+"'.")}static makeFromUrl(er,eo){let ec=null,eh="([A-Za-z0-9.\\-_]+)",ep=RegExp("^gs://"+eh+"(/(.*))?$","i");function httpModify(er){er.path_=decodeURIComponent(er.path)}let eg=eo.replace(/[.]/g,"\\."),em=RegExp(`^https?://${eg}/v[A-Za-z0-9_]+/b/${eh}/o(/([^?#]*).*)?$`,"i"),ey=RegExp(`^https?://${eo===e_?"(?:storage.googleapis.com|storage.cloud.google.com)":eo}/${eh}/([^?#]*)`,"i"),ev=[{regex:ep,indices:{bucket:1,path:3},postModify:function(er){"/"===er.path.charAt(er.path.length-1)&&(er.path_=er.path_.slice(0,-1))}},{regex:em,indices:{bucket:1,path:3},postModify:httpModify},{regex:ey,indices:{bucket:1,path:2},postModify:httpModify}];for(let eo=0;eo<ev.length;eo++){let eh=ev[eo],ep=eh.regex.exec(er);if(ep){let er=ep[eh.indices.bucket],eo=ep[eh.indices.path];eo||(eo=""),ec=new Location(er,eo),eh.postModify(ec);break}}if(null==ec)throw new StorageError(ef.INVALID_URL,"Invalid URL '"+er+"'.");return ec}};let FailRequest=class FailRequest{constructor(er){this.promise_=Promise.reject(er)}getPromise(){return this.promise_}cancel(er=!1){}};function isString(er){return"string"==typeof er||er instanceof String}function isNativeBlob(er){return isNativeBlobDefined()&&er instanceof Blob}function isNativeBlobDefined(){return"undefined"!=typeof Blob&&!(0,ey.UG)()}function validateNumber(er,eo,ec,eh){if(eh<eo)throw invalidArgument(`Invalid value for '${er}'. Expected ${eo} or greater.`);if(eh>ec)throw invalidArgument(`Invalid value for '${er}'. Expected ${ec} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(er,eo,ec){let eh=eo;return null==ec&&(eh=`https://${eo}`),`${ec}://${eh}/v0${er}`}function makeQueryString(er){let eo=encodeURIComponent,ec="?";for(let eh in er)if(er.hasOwnProperty(eh)){let ep=eo(eh)+"="+eo(er[eh]);ec=ec+ep+"&"}return ec.slice(0,-1)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(er,eo){let ec=er>=500&&er<600,eh=-1!==[408,429].indexOf(er),ep=-1!==eo.indexOf(er);return ec||eh||ep}(ep=eg||(eg={}))[ep.NO_ERROR=0]="NO_ERROR",ep[ep.NETWORK_ERROR=1]="NETWORK_ERROR",ep[ep.ABORT=2]="ABORT";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NetworkRequest=class NetworkRequest{constructor(er,eo,ec,eh,ep,ef,eg,em,ey,ev,e_,ew=!0){this.url_=er,this.method_=eo,this.headers_=ec,this.body_=eh,this.successCodes_=ep,this.additionalRetryCodes_=ef,this.callback_=eg,this.errorCallback_=em,this.timeout_=ey,this.progressCallback_=ev,this.connectionFactory_=e_,this.retry=ew,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((er,eo)=>{this.resolve_=er,this.reject_=eo,this.start_()})}start_(){let backoffDone=(er,eo)=>{let ec=this.resolve_,eh=this.reject_,ep=eo.connection;if(eo.wasSuccessCode)try{let er=this.callback_(ep,ep.getResponse());void 0!==er?ec(er):ec()}catch(er){eh(er)}else if(null!==ep){let er=unknown();er.serverResponse=ep.getErrorText(),eh(this.errorCallback_?this.errorCallback_(ep,er):er)}else if(eo.canceled){let er=this.appDelete_?appDeleted():canceled();eh(er)}else{let er=retryLimitExceeded();eh(er)}};this.canceled_?backoffDone(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er,eo,ec){let eh=1,ep=null,ef=null,eg=!1,em=0,ey=!1;function triggerCallback(...er){ey||(ey=!0,eo.apply(null,er))}function callWithDelay(eo){ep=setTimeout(()=>{ep=null,er(responseHandler,2===em)},eo)}function clearGlobalTimeout(){ef&&clearTimeout(ef)}function responseHandler(er,...eo){let ec;if(ey){clearGlobalTimeout();return}if(er){clearGlobalTimeout(),triggerCallback.call(null,er,...eo);return}let ep=2===em||eg;if(ep){clearGlobalTimeout(),triggerCallback.call(null,er,...eo);return}eh<64&&(eh*=2),1===em?(em=2,ec=0):ec=(eh+Math.random())*1e3,callWithDelay(ec)}let ev=!1;function stop(er){!ev&&(ev=!0,clearGlobalTimeout(),!ey&&(null!==ep?(er||(em=2),clearTimeout(ep),callWithDelay(0)):er||(em=1)))}return callWithDelay(0),ef=setTimeout(()=>{eg=!0,stop(!0)},ec),stop}((er,eo)=>{if(eo){er(!1,new RequestEndStatus(!1,null,!0));return}let ec=this.connectionFactory_();this.pendingConnection_=ec;let progressListener=er=>{let eo=er.loaded,ec=er.lengthComputable?er.total:-1;null!==this.progressCallback_&&this.progressCallback_(eo,ec)};null!==this.progressCallback_&&ec.addUploadProgressListener(progressListener),ec.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ec.removeUploadProgressListener(progressListener),this.pendingConnection_=null;let eo=ec.getErrorCode()===eg.NO_ERROR,eh=ec.getStatus();if(!eo||isRetryStatusCode(eh,this.additionalRetryCodes_)&&this.retry){let eo=ec.getErrorCode()===eg.ABORT;er(!1,new RequestEndStatus(!1,null,eo));return}let ep=-1!==this.successCodes_.indexOf(eh);er(!0,new RequestEndStatus(ep,ec))})},backoffDone,this.timeout_)}getPromise(){return this.promise_}cancel(er){this.canceled_=!0,this.appDelete_=er||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}};let RequestEndStatus=class RequestEndStatus{constructor(er,eo,ec){this.wasSuccessCode=er,this.connection=eo,this.canceled=!!ec}};function getBlob$1(...er){let eo="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==eo){let ec=new eo;for(let eo=0;eo<er.length;eo++)ec.append(er[eo]);return ec.getBlob()}if(isNativeBlobDefined())return new Blob(er);throw new StorageError(ef.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};let StringData=class StringData{constructor(er,eo){this.data=er,this.contentType=eo||null}};function utf8Bytes_(er){let eo=[];for(let ec=0;ec<er.length;ec++){let eh=er.charCodeAt(ec);if(eh<=127)eo.push(eh);else if(eh<=2047)eo.push(192|eh>>6,128|63&eh);else if((64512&eh)==55296){let ep=ec<er.length-1&&(64512&er.charCodeAt(ec+1))==56320;if(ep){let ep=eh,ef=er.charCodeAt(++ec);eh=65536|(1023&ep)<<10|1023&ef,eo.push(240|eh>>18,128|eh>>12&63,128|eh>>6&63,128|63&eh)}else eo.push(239,191,189)}else(64512&eh)==56320?eo.push(239,191,189):eo.push(224|eh>>12,128|eh>>6&63,128|63&eh)}return new Uint8Array(eo)}function base64Bytes_(er,eo){let ec;switch(er){case ex.BASE64:{let ec=-1!==eo.indexOf("-"),eh=-1!==eo.indexOf("_");if(ec||eh)throw invalidFormat(er,"Invalid character '"+(ec?"-":"_")+"' found: is it base64url encoded?");break}case ex.BASE64URL:{let ec=-1!==eo.indexOf("+"),eh=-1!==eo.indexOf("/");if(ec||eh)throw invalidFormat(er,"Invalid character '"+(ec?"+":"/")+"' found: is it base64 encoded?");eo=eo.replace(/-/g,"+").replace(/_/g,"/")}}try{ec=/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){if("undefined"==typeof atob)throw new StorageError(ef.UNSUPPORTED_ENVIRONMENT,"base-64 is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.");return atob(er)}(eo)}catch(eo){if(eo.message.includes("polyfill"))throw eo;throw invalidFormat(er,"Invalid character found")}let eh=new Uint8Array(ec.length);for(let er=0;er<ec.length;er++)eh[er]=ec.charCodeAt(er);return eh}let DataURLParts=class DataURLParts{constructor(er){this.base64=!1,this.contentType=null;let eo=er.match(/^data:([^,]+)?,/);if(null===eo)throw invalidFormat(ex.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let ec=eo[1]||null;null!=ec&&(this.base64=function(er,eo){let ec=er.length>=eo.length;return!!ec&&er.substring(er.length-eo.length)===eo}(ec,";base64"),this.contentType=this.base64?ec.substring(0,ec.length-7):ec),this.rest=er.substring(er.indexOf(",")+1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FbsBlob=class FbsBlob{constructor(er,eo){let ec=0,eh="";isNativeBlob(er)?(this.data_=er,ec=er.size,eh=er.type):er instanceof ArrayBuffer?(eo?this.data_=new Uint8Array(er):(this.data_=new Uint8Array(er.byteLength),this.data_.set(new Uint8Array(er))),ec=this.data_.length):er instanceof Uint8Array&&(eo?this.data_=er:(this.data_=new Uint8Array(er.length),this.data_.set(er)),ec=er.length),this.size_=ec,this.type_=eh}size(){return this.size_}type(){return this.type_}slice(er,eo){if(isNativeBlob(this.data_)){let ec=this.data_,eh=ec.webkitSlice?ec.webkitSlice(er,eo):ec.mozSlice?ec.mozSlice(er,eo):ec.slice?ec.slice(er,eo):null;return null===eh?null:new FbsBlob(eh)}{let ec=new Uint8Array(this.data_.buffer,er,eo-er);return new FbsBlob(ec,!0)}}static getBlob(...er){if(isNativeBlobDefined()){let eo=er.map(er=>er instanceof FbsBlob?er.data_:er);return new FbsBlob(getBlob$1.apply(null,eo))}{let eo=er.map(er=>isString(er)?function(er,eo){switch(er){case ex.RAW:return new StringData(utf8Bytes_(eo));case ex.BASE64:case ex.BASE64URL:return new StringData(base64Bytes_(er,eo));case ex.DATA_URL:return new StringData(function(er){let eo=new DataURLParts(er);return eo.base64?base64Bytes_(ex.BASE64,eo.rest):function(er){let eo;try{eo=decodeURIComponent(er)}catch(er){throw invalidFormat(ex.DATA_URL,"Malformed data URL.")}return utf8Bytes_(eo)}(eo.rest)}(eo),function(er){let eo=new DataURLParts(er);return eo.contentType}(eo))}throw unknown()}(ex.RAW,er).data:er.data_),ec=0;eo.forEach(er=>{ec+=er.byteLength});let eh=new Uint8Array(ec),ep=0;return eo.forEach(er=>{for(let eo=0;eo<er.length;eo++)eh[ep++]=er[eo]}),new FbsBlob(eh,!0)}}uploadData(){return this.data_}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(er){var eo;let ec;try{ec=JSON.parse(er)}catch(er){return null}return"object"!=typeof(eo=ec)||Array.isArray(eo)?null:ec}function lastComponent(er){let eo=er.lastIndexOf("/",er.length-2);return -1===eo?er:er.slice(eo+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(er,eo){return eo}let Mapping=class Mapping{constructor(er,eo,ec,eh){this.server=er,this.local=eo||er,this.writable=!!ec,this.xform=eh||noXform_}};let ek=null;function getMappings(){if(ek)return ek;let er=[];er.push(new Mapping("bucket")),er.push(new Mapping("generation")),er.push(new Mapping("metageneration")),er.push(new Mapping("name","fullPath",!0));let eo=new Mapping("name");eo.xform=function(er,eo){return!isString(eo)||eo.length<2?eo:lastComponent(eo)},er.push(eo);let ec=new Mapping("size");return ec.xform=function(er,eo){return void 0!==eo?Number(eo):eo},er.push(ec),er.push(new Mapping("timeCreated")),er.push(new Mapping("updated")),er.push(new Mapping("md5Hash",null,!0)),er.push(new Mapping("cacheControl",null,!0)),er.push(new Mapping("contentDisposition",null,!0)),er.push(new Mapping("contentEncoding",null,!0)),er.push(new Mapping("contentLanguage",null,!0)),er.push(new Mapping("contentType",null,!0)),er.push(new Mapping("metadata","customMetadata",!0)),ek=er}function fromResourceString(er,eo,ec){let eh=jsonObjectOrNull(eo);return null===eh?null:function(er,eo,ec){let eh={};eh.type="file";let ep=ec.length;for(let er=0;er<ep;er++){let ep=ec[er];eh[ep.local]=ep.xform(eh,eo[ep.server])}return Object.defineProperty(eh,"ref",{get:function(){let eo=eh.bucket,ec=eh.fullPath,ep=new Location(eo,ec);return er._makeStorageReference(ep)}}),eh}(er,eh,ec)}function toResourceString(er,eo){let ec={},eh=eo.length;for(let ep=0;ep<eh;ep++){let eh=eo[ep];eh.writable&&(ec[eh.server]=er[eh.local])}return JSON.stringify(ec)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eS="prefixes",eC="items";let RequestInfo=class RequestInfo{constructor(er,eo,ec,eh){this.url=er,this.method=eo,this.handler=ec,this.timeout=eh,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(er){if(!er)throw unknown()}function metadataHandler(er,eo){return function(ec,eh){let ep=fromResourceString(er,eh,eo);return handlerCheck(null!==ep),ep}}function sharedErrorHandler(er){return function(eo,ec){var eh,ep;let eg;return 401===eo.getStatus()?eg=eo.getErrorText().includes("Firebase App Check token is invalid")?new StorageError(ef.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new StorageError(ef.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===eo.getStatus()?(eh=er.bucket,eg=new StorageError(ef.QUOTA_EXCEEDED,"Quota for bucket '"+eh+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===eo.getStatus()?(ep=er.path,eg=new StorageError(ef.UNAUTHORIZED,"User does not have permission to access '"+ep+"'.")):eg=ec,eg.status=eo.getStatus(),eg.serverResponse=ec.serverResponse,eg}}function objectErrorHandler(er){let eo=sharedErrorHandler(er);return function(ec,eh){let ep=eo(ec,eh);if(404===ec.getStatus()){var eg;eg=er.path,ep=new StorageError(ef.OBJECT_NOT_FOUND,"Object '"+eg+"' does not exist.")}return ep.serverResponse=eh.serverResponse,ep}}function metadataForUpload_(er,eo,ec){let eh=Object.assign({},ec);return eh.fullPath=er.path,eh.size=eo.size(),!eh.contentType&&(eh.contentType=eo&&eo.type()||"application/octet-stream"),eh}function multipartUpload(er,eo,ec,eh,ep){let ef=eo.bucketOnlyServerUrl(),eg={"X-Goog-Upload-Protocol":"multipart"},em=function(){let er="";for(let eo=0;eo<2;eo++)er+=Math.random().toString().slice(2);return er}();eg["Content-Type"]="multipart/related; boundary="+em;let ey=metadataForUpload_(eo,eh,ep),ev=toResourceString(ey,ec),e_="--"+em+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ev+"\r\n--"+em+"\r\nContent-Type: "+ey.contentType+"\r\n\r\n",ew=FbsBlob.getBlob(e_,eh,"\r\n--"+em+"--");if(null===ew)throw cannotSliceBlob();let ex={name:ey.fullPath},ek=makeUrl(ef,er.host,er._protocol),eS=er.maxUploadRetryTime,eC=new RequestInfo(ek,"POST",metadataHandler(er,ec),eS);return eC.urlParams=ex,eC.headers=eg,eC.body=ew.uploadData(),eC.errorHandler=sharedErrorHandler(eo),eC}let ResumableUploadStatus=class ResumableUploadStatus{constructor(er,eo,ec,eh){this.current=er,this.total=eo,this.finalized=!!ec,this.metadata=eh||null}};function checkResumeHeader_(er,eo){let ec=null;try{ec=er.getResponseHeader("X-Goog-Upload-Status")}catch(er){handlerCheck(!1)}return handlerCheck(!!ec&&-1!==(eo||["active"]).indexOf(ec)),ec}let eI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function taskStateFromInternalTaskState(er){switch(er){case"running":case"pausing":case"canceling":return eI.RUNNING;case"paused":return eI.PAUSED;case"success":return eI.SUCCESS;case"canceled":return eI.CANCELED;default:return eI.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Observer=class Observer{constructor(er,eo,ec){"function"==typeof er||null!=eo||null!=ec?(this.next=er,this.error=null!=eo?eo:void 0,this.complete=null!=ec?ec:void 0):(this.next=er.next,this.error=er.error,this.complete=er.complete)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function index_esm2017_async(er){return(...eo)=>{Promise.resolve().then(()=>er(...eo))}}let XhrConnection=class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=eg.NO_ERROR,this.sendPromise_=new Promise(er=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=eg.ABORT,er()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=eg.NETWORK_ERROR,er()}),this.xhr_.addEventListener("load",()=>{er()})})}send(er,eo,ec,eh){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(eo,er,!0),void 0!==eh)for(let er in eh)eh.hasOwnProperty(er)&&this.xhr_.setRequestHeader(er,eh[er].toString());return void 0!==ec?this.xhr_.send(ec):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch(er){return -1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(er){return this.xhr_.getResponseHeader(er)}addUploadProgressListener(er){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",er)}removeUploadProgressListener(er){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",er)}};let XhrTextConnection=class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}};function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UploadTask=class UploadTask{constructor(er,eo,ec=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=er,this._blob=eo,this._metadata=ec,this._mappings=getMappings(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=er=>{if(this._request=void 0,this._chunkMultiplier=1,er._codeEquals(ef.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let eo=this.isExponentialBackoffExpired();if(isRetryStatusCode(er.status,[])){if(eo)er=retryLimitExceeded();else{this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,this.completeTransitions_();return}}this._error=er,this._transition("error")}},this._metadataErrorHandler=er=>{this._request=void 0,er._codeEquals(ef.CANCELED)?this.completeTransitions_():(this._error=er,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((er,eo)=>{this._resolve=er,this._reject=eo,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let er=this._transferred;return eo=>this._updateProgress(er+eo)}_shouldDoResumable(er){return er.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(er){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([eo,ec])=>{switch(this._state){case"running":er(eo,ec);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((er,eo)=>{let ec=function(er,eo,ec,eh,ep){let ef=eo.bucketOnlyServerUrl(),eg=metadataForUpload_(eo,eh,ep),em={name:eg.fullPath},ey=makeUrl(ef,er.host,er._protocol),ev={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${eh.size()}`,"X-Goog-Upload-Header-Content-Type":eg.contentType,"Content-Type":"application/json; charset=utf-8"},e_=toResourceString(eg,ec),ew=er.maxUploadRetryTime,ex=new RequestInfo(ey,"POST",function(er){let eo;checkResumeHeader_(er);try{eo=er.getResponseHeader("X-Goog-Upload-URL")}catch(er){handlerCheck(!1)}return handlerCheck(isString(eo)),eo},ew);return ex.urlParams=em,ex.headers=ev,ex.body=e_,ex.errorHandler=sharedErrorHandler(eo),ex}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),eh=this._ref.storage._makeRequest(ec,newTextConnection,er,eo);this._request=eh,eh.getPromise().then(er=>{this._request=void 0,this._uploadUrl=er,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let er=this._uploadUrl;this._resolveToken((eo,ec)=>{let eh=function(er,eo,ec,eh){let ep=er.maxUploadRetryTime,ef=new RequestInfo(ec,"POST",function(er){let eo=checkResumeHeader_(er,["active","final"]),ec=null;try{ec=er.getResponseHeader("X-Goog-Upload-Size-Received")}catch(er){handlerCheck(!1)}ec||handlerCheck(!1);let ep=Number(ec);return handlerCheck(!isNaN(ep)),new ResumableUploadStatus(ep,eh.size(),"final"===eo)},ep);return ef.headers={"X-Goog-Upload-Command":"query"},ef.errorHandler=sharedErrorHandler(eo),ef}(this._ref.storage,this._ref._location,er,this._blob),ep=this._ref.storage._makeRequest(eh,newTextConnection,eo,ec);this._request=ep,ep.getPromise().then(er=>{this._request=void 0,this._updateProgress(er.current),this._needToFetchStatus=!1,er.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let er=262144*this._chunkMultiplier,eo=new ResumableUploadStatus(this._transferred,this._blob.size()),ec=this._uploadUrl;this._resolveToken((eh,ep)=>{let eg;try{eg=function(er,eo,ec,eh,ep,eg,em,ey){let ev=new ResumableUploadStatus(0,0);if(em?(ev.current=em.current,ev.total=em.total):(ev.current=0,ev.total=eh.size()),eh.size()!==ev.total)throw new StorageError(ef.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");let e_=ev.total-ev.current,ew=e_;ep>0&&(ew=Math.min(ew,ep));let ex=ev.current,ek=ex+ew,eS="";eS=0===ew?"finalize":e_===ew?"upload, finalize":"upload";let eC={"X-Goog-Upload-Command":eS,"X-Goog-Upload-Offset":`${ev.current}`},eI=eh.slice(ex,ek);if(null===eI)throw cannotSliceBlob();let eE=eo.maxUploadRetryTime,eT=new RequestInfo(ec,"POST",function(er,ec){let ep;let ef=checkResumeHeader_(er,["active","final"]),em=ev.current+ew,ey=eh.size();return ep="final"===ef?metadataHandler(eo,eg)(er,ec):null,new ResumableUploadStatus(em,ey,"final"===ef,ep)},eE);return eT.headers=eC,eT.body=eI.uploadData(),eT.progressCallback=ey||null,eT.errorHandler=sharedErrorHandler(er),eT}(this._ref._location,this._ref.storage,ec,this._blob,er,this._mappings,eo,this._makeProgressCallback())}catch(er){this._error=er,this._transition("error");return}let em=this._ref.storage._makeRequest(eg,newTextConnection,eh,ep,!1);this._request=em,em.getPromise().then(er=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(er.current),er.finalized?(this._metadata=er.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){let er=262144*this._chunkMultiplier;2*er<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((er,eo)=>{let ec=function(er,eo,ec){let eh=eo.fullServerUrl(),ep=makeUrl(eh,er.host,er._protocol),ef=er.maxOperationRetryTime,eg=new RequestInfo(ep,"GET",metadataHandler(er,ec),ef);return eg.errorHandler=objectErrorHandler(eo),eg}(this._ref.storage,this._ref._location,this._mappings),eh=this._ref.storage._makeRequest(ec,newTextConnection,er,eo);this._request=eh,eh.getPromise().then(er=>{this._request=void 0,this._metadata=er,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((er,eo)=>{let ec=multipartUpload(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),eh=this._ref.storage._makeRequest(ec,newTextConnection,er,eo);this._request=eh,eh.getPromise().then(er=>{this._request=void 0,this._metadata=er,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(er){let eo=this._transferred;this._transferred=er,this._transferred!==eo&&this._notifyObservers()}_transition(er){if(this._state!==er)switch(er){case"canceling":case"pausing":this._state=er,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let eo="paused"===this._state;this._state=er,eo&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=er,this._notifyObservers();break;case"canceled":this._error=canceled(),this._state=er,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){let er=taskStateFromInternalTaskState(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:er,metadata:this._metadata,task:this,ref:this._ref}}on(er,eo,ec,eh){let ep=new Observer(eo||void 0,ec||void 0,eh||void 0);return this._addObserver(ep),()=>{this._removeObserver(ep)}}then(er,eo){return this._promise.then(er,eo)}catch(er){return this.then(null,er)}_addObserver(er){this._observers.push(er),this._notifyObserver(er)}_removeObserver(er){let eo=this._observers.indexOf(er);-1!==eo&&this._observers.splice(eo,1)}_notifyObservers(){this._finishPromise();let er=this._observers.slice();er.forEach(er=>{this._notifyObserver(er)})}_finishPromise(){if(void 0!==this._resolve){let er=!0;switch(taskStateFromInternalTaskState(this._state)){case eI.SUCCESS:index_esm2017_async(this._resolve.bind(null,this.snapshot))();break;case eI.CANCELED:case eI.ERROR:let eo=this._reject;index_esm2017_async(eo.bind(null,this._error))();break;default:er=!1}er&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(er){let eo=taskStateFromInternalTaskState(this._state);switch(eo){case eI.RUNNING:case eI.PAUSED:er.next&&index_esm2017_async(er.next.bind(er,this.snapshot))();break;case eI.SUCCESS:er.complete&&index_esm2017_async(er.complete.bind(er))();break;case eI.CANCELED:case eI.ERROR:default:er.error&&index_esm2017_async(er.error.bind(er,this._error))()}}resume(){let er="paused"===this._state||"pausing"===this._state;return er&&this._transition("running"),er}pause(){let er="running"===this._state;return er&&this._transition("pausing"),er}cancel(){let er="running"===this._state||"pausing"===this._state;return er&&this._transition("canceling"),er}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Reference=class Reference{constructor(er,eo){this._service=er,eo instanceof Location?this._location=eo:this._location=Location.makeFromUrl(eo,er.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(er,eo){return new Reference(er,eo)}get root(){let er=new Location(this._location.bucket,"");return this._newRef(this._service,er)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){let er=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(er){if(0===er.length)return null;let eo=er.lastIndexOf("/");if(-1===eo)return"";let ec=er.slice(0,eo);return ec}(this._location.path);if(null===er)return null;let eo=new Location(this._location.bucket,er);return new Reference(this._service,eo)}_throwIfRoot(er){if(""===this._location.path)throw new StorageError(ef.INVALID_ROOT_OPERATION,"The operation '"+er+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}};function extractBucket(er,eo){let ec=null==eo?void 0:eo[ew];return null==ec?null:Location.makeFromBucketSpec(ec,er)}let FirebaseStorageImpl=class FirebaseStorageImpl{constructor(er,eo,ec,eh,ep){this.app=er,this._authProvider=eo,this._appCheckProvider=ec,this._url=eh,this._firebaseVersion=ep,this._bucket=null,this._host=e_,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,null!=eh?this._bucket=Location.makeFromBucketSpec(eh,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(er){this._host=er,null!=this._url?this._bucket=Location.makeFromBucketSpec(this._url,er):this._bucket=extractBucket(er,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(er){validateNumber("time",0,Number.POSITIVE_INFINITY,er),this._maxUploadRetryTime=er}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(er){validateNumber("time",0,Number.POSITIVE_INFINITY,er),this._maxOperationRetryTime=er}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let er=this._authProvider.getImmediate({optional:!0});if(er){let eo=await er.getToken();if(null!==eo)return eo.accessToken}return null}async _getAppCheckToken(){let er=this._appCheckProvider.getImmediate({optional:!0});if(er){let eo=await er.getToken();return eo.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(er=>er.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(er){return new Reference(this,er)}_makeRequest(er,eo,ec,eh,ep=!0){if(this._deleted)return new FailRequest(appDeleted());{let ef=function(er,eo,ec,eh,ep,ef,eg=!0){let em=makeQueryString(er.urlParams),ey=er.url+em,ev=Object.assign({},er.headers);return eo&&(ev["X-Firebase-GMPID"]=eo),null!==ec&&ec.length>0&&(ev.Authorization="Firebase "+ec),ev["X-Firebase-Storage-Version"]="webjs/"+(null!=ef?ef:"AppManager"),null!==eh&&(ev["X-Firebase-AppCheck"]=eh),new NetworkRequest(ey,er.method,ev,er.body,er.successCodes,er.additionalRetryCodes,er.handler,er.errorHandler,er.timeout,er.progressCallback,ep,eg)}(er,this._appId,ec,eh,eo,this._firebaseVersion,ep);return this._requests.add(ef),ef.getPromise().then(()=>this._requests.delete(ef),()=>this._requests.delete(ef)),ef}}async makeRequestWithTokens(er,eo){let[ec,eh]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(er,eo,ec,eh).getPromise()}};let eE="@firebase/storage",eT="0.11.2",eN="storage";function uploadBytes(er,eo,ec){return function(er,eo,ec){er._throwIfRoot("uploadBytes");let eh=multipartUpload(er.storage,er._location,getMappings(),new FbsBlob(eo,!0),ec);return er.storage.makeRequestWithTokens(eh,newTextConnection).then(eo=>({metadata:eo,ref:er}))}(er=(0,ey.m9)(er),eo,ec)}function uploadBytesResumable(er,eo,ec){var eh;return(eh=er=(0,ey.m9)(er))._throwIfRoot("uploadBytesResumable"),new UploadTask(eh,new FbsBlob(eo),ec)}function list(er,eo){return function(er,eo){null!=eo&&"number"==typeof eo.maxResults&&validateNumber("options.maxResults",1,1e3,eo.maxResults);let ec=eo||{},eh=function(er,eo,ec,eh,ep){var ef;let eg={};eo.isRoot?eg.prefix="":eg.prefix=eo.path+"/",ec&&ec.length>0&&(eg.delimiter=ec),eh&&(eg.pageToken=eh),ep&&(eg.maxResults=ep);let em=eo.bucketOnlyServerUrl(),ey=makeUrl(em,er.host,er._protocol),ev=er.maxOperationRetryTime,e_=new RequestInfo(ey,"GET",(ef=eo.bucket,function(eo,ec){let eh=function(er,eo,ec){let eh=jsonObjectOrNull(ec);return null===eh?null:function(er,eo,ec){let eh={prefixes:[],items:[],nextPageToken:ec.nextPageToken};if(ec[eS])for(let ep of ec[eS]){let ec=ep.replace(/\/$/,""),ef=er._makeStorageReference(new Location(eo,ec));eh.prefixes.push(ef)}if(ec[eC])for(let ep of ec[eC]){let ec=er._makeStorageReference(new Location(eo,ep.name));eh.items.push(ec)}return eh}(er,eo,eh)}(er,ef,ec);return handlerCheck(null!==eh),eh}),ev);return e_.urlParams=eg,e_.errorHandler=sharedErrorHandler(eo),e_}(er.storage,er._location,"/",ec.pageToken,ec.maxResults);return er.storage.makeRequestWithTokens(eh,newTextConnection)}(er=(0,ey.m9)(er),eo)}function getDownloadURL(er){return function(er){er._throwIfRoot("getDownloadURL");let eo=function(er,eo,ec){let eh=eo.fullServerUrl(),ep=makeUrl(eh,er.host,er._protocol),ef=er.maxOperationRetryTime,eg=new RequestInfo(ep,"GET",function(eo,eh){let ep=fromResourceString(er,eh,ec);return handlerCheck(null!==ep),function(er,eo,ec,eh){let ep=jsonObjectOrNull(eo);if(null===ep||!isString(ep.downloadTokens))return null;let ef=ep.downloadTokens;if(0===ef.length)return null;let eg=encodeURIComponent,em=ef.split(","),ey=em.map(eo=>{let ep=er.bucket,ef=er.fullPath,em="/b/"+eg(ep)+"/o/"+eg(ef),ey=makeUrl(em,ec,eh),ev=makeQueryString({alt:"media",token:eo});return ey+ev});return ey[0]}(ep,eh,er.host,er._protocol)},ef);return eg.errorHandler=objectErrorHandler(eo),eg}(er.storage,er._location,getMappings());return er.storage.makeRequestWithTokens(eo,newTextConnection).then(er=>{if(null===er)throw new StorageError(ef.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return er})}(er=(0,ey.m9)(er))}function deleteObject(er){return function(er){er._throwIfRoot("deleteObject");let eo=function(er,eo){let ec=eo.fullServerUrl(),eh=makeUrl(ec,er.host,er._protocol),ep=er.maxOperationRetryTime,ef=new RequestInfo(eh,"DELETE",function(er,eo){},ep);return ef.successCodes=[200,204],ef.errorHandler=objectErrorHandler(eo),ef}(er.storage,er._location);return er.storage.makeRequestWithTokens(eo,newTextConnection)}(er=(0,ey.m9)(er))}function ref(er,eo){return function(er,eo){if(!(eo&&/^[A-Za-z]+:\/\//.test(eo)))return function refFromPath(er,eo){if(er instanceof FirebaseStorageImpl){if(null==er._bucket)throw new StorageError(ef.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ew+"' property when initializing the app?");let ec=new Reference(er,er._bucket);return null!=eo?refFromPath(ec,eo):ec}return void 0!==eo?function(er,eo){let ec=function(er,eo){let ec=eo.split("/").filter(er=>er.length>0).join("/");return 0===er.length?ec:er+"/"+ec}(er._location.path,eo),eh=new Location(er._location.bucket,ec);return new Reference(er.storage,eh)}(er,eo):er}(er,eo);if(er instanceof FirebaseStorageImpl)return new Reference(er,eo);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}(er=(0,ey.m9)(er),eo)}function getStorage(er=(0,em.Mq)(),eo){er=(0,ey.m9)(er);let ec=(0,em.qX)(er,eN),eh=ec.getImmediate({identifier:eo}),ep=(0,ey.P0)("storage");return ep&&function(er,eo,ec,eh={}){!function(er,eo,ec,eh={}){er.host=`${eo}:${ec}`,er._protocol="http";let{mockUserToken:ep}=eh;ep&&(er._overrideAuthToken="string"==typeof ep?ep:(0,ey.Sg)(ep,er.app.options.projectId))}(er,eo,ec,eh)}(eh,...ep),eh}(0,em.Xd)(new ev.wA(eN,function(er,{instanceIdentifier:eo}){let ec=er.getProvider("app").getImmediate(),eh=er.getProvider("auth-internal"),ep=er.getProvider("app-check-internal");return new FirebaseStorageImpl(ec,eh,ep,eo,em.Jn)},"PUBLIC").setMultipleInstances(!0)),(0,em.KN)(eE,eT,""),(0,em.KN)(eE,eT,"esm2017")},25935:function(er,eo,ec){"use strict";var eh=ec(30488);eh.domToReact,eh.htmlToDOM,eh.attributesToProps,eh.Comment,eh.Element,eh.ProcessingInstruction,eh.Text,eo.ZP=eh},42708:function(er,eo,ec){"use strict";ec.d(eo,{YD:function(){return useInView},df:function(){return ev}});var eh=ec(67294),ep=Object.defineProperty,__defNormalProp=(er,eo,ec)=>eo in er?ep(er,eo,{enumerable:!0,configurable:!0,writable:!0,value:ec}):er[eo]=ec,__publicField=(er,eo,ec)=>(__defNormalProp(er,"symbol"!=typeof eo?eo+"":eo,ec),ec),ef=new Map,eg=new WeakMap,em=0,ey=void 0;function observe(er,eo,ec={},eh=ey){if(void 0===window.IntersectionObserver&&void 0!==eh){let ep=er.getBoundingClientRect();return eo(eh,{isIntersecting:eh,target:er,intersectionRatio:"number"==typeof ec.threshold?ec.threshold:0,time:0,boundingClientRect:ep,intersectionRect:ep,rootBounds:ep}),()=>{}}let{id:ep,observer:ev,elements:e_}=function(er){let eo=Object.keys(er).sort().filter(eo=>void 0!==er[eo]).map(eo=>{var ec;return`${eo}_${"root"===eo?(ec=er.root)?(eg.has(ec)||(em+=1,eg.set(ec,em.toString())),eg.get(ec)):"0":er[eo]}`}).toString(),ec=ef.get(eo);if(!ec){let eh;let ep=new Map,eg=new IntersectionObserver(eo=>{eo.forEach(eo=>{var ec;let ef=eo.isIntersecting&&eh.some(er=>eo.intersectionRatio>=er);er.trackVisibility&&void 0===eo.isVisible&&(eo.isVisible=ef),null==(ec=ep.get(eo.target))||ec.forEach(er=>{er(ef,eo)})})},er);eh=eg.thresholds||(Array.isArray(er.threshold)?er.threshold:[er.threshold||0]),ec={id:eo,observer:eg,elements:ep},ef.set(eo,ec)}return ec}(ec),ew=e_.get(er)||[];return e_.has(er)||e_.set(er,ew),ew.push(eo),ev.observe(er),function(){ew.splice(ew.indexOf(eo),1),0===ew.length&&(e_.delete(er),ev.unobserve(er)),0===e_.size&&(ev.disconnect(),ef.delete(ep))}}var ev=class extends eh.Component{constructor(er){super(er),__publicField(this,"node",null),__publicField(this,"_unobserveCb",null),__publicField(this,"handleNode",er=>{!this.node||(this.unobserve(),er||this.props.triggerOnce||this.props.skip||this.setState({inView:!!this.props.initialInView,entry:void 0})),this.node=er||null,this.observeNode()}),__publicField(this,"handleChange",(er,eo)=>{er&&this.props.triggerOnce&&this.unobserve(),"function"!=typeof this.props.children||this.setState({inView:er,entry:eo}),this.props.onChange&&this.props.onChange(er,eo)}),this.state={inView:!!er.initialInView,entry:void 0}}componentDidMount(){this.unobserve(),this.observeNode()}componentDidUpdate(er){(er.rootMargin!==this.props.rootMargin||er.root!==this.props.root||er.threshold!==this.props.threshold||er.skip!==this.props.skip||er.trackVisibility!==this.props.trackVisibility||er.delay!==this.props.delay)&&(this.unobserve(),this.observeNode())}componentWillUnmount(){this.unobserve()}observeNode(){if(!this.node||this.props.skip)return;let{threshold:er,root:eo,rootMargin:ec,trackVisibility:eh,delay:ep,fallbackInView:ef}=this.props;this._unobserveCb=observe(this.node,this.handleChange,{threshold:er,root:eo,rootMargin:ec,trackVisibility:eh,delay:ep},ef)}unobserve(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)}render(){let{children:er}=this.props;if("function"==typeof er){let{inView:eo,entry:ec}=this.state;return er({inView:eo,entry:ec,ref:this.handleNode})}let{as:eo,triggerOnce:ec,threshold:ep,root:ef,rootMargin:eg,onChange:em,skip:ey,trackVisibility:ev,delay:e_,initialInView:ew,fallbackInView:ex,...ek}=this.props;return eh.createElement(eo||"div",{ref:this.handleNode,...ek},er)}};function useInView({threshold:er,delay:eo,trackVisibility:ec,rootMargin:ep,root:ef,triggerOnce:eg,skip:em,initialInView:ey,fallbackInView:ev,onChange:e_}={}){var ew;let[ex,ek]=eh.useState(null),eS=eh.useRef(),[eC,eI]=eh.useState({inView:!!ey,entry:void 0});eS.current=e_,eh.useEffect(()=>{let eh;if(!em&&ex)return eh=observe(ex,(er,eo)=>{eI({inView:er,entry:eo}),eS.current&&eS.current(er,eo),eo.isIntersecting&&eg&&eh&&(eh(),eh=void 0)},{root:ef,rootMargin:ep,threshold:er,trackVisibility:ec,delay:eo},ev),()=>{eh&&eh()}},[Array.isArray(er)?er.toString():er,ex,ef,ep,eg,em,ec,ev,eo]);let eE=null==(ew=eC.entry)?void 0:ew.target,eT=eh.useRef();ex||!eE||eg||em||eT.current===eE||(eT.current=eE,eI({inView:!!ey,entry:void 0}));let eN=[ek,eC.inView,eC.entry];return eN.ref=eN[0],eN.inView=eN[1],eN.entry=eN[2],eN}},84849:function(er,eo,ec){"use strict";ec.d(eo,{Z:function(){return Skeleton}});var eh=ec(67294);let ep=eh.createContext({});function Skeleton({count:er=1,wrapper:eo,className:ec,containerClassName:ef,containerTestId:eg,circle:em=!1,style:ey,...ev}){var e_,ew,ex;let ek=eh.useContext(ep),eS={...ev};for(let[er,eo]of Object.entries(ev))void 0===eo&&delete eS[er];let eC={...ek,...eS,circle:em},eI={...ey,...function({baseColor:er,highlightColor:eo,width:ec,height:eh,borderRadius:ep,circle:ef,direction:eg,duration:em,enableAnimation:ey=!0}){let ev={};return"rtl"===eg&&(ev["--animation-direction"]="reverse"),"number"==typeof em&&(ev["--animation-duration"]=`${em}s`),ey||(ev["--pseudo-element-display"]="none"),("string"==typeof ec||"number"==typeof ec)&&(ev.width=ec),("string"==typeof eh||"number"==typeof eh)&&(ev.height=eh),("string"==typeof ep||"number"==typeof ep)&&(ev.borderRadius=ep),ef&&(ev.borderRadius="50%"),void 0!==er&&(ev["--base-color"]=er),void 0!==eo&&(ev["--highlight-color"]=eo),ev}(eC)},eE="react-loading-skeleton";ec&&(eE+=` ${ec}`);let eT=null!==(e_=eC.inline)&&void 0!==e_&&e_,eN=[],eA=Math.ceil(er);for(let eo=0;eo<eA;eo++){let ec=eI;if(eA>er&&eo===eA-1){let eo=null!==(ew=ec.width)&&void 0!==ew?ew:"100%",eh=er%1,ep="number"==typeof eo?eo*eh:`calc(${eo} * ${eh})`;ec={...ec,width:ep}}let ep=eh.createElement("span",{className:eE,style:ec,key:eo},"");eT?eN.push(ep):eN.push(eh.createElement(eh.Fragment,{key:eo},ep,eh.createElement("br",null)))}return eh.createElement("span",{className:ef,"data-testid":eg,"aria-live":"polite","aria-busy":null===(ex=eC.enableAnimation)||void 0===ex||ex},eo?eN.map((er,ec)=>eh.createElement(eo,{key:ec},er)):eN)}}},function(er){var __webpack_exec__=function(eo){return er(er.s=eo)};er.O(0,[9774,179],function(){return __webpack_exec__(6840),__webpack_exec__(59974)}),_N_E=er.O()}]);