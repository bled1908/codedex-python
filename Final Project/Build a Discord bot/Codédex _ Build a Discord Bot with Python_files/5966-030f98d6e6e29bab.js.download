"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5966],{33599:function(e,n,t){t.d(n,{Z:function(){return Confetti}});var a=t(85893),r=t(67294),i=t(49155),l=t.n(i);let s={position:"fixed",pointerEvents:"none",width:"100%",height:"100%",top:0,left:0,zIndex:10};function Confetti(e){let{fire:n}=e,t=(0,r.useRef)(null),i=(0,r.useCallback)(e=>{t.current=e},[]),o=(0,r.useCallback)((e,n)=>{t.current&&t.current({...n,origin:{y:.7},particleCount:Math.floor(200*e)})},[]),c=(0,r.useCallback)(()=>{o(.25,{spread:26,startVelocity:55}),o(.2,{spread:60}),o(.35,{spread:100,decay:.91,scalar:.8}),o(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),o(.1,{spread:120,startVelocity:45})},[o]);return(0,r.useEffect)(function(){!0===n&&c()},[n,c]),(0,a.jsx)(l(),{refConfetti:i,style:s})}},60623:function(e,n,t){t.d(n,{Z:function(){return club_Checkout}});var a=t(82729),r=t(85893),i=t(19521),l=t(86664),s=t(5434),o=t(11163),c=t(67294),d=t(87066),u=t(47010),m=t(7423),p=t(62961),h=t(14884),x=t(15046),f=t(9473),g=t(26245),b=t(51194),y=t(75021),j=t(18738),v=t(92369),club_PayPalBtn=function(e){let{annual:n,setError:t,setShowSuccessModal:a}=e,[{isPending:i}]=(0,y.Up)();return i?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(u.Z,{})}):(0,r.jsx)(y.ch,{style:{shape:"rect",height:33},className:"paypal-btn nes-pointer",createSubscription:(e,t)=>{let{auth:a}=(0,v.UM)();return t.subscription.create({plan_id:n?"P-0VJ707957D291242AM23FN2Y":"P-6CM488441J375125GM5HSA2A",subscriber:{email_address:a.currentUser.email},custom_id:a.currentUser.email,application_context:{brand_name:"Cod\xe9dex",shipping_preference:"NO_SHIPPING",user_action:"SUBSCRIBE_NOW",return_url:"".concat(window.location.origin,"/pricing"),cancel_url:"".concat(window.location.origin,"/pricing"),payment_method:{payer_selected:"PAYPAL",payee_preferred:"IMMEDIATE_PAYMENT_REQUIRED"}}})},forceReRender:[n],onApprove:async(e,t)=>{try{try{var r;(0,j.js)({data:{currency:"USD",value:n?95.88:12.49}}),await (null===(r=t.order)||void 0===r?void 0:r.capture())}catch(e){console.error("Failed to capture order:",e)}a(!0)}catch(e){}}})};let w="AZW5hvZUJwqASsxSD4rvmRz3JeaZLa2smG8FQsJzWAnwhqFp9veKk3KXRFB08GR0J9PZCJT1iyKGzlCN";var PayPal=function(e){let{annual:n,showSuccessModal:t,setShowSuccessModal:a,setError:i}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(y.Vv,{options:{"client-id":w,clientId:w,vault:!0,disableFunding:"credit,card"},children:(0,r.jsx)(club_PayPalBtn,{annual:n,setError:i,setShowSuccessModal:a})})})},A=t(91870);function _templateObject(){let e=(0,a._)(["\n  &::backdrop {\n    cursor:\n      url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n        14 0,\n      pointer;\n\n    backdrop-filter: blur(5px);\n    -webkit-filter: blur(5px);\n    -moz-filter: blur(5px);\n    -o-filter: blur(5px);\n    -ms-filter: blur(5px);\n    filter: blur(5px);\n  }\n\n  div.paywall-popup {\n    text-align: center;\n  }\n\n  "," {\n    max-width: 90%;\n    //width: 90%;\n    position: relative;\n    padding: 0;\n\n    .close-btn {\n      all: unset;\n      position: absolute;\n      right: 20px;\n      top: 10px;\n      font-size: 30px;\n      line-height: 0.8;\n      transition-duration: 0.2s;\n      padding: 0.2rem;\n      border-radius: 50%;\n\n      :hover {\n        background-color: rgba(0, 0, 0, 0.15);\n        border-radius: 50%;\n        cursor:\n          url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n            14 0,\n          pointer;\n      }\n    }\n    .heading {\n      width: 100%;\n      font-size: 1.2rem;\n      padding: 0 1.5rem;\n      padding-top: 1.75rem;\n      color: rgba(255, 255, 255, 0.8);\n    }\n    .image-header {\n      background-size: cover !important;\n      height: 180px;\n      width: 100%;\n    }\n  }\n\n  "," {\n    max-width: 80%;\n    .image-header {\n      height: 130px;\n      width: 100%;\n    }\n    .heading {\n      padding-top: 1.3rem;\n    }\n  }\n\n  "," {\n    max-width: 75%;\n    .image-header {\n      height: 140px;\n      width: 100%;\n    }\n  }\n\n  ",' {\n    max-width: 53%;\n\n    .image-header {\n      height: 180px;\n      width: 100%;\n    }\n  }\n\n  img {\n    margin: 0 auto;\n  }\n\n  p.back-message {\n    font-family: "Work Sans", sans-serif;\n    font-size: 12px;\n    margin-top: 0.5rem;\n    margin-bottom: 1.2rem;\n    font-style: italic;\n    text-align: center;\n  }\n']);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  ",' {\n    .images-flex {\n      display: flex;\n      gap: 0.25rem;\n\n      img {\n        width: 27px;\n        height: 19px;\n      }\n    }\n\n    h1.upgrade-heading {\n      font-size: 1.3rem;\n      text-align: center;\n      margin-bottom: 1.5rem;\n    }\n\n    .content-container {\n      display: flex;\n      flex-flow: column wrap;\n      font-family: "Work Sans", sans-serif;\n      gap: 1.5rem;\n      justify-content: center;\n      align-items: center;\n\n      .payment-container,\n      .order-container {\n        max-width: 80%;\n      }\n\n      .payment-method-container {\n        margin-top: 1.2rem;\n\n        label {\n          color: #808080;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 0.2rem;\n        }\n\n        h3 {\n          font-weight: 600;\n          font-size: 18px;\n        }\n      }\n    }\n  }\n\n  ',' {\n    padding: 1.5rem;\n\n    div.content-container {\n      flex-flow: row wrap;\n      justify-content: center;\n      align-items: start;\n      gap: 2.5rem;\n    }\n\n    .content-container {\n      .payment-container,\n      .order-container {\n        max-width: 45%;\n      }\n    }\n  }\n\n  .pay-by-section {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n\n    .line {\n      border-bottom: 1px solid #dadada;\n      flex: 1;\n    }\n  }\n\n  .card-number-element,\n  .card-expiry-element,\n  .card-cvv-element,\n  input {\n    border: 1px solid #dadada;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    padding: 10px 12px;\n    width: 100%;\n  }\n\n  .payment-method-container {\n    margin-bottom: 1.2rem;\n  }\n\n  .inline-flex-2-inputs {\n    display: flex;\n    flex-flow: row;\n    gap: 1.5rem;\n    margin-bottom: 1.2rem;\n\n    div {\n      width: 100%;\n    }\n  }\n\n  .paypal-googlepay {\n    flex: 1;\n    overflow: hidden;\n\n    .paypal-buttons {\n      min-width: 50px !important;\n      height: 100% !important;\n\n      .paypal-button-row {\n        height: 100% !important;\n      }\n    }\n    .gpay {\n    }\n  }\n\n  .order-summary-container {\n    margin-top: 12px;\n    border: 2px solid #212529;\n    border-radius: 8px;\n\n    h3 {\n      background-color: #212529;\n      color: #fff;\n      font-size: 18px;\n      font-weight: 600;\n      padding: 1rem 0;\n      padding-left: 1rem;\n    }\n\n    .order-summary,\n    .discount,\n    .total {\n      padding: 0 1rem;\n      margin-bottom: 1rem;\n    }\n\n    .order-summary-row {\n      display: flex;\n      justify-content: space-between;\n\n      p {\n        margin-bottom: 0;\n      }\n      span {\n        font-size: 14px;\n        font-style: italic;\n        color: #616161;\n        margin-top: -1rem;\n      }\n    }\n\n    .discount {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 1rem;\n\n      div.apply-btn {\n        span {\n          background-color: #212529;\n          color: #fff;\n          padding: 0.55rem 1rem;\n          border-radius: 4px;\n          -webkit-user-select: none; /* Safari */\n          -ms-user-select: none; /* IE 10 and IE 11 */\n          user-select: none; /* Standard syntax */\n        }\n      }\n    }\n\n    .line {\n      border-bottom: 1px solid #dadada;\n      margin: 1rem;\n    }\n\n    .total {\n      .total-row {\n        display: flex;\n        justify-content: space-between;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n\n  .submit-btn-container {\n    display: flex;\n    margin-top: 2rem;\n\n    button {\n      width: 100%;\n      font-family: "Press Start 2P", cursive;\n    }\n  }\n\n  .row-container {\n    margin-bottom: 0.6rem;\n\n    div.btn {\n      all: unset;\n    }\n  }\n\n  .tooltip {\n    position: relative;\n    display: inline-block;\n    color: gray;\n  }\n\n  .tooltip .tooltiptext {\n    visibility: hidden;\n    width: 120px;\n    color: black;\n    text-align: center;\n    padding: 5px 0;\n\n    position: absolute;\n    z-index: 1;\n    bottom: 90%;\n    left: 35%;\n  }\n\n  .tooltip:hover .tooltiptext {\n    visibility: visible;\n  }\n']);return _templateObject1=function(){return e},e}let k=i.default.dialog.withConfig({componentId:"sc-231eda41-0"})(_templateObject(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg}),C=i.default.div.withConfig({componentId:"sc-231eda41-1"})(_templateObject1(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm}),N=["incomplete_number","incomplete_expiry","incomplete_cvc"];var club_Checkout=function(e){let{annual:n,setAnnual:t,currency:a,isOpen:i,enablePaypal:y}=e,v=(0,o.useRouter)(),[w,_]=(0,c.useState)("python"),S=(0,l.useElements)(),E=(0,l.useStripe)(),[T,M]=(0,c.useState)(""),[P,U]=(0,c.useState)(""),[z,I]=(0,c.useState)(""),O=(0,c.useRef)(null);(0,c.useRef)(null);let B=(0,f.v9)(g.IC),[F,D]=(0,c.useState)(""),[R,Z]=(0,c.useState)(a.club[n?"annualTotalNumber":"monthlyNumber"]),[q,V]=(0,c.useState)("none"),[Q,Y]=(0,c.useState)(null),[G,J]=(0,c.useState)(null),[W,X]=(0,c.useState)(""),[L,K]=(0,c.useState)(!1),[$,H]=(0,c.useState)(!1),[ee,en]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let e=v.asPath;"string"==typeof e&&_(e=e.split("/")[1])},[v.asPath]),(0,c.useEffect)(()=>{if(G){let e=setTimeout(()=>{J(null)},1e4);return()=>clearTimeout(e)}},[G]),(0,c.useEffect)(()=>{let e=document.querySelector("dialog.is-checkout");null==e||e.removeAttribute("open")},[]),(0,c.useEffect)(()=>{let e=document.querySelector("dialog.is-checkout");return e&&i?e.showModal():null==e||e.close(),()=>{null==e||e.close()}},[i]),(0,c.useEffect)(()=>{if("failed"===W){let e=document.querySelector("dialog.is-checkout");e&&(null==e||e.showModal())}},[W]);let et=(0,c.useCallback)(async()=>{try{if(F){if("HOLIDAY30"===F)return D(""),V("failed");let e=await d.Z.post("/api/club/discount",{discountCode:F}),t=e.data;if("success"===t.status){let e=t.data;Y(e);let{type:r,discount:i,discountPercentage:l}=e;if(n)return Z(Math.round((a.club.annualTotalNumber-a.club.annualTotalNumber*i)*100)/100),V("success");if(!n)return Z(Math.round((a.club.monthlyNumber-a.club.monthlyNumber*i)*100)/100),V("success");V("failed"),setTimeout(()=>{V("none")},5e3)}else V("failed")}}catch(e){console.log(e)}},[n,a.club,F]);(0,c.useEffect)(()=>{Z(a.club[n?"annualTotalNumber":"monthlyNumber"]),V("none"),Y(null),D("")},[n,a.club]);let ea=(0,c.useCallback)(async e=>{if(e.preventDefault(),!E||!S)return;try{O.current.disabled=!0}catch(e){}let t=S.getElement(l.CardNumberElement);if(null==t||L)return;K(!0);try{await S.submit()}catch(e){console.error(e),K(!1);try{O.current.disabled=!1}catch(e){}return}let{paymentMethod:r,error:i}=await E.createPaymentMethod({type:"card",card:t,billing_details:{name:"".concat(T," ").concat(P),address:{postal_code:z}}});if(i){console.error(i),J({code:i.code,message:i.message,type:i.type}),K(!1);try{O.current.disabled=!1}catch(e){}return}let s=r.id;try{let e=await d.Z.post("/api/club/subscribe",{payment_method:s,price:n?"price_1PkmtuLPLaa9XJOqMYt6jy6R":"price_1QRvmGLPLaa9XJOqCucbj5px",promotion_code:null==Q?void 0:Q.id,currency:a.type}),t=e.data;if("reload"===t.status&&v.reload(),"fail"===t.status){var o,c,u;if((0,b.uo)({error:t.data}),(null===(o=e.data)||void 0===o?void 0:o.data)==="already-subscribed")return J({message:"You are already subscribed to Cod\xe9dex Club. Please contact help@codedex.io for help.",code:"already_subscribed",type:"top"});if((null===(c=e.data)||void 0===c?void 0:c.data)==="help")return J({message:"Please contact help@codedex.io for help.",code:"help",type:"top"});(null===(u=t.data)||void 0===u?void 0:u.code)==="card_declined"?J({message:"Your card was declined. Please try using another card.",code:"card_declined",type:"top"}):J({message:"Unable to confirm card. Please try using another card.",code:"card_confirmation_error",type:"top"}),K(!1);return}if("requires_action"===t.status){let{client_secret:e}=t.data;X("required");let n=document.querySelector("dialog.is-checkout");n.close();let{error:a}=await E.confirmCardPayment(e);if(a){console.error(a),J({message:"Unable to confirm card. Please try using another card.",code:"card_confirmation_error",type:"top"}),X("failed");return}}t.status,H(!0);try{if(B){let e=Intl.DateTimeFormat().resolvedOptions().locale,t=(0,A.J)();await d.Z.post("/api/email/checked-out",{email:null==B?void 0:B.email}),await d.Z.post("/api/club/success",{email:null==B?void 0:B.email,currencyType:a.type,annual:n,paid:a.club[n?"annualTotalNumber":"monthlyNumber"],finalPrice:R,locale:e,country:t,discountCode:F})}try{(0,j.js)({data:{currency:a.type,value:R}})}catch(e){console.error(e,"tracking fbq")}}catch(e){console.error(e)}setTimeout(()=>{var e;null===(e=document.querySelector(".nes-dialog.is-checkout"))||void 0===e||e.removeAttribute("open"),en(!0)},2e3)}catch(e){console.error(e),J({message:"Please reach out to help@codedex.io for help.",code:"card_confirmation_error",type:"top"})}finally{K(!1),O.current.disabled=!1}},[n,a.club,a.type,F,null==Q?void 0:Q.id,S,R,T,P,L,z,v,E,B]),er=(0,c.useCallback)(e=>{"Enter"===e.key&&e.preventDefault()},[]);return((0,c.useEffect)(()=>{ee&&setTimeout(()=>{let e=document.querySelector("dialog.is-success");e&&((null==e?void 0:e.open)&&e.close(),e.showModal())},0)},[ee]),i)?ee?(0,r.jsx)(x.oY,{role:"dialog",className:"nes-dialog is-success is-rounded",children:(0,r.jsx)(h.Z,{})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(k,{role:"dialog",className:"nes-dialog is-checkout is-rounded",children:(0,r.jsxs)("form",{method:"dialog",onSubmit:ea,onKeyDown:er,children:[(0,r.jsx)("div",{onClick:()=>{window.history.length<=2?v.push("/pricing"):v.push("/".concat(w));let e=document.querySelector("dialog.is-checkout");null==e||e.close()},className:"close-btn nes-pointer",children:(0,r.jsx)(s.lTq,{})}),(0,r.jsxs)(C,{children:[(0,r.jsx)("h1",{className:"upgrade-heading",children:"Upgrade to Cod\xe9dex Club"}),G&&!N.includes(null==G?void 0:G.code)&&(0,r.jsx)(p.Z,{message:null==G?void 0:G.message,type:"top"}),(0,r.jsxs)("div",{className:"content-container",children:[(0,r.jsxs)("div",{className:"payment-container",children:[(0,r.jsx)("div",{className:"subscription-toggle-container",children:(0,r.jsx)(m.Z,{currency:a,annual:n,setAnnual:t})}),(0,r.jsxs)("div",{className:"payment-method-container",children:[(0,r.jsx)("h3",{children:"Payment Method"}),(0,r.jsxs)("div",{className:"row-container",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)("label",{htmlFor:"card-element",children:"Credit/Debit"}),(0,r.jsxs)("div",{className:"images-flex",style:{display:"flex"},children:[(0,r.jsx)("img",{src:"/images/payments/visa.png",alt:"visa card"}),(0,r.jsx)("img",{src:"/images/payments/mastercard.png",alt:"mastercard"}),(0,r.jsx)("img",{src:"/images/payments/amex.png",alt:"amex"}),(0,r.jsx)("img",{src:"/images/payments/discover.png",alt:"discover"})]})]}),(0,r.jsx)(l.CardNumberElement,{options:{showIcon:!0,classes:{base:"card-number-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"card-element"}),(null==G?void 0:G.code)==="incomplete_number"&&(0,r.jsx)(p.Z,{message:"Please enter a valid card number"})]}),(0,r.jsxs)("div",{className:"inline-flex-2-inputs row-container",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"expiration-date",children:"Expiration Date"}),(0,r.jsx)(l.CardExpiryElement,{options:{classes:{base:"card-expiry-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"expiration-date"}),(null==G?void 0:G.code)==="incomplete_expiry"&&(0,r.jsx)(p.Z,{message:"Please enter a valid expiration date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cvv",children:"CVC/CVV"}),(0,r.jsx)(l.CardCvcElement,{options:{classes:{base:"card-cvv-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"cvv"}),(null==G?void 0:G.code)==="incomplete_cvc"&&(0,r.jsx)(p.Z,{message:"Please enter a valid CVC"})]})]}),(0,r.jsxs)("div",{className:"inline-flex-2-inputs row-container",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"first-name",children:"First Name"}),(0,r.jsx)("input",{id:"first-name",type:"text",value:T,onChange:e=>{M(e.currentTarget.value)},required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"last-name",children:"Last Name"}),(0,r.jsx)("input",{id:"last-name",value:P,onChange:e=>{U(e.currentTarget.value)},type:"text",required:!0})]})]}),(0,r.jsxs)("div",{className:"row-container",children:[(0,r.jsx)("label",{htmlFor:"pin-code",children:"Billing Zip/Postal Code"}),(0,r.jsx)("input",{id:"pin-code",value:z,onChange:e=>{I(e.currentTarget.value)},required:!0})]}),y&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row-container pay-by-section",style:{display:"flex"},children:[(0,r.jsx)("div",{className:"line"}),(0,r.jsx)("span",{children:"Or pay by"}),(0,r.jsx)("div",{className:"line"})]}),(0,r.jsx)("div",{className:"paypal-googlepay row-container nes-pointer inline-flex-2-inputs",children:(0,r.jsx)(PayPal,{annual:n,showSuccessModal:ee,setShowSuccessModal:en,setError:J})})]})]})]}),(0,r.jsxs)("div",{className:"order-container",children:[(0,r.jsxs)("div",{className:"order-summary-container",children:[(0,r.jsx)("h3",{children:"Order Summary"}),(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsxs)("div",{className:"order-summary-row",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Cod\xe9dex Club"}),(0,r.jsx)("span",{children:n?"Billed Yearly":"Billed Monthly"})]}),(0,r.jsx)("p",{children:n?"".concat(a.sign," ").concat(12*a.club.monthlyNumber):"".concat(a.sign," ").concat(a.club.monthlyNumber)})]})}),(0,r.jsxs)("div",{className:"discount",children:[(0,r.jsx)("input",{type:"text",placeholder:"Enter discount code",value:F,onChange:e=>D(e.currentTarget.value)}),(0,r.jsx)("div",{className:"apply-btn",onClick:()=>{et()},children:(0,r.jsx)("span",{className:"nes-pointer",children:"Apply"})})]}),"success"===q&&(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsxs)("div",{className:"order-summary-row",children:[(0,r.jsx)("p",{children:"Discount Code"}),(0,r.jsxs)("p",{children:["-",a.sign," ",a.club[n?"annualTotalNumber":"monthlyNumber"]*Q.discount]})]})}),"failed"===q&&(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsx)("div",{className:"order-summary-row error",children:(0,r.jsx)("p",{style:{color:"red"},children:"Invalid discount code"})})}),n&&(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsxs)("div",{className:"order-summary-row",children:[(0,r.jsx)("p",{children:"Annual Plan Discount"}),(0,r.jsxs)("p",{children:["-",a.sign," ",Math.round((12*a.club.monthlyNumber-a.club.annualTotalNumber)*100)/100]})]})}),(0,r.jsx)("div",{className:"line"}),(0,r.jsx)("div",{className:"total",children:(0,r.jsxs)("div",{className:"total-row",children:[(0,r.jsx)("p",{children:"Total Amount"}),(0,r.jsxs)("p",{children:[a.sign," ",R.toFixed(2)]})]})})]}),(0,r.jsx)("div",{className:"submit-btn-container",children:(0,r.jsx)("button",{disabled:L,className:"nes-btn is-primary ".concat($?"is-success":""),type:"submit",ref:O,children:L?(0,r.jsx)(u.Z,{color:"white",size:13}):$?"Success!":"Make Payment"})}),(0,r.jsxs)("p",{className:"back-message",children:["7 day money-back guarantee",(0,r.jsx)("br",{}),"Cancel anytime"]})]})]})]})]})})}):null}},80546:function(e,n,t){var a=t(82729),r=t(85893),i=t(19521),l=t(86664),s=t(5434),o=t(11163),c=t(67294),d=t(87066),u=t(47010),m=t(62961),p=t(14884),h=t(15046),x=t(9473),f=t(26245),g=t(51194),b=t(91870),y=t(18738);function _templateObject(){let e=(0,a._)(["\n  &::backdrop {\n    cursor:\n      url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n        14 0,\n      pointer;\n\n    backdrop-filter: blur(5px);\n    -webkit-filter: blur(5px);\n    -moz-filter: blur(5px);\n    -o-filter: blur(5px);\n    -ms-filter: blur(5px);\n    filter: blur(5px);\n  }\n\n  div.paywall-popup {\n    text-align: center;\n  }\n\n  "," {\n    max-width: 90%;\n    //width: 90%;\n    position: relative;\n    padding: 0;\n\n    .close-btn {\n      all: unset;\n      position: absolute;\n      right: 20px;\n      top: 10px;\n      font-size: 30px;\n      line-height: 0.8;\n      transition-duration: 0.2s;\n      padding: 0.2rem;\n      border-radius: 50%;\n\n      :hover {\n        background-color: rgba(0, 0, 0, 0.15);\n        border-radius: 50%;\n        cursor:\n          url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n            14 0,\n          pointer;\n      }\n    }\n    .heading {\n      width: 100%;\n      font-size: 1.2rem;\n      padding: 0 1.5rem;\n      padding-top: 1.75rem;\n      color: rgba(255, 255, 255, 0.8);\n    }\n    .image-header {\n      background-size: cover !important;\n      height: 180px;\n      width: 100%;\n    }\n  }\n\n  "," {\n    max-width: 80%;\n    .image-header {\n      height: 130px;\n      width: 100%;\n    }\n    .heading {\n      padding-top: 1.3rem;\n    }\n  }\n\n  "," {\n    max-width: 75%;\n    .image-header {\n      height: 140px;\n      width: 100%;\n    }\n  }\n\n  ",' {\n    max-width: 53%;\n\n    .image-header {\n      height: 180px;\n      width: 100%;\n    }\n  }\n\n  img {\n    margin: 0 auto;\n  }\n\n  p.back-message {\n    font-family: "Work Sans", sans-serif;\n    font-size: 12px;\n    margin-top: 0.5rem;\n    margin-bottom: 1.2rem;\n    font-style: italic;\n    text-align: center;\n  }\n']);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  ",' {\n    .images-flex {\n      display: flex;\n      gap: 0.25rem;\n\n      img {\n        width: 27px;\n        height: 19px;\n      }\n    }\n\n    h1.upgrade-heading {\n      font-size: 1.3rem;\n      text-align: center;\n      margin-bottom: 1.5rem;\n    }\n\n    .content-container {\n      display: flex;\n      flex-flow: column wrap;\n      font-family: "Work Sans", sans-serif;\n      gap: 1.5rem;\n      justify-content: center;\n      align-items: center;\n\n      .payment-container,\n      .order-container {\n        max-width: 80%;\n      }\n\n      .payment-method-container {\n        margin-top: 1.2rem;\n\n        label {\n          color: #808080;\n          font-size: 14px;\n          font-weight: 500;\n          margin-bottom: 0.2rem;\n        }\n\n        h3 {\n          font-weight: 600;\n          font-size: 18px;\n        }\n      }\n    }\n  }\n\n  ',' {\n    padding: 1.5rem;\n\n    div.content-container {\n      flex-flow: row wrap;\n      justify-content: center;\n      align-items: start;\n      gap: 2.5rem;\n    }\n\n    .content-container {\n      .payment-container,\n      .order-container {\n        max-width: 45%;\n      }\n    }\n  }\n\n  .pay-by-section {\n    display: flex;\n    align-items: center;\n    gap: 1rem;\n\n    .line {\n      border-bottom: 1px solid #dadada;\n      flex: 1;\n    }\n  }\n\n  .card-number-element,\n  .card-expiry-element,\n  .card-cvv-element,\n  input {\n    border: 1px solid #dadada;\n    border-radius: 4px;\n    font-size: 14px;\n    font-weight: 500;\n    padding: 10px 12px;\n    width: 100%;\n  }\n\n  .payment-method-container {\n    margin-bottom: 1.2rem;\n  }\n\n  .inline-flex-2-inputs {\n    display: flex;\n    flex-flow: row;\n    gap: 1.5rem;\n    margin-bottom: 1.2rem;\n\n    div {\n      width: 100%;\n    }\n  }\n\n  .paypal-googlepay {\n    flex: 1;\n    overflow: hidden;\n\n    .paypal-buttons {\n      min-width: 50px !important;\n      height: 100% !important;\n\n      .paypal-button-row {\n        height: 100% !important;\n      }\n    }\n    .gpay {\n    }\n  }\n\n  .order-summary-container {\n    margin-top: 12px;\n    border: 2px solid #212529;\n    border-radius: 8px;\n\n    h3 {\n      background-color: #212529;\n      color: #fff;\n      font-size: 18px;\n      font-weight: 600;\n      padding: 1rem 0;\n      padding-left: 1rem;\n    }\n\n    .order-summary,\n    .discount,\n    .total {\n      padding: 0 1rem;\n      margin-bottom: 1rem;\n    }\n\n    .order-summary-row {\n      display: flex;\n      justify-content: space-between;\n\n      p {\n        margin-bottom: 0;\n      }\n      span {\n        font-size: 14px;\n        font-style: italic;\n        color: #616161;\n        margin-top: -1rem;\n      }\n    }\n\n    .discount {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      gap: 1rem;\n\n      div.apply-btn {\n        span {\n          background-color: #212529;\n          color: #fff;\n          padding: 0.55rem 1rem;\n          border-radius: 4px;\n          -webkit-user-select: none; /* Safari */\n          -ms-user-select: none; /* IE 10 and IE 11 */\n          user-select: none; /* Standard syntax */\n        }\n      }\n    }\n\n    .line {\n      border-bottom: 1px solid #dadada;\n      margin: 1rem;\n    }\n\n    .total {\n      .total-row {\n        display: flex;\n        justify-content: space-between;\n        font-size: 16px;\n        font-weight: 600;\n      }\n    }\n  }\n\n  .submit-btn-container {\n    display: flex;\n    margin-top: 2rem;\n\n    button {\n      width: 100%;\n      font-family: "Press Start 2P", cursive;\n    }\n  }\n\n  .row-container {\n    margin-bottom: 0.6rem;\n\n    div.btn {\n      all: unset;\n    }\n  }\n\n  .tooltip {\n    position: relative;\n    display: inline-block;\n    color: gray;\n  }\n\n  .tooltip .tooltiptext {\n    visibility: hidden;\n    width: 120px;\n    color: black;\n    text-align: center;\n    padding: 5px 0;\n\n    position: absolute;\n    z-index: 1;\n    bottom: 90%;\n    left: 35%;\n  }\n\n  .tooltip:hover .tooltiptext {\n    visibility: visible;\n  }\n']);return _templateObject1=function(){return e},e}let j=i.default.dialog.withConfig({componentId:"sc-4477f53e-0"})(_templateObject(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg}),v=i.default.div.withConfig({componentId:"sc-4477f53e-1"})(_templateObject1(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm}),w=["incomplete_number","incomplete_expiry","incomplete_cvc"];n.Z=function(e){let{isOpen:n}=e,t=(0,o.useRouter)(),[a,i]=(0,c.useState)("python"),A=(0,l.useElements)(),k=(0,l.useStripe)(),[C,N]=(0,c.useState)(""),[_,S]=(0,c.useState)(""),[E,T]=(0,c.useState)(""),M=(0,c.useRef)(null),P=(0,x.v9)(f.IC),[U,z]=(0,c.useState)(""),[I,O]=(0,c.useState)("none"),[B,F]=(0,c.useState)(null),[D,R]=(0,c.useState)(299),[Z,q]=(0,c.useState)(null),[V,Q]=(0,c.useState)(""),[Y,G]=(0,c.useState)(!1),[J,W]=(0,c.useState)(!1),[X,L]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let e=t.asPath;"string"==typeof e&&i(e=e.split("/")[1])},[t.asPath]),(0,c.useEffect)(()=>{if(Z){let e=setTimeout(()=>{q(null)},1e4);return()=>clearTimeout(e)}},[Z]),(0,c.useEffect)(()=>{let e=document.querySelector("dialog.is-checkout-4lifer");null==e||e.removeAttribute("open")},[]),(0,c.useEffect)(()=>{let e=document.querySelector("dialog.is-checkout-4lifer");return e&&n?e.showModal():null==e||e.close(),()=>{null==e||e.close()}},[n]),(0,c.useEffect)(()=>{if("failed"===V){let e=document.querySelector("dialog.is-checkout-4lifer");e&&(null==e||e.showModal())}},[V]);let K=(0,c.useCallback)(async e=>{if(e.preventDefault(),!k||!A)return;try{M.current.disabled=!0}catch(e){}let n=A.getElement(l.CardNumberElement);if(null==n||Y)return;G(!0);try{await A.submit()}catch(e){console.error(e),G(!1);try{M.current.disabled=!1}catch(e){}return}let{paymentMethod:t,error:a}=await k.createPaymentMethod({type:"card",card:n,billing_details:{name:"".concat(C," ").concat(_),address:{postal_code:E}}});if(a){console.error(a),q({code:a.code,message:a.message,type:a.type}),G(!1);try{M.current.disabled=!1}catch(e){}return}let r=t.id;try{let e=await d.Z.post("/api/club/lifer",{payment_method:r,discount_code:U}),n=e.data;if("fail"===n.status){var i,s,o,c;if((0,g.uo)({error:n.data}),(null===(i=e.data)||void 0===i?void 0:i.data)==="already-subscribed")return q({message:"You are already subscribed to Cod\xe9dex Club. Please contact help@codedex.io for help.",code:"already_subscribed",type:"top"});if((null===(s=e.data)||void 0===s?void 0:s.data)==="help")return q({message:"Please contact help@codedex.io for help.",code:"help",type:"top"});if((null===(o=e.data)||void 0===o?void 0:o.data)==="invalid-promo-code")return q({message:"Invalid promo code. Please try again.",code:"help",type:"top"});(null===(c=n.data)||void 0===c?void 0:c.code)==="card_declined"?q({message:"Your card was declined. Please try using another card.",code:"card_declined",type:"top"}):q({message:"Unable to confirm card. Please try using another card.",code:"card_confirmation_error",type:"top"}),G(!1);return}let t=n.data;if("requires_payment_method"===t.status){q({message:"Please enter a valid card number",code:"incomplete_number",type:"top"}),G(!1);return}if("requires_action"===t.status){Q("required");let e=document.querySelector("dialog.is-checkout-4lifer");e.close();let n=await k.handleCardAction(t.client_secret);if(n.error){console.error(n.error),q({message:"Unable to confirm card. Please try using another card.",code:"card_confirmation_error",type:"top"}),Q("failed");return}}W(!0);try{if(P){let e=Intl.DateTimeFormat().resolvedOptions().locale,n=(0,b.J)();await d.Z.post("/api/email/checked-out",{email:null==P?void 0:P.email}),await d.Z.post("/api/club/success",{email:null==P?void 0:P.email,currencyType:"USD",annual:!1,paid:"".concat(299),finalPrice:"".concat(D.toFixed(2)),discountCode:U,locale:e,country:n})}try{(0,y.js)({data:{currency:"USD",value:299}})}catch(e){console.error(e,"tracking fbq")}}catch(e){console.error(e)}setTimeout(()=>{var e;null===(e=document.querySelector(".nes-dialog.is-checkout-4lifer"))||void 0===e||e.removeAttribute("open"),L(!0)},2e3)}catch(e){console.error(e),q({message:"Please reach out to help@codedex.io for help.",code:"card_confirmation_error",type:"top"})}finally{G(!1),M.current.disabled=!1}},[U,A,D,C,_,Y,E,k,P]),$=(0,c.useCallback)(e=>{"Enter"===e.key&&e.preventDefault()},[]),H=(0,c.useCallback)(async()=>{try{if(U){let e=await d.Z.post("/api/club/discount",{discountCode:U}),n=e.data;if("success"===n.status){let e=n.data;F(e);let{type:t,discount:a,discountPercentage:r}=e;return R(Math.round((299-299*a)*100)/100),O("success")}O("failed")}}catch(e){console.log(e)}},[U]);return((0,c.useEffect)(()=>{X&&setTimeout(()=>{let e=document.querySelector("dialog.is-success");e&&((null==e?void 0:e.open)&&e.close(),e.showModal())},0)},[X]),n)?X?(0,r.jsx)(h.oY,{role:"dialog",className:"nes-dialog is-success is-rounded",children:(0,r.jsx)(p.Z,{})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j,{role:"dialog",className:"nes-dialog is-checkout-4lifer is-rounded",children:(0,r.jsxs)("form",{method:"dialog",onSubmit:K,onKeyDown:$,children:[(0,r.jsx)("div",{onClick:()=>{window.history.length<=2?t.push("/pricing"):t.push("/".concat(a));let e=document.querySelector("dialog.is-checkout-4lifer");null==e||e.close()},className:"close-btn nes-pointer",children:(0,r.jsx)(s.lTq,{})}),(0,r.jsxs)(v,{children:[(0,r.jsx)("h1",{className:"upgrade-heading",children:"Upgrade to Cod\xe9dex Club 4 Life"}),Z&&!w.includes(null==Z?void 0:Z.code)&&(0,r.jsx)(m.Z,{message:null==Z?void 0:Z.message,type:"top"}),(0,r.jsxs)("div",{className:"content-container",children:[(0,r.jsxs)("div",{className:"payment-container",children:[(0,r.jsx)("div",{className:"subscription-toggle-container"}),(0,r.jsxs)("div",{className:"payment-method-container",children:[(0,r.jsx)("h3",{children:"Payment Method"}),(0,r.jsxs)("div",{className:"row-container",children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,r.jsx)("label",{htmlFor:"card-element",children:"Credit/Debit"}),(0,r.jsxs)("div",{className:"images-flex",style:{display:"flex"},children:[(0,r.jsx)("img",{src:"/images/payments/visa.png",alt:"visa card"}),(0,r.jsx)("img",{src:"/images/payments/mastercard.png",alt:"mastercard"}),(0,r.jsx)("img",{src:"/images/payments/amex.png",alt:"amex"}),(0,r.jsx)("img",{src:"/images/payments/discover.png",alt:"discover"})]})]}),(0,r.jsx)(l.CardNumberElement,{options:{showIcon:!0,classes:{base:"card-number-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"card-element"}),(null==Z?void 0:Z.code)==="incomplete_number"&&(0,r.jsx)(m.Z,{message:"Please enter a valid card number"})]}),(0,r.jsxs)("div",{className:"inline-flex-2-inputs row-container",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"expiration-date",children:"Expiration Date"}),(0,r.jsx)(l.CardExpiryElement,{options:{classes:{base:"card-expiry-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"expiration-date"}),(null==Z?void 0:Z.code)==="incomplete_expiry"&&(0,r.jsx)(m.Z,{message:"Please enter a valid expiration date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"cvv",children:"CVC/CVV"}),(0,r.jsx)(l.CardCvcElement,{options:{classes:{base:"card-cvv-element"},style:{base:{"::placeholder":{color:"#CCC"}}}},id:"cvv"}),(null==Z?void 0:Z.code)==="incomplete_cvc"&&(0,r.jsx)(m.Z,{message:"Please enter a valid CVC"})]})]}),(0,r.jsxs)("div",{className:"inline-flex-2-inputs row-container",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"first-name",children:"First Name"}),(0,r.jsx)("input",{id:"first-name",type:"text",value:C,onChange:e=>{N(e.currentTarget.value)},required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"last-name",children:"Last Name"}),(0,r.jsx)("input",{id:"last-name",value:_,onChange:e=>{S(e.currentTarget.value)},type:"text",required:!0})]})]}),(0,r.jsxs)("div",{className:"row-container",children:[(0,r.jsx)("label",{htmlFor:"pin-code",children:"Billing Zip/Postal Code"}),(0,r.jsx)("input",{id:"pin-code",value:E,onChange:e=>{T(e.currentTarget.value)},required:!0})]}),(0,r.jsx)("div",{className:"row-container pay-by-section",style:{display:"flex"},children:(0,r.jsx)("div",{className:"line"})}),(0,r.jsx)("div",{className:"paypal-googlepay row-container nes-pointer inline-flex-2-inputs"})]})]}),(0,r.jsxs)("div",{className:"order-container",children:[(0,r.jsxs)("div",{className:"order-summary-container",children:[(0,r.jsx)("h3",{children:"Order Summary"}),(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsxs)("div",{className:"order-summary-row",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{children:"Cod\xe9dex Club"}),(0,r.jsx)("span",{children:"Forever"})]}),(0,r.jsxs)("p",{children:["$",299]})]})}),(0,r.jsxs)("div",{className:"discount",children:[(0,r.jsx)("input",{type:"text",placeholder:"Enter discount code",value:U,onChange:e=>z(e.currentTarget.value)}),(0,r.jsx)("div",{className:"apply-btn",onClick:()=>{H()},children:(0,r.jsx)("span",{className:"nes-pointer",children:"Apply"})})]}),"success"===I&&(0,r.jsx)("div",{className:"order-summary",children:(0,r.jsxs)("div",{className:"order-summary-row",children:[(0,r.jsx)("p",{children:"Discount Code"}),(0,r.jsxs)("p",{children:["-$",(299-D).toFixed(2)]})]})}),(0,r.jsx)("div",{className:"line"}),(0,r.jsx)("div",{className:"total",children:(0,r.jsxs)("div",{className:"total-row",children:[(0,r.jsx)("p",{children:"Total Amount"}),(0,r.jsxs)("p",{children:["$",D.toFixed(2)]})]})})]}),(0,r.jsx)("div",{className:"submit-btn-container",children:(0,r.jsx)("button",{disabled:Y,className:"nes-btn is-primary ".concat(J?"is-success":""),type:"submit",ref:M,children:Y?(0,r.jsx)(u.Z,{color:"white",size:13}):J?"Success!":"Make Payment"})}),(0,r.jsxs)("p",{className:"back-message",children:["7 day money-back guarantee",(0,r.jsx)("br",{}),"Cancel anytime",(0,r.jsx)("br",{}),"Prices in USD"]})]})]})]})]})})}):null}},62961:function(e,n,t){var a=t(82729),r=t(85893),i=t(19521);function _templateObject(){let e=(0,a._)(["\n  "," {\n    color: #ff0000;\n    font-size: 14px;\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(["\n  ",' {\n    background-color: #ffe4e4;\n    color: #fc3e15;\n    width: 100%;\n    border: 1px solid #fc3e15;\n    border-radius: 8px;\n    font-family: "Work Sans", sans-serif;\n    height: 35px;\n    padding-top: 0.3rem;\n    padding-left: 1.5rem;\n  }\n']);return _templateObject1=function(){return e},e}let l=i.default.div.withConfig({componentId:"sc-9d474055-0"})(_templateObject(),e=>{let{theme:n}=e;return n.breakpoints.xs}),s=i.default.div.withConfig({componentId:"sc-9d474055-1"})(_templateObject1(),e=>{let{theme:n}=e;return n.breakpoints.xs});n.Z=function(e){let{message:n,type:t}=e;return t?(0,r.jsx)(s,{children:(0,r.jsx)("span",{children:n})}):(0,r.jsx)(l,{children:(0,r.jsx)("span",{children:n})})}},14884:function(e,n,t){var a=t(85893),r=t(41664),i=t.n(r),l=t(67294),s=t(11163),o=t(9473),c=t(39828),d=t(62286),u=t.n(d),m=t(83198),p=t(33599),h=t(15046),x=t(92369),f=t(26245),g=t(79450),b=t(66647),y=t(51194),j=t(85673);let v=["Were there any questions that you had about Cod\xe9dex Club before purchasing that you couldn’t find an answer to?","Did anything almost stop you from purchasing Cod\xe9dex Club or make it difficult?","What were you most excited about?"];n.Z=function(){let[e,n]=(0,l.useState)(!1),[t,r]=(0,l.useState)(!1),[d,w]=(0,l.useState)(""),[A]=(0,l.useState)(v[Math.floor(Math.random()*v.length)]),k=(0,s.useRouter)();(0,o.v9)(j.Cq);let C=(0,o.v9)(f.f8),N=(0,o.v9)(f.IC),_=(0,o.v9)(f.ot),{auth:S}=(0,x.UM)(),E=(0,o.v9)(b.H),T=(0,l.useCallback)(async function(){try{await fetch("/api/feedback",{method:"POST",body:JSON.stringify({feedback:d,question:A})}),w("")}catch(e){console.error(e)}},[d,A]);(0,l.useEffect)(function(){!async function(){let{codedextoken:e}=u().get();if(void 0!==e&&_&&null!==S.currentUser){var n;await (0,g.wU)(S.currentUser,!0);let e=await (0,g.ag)(S.currentUser,!0);null==e||null===(n=e.claims)||void 0===n||n.stripeRole,r(!0),m.Z.people.set({club:!0}),(0,y.kf)(),(0,y.Fc)({redirect:!1})}}()},[S.currentUser,_,k]);let M=(0,l.useCallback)(async()=>{d&&await T(),k.reload()},[d,k,T]);(0,l.useEffect)(()=>{setTimeout(()=>{var e;null===(e=document.querySelector(".survey"))||void 0===e||e.click()},2e3)},[]),(0,l.useEffect)(function(){(async function(){let{firestore:e}=(0,x.UM)(),n=(0,c.JU)((0,c.hJ)(e,"users"),C),t=await (0,c.QT)(n),a=t.data(),r=new Date().toLocaleDateString("en-US");if("object"!=typeof a.notifications_tracker)await (0,c.pl)(n,{notifications_tracker:{send_welcome_club_email:[r]}},{merge:!0});else{if(a.notifications_tracker.send_welcome_club_email.includes(r))return;await (0,c.r7)(n,{"notifications_tracker.send_welcome_club_email":(0,c.vr)(r)})}Array.isArray(a.notifications)?await (0,c.r7)(n,{notifications:(0,c.vr)("send_welcome_club_email")}):await (0,c.pl)(n,{notifications:["send_welcome_club_email"]},{merge:!0}),await (0,c.r7)(n,{notifications:(0,c.Ab)("send_welcome_club_email")})})()},[t,C]);let P=(0,l.useCallback)(async function(){let{firestore:e}=(0,x.UM)();if(d&&await T(),C){let n=(0,c.hJ)(e,"joinDiscordCollection");(0,c.ET)(n,{email:N.email,latestTimestamp:(0,c.Bt)()})}},[d,C,T,N.email]);return((0,l.useEffect)(function(){n(!0)},[]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Ng,{children:(0,a.jsxs)("main",{className:"is-rounded",children:[(0,a.jsx)("img",{src:"/images/payments/payment_success_card.gif",alt:"payment success card"}),(0,a.jsx)("h1",{style:{color:"#009259"},children:"Payment Success"}),(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"description",children:(0,a.jsxs)("p",{children:["Thank you so much for subscribing and becoming a \xa0\xa0\xa0\xa0",(0,a.jsx)(i(),{href:"/pricing",children:"Cod\xe9dex Club"})," ","member! Your account has been updated. You now have access to all the courses and so much more!"]})}),(0,a.jsxs)("label",{htmlFor:"feedback",children:[A,(0,a.jsx)("textarea",{id:"feedback",name:"feedback",className:"nes-textarea",onChange:e=>w(e.target.value),value:d,placeholder:"Type your answer here"})]}),(0,a.jsxs)("div",{className:"cta-buttons",children:[(0,a.jsx)("button",{className:"nes-btn",onClick:M,children:"Back"}),(0,a.jsxs)(a.Fragment,{children:[E&&(0,a.jsx)(i(),{href:"https://discord.gg/vSKEhP9fY2",className:"nes-btn is-primary",target:"_blank",onClick:async()=>{await P()},children:"Join Discord"}),!E&&(0,a.jsx)(i(),{href:"/account?tabIndex=2",className:"nes-btn is-primary",target:"_blank",onClick:async()=>{await P()},children:"Join Discord"})]})]})]})}),(0,a.jsx)(p.Z,{fire:!0})]}):null}},15046:function(e,n,t){t.d(n,{Ng:function(){return l},oY:function(){return i}});var a=t(82729),r=t(19521);function _templateObject(){let e=(0,a._)(["\n  &::backdrop {\n    cursor:\n      url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAzElEQVRYR+2X0Q6AIAhF5f8/2jYXZkwEjNSVvVUjDpcrGgT7FUkI2D9xRfQETwNIiWO85wfINfQUEyxBG2ArsLwC0jioGt5zFcwF4OYDPi/mBYKm4t0U8ATgRm3ThFoAqkhNgWkA0jJLvaOVSs7j3qMnSgXWBMiWPXe94QqMBMBc1VZIvaTu5u5pQewq0EqNZvIEMCmxAawK0DNkay9QmfFNAJUXfgGgUkLaE7j/h8fnASkxHTz0DGIBMCnBeeM7AArpUd3mz2x3C7wADglA8BcWMZhZAAAAAElFTkSuQmCC)\n        14 0,\n      pointer;\n\n    backdrop-filter: blur(5px);\n    -webkit-filter: blur(5px);\n    -moz-filter: blur(5px);\n    -o-filter: blur(5px);\n    -ms-filter: blur(5px);\n    filter: blur(5px);\n  }\n\n  div.paywall-popup {\n    text-align: center;\n  }\n  padding: 1.5rem 1rem;\n\n  "," {\n    max-width: 90%;\n  }\n\n  "," {\n    max-width: 80%;\n  }\n\n  "," {\n    max-width: 75%;\n  }\n\n  "," {\n    max-width: 50%;\n  }\n\n  img {\n    margin: 0 auto;\n  }\n"]);return _templateObject=function(){return e},e}function _templateObject1(){let e=(0,a._)(['\n  width: 100%;\n  /* margin-top: 2rem; */\n\n  main {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-flow: column;\n\n    img {\n      margin: 0 auto;\n      height: auto;\n      width: 240px;\n    }\n\n    h1 {\n      margin: 1rem 0;\n      font-size: 24px;\n      text-align: center;\n    }\n\n    div.description {\n      font-size: 18px;\n      font-weight: 500;\n      font-family: "Montserrat", sans-serif;\n      text-align: center;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    p {\n      max-width: 100%;\n      text-align: center;\n    }\n\n    label {\n      margin-top: 0.5rem;\n      font-family: "Montserrat", sans-serif;\n      text-align: center;\n      font-size: 18px;\n      font-weight: bold;\n\n      textarea {\n        margin-top: 1.5rem;\n        background: white;\n        font-weight: 500;\n      }\n    }\n\n    div.cta-buttons {\n      margin-top: 1rem;\n      display: flex;\n      justify-content: center;\n      gap: 2rem;\n    }\n  }\n\n  '," {\n    padding-top: 5rem;\n\n    display: flex;\n    justify-content: center;\n    main {\n      max-width: 100%;\n    }\n\n    div.cta-buttons {\n      font-size: 8px;\n    }\n  }\n\n  "," {\n    padding-top: 0rem;\n\n    main {\n      max-width: 100%;\n    }\n\n    div.cta-buttons {\n      font-size: 16px;\n    }\n  }\n  "," {\n    main {\n      max-width: 100%;\n    }\n  }\n  "," {\n    main {\n      max-width: 84%;\n    }\n  }\n"]);return _templateObject1=function(){return e},e}function _templateObject2(){let e=(0,a._)(['\n  width: 100%;\n  /* margin-top: 2rem; */\n\n  main {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-flow: column;\n    background-color: rgba(255, 255, 255, 0.95);\n\n    img {\n      margin: 0 auto;\n      height: auto;\n      width: 240px;\n    }\n\n    h1 {\n      margin: 1rem 0;\n      font-size: 24px;\n      text-align: center;\n    }\n\n    div.description {\n      font-size: 18px;\n      font-weight: 500;\n      font-family: "Montserrat", sans-serif;\n      text-align: center;\n\n      p {\n        all: unset;\n      }\n    }\n\n    label {\n      margin-top: 1.5rem;\n      font-family: "Montserrat", sans-serif;\n      text-align: center;\n      font-size: 18px;\n      font-weight: bold;\n\n      textarea {\n        font-weight: 500;\n      }\n    }\n\n    div.cta-buttons {\n      margin-top: 3rem;\n      display: flex;\n      justify-content: center;\n      gap: 2rem;\n    }\n  }\n\n  '," {\n    padding-top: 5rem;\n\n    main {\n      max-width: 100%;\n    }\n\n    div.cta-buttons {\n      font-size: 8px;\n    }\n  }\n\n  "," {\n    padding-top: 0rem;\n\n    div.cta-buttons {\n      font-size: 16px;\n    }\n  }\n  "," {\n  }\n  "," {\n  }\n"]);return _templateObject2=function(){return e},e}let i=r.default.dialog.withConfig({componentId:"sc-3747955d-0"})(_templateObject(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg}),l=r.default.div.withConfig({componentId:"sc-3747955d-1"})(_templateObject1(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg});r.default.div.withConfig({componentId:"sc-3747955d-2"})(_templateObject2(),e=>{let{theme:n}=e;return n.breakpoints.xs},e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg})},7423:function(e,n,t){var a=t(82729),r=t(85893),i=t(19521);function _templateObject(){let e=(0,a._)(['\n  display: flex;\n  gap: 1.5rem;\n  justify-content: space-between;\n  margin-top: 1rem;\n  flex-flow: column;\n  align-items: center;\n\n  div.price-container {\n    display: flex;\n    flex-flow: column;\n    justify-content: center;\n    align-items: center;\n    border: 2px solid #dadada;\n    border-radius: 8px;\n    width: 185px;\n    height: 104px;\n\n    position: relative;\n\n    box-shadow: 4px 5px 15px 1px rgba(0, 0, 0, 0.15);\n\n    &:hover {\n      box-shadow: 4px 5px 15px 1px rgba(0, 0, 0, 0.3);\n      background-color: rgba(0, 0, 0, 0.02);\n    }\n\n    h2 {\n      margin-bottom: 0;\n      text-align: center;\n    }\n\n    span.period {\n      font-size: 12px;\n      color: rgba(128, 128, 128);\n      padding-left: 0.2rem;\n    }\n\n    img {\n      position: absolute;\n      bottom: -0.8rem;\n      right: -0.8rem;\n      width: 30px;\n      height: 30px;\n    }\n  }\n\n  div.annual {\n    div.saver {\n      position: absolute;\n      top: -0.7rem;\n      width: 100%;\n\n      display: flex;\n      justify-content: center;\n      align-items: center;\n\n      h3 {\n        color: white;\n        font-family: "Press Start 2P", cursive;\n        font-size: 12px;\n        background-color: #007bff;\n        padding: 0.2rem 0.5rem;\n        border-radius: 4px;\n      }\n    }\n  }\n  div.selected {\n    border: 3px solid #007bff;\n  }\n\n  '," {\n    flex-flow: row;\n\n    h2 {\n      font-size: 1rem;\n    }\n\n    div.annual {\n      div.saver {\n        h3 {\n          font-size: 0.6rem;\n        }\n      }\n    }\n\n    span {\n      font-size: 0.8rem;\n      font-weight: 600;\n    }\n  }\n\n  "," {\n    h2 {\n      font-size: 1rem;\n    }\n    span {\n      font-size: 1rem;\n    }\n\n    div.annual {\n      div.saver {\n        h3 {\n          font-size: 12px;\n        }\n      }\n    }\n  }\n\n  "," {\n    h2 {\n      font-size: 1.5rem;\n    }\n    span {\n      font-size: 14px;\n      font-weight: 600;\n    }\n  }\n"]);return _templateObject=function(){return e},e}let l=i.default.div.withConfig({componentId:"sc-cb4b47c5-0"})(_templateObject(),e=>{let{theme:n}=e;return n.breakpoints.sm},e=>{let{theme:n}=e;return n.breakpoints.md},e=>{let{theme:n}=e;return n.breakpoints.lg});n.Z=function(e){let{currency:n,annual:t,setAnnual:a,liferEnable:i=!1,select4Lifer:s=!1,setSelect4Lifer:o=e=>{}}=e;return(0,r.jsxs)(l,{className:"nes-pointer",children:[(0,r.jsxs)("div",{onClick:()=>{a(!0),o(!1)},className:"".concat(t&&!s?"selected":""," nes-pointer price-container annual"),children:[t&&!s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("img",{src:"/images/pop-ups/paywall/tick.png",alt:"checkmark"}),(0,r.jsx)("div",{className:"saver",children:(0,r.jsx)("h3",{children:"SAVE 30%"})})]}),(0,r.jsxs)("h2",{children:[n.club.annual,(0,r.jsx)("span",{className:"period",children:"/month"})]}),(0,r.jsx)("span",{children:"Billed Yearly"})]}),(0,r.jsxs)("div",{onClick:()=>{a(!1),o(!1)},className:"".concat(t||s?"":"selected"," nes-pointer price-container"),children:[!t&&!s&&(0,r.jsx)("img",{src:"/images/pop-ups/paywall/tick.png",alt:"checkmark"}),(0,r.jsxs)("h2",{children:[n.club.monthly,(0,r.jsx)("span",{className:"period",children:"/month"})]}),(0,r.jsx)("span",{children:"Billed Monthly"})]}),i&&(0,r.jsxs)("div",{onClick:()=>{o(!0),a(),o(!0)},className:"nes-pointer price-container ".concat(s?"selected":""," "),children:[s&&(0,r.jsx)("img",{src:"/images/pop-ups/paywall/tick.png",alt:"checkmark"}),(0,r.jsxs)("h2",{children:["$ 399",(0,r.jsx)("span",{className:"period",children:"/forever"})]}),(0,r.jsx)("span",{children:"Billed Once"})]})]})}},91870:function(e,n,t){t.d(n,{J:function(){return currencyBasedOnTimeZone},L:function(){return getCurrencyObject}});let a=["America/Mexico_City","America/Monterrey","America/Merida","America/Mazatlan","America/Chihuahua","America/Hermosillo","America/Tijuana","America/Cancun","America/Bahia_Banderas","America/Matamoros","America/Ojinaga","America/Ciuadad_Juarez","America/Ensenada","America/Rosarito","America/Santa_Isabel","America/Tecate","America/Atikokan","America/Cambridge_Bay","America/Coral_Harbour","America/Creston"],r=["Asia/Kolkata","Asia/Calcutta"],i=["America/Bogota","America/Rio_Branco","America/Eirunepe","America/Porto_Velho","America/Boa_Vista","America/Manaus"],l=["America/Argentina/Buenos_Aires","America/Argentina/Cordoba","America/Argentina/Salta","America/Argentina/Jujuy","America/Argentina/Tucuman","America/Argentina/Catamarca","America/Argentina/La_Rioja","America/Argentina/San_Juan","America/Argentina/Mendoza","America/Argentina/San_Luis","America/Argentina/Rio_Gallegos","America/Argentina/Ushuaia"],s=["Asia/Jakarta","Asia/Pontianak","Asia/Makassar","Asia/Jayapura"],o=["Asia/Manila"];function currencyBasedOnTimeZone(){let e=Intl.DateTimeFormat().resolvedOptions().timeZone;return a.includes(e)?"mexico":r.includes(e)?"india":i.includes(e)?"colombia":l.includes(e)?"argentina":s.includes(e)?"indonesia":o.includes(e)?"philippines":"us"}function getCurrencyObject(){let e=currencyBasedOnTimeZone();switch(e){case"india":return{type:"INR",sign:"₹",club:{monthly:"200 INR",annual:"149 INR",annualTotal:"1799 INR",monthlyNumber:200,annualNumber:149,annualTotalNumber:1799},workshop:{monthly:"3300 INR",annual:"2300 INR"}};case"mexico":return{type:"MXN",sign:"$",club:{monthly:"80 MXN",annual:"59.99 MXN",annualTotal:"720 MXN",monthlyNumber:80,annualNumber:59.99,annualTotalNumber:720},workshop:{monthly:"700 MXN",annual:"489.99 MXN"}};case"colombia":return{type:"COP",sign:"COP$",club:{monthly:"17760 COP",annual:"13783 COP",annualTotal:"720 COP",monthlyNumber:17760,annualNumber:13783,annualTotalNumber:165400},workshop:{monthly:"$24.99",annual:"$19.99"}};case"argentina":return{type:"ARS",sign:"ARS$",club:{monthly:"3935 ARS",annual:"3060 ARS",annualTotal:"720 ARS",monthlyNumber:3935,annualNumber:3060,annualTotalNumber:36740},workshop:{monthly:"$24.99",annual:"$19.99"}};case"indonesia":return{type:"IDR",sign:"Rp",club:{monthly:"73000 IDR",annual:"56800 IDR",annualTotal:"720 IDR",monthlyNumber:73e3,annualNumber:56800,annualTotalNumber:681540},workshop:{monthly:"$24.99",annual:"$19.99"}};case"philippines":return{type:"PHP",sign:"₱",club:{monthly:"260 PHP",annual:"202 PHP",annualTotal:"720 PHP",monthlyNumber:260,annualNumber:202,annualTotalNumber:2424},workshop:{monthly:"$24.99",annual:"$19.99"}};default:return{type:"USD",sign:"$",club:{monthly:"$12.49",annual:"$7.99",annualTotal:"$95.88",monthlyNumber:12.49,annualNumber:7.99,annualTotalNumber:95.88},workshop:{monthly:"$24.99",annual:"$19.99"}}}}},65519:function(e,n,t){t.d(n,{G:function(){return getUserCurrency}});var a=t(91870);function getUserCurrency(){let e=(0,a.L)();return e}},64988:function(e,n,t){t.d(n,{M:function(){return s}});var a=t(39828),r=t(91296),i=t.n(r),l=t(92369);async function setCheckoutReminderTrigger(e){let{uid:n,email:t}=e,{firestore:r}=(0,l.UM)();if(!n)return;let i=(0,a.JU)(r,"checkoutSessions",n);try{await (0,a.pl)(i,{uid:n,hasCheckoutOut:!0,email:t,timestamp:(0,a.Bt)()},{merge:!0})}catch(e){console.error(e)}}let s=i()(async e=>{var n;let{annual:t=!1}=e,{firestore:r,auth:i}=(0,l.UM)(),s=null;if(null==i||!i.currentUser)return{status:"not-signed-in"};if(s=null===(n=i.currentUser)||void 0===n?void 0:n.uid){try{await setCheckoutReminderTrigger({uid:s,email:i.currentUser.email})}catch(e){}try{let e=(0,a.hJ)(r,"users",s,"checkout_sessions"),n="price_1QRvmGLPLaa9XJOqCucbj5px";t&&(n="price_1PkmtuLPLaa9XJOqMYt6jy6R"),await (0,a.ET)(e,{allow_promotion_codes:!0,price:n,success_url:window.location.origin+"/payment_success?session_id={CHECKOUT_SESSION_ID}",cancel_url:window.location.origin+"/payment_failure"})}catch(e){console.error("error while creating the checkout session!"),console.error(e)}}return{status:"fail"}},3e3,{leading:!0,maxWait:5e3})}}]);